{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/tranquilpeak/source/assets/css/gitalk.css","path":"assets/css/gitalk.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/gitment.css","path":"assets/css/gitment.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/jquery.fancybox.css","path":"assets/css/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/style-ttumfszmmxao9exojy0bsx8ajgyvh7vbiqozw3j5qs3x5jf3qcsjjvbqwosd.min.css","path":"assets/css/style-ttumfszmmxao9exojy0bsx8ajgyvh7vbiqozw3j5qs3x5jf3qcsjjvbqwosd.min.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/style.css","path":"assets/css/style.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/thumbs.css","path":"assets/css/thumbs.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/tranquilpeak.css","path":"assets/css/tranquilpeak.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.eot","path":"assets/fonts/fa-brands-400.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.svg","path":"assets/fonts/fa-brands-400.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.ttf","path":"assets/fonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff","path":"assets/fonts/fa-brands-400.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff2","path":"assets/fonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.eot","path":"assets/fonts/fa-regular-400.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.svg","path":"assets/fonts/fa-regular-400.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.ttf","path":"assets/fonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff","path":"assets/fonts/fa-regular-400.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff2","path":"assets/fonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.eot","path":"assets/fonts/fa-solid-900.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.svg","path":"assets/fonts/fa-solid-900.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.ttf","path":"assets/fonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff","path":"assets/fonts/fa-solid-900.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff2","path":"assets/fonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold-italic.ttf","path":"assets/fonts/merriweather-bold-italic.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold.ttf","path":"assets/fonts/merriweather-bold.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light-italic.ttf","path":"assets/fonts/merriweather-light-italic.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light.ttf","path":"assets/fonts/merriweather-light.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather.ttf","path":"assets/fonts/merriweather.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans-bold.ttf","path":"assets/fonts/open-sans-bold.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans.ttf","path":"assets/fonts/open-sans.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/cover-v1.2.0.jpg","path":"assets/images/cover-v1.2.0.jpg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/cover.jpg","path":"assets/images/cover.jpg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/icon144.png","path":"assets/images/icon144.png","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/logo-algolia-nebula-blue-full.svg","path":"assets/images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/algoliasearch.js","path":"assets/js/algoliasearch.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/gitalk.js","path":"assets/js/gitalk.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/gitment.js","path":"assets/js/gitment.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/jquery.fancybox.js","path":"assets/js/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/jquery.js","path":"assets/js/jquery.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/moment-with-locales.js","path":"assets/js/moment-with-locales.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/script-dnqzkpjdnehhummrka7hd2q2zp6abtkzfz8pbvwk9fr1spl7z7hzxgtnbydx.min.js","path":"assets/js/script-dnqzkpjdnehhummrka7hd2q2zp6abtkzfz8pbvwk9fr1spl7z7hzxgtnbydx.min.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/script.js","path":"assets/js/script.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/thumbs.js","path":"assets/js/thumbs.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/tranquilpeak.js","path":"assets/js/tranquilpeak.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/all.css","path":"assets/css/all.css","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/Portfolio.md","hash":"b286b6df90efffa1c6dd1ebcdc34ea72eba885ad","modified":1658284156717},{"_id":"source/all-tags/index.md","hash":"a9092fa374dd3f5b8b5c72f02fa0b128309f91ed","modified":1514173150249},{"_id":"source/all-categories/index.md","hash":"3d47d4e31035e3c8d960730f36bd3ad27f88e9be","modified":1514173150249},{"_id":"source/_posts/Resume.md","hash":"0e6c901253efcc1f7307cf75d0607cff3f0f4d83","modified":1658284156718},{"_id":"source/all-archives/index.md","hash":"634c7e0b6841e3cdbb53b62fc5db80e1ad3a69f2","modified":1514173150248},{"_id":"source/_posts/D3/D3-v4-with-Vue-CANVAS-Donut-Chart.md","hash":"85e06fcc8ae9fa9346595a457657a0a3036b84aa","modified":1562316715573},{"_id":"source/_posts/D3/D3-v4-with-Vue-CANVAS-Vertical-Bar-Chart.md","hash":"aebfbd58702990edd2ad7d8fa43508841fa70953","modified":1562316715574},{"_id":"source/_posts/D3/D3-v4-with-Vue-CANVAS-Line-Chart.md","hash":"86a4fa7cca1da8ad43970de5466474fb8a37ee62","modified":1562316715574},{"_id":"source/_posts/D3/D3-v4-with-Vue-SVG-Line-Chart.md","hash":"3b2f9c5477da4f33f12ada41dfb151c3a416699a","modified":1562318684198},{"_id":"source/_posts/D3/D3-v4-with-Vue-SVG-VS-CANVAS.md","hash":"c96c9d4c9d0f27981975dd540d6bf461c5267948","modified":1562319170264},{"_id":"source/_posts/D3/D3-v4-with-Vue-SVG-Donut-Chart.md","hash":"3fabd8164602f396ac47fece82d4368ba102013c","modified":1562318927771},{"_id":"source/_posts/D3/D3-v4-with-Vue-SVG-Horizontal-Bar-Chart.md","hash":"6ce2dc16b38d7a3036eefc95c291a2c23558ecae","modified":1562318737031},{"_id":"source/_posts/JS/JS-Retry-Function.md","hash":"50896df11711e9534af38d6676d89a2b6a903969","modified":1556259696390},{"_id":"source/_posts/D3/D3-v4-with-Vue-SVG-Vertical-Bar-Chart.md","hash":"58d7b1209521799b6d988291909b9e9672ad7635","modified":1562318844723},{"_id":"source/_posts/JS/Notes-on-Transferring-from-Vuetify-V1-to-V2.md","hash":"e0dd4581bc5eee392c7099f85a14fce6ac8b5834","modified":1623975515960},{"_id":"source/_posts/JS/Grab-Data-To-CSV-By-Using-NodeJS.md","hash":"1f21ccc94e3c087c657e904bf2635aea4d883def","modified":1564735008523},{"_id":"source/_posts/Dotnet/NET-Core-2-0-Debug-with-VScode.md","hash":"8cb531640ae64ca29e0759df6761263c888547ee","modified":1562317846505},{"_id":"source/_posts/JS/SVG-JS-Animation.md","hash":"e9753e702b89f6a830eb10fff23448c18f0ffe5c","modified":1644912600129},{"_id":"source/_posts/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template.md","hash":"81cd044d6d45d3ed87c185b280bc3d5579497d38","modified":1623050359023},{"_id":"source/_posts/Dotnet/NET-6-SPA-with-Vue-Cli-Webpack-Base.md","hash":"e391cb94091df9c51a90a39c7af2257769d584d0","modified":1646387691795},{"_id":"source/_posts/D3/D3-v4-with-Vue-CANVAS-Horizontal-Bar-Chart.md","hash":"679164135c7de34fa958540950c47671284e3c2a","modified":1562316715573},{"_id":"source/_posts/JS/React-Redux-Practice.md","hash":"063f132c3c78769e2f5fddd64dc91f4e67afc8b2","modified":1562140216753},{"_id":"source/_posts/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli.md","hash":"55965bd38216d39d0ca401d1145b0b1d811fc8c7","modified":1562318019983},{"_id":"source/_posts/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3.md","hash":"f48cd8e635b86b80683f123cfa3c190849442c4d","modified":1623050384882},{"_id":"source/_posts/Dotnet/NET-Core-Upgrade-2-2-with-Webpack4-Vue.md","hash":"5d309960c83fab1c64caf72c139024f45a2b3ed6","modified":1545989378978},{"_id":"source/_posts/Others/PowerBI-Line-Chart-Practice.md","hash":"326ded7ca67c540b76f4828321204d7304478324","modified":1644826845693},{"_id":"source/_posts/Dotnet/Upgrade-NET-5-with-Vue-Webpack-without-HMR.md","hash":"3a8884b342c819fc94ec14e3d021fdd99500e50c","modified":1623058050329},{"_id":"source/_posts/Python/Deep-Learning-by-Python-Setup-Environment.md","hash":"501671395de460fb36a4a5007b2139505b975976","modified":1585200023830},{"_id":"source/_posts/Others/Scrum-2020-Guide-Study.md","hash":"917c7521f3223e191c86371cbff15c13d7444e5c","modified":1609292709767},{"_id":"source/_posts/Dotnet/Serverless-Azure-SignalR-with-C-and-Azure-Functions.md","hash":"4d55efcb67c85814843dd4f9c1c7f7b12ec53c18","modified":1568102163317},{"_id":"source/_posts/Python/Deep-Learning-by-Python-Use-Keras-Sequential-Model-Example.md","hash":"3b6d5745e769def5341fe0fb9a38309b6dc97ffe","modified":1585200023831},{"_id":"source/_posts/Testing/Use-Cypress-ui-testing.md","hash":"837a0b78c3430ef7b31b4808d6187c2589626b26","modified":1585200023831},{"_id":"source/_posts/Testing/Manually-Install-Cypress.md","hash":"5178452c5ae3334c042e4fa737c2c3336a5493c8","modified":1642150578240},{"_id":"source/_posts/UXUI/2018-My-Sketch-Useful-Plugins.md","hash":"2365b8f10e36adeabc5d9e35acdd8e60b3b20e3a","modified":1562316995298},{"_id":"source/_posts/UXUI/Figma-Interative-Components.md","hash":"e557d934fadba91302dcce78058bf4391175ea6b","modified":1639121775737},{"_id":"source/_posts/UXUI/Adobe-XD-New-Feature-Auto-Animate.md","hash":"337951150a41b8c0ef8f394bc2b2b355640a92c7","modified":1562316995299},{"_id":"source/_posts/UXUI/Google-Material-Design-Sliders.md","hash":"6f20d4c5c39d2f38471071e821539e028f94d4cc","modified":1609292709767},{"_id":"source/_posts/UXUI/Google-Material-Design-Introduction.md","hash":"41e61fc2c256ac432eee14c1ac7158b7e183d98d","modified":1562316910705},{"_id":"source/_posts/UXUI/Git-Control-for-Using-Abstract-to-Manage-Sketch-Files.md","hash":"77646cd5628aefce28eb5244b29f35a6866e3f5c","modified":1562317545447},{"_id":"source/_posts/UXUI/Google-Material-Studies-Reply.md","hash":"f74272fbda2767799bc6c7d0fc26dbc9e78bfca9","modified":1562316910678},{"_id":"source/_posts/UXUI/Google-Material-Studies-Rally.md","hash":"2c8010288f4e518a8c45e77c491ef7c8fc03af2d","modified":1562316910679},{"_id":"source/_posts/UXUI/Google-Material-Theming-Workflow-Tools.md","hash":"b558bde1bb771ba97c0fd9cac20cbdb95673bf2d","modified":1562319397385},{"_id":"source/_posts/UXUI/Naver-Study-Case-Table-Order-APP.md","hash":"400ce53863b5bef5647abe88c89473aeaa0ab2b6","modified":1654676288862},{"_id":"source/_posts/UXUI/Notes-On-Transferring-From-Sketch-To-Figma.md","hash":"953a50d21bb30147b51622a39b26678b08d1a27d","modified":1639121787037},{"_id":"source/_posts/UXUI/Spline-Easily-Create-and-Publish-3D-Web-Experiences.md","hash":"aefa1acd793cf5f008508f34b899d79078caaee8","modified":1618196365098},{"_id":"source/_posts/UXUI/Naver-Study-Case-National-Assembly-Election-Special-Page.md","hash":"66bdaab9f318894be4c243f8e41b5cfbc89421be","modified":1654676288862},{"_id":"source/_posts/UXUI/UX-UI-Workflow-Tool-in-2018.md","hash":"070423b24cfb37e3deb186851dccc0335f3c4bad","modified":1562317662140},{"_id":"source/_posts/UXUI/Set-Figma-Text-for-Traditional-Chinese.md","hash":"5755011903bdb8a350618dbc6dc7fb207c6172fb","modified":1639121794142},{"_id":"source/_posts/Vue/Vue-3-Studies-Lifecycle-Hooks.md","hash":"6d4085436166b9be5bd8dfc88018b4bd8a1eed73","modified":1609292709768},{"_id":"source/_posts/UXUI/Google-Material-Studies-Shrine.md","hash":"e5ef055a9605a254d3e3f9a3322e6b9f38afcfc2","modified":1562316910678},{"_id":"source/_posts/Vue/Vue-3-Studies-Reactive-and-toRefs.md","hash":"8d568fb22e975a7c13292520fbafe88204b98dbe","modified":1625819939261},{"_id":"source/_posts/Vue/Vue-3-Studies-Setup-Reactive-References.md","hash":"d02fb25352987378287f9f4a52777640a65d810b","modified":1609292709769},{"_id":"source/_posts/Vue/Vue-3-Studies-Suspense.md","hash":"fb5ac4c859e02c66704e60c8122d313156be1b2c","modified":1642150073529},{"_id":"source/_posts/Vue/Vue-3-Studies-Teleport.md","hash":"8280e0e4d2e8a28c33f88aa72b8cb2aba4908375","modified":1609292709770},{"_id":"source/_posts/Vue/Vue-3-Studies-Sharing-State.md","hash":"4eba8e48f1256ff2bbee2627334a6daf74e92c39","modified":1639124923640},{"_id":"source/_posts/Vue/Vue-3-Studies-Fundamentals-of-Reactivity.md","hash":"49e3525283c5ec5436f8f3ae9995eafd8e8dfadb","modified":1609292709768},{"_id":"source/_posts/Vue/Vue-3-Studies-Why-the-composition-API.md","hash":"e29a8ef1db0bcd0f361893829691a6b52895d96e","modified":1609292709771},{"_id":"source/_posts/Vue/Vue-3-Studies-Modularizing.md","hash":"f16507fe0282b40592f3029450ab9aae2c1706a1","modified":1627891024832},{"_id":"source/_posts/Vue/Vue-3-Studies-Watch.md","hash":"485161252fb60e5a28b9a3ea74734cd3c82384c0","modified":1630380750966},{"_id":"source/_posts/VScode/Use-git-extention-in-VScode-goodbye-sourcetree.md","hash":"a15d4dfeeee1a5083fed7d52b7abac51ebbbff9e","modified":1585200023833},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-Style-CSS-and-Sass-loaders.md","hash":"3e709ecf8febabbefa02a158a17716e2a3fc7c6c","modified":1562318447554},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-HTML-Webpack-Plugin.md","hash":"763d7fa8e8df66e7f37772d1959fcde2d3f72a70","modified":1562318393054},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-Webpack-Dev-Server.md","hash":"2a64d3c9e1a27143232c6515b856ae198e3f6b76","modified":1562318535143},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-Installation-and-Config.md","hash":"e72d1b2d4a7233663e2dc1390e58f9464b630388","modified":1514173150247},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-add-PUG-templates-to-write-html.md","hash":"a0c138ddb55eb2eae1e203eb09ad96a1981e1454","modified":1562318609562},{"_id":"source/_posts/Webpack/Webpack-3-Tutorial-add-Babel-loader-to-write-js-use-ES6.md","hash":"9917b7c6960311966f7a3edfacdcec87d0863e77","modified":1562318574076},{"_id":"source/_posts/Vue/Vue-3-Studies-Methods-and-Computed.md","hash":"aa4ba956be177100da0ab96bc85628d26a49ba91","modified":1620198966227},{"_id":"themes/tranquilpeak/.gitignore","hash":"19e27dd778896662e6d604b69411d2dc3cf5fec6","modified":1634610453000},{"_id":"themes/tranquilpeak/.eslintignore","hash":"1f78f00553adf9ee374b343191ed809b0f8ba073","modified":1634610453000},{"_id":"themes/tranquilpeak/.eslintrc","hash":"ea1da9c0b0863a612ace47bd336cff95497bd878","modified":1634610453000},{"_id":"themes/tranquilpeak/LICENSE","hash":"7a3b30ddb56760b35a6b7cd210aeb271cd292b60","modified":1634610453000},{"_id":"themes/tranquilpeak/DOCUMENTATION.md","hash":"daaa36cff0cf7aeb7682372d6697a55d6a0f2f5b","modified":1634610453000},{"_id":"themes/tranquilpeak/package.json","hash":"5493f44273a360688e7b9704c28bae2aa37fcf80","modified":1634610453000},{"_id":"themes/tranquilpeak/renovate.json","hash":"5ec3a608a876d296db3d23e0ff09d04e5bc3835f","modified":1634610453000},{"_id":"themes/tranquilpeak/README.md","hash":"397859381ad01bb3555178add8847e7e95c11256","modified":1634610453000},{"_id":"themes/tranquilpeak/Gruntfile.js","hash":"b2b078651cf8c5dcde2e847169ce242ad3319ca3","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/CONTRIBUTING.md","hash":"8873700e439b6fc8aa4804b70a90fd81bf310d6c","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE.md","hash":"ec6bf3eb708f8eb62736ede6d2080f6610849802","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/PULL_REQUEST_TEMPLATE.md","hash":"03cdb93ca72cd6a19043ea4bb1ec4f5b7479a0a9","modified":1634610453000},{"_id":"themes/tranquilpeak/_config.yml","hash":"3e3d3bf1ca268618b04ee4874fb9ba989e4d8663","modified":1647504804288},{"_id":"themes/tranquilpeak/languages/de-DE.yml","hash":"c9a7514af3c5c58023f8d3ed9503be4253146015","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/en.yml","hash":"1d8f8e3dd95dc67a1991898fc849323a1cf46ec3","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/es.yml","hash":"b5f37df87377d985339a21f343bf54db46926f1a","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/fa.yml","hash":"ec86c6fd655ed0c6df017c17f62b784b916d3a4a","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/it-IT.yml","hash":"a5655d08a311f3292df5805ea2d6d72fd68726ca","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/fr-FR.yml","hash":"c644bb587a5360bb70a12c2d83f8d5973fb0055c","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/ja.yml","hash":"3c6f7cda21ac91abc9f728e3093b1e98b42d5295","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/ko.yml","hash":"b56376775c5bc7f8f1d1b356340597cc61aae392","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/zh-cn.yml","hash":"fea995175f5aeb58f8a958b00556bc2336d37a07","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/pt-br.yml","hash":"e2edf45fae5a5290a3dc2111ef38d5cd40d43771","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/ru.yml","hash":"262f781591cf2dd1584411ed4a780369d4d2e30a","modified":1634610453000},{"_id":"themes/tranquilpeak/languages/zh-tw.yml","hash":"f4023ccacb9a2fd16a67434baed0d0a6af925b42","modified":1647499549405},{"_id":"themes/tranquilpeak/layout/all-archives.ejs","hash":"28a4e97d1cfe4730dbcc8fde27b079320b5eec35","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/all-tags.ejs","hash":"aabb765f51a8d7582a5bafdbc8876b46ff1e6ea1","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/archive.ejs","hash":"0df1edf4ed40b316715ef1949b09aa9c98d22359","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/all-categories.ejs","hash":"c2257b8265a9a328e69c92f4a88cb2cdd99c047a","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/page.ejs","hash":"ae761feddc98f4d3260e7591ed9fc91d9a49d0ab","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/index.ejs","hash":"36e89b37f520533bef85fb32b714214257fad1d0","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/category.ejs","hash":"67902c418e299399133fe2a7ebc39cadd17de861","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/post.ejs","hash":"ae761feddc98f4d3260e7591ed9fc91d9a49d0ab","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/layout.ejs","hash":"29c1291c7ca3f5da7bee6385b7f716d179199933","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/tag.ejs","hash":"72bff1ae241fbe2ddca0537e8ed77c791a7d1766","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/.eslintrc.json","hash":"4cd7451f0bc15440bc8147912c63a11acd0e280f","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/pipeline.js","hash":"75b65cbd6d6ae471739ba80c9f792f602a0769d4","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/bug-report.md","hash":"b9a9ffe556f1fca39009403f87bb8c8e840dc369","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/feature-request---improvement.md","hash":"7d53b0c0d65dd28da17ff9d948e842883cab467f","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/question.md","hash":"443c4f27268d39e89390edb7dcffda407a070fd7","modified":1634610453000},{"_id":"themes/tranquilpeak/.github/workflows/nodejs.yml","hash":"98624806ad9c7b64bf84e492ef55e48ac2d4de22","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/about.ejs","hash":"c92588fcb4435e19b8c7e10fe24484aa6639060e","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/archive-post.ejs","hash":"e19455749c5c1bf773214d965f173613dd8f30f6","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/archive.ejs","hash":"bdd73d1f70bd91533863943f940f8193d44e0fdd","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/baidu-analytics.ejs","hash":"736eca2ecf6fdeea032d47c02c51688f006cafb4","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/cover.ejs","hash":"18b9a620fca9b648fd59467a66b3f4fdbba42613","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/footer.ejs","hash":"67962257d9e3cb6a4d56e3f0263f192ba9a413dd","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/head.ejs","hash":"0dad8527103b1e558e07b504745656cf77f00674","modified":1647499827173},{"_id":"themes/tranquilpeak/layout/_partial/google-analytics.ejs","hash":"b756aa731678a37d22c97c7dc30767331b08d109","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/index.ejs","hash":"cd25ef7cc1b991dc9d553ff5cde23dde4e9f1fea","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/header.ejs","hash":"94bde50d2911814ae08c4a9c681657cc3392c05b","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post.ejs","hash":"cdccf8f0ea1c01997fafdabb7cf044d3939cbb6c","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/script.ejs","hash":"f971c3dde49a10349dbc993425dc960a53cfaa53","modified":1647499827174},{"_id":"themes/tranquilpeak/layout/_partial/search.ejs","hash":"0fd5f75117912cd1e6e7e6094079bccdc79c0000","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/sidebar.ejs","hash":"39fb0c9f214cc36f4f96cbcacc832e542d723881","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/helpers/absolute_url.js","hash":"0d520a946b6f0abbac60529017ed3133265aac60","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/helpers/generate_sharing_link.js","hash":"89069677e8acddef5fba0d3093f5f73fde4fa485","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/pagination.ejs","hash":"89d3be71ff2f5a847850d50e117896056f0ca1a6","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/helpers/is_remote_url.js","hash":"471237ea295bcc9a392a5bb6738ef4c6ab673afb","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/helpers/json_ld.js","hash":"4cd07766ed9436f0c4cb8a9ae22644272918b837","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/helpers/resolve_asset_url.js","hash":"c813e9daaed374b386b91876923f10c0cf1d624c","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/alert.js","hash":"5b86358dd53c9b0d44c385ec12cf9e76383e229a","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/fancybox.js","hash":"55ce02f9ef084f43932eb9b0f10db1d5e9c3a250","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/highlight_text.js","hash":"8e093f21e9a4b10c19be6f300dc90bcc39685ec9","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/image.js","hash":"ab6b04db8fe2ad21ec52dac5e1c3ee76400c6a79","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/tabbed_codeblock.js","hash":"9fe4991123c5b01fc40ed352bc4516187bc5b84b","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/video.js","hash":"497d64fd454cc6fd5c26a42cb8e38db90b83cf4f","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/tags/wide_image.js","hash":"d3596c62694548a3a684e8dfeb5372038ef6f450","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/tranquilpeak.scss","hash":"e69c62b19ece4ab35d992e163b47f2a8374d7611","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/.eslintrc.json","hash":"27d4e7223eee3eca7eb717bea2d28d35714eccbc","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/about.js","hash":"ce68bcc929192dfca6e699fe8e528990cd2d9590","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/archives-filter.js","hash":"8b8998b0e67c745a20450001c0739f6977b63309","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/categories-filter.js","hash":"a5f3c4b9bbef1c8ec881eb39551060ca95bfbb33","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/codeblock-resizer.js","hash":"391c2c9135579ea50c2060e0612e7105e06a8ff7","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/fancybox.js","hash":"659aaad375ecff9748a5d3b0ff1378a549236513","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/header.js","hash":"58ca619f851ebff35724c07dca7f1ed25e9cd5f2","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/image-gallery.js","hash":"90efc47246af69b7e17fab6e0bd1578043fcc2b0","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/post-bottom-bar.js","hash":"64f78c44d29d3559d5e14e436b8cfe1d24b8c965","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/search-modal.js","hash":"59cc400c975e147e3330356c3b062b7119e5ec8a","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/share-options.js","hash":"c2046697540786721ff7c4754774f94fcaf32696","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/sidebar.js","hash":"18dc623dd237c519bb79ce93283a5446cc11a487","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/smartresize.js","hash":"7342a21f94d7bb0525ccbd917d43a6824d7ae63e","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/tabbed-codeblocks.js","hash":"1282e11aacb036c8c9310cac49b75d7e2200125c","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_js/tags-filter.js","hash":"d33625df51d7b9788eeea338626f04387c96f053","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_images/icon144.png","hash":"a6af584a7d4c0a2874f7e3b8123efd0eba0aaf4e","modified":1647499608108},{"_id":"themes/tranquilpeak/source/_images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/clean.js","hash":"ea70743eb4ed0d9ead68d6fc8b65b9f936229a00","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/copy.js","hash":"ba29aef1ce80da12d05598c2a5eb156c70e9ce8d","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/cssmin.js","hash":"352185864437728c9c19169f4fec6fc3308e8b6d","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/replace.js","hash":"984ba7ed966c16b1fadf47c62f76e99940d4b12d","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/sails-linker.js","hash":"c1103119ec7d1f04cfbb1cda83b40d11e8f2d218","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/sass.js","hash":"84ba6be74f99c502543b7f77a105ce16931fd38e","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/sync.js","hash":"fbc09d0ed201993bc1918223b8f8ad5b68f50490","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/uglify.js","hash":"57c7341a004b61539f5b3f02bd772f40494b8306","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/concat.js","hash":"0c2c4dbbfac52f20a3035a2f8cd1c24f1759b17e","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/config/watch.js","hash":"933eecd8a2506c627dbb9a1137305a16dd2d9f9a","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/filters/excerpt.js","hash":"5e0e473d46f8c7aac988ebf0b25ab2eab0af73bb","modified":1634610453000},{"_id":"themes/tranquilpeak/scripts/filters/thumbnail_image_url.js","hash":"0ad2d9304c991e2989708bdbfa6a59030ee691d3","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/build.js","hash":"f64c77127a2d4bfdbb9866fcf368913334f44603","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/compileAssets.js","hash":"a65122ba0d1a1b6044e3b635a644882577b628ba","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/default.js","hash":"80174db9b8a729980770e639e70999ce5a816b78","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/eslint.js","hash":"718cd8a80d060e2587b84e0e20ceaa39c2cc9411","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/linkAssets.js","hash":"079cd274cb29f9984eb7150d88f61819d2ef6235","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/buildProd.js","hash":"450ff77a1bf631d1799206d218c6468592a59862","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/linkAssetsProd.js","hash":"37f2fab80f25757be3e34b40bc5a26a82f088491","modified":1634610453000},{"_id":"themes/tranquilpeak/tasks/register/syncAssets.js","hash":"0813093c3e252a58371db53e914183a97e3186a1","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/category.ejs","hash":"d4b26aa8c66aa8dbfae7a4aafed874745efb2f8e","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/actions.ejs","hash":"419223bff6146c46d4e993e4aa2e3636b051edc8","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/disqus.ejs","hash":"9e0d238ed918e3138d5a9bb23a90408669e19169","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/duoshuo.ejs","hash":"992368f8863f34d1dccf90c0cabc33d5dcdbe92a","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/gallery.ejs","hash":"71b4ad77ab08c0980bf85b85c98a90c7de2be107","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/gitalk.ejs","hash":"8c91c60ffeab780a8a628145c572456187142101","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/gitment.ejs","hash":"1dcfdca4d20bab5a43bda44cf37df506ab3a0fb7","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/header-cover.ejs","hash":"4d3a73d0c6f26769f778d02a559e5055ef1ee0ca","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/meta.ejs","hash":"f13cb5089b0d5898c9606519d1c872725a63a5f9","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/header.ejs","hash":"19c5f0d680db08fe2880f41de3a085ef0298a386","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/share-options.ejs","hash":"896158d62beba2ecb7d6af6e0f01f8f1ea23e706","modified":1634610453000},{"_id":"themes/tranquilpeak/layout/_partial/post/tag.ejs","hash":"2a52f38fa359f8ec8ae776e44e92c48795e31272","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/base/_base.scss","hash":"f0a46b090a0a4dd21edfd89095761895c5278ecb","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_archive.scss","hash":"cfdf53475d228643d5c5e62689b3c6a593e4ccce","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_box.scss","hash":"eebaacf55234fdaa156edb7dc4d9a4f382eaf4d4","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_button.scss","hash":"ea9bd41800fe04860f7e892c17010588b2563a06","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_caption.scss","hash":"dad2683f5f3235b335eebcbda3db59a1cfbb2283","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_code.scss","hash":"0a14fe197c221a4d4d91ee9d41541ce7969043ca","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_fancybox.scss","hash":"e162e2ecafc2be70238a9885fd57a9a7ad642757","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_figure.scss","hash":"9828521c34d91f04813db23e174708f510fe30bf","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_form.scss","hash":"368187e0c5f1a57d8c423f2ec23e897ee94a1a27","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_hide.scss","hash":"c2f5ed51086b9ea5d94ff548bdc4653ea5cd7912","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_highlight-text.scss","hash":"7a7a8a78f75d6c43a46fd020e2d44546e716751b","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_icon.scss","hash":"60dc972bcd81b4f95ab2c067ca910a5bf324d907","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_image-gallery.scss","hash":"95ee5be04c523bf914596042574780ee527e6b38","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_link.scss","hash":"7460155ebf7ce0d3e9acd090b6b99673127fd0be","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_main-content.scss","hash":"90c46c87289a8b3cf7c14d36900f5ced9db36c25","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_markdown.scss","hash":"ba6d7e8f84b3b6dfef339f28b5c6ae372ead674f","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_media.scss","hash":"84aa03c01b741bbeb31c6b48122930f30ad40de3","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_modal.scss","hash":"bc56f823cd67b2ed65b5cf2c3e1851fa3e82f0f9","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_pagination.scss","hash":"809b9330a0e2d79c9285c1a452d61648248c8b70","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_post-actions.scss","hash":"1cc3ba46b1752043207bb820f4f886b0f982e445","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_post-header-cover.scss","hash":"c4bf950602ccb3fbdad54938979651a7b488236e","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_post.scss","hash":"0457c281b7893f8fde8a0590e4c1ff2ffb4bc1a6","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_postShorten.scss","hash":"9a2fdf8021c71d09fcd6ef5bc269055d78290fdb","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_pullquote.scss","hash":"86bc35ba358d1340debc459a344f5f6d34acaa42","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_share-options-bar.scss","hash":"f6289a7cce6efe039614c77085945923c32d9673","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_tag.scss","hash":"ddd1c2ce17f0116655bdacda598e7f1d6fd18262","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_text.scss","hash":"7b38858248da2f73cf64c5949fd475a8e0a246ae","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_tooltip.scss","hash":"f33ad3e677761af1ceb42d337691b8b354ff70bd","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_video.scss","hash":"f9727fd300d73e8844abf0e2575c45e6c7769333","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_about.scss","hash":"4a1c4cca6623449602208256dee6422173daf1ef","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_bottom-bar.scss","hash":"c7816c7ebc253d46466355860ead6669a3707ac6","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_blog.scss","hash":"2450e07594a5e5186170fb5b5b157cc340808a9a","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_cover.scss","hash":"03a951c9b35dd4e35456caa36950e6d6bef77ac3","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_footer.scss","hash":"645161942c66e6afbd666b4755337a6a6261e5e0","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_header.scss","hash":"d840a4be850cb258167ee1081e1b288dc64b3d2c","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_main.scss","hash":"ee4648502b355db51fc6cb7b05375003331f2f6e","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/layouts/_sidebar.scss","hash":"facaff0ca816a4ace67c7689e4286e88eb1010c2","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/pages/_search.scss","hash":"5f7cde0b68156ea802c3caf6cd673cab948b09d9","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/themes/_hljs-custom.scss","hash":"a0ffab53db35bbd4881aeb077400cba55551f3bd","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/themes/_hljs-tranquilpeak.scss","hash":"3c1e0d8b6e2f37820d00572878d060080c5a6fe7","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/components/_alert.scss","hash":"1e6bf40de34a341dd0228357e288153b9292977c","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/_fonts.scss","hash":"4da4074668be0e0abe756aa537a406d14da7ceff","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/_variables.scss","hash":"fc62fcffcdb16fb823c3cb170bbcf34493f0467f","modified":1634610453000},{"_id":"themes/tranquilpeak/source/assets/css/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1647499798922},{"_id":"themes/tranquilpeak/source/assets/css/gitment.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1647499818011},{"_id":"themes/tranquilpeak/source/assets/css/jquery.fancybox.css","hash":"00ce8430edb0a4ca35e08a9813e039d3a4b7868c","modified":1647499818265},{"_id":"themes/tranquilpeak/source/assets/css/thumbs.css","hash":"133acf84f948218219d3f23eb466fe54aceda97d","modified":1647499801342},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1647499801403},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1647499806814},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1647499806820},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1647499806825},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1647499818221},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1647499818253},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1647499818254},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1647499818256},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1647499818257},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1647499818258},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1647499818259},{"_id":"themes/tranquilpeak/source/assets/images/icon144.png","hash":"a6af584a7d4c0a2874f7e3b8123efd0eba0aaf4e","modified":1647499818209},{"_id":"themes/tranquilpeak/source/assets/images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1647499818220},{"_id":"themes/tranquilpeak/source/assets/js/algoliasearch.js","hash":"09662bcddf4b7bc52d84c13b8a2897ea63226e80","modified":1647499818030},{"_id":"themes/tranquilpeak/source/assets/js/thumbs.js","hash":"ee9a65e280178b9525441b751ad7c0e6eb887022","modified":1647499801777},{"_id":"themes/tranquilpeak/source/assets/js/tranquilpeak.js","hash":"07414a37851ba5a7327a5d0d7229aa921402ee84","modified":1647499818278},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_bottom-bar.scss","hash":"ab28b4d66f021e44d7a46a76157c6a2b5fd23496","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_button.scss","hash":"70c64560144d7d6015bbedeca0531258f9bafa07","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_category.scss","hash":"8cfc45772365e537949a4cd20cfa2a79e1a75dc8","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_form.scss","hash":"14026f13b54ef9f2cd7109cf1bca43040816e542","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_main.scss","hash":"0ad55a6191d0a533917845006ceae329353c0b90","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_opacity.scss","hash":"cfc9905b6df3b5100a30b5c47fd331068f238f97","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_post-header-cover.scss","hash":"ecd9078372d8bd1b7f4979bae3251e8efb345a9b","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_prefix.scss","hash":"5e04cd54ba375f69c97b62b7d4e535118ec78177","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_share-options-bar.scss","hash":"06f84bceb82df4d3bda64144f6fe4ad8e3e45f89","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_sidebar.scss","hash":"6c3dc034c3d5fdf7f0c4c39a6913f5bae4fc4767","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_tag.scss","hash":"c8a87e586e27f999ffa46f273f78a812f1cf2f0a","modified":1634610453000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_header.scss","hash":"52de2cb5f49a3b5748557fe2d25791ce52457d62","modified":1634610453000},{"_id":"themes/tranquilpeak/source/assets/css/tranquilpeak.css","hash":"a6c317a8f3222d738f6cad9273729f8a915eb918","modified":1647499818272},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1647499806820},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1647499806824},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1647499806822},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1647499806827},{"_id":"themes/tranquilpeak/source/assets/css/all.css","hash":"b0913ecc71a5d71d40886bde12c0e86d44f6c845","modified":1647499818268},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1647499801342},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1647499806813},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.svg","hash":"326e1d8f0b23f6df95cd6784fdf330bc6414ecd0","modified":1647499806041},{"_id":"themes/tranquilpeak/source/assets/js/gitment.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1647499818010},{"_id":"themes/tranquilpeak/source/assets/js/jquery.fancybox.js","hash":"048f1f8464eba59ccc706250693bc2ab060098a9","modified":1647499800489},{"_id":"themes/tranquilpeak/source/assets/js/script-dnqzkpjdnehhummrka7hd2q2zp6abtkzfz8pbvwk9fr1spl7z7hzxgtnbydx.min.js","hash":"3fbf7421048051b7379ab16fd7c7ecd57b973bc4","modified":1647499827158},{"_id":"themes/tranquilpeak/source/assets/css/style-ttumfszmmxao9exojy0bsx8ajgyvh7vbiqozw3j5qs3x5jf3qcsjjvbqwosd.min.css","hash":"37ae02b8749e3a4ae5cbb5bf377b968aed954ef5","modified":1647499818948},{"_id":"themes/tranquilpeak/source/assets/css/style.css","hash":"5849651f223227b0a6006f6ba7f77eb8b6e1ef65","modified":1647499818283},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1647499801668},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1647499806818},{"_id":"themes/tranquilpeak/source/assets/js/jquery.js","hash":"af32f706407ab08f800c5e697cce92466e735847","modified":1647499802341},{"_id":"themes/tranquilpeak/source/_images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1634610453000},{"_id":"themes/tranquilpeak/source/assets/images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1647499818200},{"_id":"themes/tranquilpeak/package-lock.json","hash":"c06e49f972e53a415fa5eec67d56f4b8b2d26f0c","modified":1647499815370},{"_id":"themes/tranquilpeak/source/assets/js/script.js","hash":"7435dc852108025a41fd0a240995a80c9918fc65","modified":1647499818292},{"_id":"themes/tranquilpeak/source/assets/js/moment-with-locales.js","hash":"f95b871ec6893f58ff57ef3eefb7eeef73846b4e","modified":1647499804406},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.svg","hash":"907bfbbe295332750575900984a00136de0f0e90","modified":1647499806021},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.svg","hash":"d92687d30fa0d43f9ae71009398507bf813a6875","modified":1647499806155},{"_id":"themes/tranquilpeak/source/assets/js/gitalk.js","hash":"5211dd454844165949607d4b7410f4b400807d62","modified":1647499803316},{"_id":"themes/tranquilpeak/source/_images/cover.jpg","hash":"5587d8d41b4b8c01eccd9ad9511849ef8dd69036","modified":1647499599679},{"_id":"themes/tranquilpeak/source/assets/images/cover.jpg","hash":"5587d8d41b4b8c01eccd9ad9511849ef8dd69036","modified":1647499818207},{"_id":"public/atom.xml","hash":"cedd0a7a032831529fdf294593f7f61b4c326458","modified":1666776951481},{"_id":"public/all-categories/index.html","hash":"8207d7ae06e0e0fbfbc399002a4d37cb039a874a","modified":1666776951481},{"_id":"public/all-tags/index.html","hash":"add89dc5bc2266c1f03bbb8ea376aafc165c1e9a","modified":1666776951481},{"_id":"public/all-archives/index.html","hash":"7a867650227be40f75ecf8bad7f06f4c1eb25a0b","modified":1666776951481},{"_id":"public/3017/12/03/Resume/index.html","hash":"8fa703521a80cdab19ef36d2a197dc90b4aa2c3d","modified":1666777662805},{"_id":"public/3017/12/01/Portfolio/index.html","hash":"5f642debf12a8948676ccb5081bb5d31c2500796","modified":1666777662805},{"_id":"public/2022/03/04/Dotnet/NET-6-SPA-with-Vue-Cli-Webpack-Base/index.html","hash":"8ea5749118358a2b26574134d8a8bafd635d95e1","modified":1666777662805},{"_id":"public/2022/02/14/JS/SVG-JS-Animation/index.html","hash":"681d64106f7a28ecf82638a131f81482c8f88fbc","modified":1666777662805},{"_id":"public/2022/01/14/Vue/Vue-3-Studies-Suspense/index.html","hash":"9e339bec3b3931e85dbcdff374ed8cdc3388acc2","modified":1666777662805},{"_id":"public/2021/12/10/Vue/Vue-3-Studies-Sharing-State/index.html","hash":"07a264150491e6ccf3a48f16298acc0df87df6f4","modified":1666777662805},{"_id":"public/2021/11/05/UXUI/Figma-Interative-Components/index.html","hash":"b0fa5905d1b95ba51fe289aab1341c54c972bc14","modified":1666777662805},{"_id":"public/2021/10/04/Testing/Manually-Install-Cypress/index.html","hash":"117f7ada4ceac27976a7c03ee44c10602c4ed126","modified":1666777662805},{"_id":"public/2021/09/01/Vue/Vue-3-Studies-Watch/index.html","hash":"d292e1a84f2a1beee85fa21594492874b978da8f","modified":1666777662805},{"_id":"public/2021/08/02/Vue/Vue-3-Studies-Modularizing/index.html","hash":"755dcdac61f782e5c1ebaf6f824cc4ca7e83e480","modified":1666777662805},{"_id":"public/2021/07/09/Vue/Vue-3-Studies-Reactive-and-toRefs/index.html","hash":"346d183c49d24faa84028e02d06cdd99f101ac76","modified":1666777662805},{"_id":"public/2021/06/07/Dotnet/Upgrade-NET-5-with-Vue-Webpack-without-HMR/index.html","hash":"97653eb13ff29682fee5838a991e33d1616d2ded","modified":1666777662805},{"_id":"public/2021/05/05/Vue/Vue-3-Studies-Methods-and-Computed/index.html","hash":"3e3a7c4fd1f138327c5abbe4056bdc155ec27a8a","modified":1666777662805},{"_id":"public/2021/04/18/UXUI/Set-Figma-Text-for-Traditional-Chinese/index.html","hash":"8b80de9cd56fd33e8b449957f0ca067bbbc0f84c","modified":1666777662805},{"_id":"public/2021/03/07/UXUI/Spline-Easily-Create-and-Publish-3D-Web-Experiences/index.html","hash":"34b0ab649d33a269065e701221752c01e2a8f3f2","modified":1666777662805},{"_id":"public/2021/02/07/JS/Notes-on-Transferring-from-Vuetify-V1-to-V2/index.html","hash":"cfc5f29a50013511622719c72d99c83f63b50d58","modified":1666777662805},{"_id":"public/2021/02/01/Others/PowerBI-Line-Chart-Practice/index.html","hash":"ba0c3016441d7d2c9375701732d8dc90e05c74ea","modified":1666777662805},{"_id":"public/2021/01/01/UXUI/Notes-On-Transferring-From-Sketch-To-Figma/index.html","hash":"64e77fb0350e195560e682479d36c623eff55fe8","modified":1666777662805},{"_id":"public/2020/12/06/Others/Scrum-2020-Guide-Study/index.html","hash":"a1679fae0fef10e85c725042690fe9e6581d18fb","modified":1666777662805},{"_id":"public/2020/11/07/UXUI/Google-Material-Design-Sliders/index.html","hash":"2261965e450c6125a3056eac80e2acbbcd0ba1aa","modified":1666777662805},{"_id":"public/2020/09/06/Vue/Vue-3-Studies-Fundamentals-of-Reactivity/index.html","hash":"925f4494d70aa15e887a217d011a86e47b80a4fb","modified":1666777662805},{"_id":"public/2020/09/05/Vue/Vue-3-Studies-Teleport/index.html","hash":"7a39049bbe0d96a98f9a79fe42185a124ca0586f","modified":1666777662805},{"_id":"public/2020/08/16/Vue/Vue-3-Studies-Lifecycle-Hooks/index.html","hash":"dc1bff4128f14af43472bf1851d6551cbee1410e","modified":1666777662805},{"_id":"public/2020/07/20/Vue/Vue-3-Studies-Setup-Reactive-References/index.html","hash":"a4199f0e100cd5f2887964644d773a82540ec5ff","modified":1666777662805},{"_id":"public/2020/06/27/Vue/Vue-3-Studies-Why-the-composition-API/index.html","hash":"05bb6e5f63cfde251becf924a4f0de4a0a266aac","modified":1666777662805},{"_id":"public/2020/05/04/UXUI/Naver-Study-Case-National-Assembly-Election-Special-Page/index.html","hash":"de6d2352336f84c45eee2292d5b6de81747508f6","modified":1666777662805},{"_id":"public/2020/04/19/UXUI/Naver-Study-Case-Table-Order-APP/index.html","hash":"92985f085ed3f1f229937ea07b8c20c7826265b9","modified":1666777662805},{"_id":"public/2020/03/22/Python/Deep-Learning-by-Python-Use-Keras-Sequential-Model-Example/index.html","hash":"c1185527ca40711dd2bc8ef43f63e20f55929bc7","modified":1666777662805},{"_id":"public/2020/02/15/Python/Deep-Learning-by-Python-Setup-Environment/index.html","hash":"2e377270383b76d73e5e9a5814579356d5268976","modified":1666777662805},{"_id":"public/2020/01/04/Testing/Use-Cypress-ui-testing/index.html","hash":"ee06da1433d480c2ff9530c13558bc23f1f5b3d5","modified":1666777662805},{"_id":"public/2019/12/07/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template/index.html","hash":"e61ecc553c0d3b48df27470ec6cd961145ddbc05","modified":1666777662805},{"_id":"public/2019/11/23/VScode/Use-git-extention-in-VScode-goodbye-sourcetree/index.html","hash":"6ae28c4b9f58116f550a2155cff9dee7350cab70","modified":1666777662805},{"_id":"public/2019/10/10/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3/index.html","hash":"bf2307436ec77beda4f17e50c841cf78b869cb50","modified":1666777662805},{"_id":"public/2019/09/10/Dotnet/Serverless-Azure-SignalR-with-C-and-Azure-Functions/index.html","hash":"c4a8d436f1e4e9343d13ec24ea507809aab5e1e2","modified":1666777662805},{"_id":"public/2019/07/04/JS/Grab-Data-To-CSV-By-Using-NodeJS/index.html","hash":"36277854ef3cad8059073d57dc07d3c9ab857054","modified":1666777662805},{"_id":"public/2019/07/03/JS/React-Redux-Practice/index.html","hash":"1691933a991f450417862830fb3eb2bd11411568","modified":1666777662805},{"_id":"public/2019/06/07/UXUI/Google-Material-Studies-Shrine/index.html","hash":"ea86b8db9a08f5adae0e2c1e1129559561787aa9","modified":1666777662805},{"_id":"public/2019/05/01/JS/JS-Retry-Function/index.html","hash":"260e0b97b51c38e4fdab526165c19a51089a4a5d","modified":1666777662805},{"_id":"public/2019/05/01/UXUI/Google-Material-Studies-Reply/index.html","hash":"aea60b3cff14944d041f29884d977ea5087bb4da","modified":1666777662805},{"_id":"public/2019/04/05/UXUI/Google-Material-Studies-Rally/index.html","hash":"98c74bc36f9b9862ff85f9b50a39680307e12fd4","modified":1666777662805},{"_id":"public/2019/03/01/UXUI/Google-Material-Theming-Workflow-Tools/index.html","hash":"153609f38d162cc3d916cadf28ac71be6ca4f46f","modified":1666777662805},{"_id":"public/2019/02/09/UXUI/Google-Material-Design-Introduction/index.html","hash":"7bc78ee622e3a3887dfd2e4d379d9a2899dc6a8e","modified":1666777662805},{"_id":"public/2019/01/01/Dotnet/NET-Core-Upgrade-2-2-with-Webpack4-Vue/index.html","hash":"8ebc3b63c51c8fc5c78a1d24d05d4427d22e9687","modified":1666777662805},{"_id":"public/2018/12/02/UXUI/Adobe-XD-New-Feature-Auto-Animate/index.html","hash":"69e9d6d617f7ca49ddcda82b2a04c5ac15e51612","modified":1666777662805},{"_id":"public/2018/11/04/UXUI/2018-My-Sketch-Useful-Plugins/index.html","hash":"4b9f618e7d83c03b7734778fde90af8edcefdb4c","modified":1666777662805},{"_id":"public/2018/11/04/UXUI/Git-Control-for-Using-Abstract-to-Manage-Sketch-Files/index.html","hash":"123b48ac36a0da67638c11b8473b82fc8db06876","modified":1666777662805},{"_id":"public/2018/09/13/UXUI/UX-UI-Workflow-Tool-in-2018/index.html","hash":"334b6036e0cbdccaa9b4dc294960644df512619b","modified":1666777662805},{"_id":"public/2018/09/11/D3/D3-v4-with-Vue-CANVAS-Donut-Chart/index.html","hash":"8a64a3d17895bc53b810e13ac12c9cc62259915d","modified":1666777662805},{"_id":"public/2018/08/05/D3/D3-v4-with-Vue-CANVAS-Vertical-Bar-Chart/index.html","hash":"322b9145f82bb82b2e27fbca67a7eaf0dd57d74e","modified":1666777662805},{"_id":"public/2018/07/07/D3/D3-v4-with-Vue-CANVAS-Horizontal-Bar-Chart/index.html","hash":"03db6adb7004b958f0668a496aa70bc52f058f19","modified":1666777662805},{"_id":"public/2018/06/17/D3/D3-v4-with-Vue-SVG-VS-CANVAS/index.html","hash":"b7ffebe6cfc343d6376c882b8e0145110ead0eba","modified":1666777662805},{"_id":"public/2018/06/16/D3/D3-v4-with-Vue-CANVAS-Line-Chart/index.html","hash":"e1bc5c2db8a5a6520c8086e7023d3bfb2c5e4aab","modified":1666777662805},{"_id":"public/2018/05/01/D3/D3-v4-with-Vue-SVG-Donut-Chart/index.html","hash":"009f915fbb0762c85ed9062d049020c16e4dec75","modified":1666777662805},{"_id":"public/2018/04/06/D3/D3-v4-with-Vue-SVG-Vertical-Bar-Chart/index.html","hash":"822337710918288f240adacde046866792cb125e","modified":1666777662805},{"_id":"public/2018/03/04/D3/D3-v4-with-Vue-SVG-Horizontal-Bar-Chart/index.html","hash":"d034af4271c5147859cd2e81757f6ed4e6c45a88","modified":1666777662805},{"_id":"public/2018/02/03/D3/D3-v4-with-Vue-SVG-Line-Chart/index.html","hash":"1e695dc9384f209c8d32eab76b77e56b337192b9","modified":1666777662805},{"_id":"public/2017/12/25/Dotnet/NET-Core-2-0-Debug-with-VScode/index.html","hash":"f4915405e20532664e833f7c3d022984e7059bd3","modified":1666777662805},{"_id":"public/2017/12/02/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli/index.html","hash":"c802a797fc2d621dbddda66099e6296b506abd4a","modified":1666777662805},{"_id":"public/2017/11/01/Webpack/Webpack-3-Tutorial-add-PUG-templates-to-write-html/index.html","hash":"9d27c9c279ad80f022f8b1d0a1125f46a1d0bc2d","modified":1666777662805},{"_id":"public/2017/10/01/Webpack/Webpack-3-Tutorial-add-Babel-loader-to-write-js-use-ES6/index.html","hash":"9b778ba0f0df8d4c16bcaebab83e45d1d5f7b3de","modified":1666777662805},{"_id":"public/2017/09/02/Webpack/Webpack-3-Tutorial-Webpack-Dev-Server/index.html","hash":"831a0d7442f09593eff70551b5ecb93b93d901ca","modified":1666777662805},{"_id":"public/2017/08/01/Webpack/Webpack-3-Tutorial-Style-CSS-and-Sass-loaders/index.html","hash":"960ece4575de9a7beb4921d25f61a3ce3e1ec544","modified":1666777662805},{"_id":"public/2017/06/30/Webpack/Webpack-3-Tutorial-HTML-Webpack-Plugin/index.html","hash":"8866f86294cdf6ab6169b1bc548cfb8ef4c73b31","modified":1666777662805},{"_id":"public/2017/06/14/Webpack/Webpack-3-Tutorial-Installation-and-Config/index.html","hash":"39224d4a80778148a99f740b82a6b162af0fc8ee","modified":1666777662805},{"_id":"public/archives/index.html","hash":"a721d652a26a6de856507c585bba650afd89f262","modified":1666777662805},{"_id":"public/archives/page/2/index.html","hash":"720e6ec23df782ec9f90716e170d083b75f9a04b","modified":1666776951481},{"_id":"public/archives/page/3/index.html","hash":"ad58d554155f02e2f4cc89d4f0c52622fd496ca0","modified":1666776951481},{"_id":"public/archives/page/4/index.html","hash":"8c6e17097f66ad188e630ca789df102bf3aea01a","modified":1666776951481},{"_id":"public/archives/page/5/index.html","hash":"232cf87438a7effdbdcab2d1c420049b627d3005","modified":1666776951481},{"_id":"public/archives/page/6/index.html","hash":"8f225719c21c2b42327b94e5c7d2906c282d2fcd","modified":1666776951481},{"_id":"public/archives/page/7/index.html","hash":"67029d42652f888ed38b31daac04a8cec365ed89","modified":1666776951481},{"_id":"public/archives/2017/index.html","hash":"17edcd941ed5ca2cd3fb74e283969ce20412c32c","modified":1666776951481},{"_id":"public/archives/2017/06/index.html","hash":"a366c95fca923a98a70cae789067468e0301cf06","modified":1666776951481},{"_id":"public/archives/2017/08/index.html","hash":"4505b4c2bada50918ba51a70d15c842c5211221e","modified":1666776951481},{"_id":"public/archives/2017/09/index.html","hash":"469e6cd62310154012bde8bbc1a067da5bddde84","modified":1666776951481},{"_id":"public/archives/2017/10/index.html","hash":"41071b17d2c80cc8a640b5a27a3c1cb7a5e0f136","modified":1666776951481},{"_id":"public/archives/2017/11/index.html","hash":"d8aacf52427f3ea6f89339edb8ca575a0ff92a84","modified":1666776951481},{"_id":"public/archives/2017/12/index.html","hash":"e7f3aaf3b780940eb3b38252beb8aee4fb8972fe","modified":1666776951481},{"_id":"public/archives/2018/index.html","hash":"17b22e80602638bb8dbaa605f64678563717b365","modified":1666776951481},{"_id":"public/archives/2018/page/2/index.html","hash":"c585dbb3cbdeecc5470b908fa9324d9d6267a955","modified":1666776951481},{"_id":"public/archives/2018/02/index.html","hash":"5e8c29bc562376a5fe8904b9b5c7eab40259f5f5","modified":1666776951481},{"_id":"public/archives/2018/03/index.html","hash":"5c0f2587d161f844ec545ae4eb38a6b4ae9d6592","modified":1666776951481},{"_id":"public/archives/2018/04/index.html","hash":"d60d4298738696100d93f663ffb31c5a6dee1faa","modified":1666776951481},{"_id":"public/archives/2018/05/index.html","hash":"107be7cd823fd1253e9d557ef7435bb6eca0eb03","modified":1666776951481},{"_id":"public/archives/2018/06/index.html","hash":"1bb9c13115d745a7ddebedae754de6525533a807","modified":1666776951481},{"_id":"public/archives/2018/07/index.html","hash":"f858232277e5aa69843ac5443e5c945ea3475595","modified":1666776951481},{"_id":"public/archives/2018/08/index.html","hash":"b1e5deb711d92d4fc00dd168a01fa1efa3771e65","modified":1666776951481},{"_id":"public/archives/2018/09/index.html","hash":"e90513f85d7c3b4dcfd6cd0678fea54d1dc0d956","modified":1666776951481},{"_id":"public/archives/2018/11/index.html","hash":"d8fdf299ad33586ba569fc43c3a2002b3222bae5","modified":1666776951481},{"_id":"public/archives/2018/12/index.html","hash":"ec44bf1266ae69bd6d76967ce4acbaeaffb20521","modified":1666776951481},{"_id":"public/archives/2019/index.html","hash":"2b86c126bc796c770c5e171fced66bf1ffb9eb16","modified":1666776951481},{"_id":"public/archives/2019/page/2/index.html","hash":"1b66f049658a740364ba4a0356a3c237b546a149","modified":1666776951481},{"_id":"public/archives/2019/01/index.html","hash":"ef8d5495ba3a4fc4524b7d3ab3cea69970d33186","modified":1666776951481},{"_id":"public/archives/2019/02/index.html","hash":"f45796123613a6fc8900813fef3f858350991b90","modified":1666776951481},{"_id":"public/archives/2019/03/index.html","hash":"ced79b59d40b848e5601cfdd0ab17649731022fc","modified":1666776951481},{"_id":"public/archives/2019/04/index.html","hash":"fcb3a6c22fec49a9d954fe5f507f27342d05f3a8","modified":1666776951481},{"_id":"public/archives/2019/05/index.html","hash":"4716cbe89ffbbcfa84e6f66584bc970ee38450f2","modified":1666776951481},{"_id":"public/archives/2019/06/index.html","hash":"a4e221615910fd0f615849dcb4997fca628009de","modified":1666776951481},{"_id":"public/archives/2019/07/index.html","hash":"4732350f9248f049786e601c012b9f8c4d720e8b","modified":1666776951481},{"_id":"public/archives/2019/09/index.html","hash":"876a908fed1d3fe9c902fb4b9c0aab7711715f7a","modified":1666776951481},{"_id":"public/archives/2019/10/index.html","hash":"5e0cd13deb95b851c69a990cd95974e3be089d29","modified":1666776951481},{"_id":"public/archives/2019/11/index.html","hash":"9130dc8bd6d9ec9d2bcbccf58e1445ae1e348c11","modified":1666776951481},{"_id":"public/archives/2019/12/index.html","hash":"a8e8d65352474233026010e3b04c09a51b7d4b16","modified":1666776951481},{"_id":"public/archives/2020/index.html","hash":"58bdd2cb7cd280423944562b76840f3e2d6f532f","modified":1666776951481},{"_id":"public/archives/2020/page/2/index.html","hash":"dd1182b5e9c0b4a0a5393efe04cfda779e9970cc","modified":1666776951481},{"_id":"public/archives/2020/01/index.html","hash":"c66bf5abbdb6cad7588e21f7c562368226188a54","modified":1666776951481},{"_id":"public/archives/2020/02/index.html","hash":"6d09012375393f1ca8ea6f4a25115595faaa36f1","modified":1666776951481},{"_id":"public/archives/2020/03/index.html","hash":"5aad951d5cbe195c7b82b186a7a562231ed8d59c","modified":1666776951481},{"_id":"public/archives/2020/04/index.html","hash":"95cb2bdbac3f34433c0ab0dd665e45e5f983ac65","modified":1666776951481},{"_id":"public/archives/2020/05/index.html","hash":"47b640dae74395c957d90f703fbac9021f767324","modified":1666776951481},{"_id":"public/archives/2020/06/index.html","hash":"940d2bdeeb023a191ff22d7958292759aa93daa6","modified":1666776951481},{"_id":"public/archives/2020/07/index.html","hash":"eeb7cdd9a71a2b8bc5397ef58c26596d9c16e84b","modified":1666776951481},{"_id":"public/archives/2020/08/index.html","hash":"305c11580c3e69cada2bfcdeba91e96eff079ff2","modified":1666776951481},{"_id":"public/archives/2020/09/index.html","hash":"c82650553c275bd201f6eaeded0b416348c2ddf9","modified":1666776951481},{"_id":"public/archives/2020/11/index.html","hash":"9276dbda5a8001de86d8c2334fc20d6f9e0d1c1d","modified":1666776951481},{"_id":"public/archives/2020/12/index.html","hash":"11f6660184d96ed9d576467dfd35cc5180cc461f","modified":1666776951481},{"_id":"public/archives/2021/index.html","hash":"c97f110d9a92cec0e1fb9e8d2717863c2313b7b4","modified":1666776951481},{"_id":"public/archives/2021/page/2/index.html","hash":"c80ab8c8eb371b7d155aeece038a6798eba7a4a3","modified":1666776951481},{"_id":"public/archives/2021/01/index.html","hash":"057c47acb70f543b293fa71c3ba8b4e0a02ba84c","modified":1666776951481},{"_id":"public/archives/2021/02/index.html","hash":"95945484ace1b035e47c4f04a9522c2975d3533f","modified":1666776951481},{"_id":"public/archives/2021/03/index.html","hash":"1747d707f5b39003147ee5fd3ac6757ef9b16a6f","modified":1666776951481},{"_id":"public/archives/2021/04/index.html","hash":"ae33d3a9dd10b00eee722c3cad2134644803f1e0","modified":1666776951481},{"_id":"public/archives/2021/05/index.html","hash":"434d51f9dfa683a1f4d530e36f95cb36e4352e71","modified":1666776951481},{"_id":"public/archives/2021/06/index.html","hash":"40cad322017d1849e5cd327270c4e31df5d77bfe","modified":1666776951481},{"_id":"public/archives/2021/07/index.html","hash":"425c443c4fa7258b90b9c9d47539ea5b91d4104b","modified":1666776951481},{"_id":"public/archives/2021/08/index.html","hash":"6ee74ee27a5b4eb2b791e75e64042efdb3e1c280","modified":1666776951481},{"_id":"public/archives/2021/09/index.html","hash":"5620b66403d21e9e64a48f3de6f3c85f4ec5b44a","modified":1666776951481},{"_id":"public/archives/2021/10/index.html","hash":"1379d819f9afcbef24998d9f2cd07abd81b9998f","modified":1666776951481},{"_id":"public/archives/2021/11/index.html","hash":"bede7bd705595da6055c7f3cc4cd5affa1b3c9e7","modified":1666776951481},{"_id":"public/archives/2021/12/index.html","hash":"598a8e49e4090319a232a6598fc247e24474ce9c","modified":1666776951481},{"_id":"public/archives/2022/index.html","hash":"781a51062ab19813ed0a3b7a204e95faff7ebe28","modified":1666777662805},{"_id":"public/archives/2022/01/index.html","hash":"01f9369ee8f19e815e92e9b5e49e97ebdc366b60","modified":1666776951481},{"_id":"public/archives/2022/02/index.html","hash":"b856a88e0276a85282c27bc7bb9f194855bcd859","modified":1666776951481},{"_id":"public/archives/3017/index.html","hash":"dc6e816a7ed904c09774e304241d3ec6ced1a08d","modified":1666776951481},{"_id":"public/archives/3017/12/index.html","hash":"4afe595f873ed5c139a2569278099eea9dda1bc3","modified":1666776951481},{"_id":"public/archives/2022/03/index.html","hash":"c23db1cfb86edcaa515cfe4edd6203a4f4906e20","modified":1666776951481},{"_id":"public/categories/Portfolio/index.html","hash":"d0a0c7147bcd51cf1613a13a098da2158ee03a30","modified":1666776951481},{"_id":"public/categories/D3/index.html","hash":"698cd7a8afa1fdc79c42a92ff9bdf4315bc54372","modified":1666776951481},{"_id":"public/categories/Resume/index.html","hash":"318cb91dab7927b4b11159c7f8e83426c8305ac9","modified":1666776951481},{"_id":"public/categories/JS/index.html","hash":"6aea9df8ee0dc6e5df3779a0ed71ae3ca5933291","modified":1666776951481},{"_id":"public/categories/NET/index.html","hash":"82b3b53a9266ec6aff4e856706bb24d1a5d64cd2","modified":1666777662805},{"_id":"public/categories/NET-Core/index.html","hash":"10de1658d6af9ed4aca9fb76f1552ce9698ef91a","modified":1666776951481},{"_id":"public/categories/Scrum/index.html","hash":"49538945b21537b6fbbedd44282c3d6392c19c73","modified":1666776951481},{"_id":"public/categories/PowerBI/index.html","hash":"f234d1645f57b4c8f2773de8aa31f5ef9aaef217","modified":1666776951481},{"_id":"public/categories/JS/React/index.html","hash":"223d9b63d3ba0ff39814824108379ca6e3c0c2c4","modified":1666776951481},{"_id":"public/categories/Python/index.html","hash":"389df323cefa02e3691ade44bc957d78d3c4167c","modified":1666776951481},{"_id":"public/categories/UXUI/index.html","hash":"a67499673e5fc6135e3d59c233f4e4b2fdc100fb","modified":1666776951481},{"_id":"public/categories/Testing/index.html","hash":"52ac80e535a838bbad969699acb6fc51d2d09f19","modified":1666776951481},{"_id":"public/categories/UXUI/page/2/index.html","hash":"bbd4e298476f9394d8f22f535ca7ba50ea3d2120","modified":1666776951481},{"_id":"public/categories/Vue/index.html","hash":"14f4debc38880eb5e3a279c1d15467686ac40698","modified":1666776951481},{"_id":"public/categories/Vue/page/2/index.html","hash":"35d20d8912cfe29027391132d10d4336beece5a9","modified":1666776951481},{"_id":"public/categories/Webpack/index.html","hash":"d7adae37012bba48ff3b40dd75324550d6c184c3","modified":1666776951481},{"_id":"public/categories/VScode/index.html","hash":"f0d48b5ae28e1f5153428023dacef19f62d58f30","modified":1666776951481},{"_id":"public/categories/UXUI/Figma/index.html","hash":"0dd3b011b063fb4ad883a7ab8755b4a66320bf04","modified":1666776951481},{"_id":"public/categories/UXUI/Naver/index.html","hash":"86bca370db3000a57a7f50a95de603293928a309","modified":1666776951481},{"_id":"public/categories/UXUI/Material-Design/index.html","hash":"e9d157b68f50610e9010004ac19be4b3c7fa7ee5","modified":1666776951481},{"_id":"public/categories/UXUI/Spline/index.html","hash":"dca9b5ea888f443341c8ce72b4931769552ff2e5","modified":1666776951481},{"_id":"public/index.html","hash":"fbae8178a1de729f71050a40590b93115fef1ddf","modified":1666777662805},{"_id":"public/page/2/index.html","hash":"22e2132c63235b63201604e6dc9ba64fb119a82d","modified":1666776951481},{"_id":"public/page/4/index.html","hash":"980e73f07305d5317637739dec50084165ea3cb0","modified":1666776951481},{"_id":"public/page/3/index.html","hash":"7ceae9b9ec74aaa32ae2fa7fa35ac36aba019103","modified":1666776951481},{"_id":"public/page/5/index.html","hash":"a630e4d1df08ac7b247b9e6c2281f46f1bf5f174","modified":1666776951481},{"_id":"public/page/7/index.html","hash":"2ed4c49fc09303e7ae93639b0a7244d7b939fccd","modified":1666776951481},{"_id":"public/page/6/index.html","hash":"15a2606e26545cd4b936c51719188b2ebc8472ad","modified":1666776951481},{"_id":"public/tags/Portfolio/index.html","hash":"ef98e82d7ca59649dffdb9556467395b1c1a6f39","modified":1666776951481},{"_id":"public/tags/D3/index.html","hash":"9b5c624f93011495b837c022b63167f9536cd113","modified":1666776951481},{"_id":"public/tags/作品集/index.html","hash":"2ecbeee95c79f94c2b87014f05a00a2c7da3460b","modified":1666776951481},{"_id":"public/tags/Vue/index.html","hash":"cf690a186bbb6f95d2f1086397a4462478e73063","modified":1666777662805},{"_id":"public/tags/Vue/page/2/index.html","hash":"f823737478fa6018cf7ff8c8f34d8fb92b8e1675","modified":1666776951481},{"_id":"public/tags/Vue/page/3/index.html","hash":"1d68af08fe53c909878cddb9162875154559034e","modified":1666776951481},{"_id":"public/tags/SVG/index.html","hash":"e769a5612f89f602ec79ca9c723b8394bdcdd767","modified":1666776951481},{"_id":"public/tags/CANVAS/index.html","hash":"9a5a1ec78aac9c996b881372dc7ba9954bab9186","modified":1666776951481},{"_id":"public/tags/JS/index.html","hash":"a4fe8300c278847638c7d9d56cf5db9b02cdc32d","modified":1666776951481},{"_id":"public/tags/React/index.html","hash":"d663cc50cc85e6007d5762e67fdeb61bd0f1fe2e","modified":1666776951481},{"_id":"public/tags/Redux/index.html","hash":"972d9732795ad56173ade395903c0af2adc15b50","modified":1666776951481},{"_id":"public/tags/dotnet/index.html","hash":"c0e5e8d3b8de060203fc6b3b0a623ef064add78f","modified":1666777662805},{"_id":"public/tags/NET-Core/index.html","hash":"9cdb54dd41c99ae4ec05dd95fdf18d02decbaf24","modified":1666776951481},{"_id":"public/tags/Webpack/index.html","hash":"e1da99a1fb5f90fed61eeab6b2b053fdc4c2c144","modified":1666776951481},{"_id":"public/tags/SPA/index.html","hash":"dbe290a65a91872bc9226b5448ba3633f5590e71","modified":1666777662805},{"_id":"public/tags/Webpack/page/2/index.html","hash":"f3418b350cd2c722495b3114252476137eb7df77","modified":1666776951481},{"_id":"public/tags/MVC/index.html","hash":"1dff39c8098816cabfc306fa9573f2705a04e18a","modified":1666777662805},{"_id":"public/tags/NET/index.html","hash":"12690f93eeeedbe5e3be4b4cc27a27889a82d750","modified":1666777662805},{"_id":"public/tags/VScode/index.html","hash":"cc998fd581168d200c17cfd63d1eeff2a440ff20","modified":1666777662805},{"_id":"public/tags/Nuget/index.html","hash":"5641725e3fd8941f4d6833decf87a6b181de78d6","modified":1666776951481},{"_id":"public/tags/Template/index.html","hash":"1d0229e9a041a360985d9d2477cbfa75b0995d55","modified":1666776951481},{"_id":"public/tags/SignalR/index.html","hash":"f94c99debbd1d1cef151542b9e71ee1ec5e5bc29","modified":1666776951481},{"_id":"public/tags/Azure-Functions/index.html","hash":"1b74a9352c2498b78c27692331a23f9072bfe95b","modified":1666776951481},{"_id":"public/tags/Serverless/index.html","hash":"a79ec038d5b65f54c073a243025f16e55b91729e","modified":1666776951481},{"_id":"public/tags/C/index.html","hash":"d1a4d069c7f94070241d38d2902443147a98a8b0","modified":1666776951481},{"_id":"public/tags/PowerBI/index.html","hash":"13f50149d972f5674a1d9acc56bc3c710644fb98","modified":1666776951481},{"_id":"public/tags/Scrum/index.html","hash":"d72126e45f2bd030cce6d9fc57dc0240ab6d9779","modified":1666776951481},{"_id":"public/tags/Python/index.html","hash":"172c685742556f578f4ff617014e71ee9894771f","modified":1666776951481},{"_id":"public/tags/Keras/index.html","hash":"face853c24ca0f4a7b4bbcfe257a14e1a36f0228","modified":1666776951481},{"_id":"public/tags/Deep-Learning/index.html","hash":"79735b1a9990facb08854a20f2141e439d75a001","modified":1666776951481},{"_id":"public/tags/TensorFlow/index.html","hash":"dfe02378417893cb03957a496096e4ba7edbd54a","modified":1666776951481},{"_id":"public/tags/Testing/index.html","hash":"d25dccd1bebc42681ba26771ae73a90823fe6bf7","modified":1666776951481},{"_id":"public/tags/Cypress/index.html","hash":"45783053ba4cb60721b84dd345911dd43a1c610e","modified":1666776951481},{"_id":"public/tags/Cucumber/index.html","hash":"64495ac8cd4eb4e9e92cd19c1c496d4de2f797f3","modified":1666776951481},{"_id":"public/tags/Sketch/index.html","hash":"36992a5b50d729a0eb05f731ba62a428a3e71bae","modified":1666776951481},{"_id":"public/tags/UX/index.html","hash":"b6718679484d86b8979f3f79df6c402c94dc9d6e","modified":1666776951481},{"_id":"public/tags/UI/index.html","hash":"4d20b7dfd8e943e416239ae43e002a7654f75adc","modified":1666776951481},{"_id":"public/tags/UX/page/2/index.html","hash":"240553dc591c131992f32c908b45009f441fddf5","modified":1666776951481},{"_id":"public/tags/UI/page/2/index.html","hash":"561a396717d776dfeaff51ae7acd1ee3401cfeba","modified":1666776951481},{"_id":"public/tags/Figma/index.html","hash":"a581d360b2fd65cb0529f25c6510acd48f462419","modified":1666776951481},{"_id":"public/tags/Adobe-XD/index.html","hash":"71862d7069aa73215e151835a56e27284a85647a","modified":1666776951481},{"_id":"public/tags/Abstract/index.html","hash":"83efa68c8e5d71f82b5005b25b927c866b97a7f9","modified":1666776951481},{"_id":"public/tags/Naver/index.html","hash":"d7f649dcfa1241ecc2d3a1b032cf765ca6281de1","modified":1666776951481},{"_id":"public/tags/Material-Design/index.html","hash":"6cd2b635da2b1f09da44c9845c80cb07ecf317f4","modified":1666776951481},{"_id":"public/tags/Spline/index.html","hash":"902c614481ee5169d162a5528f677d5dcda8ea96","modified":1666776951481},{"_id":"public/tags/Git/index.html","hash":"aa1c0559691c9fa802fabc59d451d073e0560542","modified":1666776951481},{"_id":"public/assets/fonts/fa-regular-400.eot","hash":"670fb01e4930ae46fe8d6d2b75ead288f54e8e61","modified":1647503199638},{"_id":"public/assets/fonts/fa-regular-400.ttf","hash":"c34acd6818df6db6be41a2e331886765d601f2eb","modified":1647503199638},{"_id":"public/assets/fonts/fa-regular-400.woff","hash":"3ad4f4e4b1fb3edee3d4ba25e6cdfed2f0b88a54","modified":1647503199638},{"_id":"public/assets/fonts/fa-regular-400.woff2","hash":"13517529affa39e2585c591acae6dc336b6aa917","modified":1647503199638},{"_id":"public/assets/fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1647503199638},{"_id":"public/assets/fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1647503199638},{"_id":"public/assets/fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1647503199638},{"_id":"public/assets/fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1647503199638},{"_id":"public/assets/fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1647503199638},{"_id":"public/assets/fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1647503199638},{"_id":"public/assets/fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1647503199638},{"_id":"public/assets/images/icon144.png","hash":"a6af584a7d4c0a2874f7e3b8123efd0eba0aaf4e","modified":1647503199638},{"_id":"public/assets/images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1647503199638},{"_id":"public/assets/fonts/fa-brands-400.woff","hash":"1e1f02bfa89e179fe2dd1383273b8812aa873418","modified":1647503199638},{"_id":"public/assets/fonts/fa-brands-400.woff2","hash":"0613c7ebba55ee47ef302c0f7766324692f899a7","modified":1647503199638},{"_id":"public/assets/fonts/fa-solid-900.woff","hash":"a22acd7697f36e7d4cc31a853c70e776eac54bb1","modified":1647503199638},{"_id":"public/assets/fonts/fa-solid-900.woff2","hash":"0ccb2c814a7e4ca12c4778821633809cb0361eaa","modified":1647503199638},{"_id":"public/assets/css/thumbs.css","hash":"3673ba1f616738f588fe887863846a958343b970","modified":1647503199638},{"_id":"public/assets/js/thumbs.js","hash":"1dacca749bad458211a886d3bcbbeb4600aaceac","modified":1647503199638},{"_id":"public/assets/css/gitment.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1647503199638},{"_id":"public/assets/css/style-ttumfszmmxao9exojy0bsx8ajgyvh7vbiqozw3j5qs3x5jf3qcsjjvbqwosd.min.css","hash":"37ae02b8749e3a4ae5cbb5bf377b968aed954ef5","modified":1647503199638},{"_id":"public/assets/css/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1647503199638},{"_id":"public/assets/css/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1647503199638},{"_id":"public/assets/js/algoliasearch.js","hash":"09662bcddf4b7bc52d84c13b8a2897ea63226e80","modified":1647503199638},{"_id":"public/assets/css/tranquilpeak.css","hash":"a6c317a8f3222d738f6cad9273729f8a915eb918","modified":1647503199638},{"_id":"public/assets/css/style.css","hash":"b4315dc2da78400110f40648c5a8ed7d51b05b28","modified":1647503199638},{"_id":"public/assets/js/jquery.fancybox.js","hash":"27f034e5db8c32e268e2959b9a7c1258d36e4510","modified":1647503199638},{"_id":"public/assets/js/jquery.js","hash":"af32f706407ab08f800c5e697cce92466e735847","modified":1647503199638},{"_id":"public/assets/js/gitment.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1647503199638},{"_id":"public/assets/js/script-dnqzkpjdnehhummrka7hd2q2zp6abtkzfz8pbvwk9fr1spl7z7hzxgtnbydx.min.js","hash":"3fbf7421048051b7379ab16fd7c7ecd57b973bc4","modified":1647503199638},{"_id":"public/assets/js/tranquilpeak.js","hash":"07414a37851ba5a7327a5d0d7229aa921402ee84","modified":1647503199638},{"_id":"public/assets/css/all.css","hash":"b0913ecc71a5d71d40886bde12c0e86d44f6c845","modified":1647503199638},{"_id":"public/assets/js/script.js","hash":"c1adfe0b25b7218b0a016f4980b4b23ba23c233a","modified":1647503199638},{"_id":"public/assets/fonts/fa-brands-400.eot","hash":"d1ffd6340cdbf72890ccb67f32015eafc5df51a7","modified":1647503199638},{"_id":"public/assets/fonts/fa-brands-400.ttf","hash":"8ab907083fecaaa2a9ec93b27f884ad74573705c","modified":1647503199638},{"_id":"public/assets/fonts/fa-regular-400.svg","hash":"326e1d8f0b23f6df95cd6784fdf330bc6414ecd0","modified":1647503199638},{"_id":"public/assets/js/moment-with-locales.js","hash":"f95b871ec6893f58ff57ef3eefb7eeef73846b4e","modified":1647503199638},{"_id":"public/assets/fonts/fa-solid-900.eot","hash":"ea845c59bee4a5c6db774b8d8060f5641b789ae9","modified":1647503199638},{"_id":"public/assets/fonts/fa-solid-900.ttf","hash":"eb8914f6b1797b45ee0883e6089d92695d9f9441","modified":1647503199638},{"_id":"public/assets/images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1647503199638},{"_id":"public/assets/js/gitalk.js","hash":"540a80bafeba53826127d556487541332ecd6ed1","modified":1647503199638},{"_id":"public/assets/fonts/fa-brands-400.svg","hash":"907bfbbe295332750575900984a00136de0f0e90","modified":1647503199638},{"_id":"public/assets/fonts/fa-solid-900.svg","hash":"d92687d30fa0d43f9ae71009398507bf813a6875","modified":1647503199638},{"_id":"public/assets/images/cover.jpg","hash":"5587d8d41b4b8c01eccd9ad9511849ef8dd69036","modified":1647503199638},{"_id":"themes/tranquilpeak/.DS_Store","hash":"8a4959d5ff89d0fdcc175a09295ccac13f989266","modified":1648614266174},{"_id":"source/_posts/UXUI/Figma-Useful-Plugins-for-Refactoring.md","hash":"116d0c03bf9e06eaee3df2e79b426b297e6a297c","modified":1650012716938},{"_id":"public/2022/04/15/UXUI/Figma-Useful-Plugins-for-Refactoring/index.html","hash":"50d4a2832e8f701f14364a1f9a7ec8d1e95afd75","modified":1666777662805},{"_id":"public/archives/2022/04/index.html","hash":"cf9ee79e9d585e65e20e0480dbf3a8eb6d5f8383","modified":1666776951481},{"_id":"source/_posts/VScode/Use-git-extention-in-VScode-goodbye-sourcetree copy.md","hash":"b030902eea733b2db913d620a9c819cd5807f9ad","modified":1652859584727},{"_id":"source/_posts/VScode/VScode-Extension-Azure-Static-Web-Apps.md","hash":"b030902eea733b2db913d620a9c819cd5807f9ad","modified":1652859819397},{"_id":"public/2022/05/18/VScode/VScode-Extension-Azure-Static-Web-Apps/index.html","hash":"946aa85b227f3bc71bbae8140c3b93b236866e8d","modified":1666777662805},{"_id":"public/archives/2022/05/index.html","hash":"ca866bc62b33f8fb80308c1547d13b69bf1645d3","modified":1666776951481},{"_id":"public/tags/Azure/index.html","hash":"5a9c77e67de9492ceab79d200f291d103165afd4","modified":1666776951481},{"_id":"source/_posts/UXUI/Naver-Study-Case-Naver-App-for-Apple-Watch.md","hash":"e837e33c7eef2615ff6b2a90da636a39db081f96","modified":1654676288857},{"_id":"public/2022/06/08/UXUI/Naver-Study-Case-Naver-App-for-Apple-Watch/index.html","hash":"4fd68659673dccfbf83c26dce39b8514668d5370","modified":1666777662805},{"_id":"public/archives/2022/06/index.html","hash":"f81a684051f01ad6e6431b23742500ddc5d0ad76","modified":1666776951481},{"_id":"source/_posts/Others/SSMS-Import-Chinese-Data-into-Azure-DB.md","hash":"778c0b69a200aae89f6c7e49cc56e1a6cedd6793","modified":1658284156716},{"_id":"public/2022/07/19/Others/SSMS-Import-Chinese-Data-into-Azure-DB/index.html","hash":"862bec161dac1e7d479b10fc7e4a5e79405c9250","modified":1666777662805},{"_id":"public/archives/2022/07/index.html","hash":"4a8d7d9945fb59d8cf758ae226775959f6c2e47e","modified":1666776951481},{"_id":"public/categories/AzureDB/index.html","hash":"cf9b97453a5333ecac1fa3a32fd81dc6bb80afc2","modified":1666776951481},{"_id":"public/tags/AzureDB/index.html","hash":"02713f93ebae121c1428f20638dde84e23fa85d8","modified":1666776951481},{"_id":"public/tags/SSMS/index.html","hash":"c37ef57d8dea97584ac0402544b764f5fa8ae0bf","modified":1666776951481},{"_id":"source/_posts/UXUI/Figma-Text-Replace-by-Free-Google-Fonts.md","hash":"211a16e73096c5a5f55c9d36608bc9c25f3e0b30","modified":1660895348735},{"_id":"public/2022/08/19/UXUI/Figma-Text-Replace-by-Free-Google-Fonts/index.html","hash":"f7a2f07338f1806646959b105306c1d21eaf3a29","modified":1666777662805},{"_id":"public/archives/2022/08/index.html","hash":"2c593b8ef81e458e25c9a6236547a23355140c71","modified":1666776951481},{"_id":"source/_posts/UXUI/Midjourney-AI-Art.md","hash":"2bb7efa7dd0b066ee7d35adfec0a1039d22f4adf","modified":1663143063044},{"_id":"public/2022/09/14/UXUI/Midjourney-AI-Art/index.html","hash":"013a50c1750dbb60f3c015ce21496b8c99266251","modified":1666777662805},{"_id":"public/archives/2022/09/index.html","hash":"da66f8c6bb499843c6410dea46ea3700505f6935","modified":1666776951481},{"_id":"source/_posts/Dotnet/NET-6-SPA-with-Vite-Vue-3.md","hash":"422740d039a8ae7facdfe4a1f2627a4dc84afacd","modified":1666777655760},{"_id":"public/2022/10/26/Dotnet/NET-6-SPA-with-Vite-Vue-3/index.html","hash":"195f5c16697b6cbc974a0bed7081d7b08c9fcd25","modified":1666777662805},{"_id":"public/archives/page/8/index.html","hash":"56fa8273dfa079eb7254c5b299aa68cd1f5b2e8f","modified":1666776951481},{"_id":"public/archives/2022/10/index.html","hash":"0886ee3966c7055179205f6f7067fa1d50bd0f6b","modified":1666777662805},{"_id":"public/page/8/index.html","hash":"afc5e8a02b25e8f69ceb6e7ceb60af9ef9ea0cc6","modified":1666776951481},{"_id":"public/tags/VScode/page/2/index.html","hash":"280b5cd3342d73c44e1465fc4a7a947948891936","modified":1666776951481},{"_id":"public/tags/Vite/index.html","hash":"9f83a80284dec3f2af550da61c4c7f02fd6e8b9f","modified":1666777662805}],"Category":[{"name":"Portfolio","_id":"cl0uov9pc0004r3y787q8enrk"},{"name":"Resume","_id":"cl0uov9pm000ar3y71jh926yd"},{"name":"D3","_id":"cl0uov9pq000fr3y73qeae3hp"},{"name":"JS","_id":"cl0uov9qb001cr3y79kkc501j"},{"name":".NET Core","_id":"cl0uov9qr0025r3y74kgz6vw8"},{"name":".NET","_id":"cl0uov9qv002dr3y7chm543io"},{"name":"Scrum","_id":"cl0uov9rq003jr3y7ghtq8xg3"},{"name":"React","parent":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9ru003rr3y7hdhq5unw"},{"name":"PowerBI","_id":"cl0uov9rx003yr3y7834bhc8n"},{"name":"Python","_id":"cl0uov9s00046r3y7gwg0dc1l"},{"name":"Testing","_id":"cl0uov9s3004fr3y7fpz51f7g"},{"name":"UXUI","_id":"cl0uov9sc004zr3y74lwq8r94"},{"name":"Vue","_id":"cl0uov9t9006rr3y7esyu3rd6"},{"name":"VScode","_id":"cl0uov9tm007xr3y77s7lav08"},{"name":"Webpack","_id":"cl0uov9tn0081r3y7cts94aau"},{"name":"Figma","parent":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9tt008sr3y76rrs9m6r"},{"name":"Material Design","parent":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9tu008yr3y7b9abb017"},{"name":"Naver","parent":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u1009rr3y7929h7utp"},{"name":"Spline","parent":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u500adr3y7funx68lk"},{"name":"AzureDB","_id":"cl5szlbci0001n4y75bfdfumq"}],"Data":[],"Page":[{"title":"all-categories","layout":"all-categories","comments":0,"_content":"","source":"all-categories/index.md","raw":"---\ntitle: \"all-categories\"\nlayout: \"all-categories\"\ncomments: false\n---\n","date":"2017-12-25T03:39:10.249Z","updated":"2017-12-25T03:39:10.249Z","path":"all-categories/index.html","_id":"cl0uov9p20000r3y7727iceir","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"all-tags","layout":"all-tags","comments":0,"_content":"","source":"all-tags/index.md","raw":"---\ntitle: \"all-tags\"\nlayout: \"all-tags\"\ncomments: false\n---\n","date":"2017-12-25T03:39:10.249Z","updated":"2017-12-25T03:39:10.249Z","path":"all-tags/index.html","_id":"cl0uov9pa0002r3y76ufngqfi","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"all-archives","layout":"all-archives","comments":0,"_content":"","source":"all-archives/index.md","raw":"---\ntitle: \"all-archives\"\nlayout: \"all-archives\"\ncomments: false\n---\n","date":"2017-12-25T03:39:10.248Z","updated":"2017-12-25T03:39:10.248Z","path":"all-archives/index.html","_id":"cl0uov9pf0006r3y7ctta0uoa","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""}],"Post":[{"title":"Anny Chang's Portfolio - 作品集","thumbnailImage":"https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?auto=format&fit=crop&w=1000&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","thumbnailImagePosition":"bottom","coverImage":"https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?auto=format&fit=crop&w=1650&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","coverMeta":"out","date":"3017-11-30T16:00:00.000Z","updated":"2019-10-09T16:00:00.000Z","_content":"\nMy portfolio.\n\n<!--more-->\n\n# Design Collection\n\n## Behance: [https://www.behance.net/annilla](https://www.behance.net/annilla)\n\n# Web Collection\n\n| 作品 | 分類 | 內容 |\n| --- | --- | --- |\n| 系統 | 公司 | IC Backend Manufacturing Operations (Web) |\n| 系統 | 公司 | Workflow CN (Web) |\n| 系統 | 公司 | Depanel Monitor (Web) |\n| 系統 | 公司 | Smart Factory (Web) |\n| 系統 | 公司 | SSO (Web) |\n| 系統 | 公司 | OPscan (Web) |\n| 網頁 | 公司 | Online User Manual (Hexo) |\n| 網頁 | 公司 | Reflow Supplement Page (Web) |\n| 系統 | 公司 | System Profile Management (Web) |\n| 系統 | 公司 | NXT Monitor (Web) |\n| 系統 | 公司 | Workflow Compliance (Web) |\n| 網頁 | 公司 | Kingston Mobile Team Portal (Hexo) |\n| 系統 | 公司 | B2B (Web) |\n| 系統 | 公司 | Material Requirement Planning (Web, VSTO) |\n| 系統 | 公司 | Empolyee Authentication Service (Web) |\n| 系統 | 公司 | Notes SignOff APP (Mobile Web App) |\n| 系統 | 公司 | Quotation System (Web & iOS App Design) |\n| 網站 | 綜合 | [JUKSY 街星](https://www.juksy.com/) |\n| 網頁 | 展覽 | [《復仇者聯盟》世界巡迴展](https://www.juksy.com/events/avengersstation) |\n| 網頁 | 電影 | [《金剛戰士》Power Rangers GO GO！](https://www.juksy.com/events/MMPR2017) |\n| 網頁 | 名人 | [放肆越限 ● I Dare You](https://www.juksy.com/events/idareyoujune) - 陳建州 & 四葉草 |\n| 網頁 | 名人 | [回家才DOPE ● Home Sweet Home](https://www.juksy.com/events/dope2017may) - 兄弟本色 & 邵雨薇 |\n| 網頁 | 名人 | [南北潮什麼 / From North to South](https://www.juksy.com/events/northsouth2017April) - 盧廣仲 & 柯佳嬿 |\n| 網頁 | 名人 | [瘋面人物 / Out of control](https://www.juksy.com/events/outofcontrol2017) - 許瑋甯 & 吳慷仁 |\n| 網頁 | 名人 | [我單故我在 Valentine, So what?](https://www.juksy.com/events/month1702valentine/) - 藍正龍 |\n| 網頁 | 名人 | [人生F5鍵 Reborn](https://www.juksy.com/events/month1701F5reborn) - 瑤瑤 |\n| 網頁 | 名人 | [扳勢回潮　等不及的蓄勢待發！ Wait  to action](https://www.juksy.com/events/month1612waittoaction) - 吳建豪 |\n| 網頁 | 電影 | [刺客教條 12/28(三)跨年最強檔](https://www.juksy.com/events/assassin2016creed) |\n| 網頁 | 名人 | [Don't Judge me！玩跳．TONE](https://www.juksy.com/events/month1611donjudge) - 安心亞 |\n| 網頁 | 電影 | [《怪獸與牠們的產地》JUKSY特別企劃](https://www.juksy.com/events/fantastic2016beasts) |\n| 網頁 | 廠商 | [耍YOUNG無極限，玩酷做自己](https://www.juksy.com/events/brand201611angeliapets) - Angelia  &  Pets |\n| 網頁 | 廠商 | [精彩視界 一觸可及](https://www.juksy.com/events/brand201611samsung360) - SAMSUNG |\n| 網頁 | 廠商 | [分享屬於你的[城市時尚]─你的城市‧由你演繹](https://www.juksy.com/events/brand201611fashioncity) - SAMSUNG 打卡分享照片 |\n| 網頁 | 名人 | [The Bromance！絕對合拍](https://www.juksy.com/events/month1610bromance) - 蕭敬騰 |\n| 網頁 | 名人 | [大勢黑潮 INTO BLACK](https://www.juksy.com/events/month1609intoblack) - SPEXIAL |\n| 網頁 | 電影 | [屍速列車 屍裡逃生](https://www.juksy.com/events/train2016zombie) |\n| 網頁 | 遊戲 | [成神之路有你有我！寶可夢全攻略](https://www.juksy.com/events/pokemon2016go) |\n| 網頁 | 名人 | [熱浪來襲HITHOT](https://www.juksy.com/events/month1608hithot) - 劉以豪 |\n| 網頁 | 穿搭 | [熱辣無極限！2016年夏日潮妞穿搭公式](https://www.juksy.com/events/summer2016girlstyle) |\n| 網頁 | 穿搭 | [型到出火！體感41度的TO DO LIST](https://www.juksy.com/events/summer2016menstyle) |\n| 網頁 | 投票活動 | JUKSY超新星（連結失效） |\n| 網頁 | 名人 | 用歌聲唱出最真的自己（連結失效） - 汪小敏 |\n| 網站 | 公司 | [京達國際股份有限公司](http://www.taxxtron-tayu.com/) |\n| 網站 | 購物 | [LOVEBABY讓您在家也能呵護寶貝](http://web.ntnu.edu.tw/~60040004S/) |\n| 網站 | 研討會 | [PME36](http://tame.tw/pme36/) |\n","source":"_posts/Portfolio.md","raw":"---\ntitle: Anny Chang's Portfolio - 作品集\ncategories:\n  - Portfolio\nthumbnailImage: https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?auto=format&fit=crop&w=1000&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D\nthumbnailImagePosition: bottom\ncoverImage: https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?auto=format&fit=crop&w=1650&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D\ncoverMeta: out\ntags: [Portfolio, 作品集]\ndate: 3017/12/01\nupdated: 2019/10/10\n---\n\nMy portfolio.\n\n<!--more-->\n\n# Design Collection\n\n## Behance: [https://www.behance.net/annilla](https://www.behance.net/annilla)\n\n# Web Collection\n\n| 作品 | 分類 | 內容 |\n| --- | --- | --- |\n| 系統 | 公司 | IC Backend Manufacturing Operations (Web) |\n| 系統 | 公司 | Workflow CN (Web) |\n| 系統 | 公司 | Depanel Monitor (Web) |\n| 系統 | 公司 | Smart Factory (Web) |\n| 系統 | 公司 | SSO (Web) |\n| 系統 | 公司 | OPscan (Web) |\n| 網頁 | 公司 | Online User Manual (Hexo) |\n| 網頁 | 公司 | Reflow Supplement Page (Web) |\n| 系統 | 公司 | System Profile Management (Web) |\n| 系統 | 公司 | NXT Monitor (Web) |\n| 系統 | 公司 | Workflow Compliance (Web) |\n| 網頁 | 公司 | Kingston Mobile Team Portal (Hexo) |\n| 系統 | 公司 | B2B (Web) |\n| 系統 | 公司 | Material Requirement Planning (Web, VSTO) |\n| 系統 | 公司 | Empolyee Authentication Service (Web) |\n| 系統 | 公司 | Notes SignOff APP (Mobile Web App) |\n| 系統 | 公司 | Quotation System (Web & iOS App Design) |\n| 網站 | 綜合 | [JUKSY 街星](https://www.juksy.com/) |\n| 網頁 | 展覽 | [《復仇者聯盟》世界巡迴展](https://www.juksy.com/events/avengersstation) |\n| 網頁 | 電影 | [《金剛戰士》Power Rangers GO GO！](https://www.juksy.com/events/MMPR2017) |\n| 網頁 | 名人 | [放肆越限 ● I Dare You](https://www.juksy.com/events/idareyoujune) - 陳建州 & 四葉草 |\n| 網頁 | 名人 | [回家才DOPE ● Home Sweet Home](https://www.juksy.com/events/dope2017may) - 兄弟本色 & 邵雨薇 |\n| 網頁 | 名人 | [南北潮什麼 / From North to South](https://www.juksy.com/events/northsouth2017April) - 盧廣仲 & 柯佳嬿 |\n| 網頁 | 名人 | [瘋面人物 / Out of control](https://www.juksy.com/events/outofcontrol2017) - 許瑋甯 & 吳慷仁 |\n| 網頁 | 名人 | [我單故我在 Valentine, So what?](https://www.juksy.com/events/month1702valentine/) - 藍正龍 |\n| 網頁 | 名人 | [人生F5鍵 Reborn](https://www.juksy.com/events/month1701F5reborn) - 瑤瑤 |\n| 網頁 | 名人 | [扳勢回潮　等不及的蓄勢待發！ Wait  to action](https://www.juksy.com/events/month1612waittoaction) - 吳建豪 |\n| 網頁 | 電影 | [刺客教條 12/28(三)跨年最強檔](https://www.juksy.com/events/assassin2016creed) |\n| 網頁 | 名人 | [Don't Judge me！玩跳．TONE](https://www.juksy.com/events/month1611donjudge) - 安心亞 |\n| 網頁 | 電影 | [《怪獸與牠們的產地》JUKSY特別企劃](https://www.juksy.com/events/fantastic2016beasts) |\n| 網頁 | 廠商 | [耍YOUNG無極限，玩酷做自己](https://www.juksy.com/events/brand201611angeliapets) - Angelia  &  Pets |\n| 網頁 | 廠商 | [精彩視界 一觸可及](https://www.juksy.com/events/brand201611samsung360) - SAMSUNG |\n| 網頁 | 廠商 | [分享屬於你的[城市時尚]─你的城市‧由你演繹](https://www.juksy.com/events/brand201611fashioncity) - SAMSUNG 打卡分享照片 |\n| 網頁 | 名人 | [The Bromance！絕對合拍](https://www.juksy.com/events/month1610bromance) - 蕭敬騰 |\n| 網頁 | 名人 | [大勢黑潮 INTO BLACK](https://www.juksy.com/events/month1609intoblack) - SPEXIAL |\n| 網頁 | 電影 | [屍速列車 屍裡逃生](https://www.juksy.com/events/train2016zombie) |\n| 網頁 | 遊戲 | [成神之路有你有我！寶可夢全攻略](https://www.juksy.com/events/pokemon2016go) |\n| 網頁 | 名人 | [熱浪來襲HITHOT](https://www.juksy.com/events/month1608hithot) - 劉以豪 |\n| 網頁 | 穿搭 | [熱辣無極限！2016年夏日潮妞穿搭公式](https://www.juksy.com/events/summer2016girlstyle) |\n| 網頁 | 穿搭 | [型到出火！體感41度的TO DO LIST](https://www.juksy.com/events/summer2016menstyle) |\n| 網頁 | 投票活動 | JUKSY超新星（連結失效） |\n| 網頁 | 名人 | 用歌聲唱出最真的自己（連結失效） - 汪小敏 |\n| 網站 | 公司 | [京達國際股份有限公司](http://www.taxxtron-tayu.com/) |\n| 網站 | 購物 | [LOVEBABY讓您在家也能呵護寶貝](http://web.ntnu.edu.tw/~60040004S/) |\n| 網站 | 研討會 | [PME36](http://tame.tw/pme36/) |\n","slug":"Portfolio","published":1,"_id":"cl0uov9p60001r3y7husy1qym","comments":1,"layout":"post","photos":[],"link":"","content":"<p>My portfolio.</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Design-Collection\"><a href=\"#Design-Collection\" class=\"headerlink\" title=\"Design Collection\"></a>Design Collection</h1><h2 id=\"Behance-https-www-behance-net-annilla\"><a href=\"#Behance-https-www-behance-net-annilla\" class=\"headerlink\" title=\"Behance: https://www.behance.net/annilla\"></a>Behance: <a href=\"https://www.behance.net/annilla\">https://www.behance.net/annilla</a></h2><h1 id=\"Web-Collection\"><a href=\"#Web-Collection\" class=\"headerlink\" title=\"Web Collection\"></a>Web Collection</h1><table>\n<thead>\n<tr>\n<th>作品</th>\n<th>分類</th>\n<th>內容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>系統</td>\n<td>公司</td>\n<td>IC Backend Manufacturing Operations (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Workflow CN (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Depanel Monitor (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Smart Factory (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>SSO (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>OPscan (Web)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Online User Manual (Hexo)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Reflow Supplement Page (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>System Profile Management (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>NXT Monitor (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Workflow Compliance (Web)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Kingston Mobile Team Portal (Hexo)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>B2B (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Material Requirement Planning (Web, VSTO)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Empolyee Authentication Service (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Notes SignOff APP (Mobile Web App)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Quotation System (Web &amp; iOS App Design)</td>\n</tr>\n<tr>\n<td>網站</td>\n<td>綜合</td>\n<td><a href=\"https://www.juksy.com/\">JUKSY 街星</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>展覽</td>\n<td><a href=\"https://www.juksy.com/events/avengersstation\">《復仇者聯盟》世界巡迴展</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/MMPR2017\">《金剛戰士》Power Rangers GO GO！</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/idareyoujune\">放肆越限 ● I Dare You</a> - 陳建州 &amp; 四葉草</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/dope2017may\">回家才DOPE ● Home Sweet Home</a> - 兄弟本色 &amp; 邵雨薇</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/northsouth2017April\">南北潮什麼 &#x2F; From North to South</a> - 盧廣仲 &amp; 柯佳嬿</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/outofcontrol2017\">瘋面人物 &#x2F; Out of control</a> - 許瑋甯 &amp; 吳慷仁</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1702valentine/\">我單故我在 Valentine, So what?</a> - 藍正龍</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1701F5reborn\">人生F5鍵 Reborn</a> - 瑤瑤</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1612waittoaction\">扳勢回潮　等不及的蓄勢待發！ Wait  to action</a> - 吳建豪</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/assassin2016creed\">刺客教條 12&#x2F;28(三)跨年最強檔</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1611donjudge\">Don’t Judge me！玩跳．TONE</a> - 安心亞</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/fantastic2016beasts\">《怪獸與牠們的產地》JUKSY特別企劃</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611angeliapets\">耍YOUNG無極限，玩酷做自己</a> - Angelia  &amp;  Pets</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611samsung360\">精彩視界 一觸可及</a> - SAMSUNG</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611fashioncity\">分享屬於你的[城市時尚]─你的城市‧由你演繹</a> - SAMSUNG 打卡分享照片</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1610bromance\">The Bromance！絕對合拍</a> - 蕭敬騰</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1609intoblack\">大勢黑潮 INTO BLACK</a> - SPEXIAL</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/train2016zombie\">屍速列車 屍裡逃生</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>遊戲</td>\n<td><a href=\"https://www.juksy.com/events/pokemon2016go\">成神之路有你有我！寶可夢全攻略</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1608hithot\">熱浪來襲HITHOT</a> - 劉以豪</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>穿搭</td>\n<td><a href=\"https://www.juksy.com/events/summer2016girlstyle\">熱辣無極限！2016年夏日潮妞穿搭公式</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>穿搭</td>\n<td><a href=\"https://www.juksy.com/events/summer2016menstyle\">型到出火！體感41度的TO DO LIST</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>投票活動</td>\n<td>JUKSY超新星（連結失效）</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td>用歌聲唱出最真的自己（連結失效） - 汪小敏</td>\n</tr>\n<tr>\n<td>網站</td>\n<td>公司</td>\n<td><a href=\"http://www.taxxtron-tayu.com/\">京達國際股份有限公司</a></td>\n</tr>\n<tr>\n<td>網站</td>\n<td>購物</td>\n<td><a href=\"http://web.ntnu.edu.tw/~60040004S/\">LOVEBABY讓您在家也能呵護寶貝</a></td>\n</tr>\n<tr>\n<td>網站</td>\n<td>研討會</td>\n<td><a href=\"http://tame.tw/pme36/\">PME36</a></td>\n</tr>\n</tbody></table>\n","site":{"data":{}},"thumbnailImageUrl":"https://images.unsplash.com/photo-1505330622279-bf7d7fc918f4?auto=format&fit=crop&w=1000&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","excerpt":"<p>My portfolio.</p>","more":"<h1 id=\"Design-Collection\"><a href=\"#Design-Collection\" class=\"headerlink\" title=\"Design Collection\"></a>Design Collection</h1><h2 id=\"Behance-https-www-behance-net-annilla\"><a href=\"#Behance-https-www-behance-net-annilla\" class=\"headerlink\" title=\"Behance: https://www.behance.net/annilla\"></a>Behance: <a href=\"https://www.behance.net/annilla\">https://www.behance.net/annilla</a></h2><h1 id=\"Web-Collection\"><a href=\"#Web-Collection\" class=\"headerlink\" title=\"Web Collection\"></a>Web Collection</h1><table>\n<thead>\n<tr>\n<th>作品</th>\n<th>分類</th>\n<th>內容</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>系統</td>\n<td>公司</td>\n<td>IC Backend Manufacturing Operations (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Workflow CN (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Depanel Monitor (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Smart Factory (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>SSO (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>OPscan (Web)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Online User Manual (Hexo)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Reflow Supplement Page (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>System Profile Management (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>NXT Monitor (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Workflow Compliance (Web)</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>公司</td>\n<td>Kingston Mobile Team Portal (Hexo)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>B2B (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Material Requirement Planning (Web, VSTO)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Empolyee Authentication Service (Web)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Notes SignOff APP (Mobile Web App)</td>\n</tr>\n<tr>\n<td>系統</td>\n<td>公司</td>\n<td>Quotation System (Web &amp; iOS App Design)</td>\n</tr>\n<tr>\n<td>網站</td>\n<td>綜合</td>\n<td><a href=\"https://www.juksy.com/\">JUKSY 街星</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>展覽</td>\n<td><a href=\"https://www.juksy.com/events/avengersstation\">《復仇者聯盟》世界巡迴展</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/MMPR2017\">《金剛戰士》Power Rangers GO GO！</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/idareyoujune\">放肆越限 ● I Dare You</a> - 陳建州 &amp; 四葉草</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/dope2017may\">回家才DOPE ● Home Sweet Home</a> - 兄弟本色 &amp; 邵雨薇</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/northsouth2017April\">南北潮什麼 &#x2F; From North to South</a> - 盧廣仲 &amp; 柯佳嬿</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/outofcontrol2017\">瘋面人物 &#x2F; Out of control</a> - 許瑋甯 &amp; 吳慷仁</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1702valentine/\">我單故我在 Valentine, So what?</a> - 藍正龍</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1701F5reborn\">人生F5鍵 Reborn</a> - 瑤瑤</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1612waittoaction\">扳勢回潮　等不及的蓄勢待發！ Wait  to action</a> - 吳建豪</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/assassin2016creed\">刺客教條 12&#x2F;28(三)跨年最強檔</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1611donjudge\">Don’t Judge me！玩跳．TONE</a> - 安心亞</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/fantastic2016beasts\">《怪獸與牠們的產地》JUKSY特別企劃</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611angeliapets\">耍YOUNG無極限，玩酷做自己</a> - Angelia  &amp;  Pets</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611samsung360\">精彩視界 一觸可及</a> - SAMSUNG</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>廠商</td>\n<td><a href=\"https://www.juksy.com/events/brand201611fashioncity\">分享屬於你的[城市時尚]─你的城市‧由你演繹</a> - SAMSUNG 打卡分享照片</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1610bromance\">The Bromance！絕對合拍</a> - 蕭敬騰</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1609intoblack\">大勢黑潮 INTO BLACK</a> - SPEXIAL</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>電影</td>\n<td><a href=\"https://www.juksy.com/events/train2016zombie\">屍速列車 屍裡逃生</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>遊戲</td>\n<td><a href=\"https://www.juksy.com/events/pokemon2016go\">成神之路有你有我！寶可夢全攻略</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td><a href=\"https://www.juksy.com/events/month1608hithot\">熱浪來襲HITHOT</a> - 劉以豪</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>穿搭</td>\n<td><a href=\"https://www.juksy.com/events/summer2016girlstyle\">熱辣無極限！2016年夏日潮妞穿搭公式</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>穿搭</td>\n<td><a href=\"https://www.juksy.com/events/summer2016menstyle\">型到出火！體感41度的TO DO LIST</a></td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>投票活動</td>\n<td>JUKSY超新星（連結失效）</td>\n</tr>\n<tr>\n<td>網頁</td>\n<td>名人</td>\n<td>用歌聲唱出最真的自己（連結失效） - 汪小敏</td>\n</tr>\n<tr>\n<td>網站</td>\n<td>公司</td>\n<td><a href=\"http://www.taxxtron-tayu.com/\">京達國際股份有限公司</a></td>\n</tr>\n<tr>\n<td>網站</td>\n<td>購物</td>\n<td><a href=\"http://web.ntnu.edu.tw/~60040004S/\">LOVEBABY讓您在家也能呵護寶貝</a></td>\n</tr>\n<tr>\n<td>網站</td>\n<td>研討會</td>\n<td><a href=\"http://tame.tw/pme36/\">PME36</a></td>\n</tr>\n</tbody></table>"},{"title":"Anny Chang's Resume - 履歷","thumbnailImage":"https://images.unsplash.com/photo-1484755560615-a4c64e778a6c?auto=format&fit=crop&w=1360&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","thumbnailImagePosition":"bottom","coverImage":"https://images.unsplash.com/photo-1484755560615-a4c64e778a6c?auto=format&fit=crop&w=1360&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","date":"3017-12-02T16:00:00.000Z","updated":"2021-04-28T16:00:00.000Z","_content":"\nMy resume.\n\n<!--more-->\n\n# Professional Info\n\n## 專長\n\n* 設計 `UI` 介面、 `RWD` 網頁製作、 `SPA` 程式撰寫\n\n* 擅用設計 `UI` 軟體（`Figma`, `Sketch`, `Adobe XD`, `Illustrator`, `Photoshop`）\n\n## 研討會 / 工作坊\n| 時間 | 研討會 / 工作坊 | 分享主題 |\n| --- | --- | --- |\n| 2019.11 | Kingston 2019 內訓 | [使用 Hexo 做線上說明文件](https://www.canva.com/design/DADpqbMNvJk/kFNwFdNo0_4FFcrbAj53HA/view?utm_content=DADpqbMNvJk&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu) |\n| 2019.11 | Kingston 2019 內訓 | [Start our journey with vue](https://www.canva.com/design/DADqB4aQEns/_iyVg0rxO38YU409MwbKIA/view?utm_content=DADqB4aQEns&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu) |\n| 2019.09 | Kingston 2019 內訓 | [Why Vue.js](https://www.canva.com/design/DADkDdvRR9A/JzfYMOKl6_2DLqeFH-BOww/view?utm_content=DADkDdvRR9A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton) |\n| 2017.08 | Kingston 2017 Mobile Team Workshop | [Use Webpack + Vue-Loader in VS2017](https://speakerdeck.com/annilla/use-webpack-plus-vue-loader-in-vs2017) |\n| 2016.11 | 前端魔法師十一月份小聚 | [Facebook Instant Articles - 測試到發布](https://speakerdeck.com/annilla/facebook-instant-articles-ce-shi-dao-fa-bu) |\n\n## 證照\n\n### [Microsoft & Adobe Badges (國際 Microsoft & ACA 認證獎章)](https://www.youracclaim.com/users/chiao-ni-chang)\n\n| 時間 | 證書 |\n| --- | --- |\n| 2022.07 | 國際 Microsoft Certified: Power Platform Fundamentals |\n| 2020.03 | 國際 Microsoft Certified: Azure Fundamentals |\n| 2017.03 | 國際 TOEIC 藍色證書 765分 |\n| 2015.11 | 國家技術士網頁設計丙級證照 |\n| 2014.12 | 國際 ACA Illustrator CS6 證照 |\n| 2013.12 | Adobe Master Of Rich Media Web Design Courses 證書 |\n| 2013.06 | 中華民國斐陶斐榮譽學會榮譽會員 （碩士應屆第一名） |\n| 2013.03 | 國際 ACA Flash CS6 證照 |\n| 2013.03 | 國際 ACA Dreamweaver CS6 證照 |\n| 2012.11 | 國際 ACA Photoshop CS6 證照 |\n| 2011.12 | Adobe Digital Graphic Design Courses 證書 |\n| 高中 | 全民英檢中級 證書 |\n\n\n\n## 受訓\n\n| 時間 | 課程 |\n| --- | --- |\n| 2022.07 | Skilltree 精準解析 .NET Thread 執行緒 |\n| 2022.07 | Skilltree 精準解析 .NET Task 工作 |\n| 2021.08 | Become An Awesome Team Player 神隊友打造計畫 (卡內基訓練) |\n| 2021.04 | TOC管理思維與方法課程 |\n| 2019.09 | 台灣微軟技術中心 Microsoft DevOps Workshop |\n| 2018.10 | 29761 使用微軟 T-SQL 查詢資料 |\n| 2017.09 | Skilltree JavaScript 實務測試新手班 第三梯 |\n| 2017.06 | 網站測試開發 with WebdriverIO 實戰講堂 |\n| 2014.11 | 色彩溝通立即上手 |\n| 2014.10 | 網路活動創意規劃與會員行銷管理 |\n| 2014.09 | 如何提升網路關鍵字行銷的成效 |\n| 2014.09 | JR-基層管理幹部工作關係與團隊力提昇 |\n| 2014.08 | eDM電子郵件行銷及電子報經營 |\n| 2014.08 | JM-基層幹部工作改善與執行力提昇培訓 |\n\n# Work​ Experience​​​\n\n| 時間 | 公司 | 職稱 |\n| --- | --- | --- |\n| 2017.06.12 - NOW | Kingston Technology | UI Designer & Front-end Developer |\n| 2015.04.06 - 2017.06.11 | JUKSY 街星 | 網頁UI設計 / 網頁前端工程師 |\n| 2013.07.01 - 2015.04.03 | 微璽科技股份有限公司 | 商業設計 / 網頁UI設計 |\n\n# Education\n\n| 時間 | 學校 |\n| --- | --- |\n| 2011 - 2013 | 國立台灣師範大學, 數學系碩士班數學教育組 |\n| 2007 - 2011 | 國立台灣師範大學, 數學系學士班 |\n| 2004 - 2007 | 中山女高 |\n\n# Skills\n\n* FIGMA\n\n* SKETCH\n\n* ADOBE XD\n\n* PHOTOSHOP\n\n* ILLUSTRATOR\n\n* VSCODE / VS\n\n* GITHUB / AZURE DEVOPS\n\n* SOURCETREE\n\n* NPM\n\n* WEBPACK / GULP\n\n# Languages\n\n* HTML / PUG\n\n* CSS / SASS(SCSS) / STYLUS / POSTCSS\n\n* JS / JQUERY / VUE / ES6\n","source":"_posts/Resume.md","raw":"---\ntitle: Anny Chang's Resume - 履歷\ncategories:\n  - Resume\nthumbnailImage: https://images.unsplash.com/photo-1484755560615-a4c64e778a6c?auto=format&fit=crop&w=1360&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D\nthumbnailImagePosition: bottom\ncoverImage: https://images.unsplash.com/photo-1484755560615-a4c64e778a6c?auto=format&fit=crop&w=1360&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D\ndate: 3017/12/03\nupdated: 2021/04/29\n---\n\nMy resume.\n\n<!--more-->\n\n# Professional Info\n\n## 專長\n\n* 設計 `UI` 介面、 `RWD` 網頁製作、 `SPA` 程式撰寫\n\n* 擅用設計 `UI` 軟體（`Figma`, `Sketch`, `Adobe XD`, `Illustrator`, `Photoshop`）\n\n## 研討會 / 工作坊\n| 時間 | 研討會 / 工作坊 | 分享主題 |\n| --- | --- | --- |\n| 2019.11 | Kingston 2019 內訓 | [使用 Hexo 做線上說明文件](https://www.canva.com/design/DADpqbMNvJk/kFNwFdNo0_4FFcrbAj53HA/view?utm_content=DADpqbMNvJk&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu) |\n| 2019.11 | Kingston 2019 內訓 | [Start our journey with vue](https://www.canva.com/design/DADqB4aQEns/_iyVg0rxO38YU409MwbKIA/view?utm_content=DADqB4aQEns&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu) |\n| 2019.09 | Kingston 2019 內訓 | [Why Vue.js](https://www.canva.com/design/DADkDdvRR9A/JzfYMOKl6_2DLqeFH-BOww/view?utm_content=DADkDdvRR9A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton) |\n| 2017.08 | Kingston 2017 Mobile Team Workshop | [Use Webpack + Vue-Loader in VS2017](https://speakerdeck.com/annilla/use-webpack-plus-vue-loader-in-vs2017) |\n| 2016.11 | 前端魔法師十一月份小聚 | [Facebook Instant Articles - 測試到發布](https://speakerdeck.com/annilla/facebook-instant-articles-ce-shi-dao-fa-bu) |\n\n## 證照\n\n### [Microsoft & Adobe Badges (國際 Microsoft & ACA 認證獎章)](https://www.youracclaim.com/users/chiao-ni-chang)\n\n| 時間 | 證書 |\n| --- | --- |\n| 2022.07 | 國際 Microsoft Certified: Power Platform Fundamentals |\n| 2020.03 | 國際 Microsoft Certified: Azure Fundamentals |\n| 2017.03 | 國際 TOEIC 藍色證書 765分 |\n| 2015.11 | 國家技術士網頁設計丙級證照 |\n| 2014.12 | 國際 ACA Illustrator CS6 證照 |\n| 2013.12 | Adobe Master Of Rich Media Web Design Courses 證書 |\n| 2013.06 | 中華民國斐陶斐榮譽學會榮譽會員 （碩士應屆第一名） |\n| 2013.03 | 國際 ACA Flash CS6 證照 |\n| 2013.03 | 國際 ACA Dreamweaver CS6 證照 |\n| 2012.11 | 國際 ACA Photoshop CS6 證照 |\n| 2011.12 | Adobe Digital Graphic Design Courses 證書 |\n| 高中 | 全民英檢中級 證書 |\n\n\n\n## 受訓\n\n| 時間 | 課程 |\n| --- | --- |\n| 2022.07 | Skilltree 精準解析 .NET Thread 執行緒 |\n| 2022.07 | Skilltree 精準解析 .NET Task 工作 |\n| 2021.08 | Become An Awesome Team Player 神隊友打造計畫 (卡內基訓練) |\n| 2021.04 | TOC管理思維與方法課程 |\n| 2019.09 | 台灣微軟技術中心 Microsoft DevOps Workshop |\n| 2018.10 | 29761 使用微軟 T-SQL 查詢資料 |\n| 2017.09 | Skilltree JavaScript 實務測試新手班 第三梯 |\n| 2017.06 | 網站測試開發 with WebdriverIO 實戰講堂 |\n| 2014.11 | 色彩溝通立即上手 |\n| 2014.10 | 網路活動創意規劃與會員行銷管理 |\n| 2014.09 | 如何提升網路關鍵字行銷的成效 |\n| 2014.09 | JR-基層管理幹部工作關係與團隊力提昇 |\n| 2014.08 | eDM電子郵件行銷及電子報經營 |\n| 2014.08 | JM-基層幹部工作改善與執行力提昇培訓 |\n\n# Work​ Experience​​​\n\n| 時間 | 公司 | 職稱 |\n| --- | --- | --- |\n| 2017.06.12 - NOW | Kingston Technology | UI Designer & Front-end Developer |\n| 2015.04.06 - 2017.06.11 | JUKSY 街星 | 網頁UI設計 / 網頁前端工程師 |\n| 2013.07.01 - 2015.04.03 | 微璽科技股份有限公司 | 商業設計 / 網頁UI設計 |\n\n# Education\n\n| 時間 | 學校 |\n| --- | --- |\n| 2011 - 2013 | 國立台灣師範大學, 數學系碩士班數學教育組 |\n| 2007 - 2011 | 國立台灣師範大學, 數學系學士班 |\n| 2004 - 2007 | 中山女高 |\n\n# Skills\n\n* FIGMA\n\n* SKETCH\n\n* ADOBE XD\n\n* PHOTOSHOP\n\n* ILLUSTRATOR\n\n* VSCODE / VS\n\n* GITHUB / AZURE DEVOPS\n\n* SOURCETREE\n\n* NPM\n\n* WEBPACK / GULP\n\n# Languages\n\n* HTML / PUG\n\n* CSS / SASS(SCSS) / STYLUS / POSTCSS\n\n* JS / JQUERY / VUE / ES6\n","slug":"Resume","published":1,"_id":"cl0uov9pa0003r3y74o9bhppk","comments":1,"layout":"post","photos":[],"link":"","content":"<p>My resume.</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Professional-Info\"><a href=\"#Professional-Info\" class=\"headerlink\" title=\"Professional Info\"></a>Professional Info</h1><h2 id=\"專長\"><a href=\"#專長\" class=\"headerlink\" title=\"專長\"></a>專長</h2><ul>\n<li><p>設計 <code>UI</code> 介面、 <code>RWD</code> 網頁製作、 <code>SPA</code> 程式撰寫</p>\n</li>\n<li><p>擅用設計 <code>UI</code> 軟體（<code>Figma</code>, <code>Sketch</code>, <code>Adobe XD</code>, <code>Illustrator</code>, <code>Photoshop</code>）</p>\n</li>\n</ul>\n<h2 id=\"研討會-x2F-工作坊\"><a href=\"#研討會-x2F-工作坊\" class=\"headerlink\" title=\"研討會 &#x2F; 工作坊\"></a>研討會 &#x2F; 工作坊</h2><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>研討會 &#x2F; 工作坊</th>\n<th>分享主題</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2019.11</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADpqbMNvJk/kFNwFdNo0_4FFcrbAj53HA/view?utm_content=DADpqbMNvJk&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu\">使用 Hexo 做線上說明文件</a></td>\n</tr>\n<tr>\n<td>2019.11</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADqB4aQEns/_iyVg0rxO38YU409MwbKIA/view?utm_content=DADqB4aQEns&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu\">Start our journey with vue</a></td>\n</tr>\n<tr>\n<td>2019.09</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADkDdvRR9A/JzfYMOKl6_2DLqeFH-BOww/view?utm_content=DADkDdvRR9A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton\">Why Vue.js</a></td>\n</tr>\n<tr>\n<td>2017.08</td>\n<td>Kingston 2017 Mobile Team Workshop</td>\n<td><a href=\"https://speakerdeck.com/annilla/use-webpack-plus-vue-loader-in-vs2017\">Use Webpack + Vue-Loader in VS2017</a></td>\n</tr>\n<tr>\n<td>2016.11</td>\n<td>前端魔法師十一月份小聚</td>\n<td><a href=\"https://speakerdeck.com/annilla/facebook-instant-articles-ce-shi-dao-fa-bu\">Facebook Instant Articles - 測試到發布</a></td>\n</tr>\n</tbody></table>\n<h2 id=\"證照\"><a href=\"#證照\" class=\"headerlink\" title=\"證照\"></a>證照</h2><h3 id=\"Microsoft-amp-Adobe-Badges-國際-Microsoft-amp-ACA-認證獎章\"><a href=\"#Microsoft-amp-Adobe-Badges-國際-Microsoft-amp-ACA-認證獎章\" class=\"headerlink\" title=\"Microsoft &amp; Adobe Badges (國際 Microsoft &amp; ACA 認證獎章)\"></a><a href=\"https://www.youracclaim.com/users/chiao-ni-chang\">Microsoft &amp; Adobe Badges (國際 Microsoft &amp; ACA 認證獎章)</a></h3><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>證書</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022.07</td>\n<td>國際 Microsoft Certified: Power Platform Fundamentals</td>\n</tr>\n<tr>\n<td>2020.03</td>\n<td>國際 Microsoft Certified: Azure Fundamentals</td>\n</tr>\n<tr>\n<td>2017.03</td>\n<td>國際 TOEIC 藍色證書 765分</td>\n</tr>\n<tr>\n<td>2015.11</td>\n<td>國家技術士網頁設計丙級證照</td>\n</tr>\n<tr>\n<td>2014.12</td>\n<td>國際 ACA Illustrator CS6 證照</td>\n</tr>\n<tr>\n<td>2013.12</td>\n<td>Adobe Master Of Rich Media Web Design Courses 證書</td>\n</tr>\n<tr>\n<td>2013.06</td>\n<td>中華民國斐陶斐榮譽學會榮譽會員 （碩士應屆第一名）</td>\n</tr>\n<tr>\n<td>2013.03</td>\n<td>國際 ACA Flash CS6 證照</td>\n</tr>\n<tr>\n<td>2013.03</td>\n<td>國際 ACA Dreamweaver CS6 證照</td>\n</tr>\n<tr>\n<td>2012.11</td>\n<td>國際 ACA Photoshop CS6 證照</td>\n</tr>\n<tr>\n<td>2011.12</td>\n<td>Adobe Digital Graphic Design Courses 證書</td>\n</tr>\n<tr>\n<td>高中</td>\n<td>全民英檢中級 證書</td>\n</tr>\n</tbody></table>\n<h2 id=\"受訓\"><a href=\"#受訓\" class=\"headerlink\" title=\"受訓\"></a>受訓</h2><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>課程</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022.07</td>\n<td>Skilltree 精準解析 .NET Thread 執行緒</td>\n</tr>\n<tr>\n<td>2022.07</td>\n<td>Skilltree 精準解析 .NET Task 工作</td>\n</tr>\n<tr>\n<td>2021.08</td>\n<td>Become An Awesome Team Player 神隊友打造計畫 (卡內基訓練)</td>\n</tr>\n<tr>\n<td>2021.04</td>\n<td>TOC管理思維與方法課程</td>\n</tr>\n<tr>\n<td>2019.09</td>\n<td>台灣微軟技術中心 Microsoft DevOps Workshop</td>\n</tr>\n<tr>\n<td>2018.10</td>\n<td>29761 使用微軟 T-SQL 查詢資料</td>\n</tr>\n<tr>\n<td>2017.09</td>\n<td>Skilltree JavaScript 實務測試新手班 第三梯</td>\n</tr>\n<tr>\n<td>2017.06</td>\n<td>網站測試開發 with WebdriverIO 實戰講堂</td>\n</tr>\n<tr>\n<td>2014.11</td>\n<td>色彩溝通立即上手</td>\n</tr>\n<tr>\n<td>2014.10</td>\n<td>網路活動創意規劃與會員行銷管理</td>\n</tr>\n<tr>\n<td>2014.09</td>\n<td>如何提升網路關鍵字行銷的成效</td>\n</tr>\n<tr>\n<td>2014.09</td>\n<td>JR-基層管理幹部工作關係與團隊力提昇</td>\n</tr>\n<tr>\n<td>2014.08</td>\n<td>eDM電子郵件行銷及電子報經營</td>\n</tr>\n<tr>\n<td>2014.08</td>\n<td>JM-基層幹部工作改善與執行力提昇培訓</td>\n</tr>\n</tbody></table>\n<h1 id=\"Work​-Experience​​​\"><a href=\"#Work​-Experience​​​\" class=\"headerlink\" title=\"Work​ Experience​​​\"></a>Work​ Experience​​​</h1><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>公司</th>\n<th>職稱</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2017.06.12 - NOW</td>\n<td>Kingston Technology</td>\n<td>UI Designer &amp; Front-end Developer</td>\n</tr>\n<tr>\n<td>2015.04.06 - 2017.06.11</td>\n<td>JUKSY 街星</td>\n<td>網頁UI設計 &#x2F; 網頁前端工程師</td>\n</tr>\n<tr>\n<td>2013.07.01 - 2015.04.03</td>\n<td>微璽科技股份有限公司</td>\n<td>商業設計 &#x2F; 網頁UI設計</td>\n</tr>\n</tbody></table>\n<h1 id=\"Education\"><a href=\"#Education\" class=\"headerlink\" title=\"Education\"></a>Education</h1><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>學校</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2011 - 2013</td>\n<td>國立台灣師範大學, 數學系碩士班數學教育組</td>\n</tr>\n<tr>\n<td>2007 - 2011</td>\n<td>國立台灣師範大學, 數學系學士班</td>\n</tr>\n<tr>\n<td>2004 - 2007</td>\n<td>中山女高</td>\n</tr>\n</tbody></table>\n<h1 id=\"Skills\"><a href=\"#Skills\" class=\"headerlink\" title=\"Skills\"></a>Skills</h1><ul>\n<li><p>FIGMA</p>\n</li>\n<li><p>SKETCH</p>\n</li>\n<li><p>ADOBE XD</p>\n</li>\n<li><p>PHOTOSHOP</p>\n</li>\n<li><p>ILLUSTRATOR</p>\n</li>\n<li><p>VSCODE &#x2F; VS</p>\n</li>\n<li><p>GITHUB &#x2F; AZURE DEVOPS</p>\n</li>\n<li><p>SOURCETREE</p>\n</li>\n<li><p>NPM</p>\n</li>\n<li><p>WEBPACK &#x2F; GULP</p>\n</li>\n</ul>\n<h1 id=\"Languages\"><a href=\"#Languages\" class=\"headerlink\" title=\"Languages\"></a>Languages</h1><ul>\n<li><p>HTML &#x2F; PUG</p>\n</li>\n<li><p>CSS &#x2F; SASS(SCSS) &#x2F; STYLUS &#x2F; POSTCSS</p>\n</li>\n<li><p>JS &#x2F; JQUERY &#x2F; VUE &#x2F; ES6</p>\n</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://images.unsplash.com/photo-1484755560615-a4c64e778a6c?auto=format&fit=crop&w=1360&h=200&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D","excerpt":"<p>My resume.</p>","more":"<h1 id=\"Professional-Info\"><a href=\"#Professional-Info\" class=\"headerlink\" title=\"Professional Info\"></a>Professional Info</h1><h2 id=\"專長\"><a href=\"#專長\" class=\"headerlink\" title=\"專長\"></a>專長</h2><ul>\n<li><p>設計 <code>UI</code> 介面、 <code>RWD</code> 網頁製作、 <code>SPA</code> 程式撰寫</p>\n</li>\n<li><p>擅用設計 <code>UI</code> 軟體（<code>Figma</code>, <code>Sketch</code>, <code>Adobe XD</code>, <code>Illustrator</code>, <code>Photoshop</code>）</p>\n</li>\n</ul>\n<h2 id=\"研討會-x2F-工作坊\"><a href=\"#研討會-x2F-工作坊\" class=\"headerlink\" title=\"研討會 &#x2F; 工作坊\"></a>研討會 &#x2F; 工作坊</h2><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>研討會 &#x2F; 工作坊</th>\n<th>分享主題</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2019.11</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADpqbMNvJk/kFNwFdNo0_4FFcrbAj53HA/view?utm_content=DADpqbMNvJk&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu\">使用 Hexo 做線上說明文件</a></td>\n</tr>\n<tr>\n<td>2019.11</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADqB4aQEns/_iyVg0rxO38YU409MwbKIA/view?utm_content=DADqB4aQEns&utm_campaign=designshare&utm_medium=link&utm_source=homepage_design_menu\">Start our journey with vue</a></td>\n</tr>\n<tr>\n<td>2019.09</td>\n<td>Kingston 2019 內訓</td>\n<td><a href=\"https://www.canva.com/design/DADkDdvRR9A/JzfYMOKl6_2DLqeFH-BOww/view?utm_content=DADkDdvRR9A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton\">Why Vue.js</a></td>\n</tr>\n<tr>\n<td>2017.08</td>\n<td>Kingston 2017 Mobile Team Workshop</td>\n<td><a href=\"https://speakerdeck.com/annilla/use-webpack-plus-vue-loader-in-vs2017\">Use Webpack + Vue-Loader in VS2017</a></td>\n</tr>\n<tr>\n<td>2016.11</td>\n<td>前端魔法師十一月份小聚</td>\n<td><a href=\"https://speakerdeck.com/annilla/facebook-instant-articles-ce-shi-dao-fa-bu\">Facebook Instant Articles - 測試到發布</a></td>\n</tr>\n</tbody></table>\n<h2 id=\"證照\"><a href=\"#證照\" class=\"headerlink\" title=\"證照\"></a>證照</h2><h3 id=\"Microsoft-amp-Adobe-Badges-國際-Microsoft-amp-ACA-認證獎章\"><a href=\"#Microsoft-amp-Adobe-Badges-國際-Microsoft-amp-ACA-認證獎章\" class=\"headerlink\" title=\"Microsoft &amp; Adobe Badges (國際 Microsoft &amp; ACA 認證獎章)\"></a><a href=\"https://www.youracclaim.com/users/chiao-ni-chang\">Microsoft &amp; Adobe Badges (國際 Microsoft &amp; ACA 認證獎章)</a></h3><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>證書</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022.07</td>\n<td>國際 Microsoft Certified: Power Platform Fundamentals</td>\n</tr>\n<tr>\n<td>2020.03</td>\n<td>國際 Microsoft Certified: Azure Fundamentals</td>\n</tr>\n<tr>\n<td>2017.03</td>\n<td>國際 TOEIC 藍色證書 765分</td>\n</tr>\n<tr>\n<td>2015.11</td>\n<td>國家技術士網頁設計丙級證照</td>\n</tr>\n<tr>\n<td>2014.12</td>\n<td>國際 ACA Illustrator CS6 證照</td>\n</tr>\n<tr>\n<td>2013.12</td>\n<td>Adobe Master Of Rich Media Web Design Courses 證書</td>\n</tr>\n<tr>\n<td>2013.06</td>\n<td>中華民國斐陶斐榮譽學會榮譽會員 （碩士應屆第一名）</td>\n</tr>\n<tr>\n<td>2013.03</td>\n<td>國際 ACA Flash CS6 證照</td>\n</tr>\n<tr>\n<td>2013.03</td>\n<td>國際 ACA Dreamweaver CS6 證照</td>\n</tr>\n<tr>\n<td>2012.11</td>\n<td>國際 ACA Photoshop CS6 證照</td>\n</tr>\n<tr>\n<td>2011.12</td>\n<td>Adobe Digital Graphic Design Courses 證書</td>\n</tr>\n<tr>\n<td>高中</td>\n<td>全民英檢中級 證書</td>\n</tr>\n</tbody></table>\n<h2 id=\"受訓\"><a href=\"#受訓\" class=\"headerlink\" title=\"受訓\"></a>受訓</h2><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>課程</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2022.07</td>\n<td>Skilltree 精準解析 .NET Thread 執行緒</td>\n</tr>\n<tr>\n<td>2022.07</td>\n<td>Skilltree 精準解析 .NET Task 工作</td>\n</tr>\n<tr>\n<td>2021.08</td>\n<td>Become An Awesome Team Player 神隊友打造計畫 (卡內基訓練)</td>\n</tr>\n<tr>\n<td>2021.04</td>\n<td>TOC管理思維與方法課程</td>\n</tr>\n<tr>\n<td>2019.09</td>\n<td>台灣微軟技術中心 Microsoft DevOps Workshop</td>\n</tr>\n<tr>\n<td>2018.10</td>\n<td>29761 使用微軟 T-SQL 查詢資料</td>\n</tr>\n<tr>\n<td>2017.09</td>\n<td>Skilltree JavaScript 實務測試新手班 第三梯</td>\n</tr>\n<tr>\n<td>2017.06</td>\n<td>網站測試開發 with WebdriverIO 實戰講堂</td>\n</tr>\n<tr>\n<td>2014.11</td>\n<td>色彩溝通立即上手</td>\n</tr>\n<tr>\n<td>2014.10</td>\n<td>網路活動創意規劃與會員行銷管理</td>\n</tr>\n<tr>\n<td>2014.09</td>\n<td>如何提升網路關鍵字行銷的成效</td>\n</tr>\n<tr>\n<td>2014.09</td>\n<td>JR-基層管理幹部工作關係與團隊力提昇</td>\n</tr>\n<tr>\n<td>2014.08</td>\n<td>eDM電子郵件行銷及電子報經營</td>\n</tr>\n<tr>\n<td>2014.08</td>\n<td>JM-基層幹部工作改善與執行力提昇培訓</td>\n</tr>\n</tbody></table>\n<h1 id=\"Work​-Experience​​​\"><a href=\"#Work​-Experience​​​\" class=\"headerlink\" title=\"Work​ Experience​​​\"></a>Work​ Experience​​​</h1><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>公司</th>\n<th>職稱</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2017.06.12 - NOW</td>\n<td>Kingston Technology</td>\n<td>UI Designer &amp; Front-end Developer</td>\n</tr>\n<tr>\n<td>2015.04.06 - 2017.06.11</td>\n<td>JUKSY 街星</td>\n<td>網頁UI設計 &#x2F; 網頁前端工程師</td>\n</tr>\n<tr>\n<td>2013.07.01 - 2015.04.03</td>\n<td>微璽科技股份有限公司</td>\n<td>商業設計 &#x2F; 網頁UI設計</td>\n</tr>\n</tbody></table>\n<h1 id=\"Education\"><a href=\"#Education\" class=\"headerlink\" title=\"Education\"></a>Education</h1><table>\n<thead>\n<tr>\n<th>時間</th>\n<th>學校</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>2011 - 2013</td>\n<td>國立台灣師範大學, 數學系碩士班數學教育組</td>\n</tr>\n<tr>\n<td>2007 - 2011</td>\n<td>國立台灣師範大學, 數學系學士班</td>\n</tr>\n<tr>\n<td>2004 - 2007</td>\n<td>中山女高</td>\n</tr>\n</tbody></table>\n<h1 id=\"Skills\"><a href=\"#Skills\" class=\"headerlink\" title=\"Skills\"></a>Skills</h1><ul>\n<li><p>FIGMA</p>\n</li>\n<li><p>SKETCH</p>\n</li>\n<li><p>ADOBE XD</p>\n</li>\n<li><p>PHOTOSHOP</p>\n</li>\n<li><p>ILLUSTRATOR</p>\n</li>\n<li><p>VSCODE &#x2F; VS</p>\n</li>\n<li><p>GITHUB &#x2F; AZURE DEVOPS</p>\n</li>\n<li><p>SOURCETREE</p>\n</li>\n<li><p>NPM</p>\n</li>\n<li><p>WEBPACK &#x2F; GULP</p>\n</li>\n</ul>\n<h1 id=\"Languages\"><a href=\"#Languages\" class=\"headerlink\" title=\"Languages\"></a>Languages</h1><ul>\n<li><p>HTML &#x2F; PUG</p>\n</li>\n<li><p>CSS &#x2F; SASS(SCSS) &#x2F; STYLUS &#x2F; POSTCSS</p>\n</li>\n<li><p>JS &#x2F; JQUERY &#x2F; VUE &#x2F; ES6</p>\n</li>\n</ul>"},{"title":"D3 v4 with Vue - CANVAS Donut Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-09-10T16:00:00.000Z","updated":"2018-09-10T16:00:00.000Z","_content":"\n此篇練習使用 `CANVAS` 來做甜甜圈圖。這篇是這個系列的最後一篇了，我們趕緊來看吧。\n\n<!--more-->\n\n***\n## 甜甜圈圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 700;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  /*-------------------------\n    甜甜圈\n  -------------------------*/\n  this.ctx.save();\n  this.pie.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    this.ctx.arc(\n      this.conWidth / 2,\n      this.conHeight / 2,\n      this.radius,\n      e.startAngle,\n      e.startAngle + (e.endAngle - e.startAngle) * t\n    );\n    // 邊框色\n    this.ctx.lineWidth = this.chartOuterRadius - this.chartInnerRadius;\n    this.ctx.strokeStyle = e.color;\n    this.ctx.globalAlpha = t;\n    this.ctx.stroke();\n  });\n\n  /*-------------------------\n    甜甜圈文字\n  -------------------------*/\n  this.pie.forEach((e, i) => {\n    let theta = e.startAngle + (e.endAngle - e.startAngle) / 2;\n    let x = this.radius * Math.cos(theta);\n    let y = this.radius * Math.sin(theta);\n\n    // 開始繪製\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#fff\";\n    this.ctx.fillText(\n      e.percentage,\n      this.conWidth / 2 + x,\n      this.conHeight / 2 + y\n    );\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n因為甜甜圈不需要 x 軸、 y 軸等靜態元素，標籤的部分用 HTML render 就好，所以只要把甜甜圈動畫長好就完成囉!線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/DonutChart.vue)查看完整程式碼，此主題到這裡告一段亂～之後會有全新的篇章，謝謝收看 ：）","source":"_posts/D3/D3-v4-with-Vue-CANVAS-Donut-Chart.md","raw":"---\ntitle: D3 v4 with Vue - CANVAS Donut Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, CANVAS]\ndate: 2018/09/11\nupdated: 2018/09/11\n---\n\n此篇練習使用 `CANVAS` 來做甜甜圈圖。這篇是這個系列的最後一篇了，我們趕緊來看吧。\n\n<!--more-->\n\n***\n## 甜甜圈圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 700;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  /*-------------------------\n    甜甜圈\n  -------------------------*/\n  this.ctx.save();\n  this.pie.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    this.ctx.arc(\n      this.conWidth / 2,\n      this.conHeight / 2,\n      this.radius,\n      e.startAngle,\n      e.startAngle + (e.endAngle - e.startAngle) * t\n    );\n    // 邊框色\n    this.ctx.lineWidth = this.chartOuterRadius - this.chartInnerRadius;\n    this.ctx.strokeStyle = e.color;\n    this.ctx.globalAlpha = t;\n    this.ctx.stroke();\n  });\n\n  /*-------------------------\n    甜甜圈文字\n  -------------------------*/\n  this.pie.forEach((e, i) => {\n    let theta = e.startAngle + (e.endAngle - e.startAngle) / 2;\n    let x = this.radius * Math.cos(theta);\n    let y = this.radius * Math.sin(theta);\n\n    // 開始繪製\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#fff\";\n    this.ctx.fillText(\n      e.percentage,\n      this.conWidth / 2 + x,\n      this.conHeight / 2 + y\n    );\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n因為甜甜圈不需要 x 軸、 y 軸等靜態元素，標籤的部分用 HTML render 就好，所以只要把甜甜圈動畫長好就完成囉!線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/DonutChart.vue)查看完整程式碼，此主題到這裡告一段亂～之後會有全新的篇章，謝謝收看 ：）","slug":"D3/D3-v4-with-Vue-CANVAS-Donut-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pg0007r3y7eexdha5u","content":"<p>此篇練習使用 <code>CANVAS</code> 來做甜甜圈圖。這篇是這個系列的最後一篇了，我們趕緊來看吧。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"甜甜圈圖動畫\"><a href=\"#甜甜圈圖動畫\" class=\"headerlink\" title=\"甜甜圈圖動畫\"></a>甜甜圈圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">700</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    甜甜圈</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pie</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span>,</span><br><span class=\"line\">      e.<span class=\"property\">startAngle</span>,</span><br><span class=\"line\">      e.<span class=\"property\">startAngle</span> + (e.<span class=\"property\">endAngle</span> - e.<span class=\"property\">startAngle</span>) * t</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 邊框色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineWidth</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">chartOuterRadius</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">chartInnerRadius</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    甜甜圈文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pie</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> theta = e.<span class=\"property\">startAngle</span> + (e.<span class=\"property\">endAngle</span> - e.<span class=\"property\">startAngle</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> x = <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(theta);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> y = <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(theta);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      e.<span class=\"property\">percentage</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span> + x,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span> / <span class=\"number\">2</span> + y</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>因為甜甜圈不需要 x 軸、 y 軸等靜態元素，標籤的部分用 HTML render 就好，所以只要把甜甜圈動畫長好就完成囉!線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/DonutChart.vue\">Github</a>查看完整程式碼，此主題到這裡告一段亂～之後會有全新的篇章，謝謝收看 ：）</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>此篇練習使用 <code>CANVAS</code> 來做甜甜圈圖。這篇是這個系列的最後一篇了，我們趕緊來看吧。</p>","more":"<hr>\n<h2 id=\"甜甜圈圖動畫\"><a href=\"#甜甜圈圖動畫\" class=\"headerlink\" title=\"甜甜圈圖動畫\"></a>甜甜圈圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">700</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    甜甜圈</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pie</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span>,</span><br><span class=\"line\">      e.<span class=\"property\">startAngle</span>,</span><br><span class=\"line\">      e.<span class=\"property\">startAngle</span> + (e.<span class=\"property\">endAngle</span> - e.<span class=\"property\">startAngle</span>) * t</span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 邊框色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineWidth</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">chartOuterRadius</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">chartInnerRadius</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    甜甜圈文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">pie</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> theta = e.<span class=\"property\">startAngle</span> + (e.<span class=\"property\">endAngle</span> - e.<span class=\"property\">startAngle</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> x = <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(theta);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> y = <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(theta);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      e.<span class=\"property\">percentage</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span> + x,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span> / <span class=\"number\">2</span> + y</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>因為甜甜圈不需要 x 軸、 y 軸等靜態元素，標籤的部分用 HTML render 就好，所以只要把甜甜圈動畫長好就完成囉!線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/DonutChart.vue\">Github</a>查看完整程式碼，此主題到這裡告一段亂～之後會有全新的篇章，謝謝收看 ：）</p>"},{"title":"D3 v4 with Vue - CANVAS Horizontal Bar Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-07-06T16:00:00.000Z","updated":"2018-07-06T16:00:00.000Z","_content":"\n此篇練習使用 `CANVAS` 來做橫條圖。主要的隨機資料和準備 `Canvas` 畫布在折線圖那篇有解釋過，所以這邊就直接進入橫條圖動畫的部分。\n\n<!--more-->\n\n***\n## 橫條圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 800;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n  橫條\n  -------------------------*/\n  this.ctx.save();\n  this.bars.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    this.ctx.rect(e.x, e.y, e.width * t, e.height);\n    this.ctx.globalAlpha = t;\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n  });\n\n  /*-------------------------\n  橫條文字\n  -------------------------*/\n  this.ctx.textBaseline = \"middle\";\n  this.ctx.font = \"16px sans-serif\";\n  this.bars.forEach((e, i) => {\n  let x = e.width + this.chartLeft - 5; // 修正x太低數值的文字改在橫條外顯示\n\n  // 修正x太低數值的文字改在橫條外顯示\n  if (x < this.chartLeft + 50) {\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.textAlign = \"left\";\n    x = e.width + this.chartLeft + 5;\n  } else {\n    this.ctx.fillStyle = \"#fff\";\n    this.ctx.textAlign = \"right\";\n  }\n\n    this.ctx.fillText(e.number, x, e.y + this.barWidth / 2);\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() { // 繪製不須動畫的元素\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  this.xTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisX\")\n    .call(this.xAxis)\n    .selectAll(\"g.tick\");\n  // 繪製X軸點\n  this.ctx.save();\n  this.ctx.beginPath();\n  // 中間內部灰線\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(xPos, this.chartTop);\n    this.ctx.lineTo(xPos, this.chartTop + this.chartHeight);\n  });\n  this.ctx.setLineDash([4, 6]);\n  this.ctx.lineWidth = 2;\n  this.ctx.strokeStyle = \"#efefef\"; // 線顏色\n  this.ctx.stroke();\n  this.ctx.restore();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      xPos,\n      this.chartTop + this.chartHeight\n    );\n  });\n\n  // 繪製X軸標籤\n  this.ctx.save();\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\n    \"件數\",\n    this.conWidth / 2,\n    this.chartTop + this.chartHeight + 30\n  );\n  this.ctx.restore();\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  // 繪製Y軸點\n  this.ctx.beginPath();\n  // 黑色刻點\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft - tickSize, yPos);\n    this.ctx.lineTo(this.chartLeft, yPos);\n  });\n  this.ctx.stroke();\n  // 最下方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(\n    this.chartLeft - tickSize,\n    this.chartTop + this.chartHeight\n  );\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n},\n```\n\n整個骨架如果熟悉的話，其實就是把動態部分跟靜態部分替換掉想要的圖形就完成囉，線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarPChart.vue)查看完整程式碼，我們下回見～\n","source":"_posts/D3/D3-v4-with-Vue-CANVAS-Horizontal-Bar-Chart.md","raw":"---\ntitle: D3 v4 with Vue - CANVAS Horizontal Bar Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, CANVAS]\ndate: 2018/07/07\nupdated: 2018/07/07\n---\n\n此篇練習使用 `CANVAS` 來做橫條圖。主要的隨機資料和準備 `Canvas` 畫布在折線圖那篇有解釋過，所以這邊就直接進入橫條圖動畫的部分。\n\n<!--more-->\n\n***\n## 橫條圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 800;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n  橫條\n  -------------------------*/\n  this.ctx.save();\n  this.bars.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    this.ctx.rect(e.x, e.y, e.width * t, e.height);\n    this.ctx.globalAlpha = t;\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n  });\n\n  /*-------------------------\n  橫條文字\n  -------------------------*/\n  this.ctx.textBaseline = \"middle\";\n  this.ctx.font = \"16px sans-serif\";\n  this.bars.forEach((e, i) => {\n  let x = e.width + this.chartLeft - 5; // 修正x太低數值的文字改在橫條外顯示\n\n  // 修正x太低數值的文字改在橫條外顯示\n  if (x < this.chartLeft + 50) {\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.textAlign = \"left\";\n    x = e.width + this.chartLeft + 5;\n  } else {\n    this.ctx.fillStyle = \"#fff\";\n    this.ctx.textAlign = \"right\";\n  }\n\n    this.ctx.fillText(e.number, x, e.y + this.barWidth / 2);\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() { // 繪製不須動畫的元素\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  this.xTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisX\")\n    .call(this.xAxis)\n    .selectAll(\"g.tick\");\n  // 繪製X軸點\n  this.ctx.save();\n  this.ctx.beginPath();\n  // 中間內部灰線\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(xPos, this.chartTop);\n    this.ctx.lineTo(xPos, this.chartTop + this.chartHeight);\n  });\n  this.ctx.setLineDash([4, 6]);\n  this.ctx.lineWidth = 2;\n  this.ctx.strokeStyle = \"#efefef\"; // 線顏色\n  this.ctx.stroke();\n  this.ctx.restore();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      xPos,\n      this.chartTop + this.chartHeight\n    );\n  });\n\n  // 繪製X軸標籤\n  this.ctx.save();\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\n    \"件數\",\n    this.conWidth / 2,\n    this.chartTop + this.chartHeight + 30\n  );\n  this.ctx.restore();\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  // 繪製Y軸點\n  this.ctx.beginPath();\n  // 黑色刻點\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft - tickSize, yPos);\n    this.ctx.lineTo(this.chartLeft, yPos);\n  });\n  this.ctx.stroke();\n  // 最下方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(\n    this.chartLeft - tickSize,\n    this.chartTop + this.chartHeight\n  );\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n},\n```\n\n整個骨架如果熟悉的話，其實就是把動態部分跟靜態部分替換掉想要的圖形就完成囉，線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarPChart.vue)查看完整程式碼，我們下回見～\n","slug":"D3/D3-v4-with-Vue-CANVAS-Horizontal-Bar-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ph0008r3y7dj9f632t","content":"<p>此篇練習使用 <code>CANVAS</code> 來做橫條圖。主要的隨機資料和準備 <code>Canvas</code> 畫布在折線圖那篇有解釋過，所以這邊就直接進入橫條圖動畫的部分。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"橫條圖動畫\"><a href=\"#橫條圖動畫\" class=\"headerlink\" title=\"橫條圖動畫\"></a>橫條圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">800</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">  橫條</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rect</span>(e.<span class=\"property\">x</span>, e.<span class=\"property\">y</span>, e.<span class=\"property\">width</span> * t, e.<span class=\"property\">height</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">  橫條文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = e.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - <span class=\"number\">5</span>; <span class=\"comment\">// 修正x太低數值的文字改在橫條外顯示</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 修正x太低數值的文字改在橫條外顯示</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &lt; <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    x = e.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"number\">5</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(e.<span class=\"property\">number</span>, x, e.<span class=\"property\">y</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisX&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 中間內部灰線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">setLineDash</span>([<span class=\"number\">4</span>, <span class=\"number\">6</span>]);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineWidth</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#efefef&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      xPos,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">    <span class=\"string\">&quot;件數&quot;</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">30</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 黑色刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 最下方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>整個骨架如果熟悉的話，其實就是把動態部分跟靜態部分替換掉想要的圖形就完成囉，線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarPChart.vue\">Github</a>查看完整程式碼，我們下回見～</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>此篇練習使用 <code>CANVAS</code> 來做橫條圖。主要的隨機資料和準備 <code>Canvas</code> 畫布在折線圖那篇有解釋過，所以這邊就直接進入橫條圖動畫的部分。</p>","more":"<hr>\n<h2 id=\"橫條圖動畫\"><a href=\"#橫條圖動畫\" class=\"headerlink\" title=\"橫條圖動畫\"></a>橫條圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">800</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">  橫條</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rect</span>(e.<span class=\"property\">x</span>, e.<span class=\"property\">y</span>, e.<span class=\"property\">width</span> * t, e.<span class=\"property\">height</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">  橫條文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> x = e.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - <span class=\"number\">5</span>; <span class=\"comment\">// 修正x太低數值的文字改在橫條外顯示</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 修正x太低數值的文字改在橫條外顯示</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (x &lt; <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    x = e.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"number\">5</span>;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(e.<span class=\"property\">number</span>, x, e.<span class=\"property\">y</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisX&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 中間內部灰線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">setLineDash</span>([<span class=\"number\">4</span>, <span class=\"number\">6</span>]);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineWidth</span> = <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#efefef&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      xPos,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">    <span class=\"string\">&quot;件數&quot;</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> / <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">30</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 黑色刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 最下方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>整個骨架如果熟悉的話，其實就是把動態部分跟靜態部分替換掉想要的圖形就完成囉，線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarPChart.vue\">Github</a>查看完整程式碼，我們下回見～</p>"},{"title":"D3 v4 with Vue - CANVAS Line Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-06-15T16:00:00.000Z","updated":"2018-06-15T16:00:00.000Z","_content":"\n前幾篇介紹完 `SVG` 的基本繪圖方式後，我們要來練習使用 `CANVAS` 來做一樣的折線圖，並在下一篇比較兩者的優缺點。\n\n<!--more-->\n\n***\n## 準備隨機資料 & `CANVAS` 畫布\n\n這邊的 `Canvas` 畫布因為需要動態計算寬高，所以會利用 `js` 動態插入 `html` 中。當視窗進行 `resize` 時，也是透過 `js` 清除畫布重新繪製。\n\n* HTML\n\n```html\n<!-- chartContain 主要就是 js 做判別插入 canvas 的定位點 -->\n<div class=\"chartContain\">\n  <!-- calPath 是將 D3 動態算出來的值做暫時存放的位置 -->\n  <svg version=\"1.1\" id=\"calPath\"><path d=\"\"></path></svg>\n  <!-- tooltip 和往常一樣是做滑過顯示資訊的功能 -->\n  <div :class=\"{ tooltip: true, hidden: hideTooltip}\">\n    <div class=\"name\">左營區 / 10月</div>\n    <div class=\"value\">214 件</div>\n  </div>\n</div>\n```\n\n在 randomData 完後，插入動態計算的 `Canvas` 畫布。\n\n```js\nmounted() {\n  // 隨機產生資料\n  this.randomData();\n},\nmethods: {\n  randomData() { // 隨機產生資料\n    let min = 0;\n    let max = 500;\n    let random = [...];\n\n    // 隨機產生資料\n    for (let i = 0; i < 3; i++) {\n      random[i].value.forEach(e => {\n        e.number = Math.floor(Math.random() * (max - min + 1)) + min;\n      });\n    }\n\n    this.data = random;\n\n    // Init Canvas\n    this.initCanvas();\n\n    // Window Resize\n    window.addEventListener(\"resize\", this.initCanvas);\n  },\n  initCanvas() { // 插入動態計算的 Canvas 區塊\n    let chartContain = document.querySelector(\".chartContain\");\n    let canvas = document.getElementById(\"canvas\");\n\n    // Clear Canvas Element\n    if (canvas !== null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n\n    // Get Container Width\n    this.conWidth = chartContain.offsetWidth;\n\n    // For D3 Draw Canvas\n    this.canvas = d3\n      .select(\".chartContain\")\n      .append(\"canvas\")\n      .attr(\"id\", \"canvas\")\n      .attr(\"class\", \"chart\")\n      .attr(\"width\", this.conWidth)\n      .attr(\"height\", this.conHeight);\n\n    this.ctx = this.canvas.node().getContext(\"2d\");\n\n    // Set the parent of all other elements\n    this.customBase = document.createElement(\"custom\");\n    this.custom = d3.select(this.customBase);\n\n    // Draw Canvas\n    this.drawCanvas();\n  },\n}\n```\n\n```css\n.lineChart {\n  /* 說明 */\n  .detail {\n    color: gray;\n  }\n  .chartContain { /* 放置主要畫布的容器 */\n    max-width: 600px;\n    margin: 0 auto;\n    position: relative;\n    #calPath {\n      display: none; /* 隱藏暫時計算的 path 元件 */\n    }\n    .tooltip {\n      ...\n    }\n  }\n}\n```\n\n***\n## 繪製折線圖\n\n因為這邊要仿造 `SVG` 進行動畫，所以會用 `d3.timer` 的方式，隨著計時器每次清掉畫布再進行重新繪製的動作，所以整體畫面全靠 `js` 繪製，而不是 `html` 或 `css`。\n\n`mousemove` 的部分是當滑鼠滑過特定的點時，需要判別是否有經過繪製的折點，顯示相對的 `tooltip` 資訊。\n\n```js\ndrawCanvas() {\n  let canvas = document.querySelector(\"#canvas\");\n\n  /*-------------------------\n    動畫\n  -------------------------*/\n  this.timer = d3.timer(elapsed => {\n    this.animationLine(elapsed);\n  });\n\n  // Canvas On Mouseover\n  canvas.addEventListener(\"mousemove\", e => {\n    this.showTooltip(e);\n  });\n},\n```\n\n***\n## 折線圖動畫\n\n> 注意！這邊不使用 `requestAnimationFrame()` 的原因是不同瀏覽器要加相對應的前綴詞，且 `mobile` 支持度低，可參考線上 [MDN](https://developer.mozilla.org/zh-TW/docs/Web/API/Window.requestAnimationFrame) 說明。\n\n```js\nanimationLine(elapsed) {\n  let duration = 500;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n    折線\n  -------------------------*/\n  this.ctx.save();\n  this.lines.forEach((e, i) => {\n    let path = document.querySelector(\"#calPath path\");\n    let totalLength; // Path Length\n\n    path.setAttribute(\"d\", e.d); // 這邊將 D3 算好的折點佔存在 #calPath path 上\n    totalLength = path.getTotalLength();\n\n    this.ctx.setLineDash([totalLength]);\n    this.ctx.lineDashOffset = totalLength * (1 - t);\n    this.ctx.beginPath(); // 開始繪製\n    this.lineCanvas(this.dataArray[i]);\n    this.ctx.strokeStyle = e.color; // 線顏色\n    this.ctx.stroke(); // 繪製線\n  });\n\n  /*-------------------------\n    折點\n  -------------------------*/\n  this.dots.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(e.cx, e.cy, e.r * t, 0, 2 * Math.PI);\n    // 填色\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n    // 邊框色\n    this.ctx.strokeStyle = \"#fff\";\n    this.ctx.stroke();\n    // 結束繪製\n    this.ctx.closePath();\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() { // 繪製不須動畫的元素\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  // 繪製X軸點\n  this.ctx.beginPath();\n  this.data[0].value.forEach((d, i) => {\n    this.ctx.moveTo(\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight\n    );\n    this.ctx.lineTo(\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight + tickSize\n    );\n  });\n  this.ctx.stroke();\n\n  // 繪製X軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.lineTo(\n    this.chartLeft + this.chartWidth,\n    this.chartTop + this.chartHeight\n  );\n  this.ctx.stroke();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.data[0].value.forEach((d, i) => {\n    this.ctx.fillText(\n      d.month,\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight + tickSize\n    );\n  });\n\n  // 繪製X軸標籤\n  this.data.forEach((el, index) => {\n    // 圓點\n    // 開始繪製\n    this.ctx.save();\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(\n      this.chartLeft + index * 100,\n      this.chartTop + this.chartHeight + 50,\n      5,\n      0,\n      2 * Math.PI\n    );\n    // 填色\n    this.ctx.fillStyle = this.color(index);\n    this.ctx.fill();\n    // 結束繪製\n    this.ctx.closePath();\n\n    // 文字\n    this.ctx.textAlign = \"left\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.fillText(\n      el.name,\n      this.chartLeft + index * 100 + 10,\n      this.chartTop + this.chartHeight + 50\n    );\n    this.ctx.restore();\n  });\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  // Y軸節點\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  \n  // 繪製Y軸點\n  this.ctx.beginPath();\n  // 中間內部灰線\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft, yPos);\n    this.ctx.lineTo(this.chartLeft + this.chartWidth, yPos);\n  });\n  this.ctx.strokeStyle = \"#e6e6e6\"; // 線顏色\n  this.ctx.stroke();\n  // 最上方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft - tickSize, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop);\n  this.ctx.strokeStyle = \"#000\"; // 線顏色\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n\n  // 繪製Y軸標籤\n  // start by saving the current context (current orientation, origin)\n  this.ctx.save();\n  this.ctx.translate(0, 0);\n  this.ctx.rotate(-Math.PI / 2);\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\"件數\", -(this.chartTop + this.chartHeight / 2), 0);\n  this.ctx.restore(); // now restore the canvas flipping it back to its original orientation\n},\n```\n\n其他部分跟 `SVG` 的做法很類似，主要觀念就是要把 `html`, `css` rendor 的部分全部移交給 `js` 做，線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在 [Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/LineChart.vue)查看完整程式碼，下一篇我們就要來分析 SVG 和 Canvas 的差異和各自的優勢。\n","source":"_posts/D3/D3-v4-with-Vue-CANVAS-Line-Chart.md","raw":"---\ntitle: D3 v4 with Vue - CANVAS Line Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, CANVAS]\ndate: 2018/06/16\nupdated: 2018/06/16\n---\n\n前幾篇介紹完 `SVG` 的基本繪圖方式後，我們要來練習使用 `CANVAS` 來做一樣的折線圖，並在下一篇比較兩者的優缺點。\n\n<!--more-->\n\n***\n## 準備隨機資料 & `CANVAS` 畫布\n\n這邊的 `Canvas` 畫布因為需要動態計算寬高，所以會利用 `js` 動態插入 `html` 中。當視窗進行 `resize` 時，也是透過 `js` 清除畫布重新繪製。\n\n* HTML\n\n```html\n<!-- chartContain 主要就是 js 做判別插入 canvas 的定位點 -->\n<div class=\"chartContain\">\n  <!-- calPath 是將 D3 動態算出來的值做暫時存放的位置 -->\n  <svg version=\"1.1\" id=\"calPath\"><path d=\"\"></path></svg>\n  <!-- tooltip 和往常一樣是做滑過顯示資訊的功能 -->\n  <div :class=\"{ tooltip: true, hidden: hideTooltip}\">\n    <div class=\"name\">左營區 / 10月</div>\n    <div class=\"value\">214 件</div>\n  </div>\n</div>\n```\n\n在 randomData 完後，插入動態計算的 `Canvas` 畫布。\n\n```js\nmounted() {\n  // 隨機產生資料\n  this.randomData();\n},\nmethods: {\n  randomData() { // 隨機產生資料\n    let min = 0;\n    let max = 500;\n    let random = [...];\n\n    // 隨機產生資料\n    for (let i = 0; i < 3; i++) {\n      random[i].value.forEach(e => {\n        e.number = Math.floor(Math.random() * (max - min + 1)) + min;\n      });\n    }\n\n    this.data = random;\n\n    // Init Canvas\n    this.initCanvas();\n\n    // Window Resize\n    window.addEventListener(\"resize\", this.initCanvas);\n  },\n  initCanvas() { // 插入動態計算的 Canvas 區塊\n    let chartContain = document.querySelector(\".chartContain\");\n    let canvas = document.getElementById(\"canvas\");\n\n    // Clear Canvas Element\n    if (canvas !== null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n\n    // Get Container Width\n    this.conWidth = chartContain.offsetWidth;\n\n    // For D3 Draw Canvas\n    this.canvas = d3\n      .select(\".chartContain\")\n      .append(\"canvas\")\n      .attr(\"id\", \"canvas\")\n      .attr(\"class\", \"chart\")\n      .attr(\"width\", this.conWidth)\n      .attr(\"height\", this.conHeight);\n\n    this.ctx = this.canvas.node().getContext(\"2d\");\n\n    // Set the parent of all other elements\n    this.customBase = document.createElement(\"custom\");\n    this.custom = d3.select(this.customBase);\n\n    // Draw Canvas\n    this.drawCanvas();\n  },\n}\n```\n\n```css\n.lineChart {\n  /* 說明 */\n  .detail {\n    color: gray;\n  }\n  .chartContain { /* 放置主要畫布的容器 */\n    max-width: 600px;\n    margin: 0 auto;\n    position: relative;\n    #calPath {\n      display: none; /* 隱藏暫時計算的 path 元件 */\n    }\n    .tooltip {\n      ...\n    }\n  }\n}\n```\n\n***\n## 繪製折線圖\n\n因為這邊要仿造 `SVG` 進行動畫，所以會用 `d3.timer` 的方式，隨著計時器每次清掉畫布再進行重新繪製的動作，所以整體畫面全靠 `js` 繪製，而不是 `html` 或 `css`。\n\n`mousemove` 的部分是當滑鼠滑過特定的點時，需要判別是否有經過繪製的折點，顯示相對的 `tooltip` 資訊。\n\n```js\ndrawCanvas() {\n  let canvas = document.querySelector(\"#canvas\");\n\n  /*-------------------------\n    動畫\n  -------------------------*/\n  this.timer = d3.timer(elapsed => {\n    this.animationLine(elapsed);\n  });\n\n  // Canvas On Mouseover\n  canvas.addEventListener(\"mousemove\", e => {\n    this.showTooltip(e);\n  });\n},\n```\n\n***\n## 折線圖動畫\n\n> 注意！這邊不使用 `requestAnimationFrame()` 的原因是不同瀏覽器要加相對應的前綴詞，且 `mobile` 支持度低，可參考線上 [MDN](https://developer.mozilla.org/zh-TW/docs/Web/API/Window.requestAnimationFrame) 說明。\n\n```js\nanimationLine(elapsed) {\n  let duration = 500;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n    折線\n  -------------------------*/\n  this.ctx.save();\n  this.lines.forEach((e, i) => {\n    let path = document.querySelector(\"#calPath path\");\n    let totalLength; // Path Length\n\n    path.setAttribute(\"d\", e.d); // 這邊將 D3 算好的折點佔存在 #calPath path 上\n    totalLength = path.getTotalLength();\n\n    this.ctx.setLineDash([totalLength]);\n    this.ctx.lineDashOffset = totalLength * (1 - t);\n    this.ctx.beginPath(); // 開始繪製\n    this.lineCanvas(this.dataArray[i]);\n    this.ctx.strokeStyle = e.color; // 線顏色\n    this.ctx.stroke(); // 繪製線\n  });\n\n  /*-------------------------\n    折點\n  -------------------------*/\n  this.dots.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(e.cx, e.cy, e.r * t, 0, 2 * Math.PI);\n    // 填色\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n    // 邊框色\n    this.ctx.strokeStyle = \"#fff\";\n    this.ctx.stroke();\n    // 結束繪製\n    this.ctx.closePath();\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() { // 繪製不須動畫的元素\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  // 繪製X軸點\n  this.ctx.beginPath();\n  this.data[0].value.forEach((d, i) => {\n    this.ctx.moveTo(\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight\n    );\n    this.ctx.lineTo(\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight + tickSize\n    );\n  });\n  this.ctx.stroke();\n\n  // 繪製X軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.lineTo(\n    this.chartLeft + this.chartWidth,\n    this.chartTop + this.chartHeight\n  );\n  this.ctx.stroke();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.data[0].value.forEach((d, i) => {\n    this.ctx.fillText(\n      d.month,\n      this.xScale(i + 1) + this.chartLeft,\n      this.chartTop + this.chartHeight + tickSize\n    );\n  });\n\n  // 繪製X軸標籤\n  this.data.forEach((el, index) => {\n    // 圓點\n    // 開始繪製\n    this.ctx.save();\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(\n      this.chartLeft + index * 100,\n      this.chartTop + this.chartHeight + 50,\n      5,\n      0,\n      2 * Math.PI\n    );\n    // 填色\n    this.ctx.fillStyle = this.color(index);\n    this.ctx.fill();\n    // 結束繪製\n    this.ctx.closePath();\n\n    // 文字\n    this.ctx.textAlign = \"left\";\n    this.ctx.textBaseline = \"middle\";\n    this.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.fillText(\n      el.name,\n      this.chartLeft + index * 100 + 10,\n      this.chartTop + this.chartHeight + 50\n    );\n    this.ctx.restore();\n  });\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  // Y軸節點\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  \n  // 繪製Y軸點\n  this.ctx.beginPath();\n  // 中間內部灰線\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft, yPos);\n    this.ctx.lineTo(this.chartLeft + this.chartWidth, yPos);\n  });\n  this.ctx.strokeStyle = \"#e6e6e6\"; // 線顏色\n  this.ctx.stroke();\n  // 最上方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft - tickSize, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop);\n  this.ctx.strokeStyle = \"#000\"; // 線顏色\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n\n  // 繪製Y軸標籤\n  // start by saving the current context (current orientation, origin)\n  this.ctx.save();\n  this.ctx.translate(0, 0);\n  this.ctx.rotate(-Math.PI / 2);\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\"件數\", -(this.chartTop + this.chartHeight / 2), 0);\n  this.ctx.restore(); // now restore the canvas flipping it back to its original orientation\n},\n```\n\n其他部分跟 `SVG` 的做法很類似，主要觀念就是要把 `html`, `css` rendor 的部分全部移交給 `js` 做，線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在 [Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/LineChart.vue)查看完整程式碼，下一篇我們就要來分析 SVG 和 Canvas 的差異和各自的優勢。\n","slug":"D3/D3-v4-with-Vue-CANVAS-Line-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pk0009r3y73a092sif","content":"<p>前幾篇介紹完 <code>SVG</code> 的基本繪圖方式後，我們要來練習使用 <code>CANVAS</code> 來做一樣的折線圖，並在下一篇比較兩者的優缺點。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"準備隨機資料-amp-CANVAS-畫布\"><a href=\"#準備隨機資料-amp-CANVAS-畫布\" class=\"headerlink\" title=\"準備隨機資料 &amp; CANVAS 畫布\"></a>準備隨機資料 &amp; <code>CANVAS</code> 畫布</h2><p>這邊的 <code>Canvas</code> 畫布因為需要動態計算寬高，所以會利用 <code>js</code> 動態插入 <code>html</code> 中。當視窗進行 <code>resize</code> 時，也是透過 <code>js</code> 清除畫布重新繪製。</p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- chartContain 主要就是 js 做判別插入 canvas 的定位點 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chartContain&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- calPath 是將 D3 動態算出來的值做暫時存放的位置 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">version</span>=<span class=\"string\">&quot;1.1&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;calPath&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- tooltip 和往常一樣是做滑過顯示資訊的功能 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">:class</span>=<span class=\"string\">&quot;&#123; tooltip: true, hidden: hideTooltip&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;name&quot;</span>&gt;</span>左營區 / 10月<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;value&quot;</span>&gt;</span>214 件<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>在 randomData 完後，插入動態計算的 <code>Canvas</code> 畫布。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">randomData</span>();</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> max = <span class=\"number\">500</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> random = [...];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">      random[i].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">        e.<span class=\"property\">number</span> = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (max - min + <span class=\"number\">1</span>)) + min;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = random;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Init Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">initCanvas</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Window Resize</span></span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;resize&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">initCanvas</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">initCanvas</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 插入動態計算的 Canvas 區塊</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> chartContain = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chartContain&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;canvas&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Clear Canvas Element</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (canvas !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      canvas.<span class=\"property\">parentNode</span>.<span class=\"title function_\">removeChild</span>(canvas);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Get Container Width</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> = chartContain.<span class=\"property\">offsetWidth</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// For D3 Draw Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span> = d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chartContain&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;canvas&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;id&quot;</span>, <span class=\"string\">&quot;canvas&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;chart&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;width&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;height&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span>.<span class=\"title function_\">node</span>().<span class=\"title function_\">getContext</span>(<span class=\"string\">&quot;2d&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Set the parent of all other elements</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">customBase</span> = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;custom&quot;</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span> = d3.<span class=\"title function_\">select</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">customBase</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Draw Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawCanvas</span>();</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.lineChart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 說明 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.detail</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: gray;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.chartContain</span> &#123; <span class=\"comment\">/* 放置主要畫布的容器 */</span></span><br><span class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"selector-id\">#calPath</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">display</span>: none; <span class=\"comment\">/* 隱藏暫時計算的 path 元件 */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-class\">.tooltip</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製折線圖\"><a href=\"#繪製折線圖\" class=\"headerlink\" title=\"繪製折線圖\"></a>繪製折線圖</h2><p>因為這邊要仿造 <code>SVG</code> 進行動畫，所以會用 <code>d3.timer</code> 的方式，隨著計時器每次清掉畫布再進行重新繪製的動作，所以整體畫面全靠 <code>js</code> 繪製，而不是 <code>html</code> 或 <code>css</code>。</p>\n<p><code>mousemove</code> 的部分是當滑鼠滑過特定的點時，需要判別是否有經過繪製的折點，顯示相對的 <code>tooltip</code> 資訊。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawCanvas</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#canvas&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    動畫</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = d3.<span class=\"title function_\">timer</span>(<span class=\"function\"><span class=\"params\">elapsed</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">animationLine</span>(elapsed);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Canvas On Mouseover</span></span><br><span class=\"line\">  canvas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;mousemove&quot;</span>, <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">showTooltip</span>(e);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"折線圖動畫\"><a href=\"#折線圖動畫\" class=\"headerlink\" title=\"折線圖動畫\"></a>折線圖動畫</h2><blockquote>\n<p>注意！這邊不使用 <code>requestAnimationFrame()</code> 的原因是不同瀏覽器要加相對應的前綴詞，且 <code>mobile</code> 支持度低，可參考線上 <a href=\"https://developer.mozilla.org/zh-TW/docs/Web/API/Window.requestAnimationFrame\">MDN</a> 說明。</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">500</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    折線</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">lines</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> path = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#calPath path&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalLength; <span class=\"comment\">// Path Length</span></span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;d&quot;</span>, e.<span class=\"property\">d</span>); <span class=\"comment\">// 這邊將 D3 算好的折點佔存在 #calPath path 上</span></span><br><span class=\"line\">    totalLength = path.<span class=\"title function_\">getTotalLength</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">setLineDash</span>([totalLength]);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineDashOffset</span> = totalLength * (<span class=\"number\">1</span> - t);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>(); <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">lineCanvas</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>[i]);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = e.<span class=\"property\">color</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>(); <span class=\"comment\">// 繪製線</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    折點</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">dots</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(e.<span class=\"property\">cx</span>, e.<span class=\"property\">cy</span>, e.<span class=\"property\">r</span> * t, <span class=\"number\">0</span>, <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 邊框色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      d.<span class=\"property\">month</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓點</span></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span>,</span><br><span class=\"line\">      <span class=\"number\">5</span>,</span><br><span class=\"line\">      <span class=\"number\">0</span>,</span><br><span class=\"line\">      <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 文字</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      el.<span class=\"property\">name</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span> + <span class=\"number\">10</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"comment\">// Y軸節點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 中間內部灰線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#e6e6e6&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 最上方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#000&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸標籤</span></span><br><span class=\"line\">  <span class=\"comment\">// start by saving the current context (current orientation, origin)</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">translate</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rotate</span>(-<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">&quot;件數&quot;</span>, -(<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> / <span class=\"number\">2</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>(); <span class=\"comment\">// now restore the canvas flipping it back to its original orientation</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>其他部分跟 <code>SVG</code> 的做法很類似，主要觀念就是要把 <code>html</code>, <code>css</code> rendor 的部分全部移交給 <code>js</code> 做，線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在 <a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/LineChart.vue\">Github</a>查看完整程式碼，下一篇我們就要來分析 SVG 和 Canvas 的差異和各自的優勢。</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>前幾篇介紹完 <code>SVG</code> 的基本繪圖方式後，我們要來練習使用 <code>CANVAS</code> 來做一樣的折線圖，並在下一篇比較兩者的優缺點。</p>","more":"<hr>\n<h2 id=\"準備隨機資料-amp-CANVAS-畫布\"><a href=\"#準備隨機資料-amp-CANVAS-畫布\" class=\"headerlink\" title=\"準備隨機資料 &amp; CANVAS 畫布\"></a>準備隨機資料 &amp; <code>CANVAS</code> 畫布</h2><p>這邊的 <code>Canvas</code> 畫布因為需要動態計算寬高，所以會利用 <code>js</code> 動態插入 <code>html</code> 中。當視窗進行 <code>resize</code> 時，也是透過 <code>js</code> 清除畫布重新繪製。</p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- chartContain 主要就是 js 做判別插入 canvas 的定位點 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chartContain&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- calPath 是將 D3 動態算出來的值做暫時存放的位置 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">version</span>=<span class=\"string\">&quot;1.1&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;calPath&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- tooltip 和往常一樣是做滑過顯示資訊的功能 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">:class</span>=<span class=\"string\">&quot;&#123; tooltip: true, hidden: hideTooltip&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;name&quot;</span>&gt;</span>左營區 / 10月<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;value&quot;</span>&gt;</span>214 件<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>在 randomData 完後，插入動態計算的 <code>Canvas</code> 畫布。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">randomData</span>();</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> max = <span class=\"number\">500</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> random = [...];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">      random[i].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">        e.<span class=\"property\">number</span> = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (max - min + <span class=\"number\">1</span>)) + min;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = random;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Init Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">initCanvas</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Window Resize</span></span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;resize&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">initCanvas</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">initCanvas</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 插入動態計算的 Canvas 區塊</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> chartContain = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chartContain&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;canvas&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Clear Canvas Element</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (canvas !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">      canvas.<span class=\"property\">parentNode</span>.<span class=\"title function_\">removeChild</span>(canvas);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Get Container Width</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span> = chartContain.<span class=\"property\">offsetWidth</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// For D3 Draw Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span> = d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chartContain&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;canvas&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;id&quot;</span>, <span class=\"string\">&quot;canvas&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;chart&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;width&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;height&quot;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span>.<span class=\"title function_\">node</span>().<span class=\"title function_\">getContext</span>(<span class=\"string\">&quot;2d&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Set the parent of all other elements</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">customBase</span> = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;custom&quot;</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span> = d3.<span class=\"title function_\">select</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">customBase</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Draw Canvas</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawCanvas</span>();</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.lineChart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 說明 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.detail</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: gray;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-class\">.chartContain</span> &#123; <span class=\"comment\">/* 放置主要畫布的容器 */</span></span><br><span class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"selector-id\">#calPath</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">display</span>: none; <span class=\"comment\">/* 隱藏暫時計算的 path 元件 */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-class\">.tooltip</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製折線圖\"><a href=\"#繪製折線圖\" class=\"headerlink\" title=\"繪製折線圖\"></a>繪製折線圖</h2><p>因為這邊要仿造 <code>SVG</code> 進行動畫，所以會用 <code>d3.timer</code> 的方式，隨著計時器每次清掉畫布再進行重新繪製的動作，所以整體畫面全靠 <code>js</code> 繪製，而不是 <code>html</code> 或 <code>css</code>。</p>\n<p><code>mousemove</code> 的部分是當滑鼠滑過特定的點時，需要判別是否有經過繪製的折點，顯示相對的 <code>tooltip</code> 資訊。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawCanvas</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#canvas&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    動畫</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = d3.<span class=\"title function_\">timer</span>(<span class=\"function\"><span class=\"params\">elapsed</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">animationLine</span>(elapsed);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Canvas On Mouseover</span></span><br><span class=\"line\">  canvas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;mousemove&quot;</span>, <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">showTooltip</span>(e);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"折線圖動畫\"><a href=\"#折線圖動畫\" class=\"headerlink\" title=\"折線圖動畫\"></a>折線圖動畫</h2><blockquote>\n<p>注意！這邊不使用 <code>requestAnimationFrame()</code> 的原因是不同瀏覽器要加相對應的前綴詞，且 <code>mobile</code> 支持度低，可參考線上 <a href=\"https://developer.mozilla.org/zh-TW/docs/Web/API/Window.requestAnimationFrame\">MDN</a> 說明。</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">500</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    折線</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">lines</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> path = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;#calPath path&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalLength; <span class=\"comment\">// Path Length</span></span><br><span class=\"line\"></span><br><span class=\"line\">    path.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&quot;d&quot;</span>, e.<span class=\"property\">d</span>); <span class=\"comment\">// 這邊將 D3 算好的折點佔存在 #calPath path 上</span></span><br><span class=\"line\">    totalLength = path.<span class=\"title function_\">getTotalLength</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">setLineDash</span>([totalLength]);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">lineDashOffset</span> = totalLength * (<span class=\"number\">1</span> - t);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>(); <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">lineCanvas</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>[i]);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = e.<span class=\"property\">color</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>(); <span class=\"comment\">// 繪製線</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    折點</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">dots</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(e.<span class=\"property\">cx</span>, e.<span class=\"property\">cy</span>, e.<span class=\"property\">r</span> * t, <span class=\"number\">0</span>, <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 邊框色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#fff&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123; <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      d.<span class=\"property\">month</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓點</span></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span>,</span><br><span class=\"line\">      <span class=\"number\">5</span>,</span><br><span class=\"line\">      <span class=\"number\">0</span>,</span><br><span class=\"line\">      <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 文字</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      el.<span class=\"property\">name</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span> + <span class=\"number\">10</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"comment\">// Y軸節點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 中間內部灰線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#e6e6e6&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 最上方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#000&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸標籤</span></span><br><span class=\"line\">  <span class=\"comment\">// start by saving the current context (current orientation, origin)</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">translate</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rotate</span>(-<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">&quot;件數&quot;</span>, -(<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> / <span class=\"number\">2</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>(); <span class=\"comment\">// now restore the canvas flipping it back to its original orientation</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>其他部分跟 <code>SVG</code> 的做法很類似，主要觀念就是要把 <code>html</code>, <code>css</code> rendor 的部分全部移交給 <code>js</code> 做，線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在 <a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/LineChart.vue\">Github</a>查看完整程式碼，下一篇我們就要來分析 SVG 和 Canvas 的差異和各自的優勢。</p>"},{"title":"D3 v4 with Vue - CANVAS Vertical Bar Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-08-04T16:00:00.000Z","updated":"2018-08-04T16:00:00.000Z","_content":"\n作者：Anny Chang\n\n此篇練習使用 `CANVAS` 來做直條圖。因為和橫條圖的結構很相像，所以這邊就直接進入直條圖動畫的部分。\n\n<!--more-->\n\n***\n## 直條圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 800;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n    直條\n  -------------------------*/\n  this.ctx.save();\n  this.bars.forEach((e, i) => {\n  \t// 開始繪製\n\t\tthis.ctx.beginPath();\n  \tthis.ctx.rect(e.x, e.y + e.height * (1 - t), e.width, e.height * t);\n    this.ctx.globalAlpha = t;\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n  });\n\n  /*-------------------------\n    直條文字\n  -------------------------*/\n  this.ctx.font = \"12px sans-serif\";\n  this.ctx.textBaseline = \"bottom\";\n  this.ctx.textAlign = \"center\";\n  this.ctx.fillStyle = \"gray\";\n  this.bars.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.fillText(e.number, e.x + this.barWidth / 2, e.y);\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() {\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  this.xTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisX\")\n    .call(this.xAxis)\n    .selectAll(\"g.tick\");\n  // 繪製X軸點\n  this.ctx.beginPath();\n  // 黑色刻點\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(xPos, this.chartTop + this.chartHeight);\n    this.ctx.lineTo(xPos, this.chartTop + this.chartHeight + tickSize);\n  });\n  this.ctx.stroke();\n\n  // 繪製X軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.lineTo(\n    this.chartLeft + this.chartHeight,\n    this.chartTop + this.chartWidth\n  );\n  this.ctx.stroke();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      xPos,\n    \tthis.chartTop + this.chartHeight + tickSize\n      );\n  });\n\n  // 繪製X軸標籤\n  this.data.forEach((el, index) => {\n    // 圓點\n    // 開始繪製\n    this.ctx.save();\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(\n      this.chartLeft + index * 100,\n      this.chartTop + this.chartHeight + 50,\n      5,\n      0,\n      2 * Math.PI\n    );\n    // 填色\n    this.ctx.fillStyle = this.color(index);\n    this.ctx.fill();\n    // 結束繪製\n    this.ctx.closePath();\n\n    // 文字\n    this.ctx.textAlign = \"left\";\n    this.ctx.textBaseline = \"middle\";\n  \tthis.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.fillText(\n      el.name,\n      this.chartLeft + index * 100 + 10,\n      this.chartTop + this.chartHeight + 50\n    );\n    this.ctx.restore();\n  });\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  // 繪製Y軸點\n  this.ctx.save();\n  this.ctx.beginPath();\n  // 內部灰色刻線\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft, yPos);\n    this.ctx.lineTo(this.chartLeft + this.chartWidth, yPos);\n  });\n  this.ctx.strokeStyle = \"#efefef\"; // 線顏色\n  this.ctx.stroke();\n  this.ctx.restore();\n\n  // 最上方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft - tickSize, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop);\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n\n  // 繪製Y軸標籤\n  // start by saving the current context (current orientation, origin)\n  this.ctx.save();\n  this.ctx.translate(0, 0);\n  this.ctx.rotate(-Math.PI / 2);\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\"件數\", -(this.chartTop + this.chartHeight / 2), 0);\n  this.ctx.restore(); // now restore the canvas flipping it back to its original orientation\n},\n```\n\n線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarVChart.vue)查看完整程式碼，下次我們要講最後一個甜甜圈圖了，之後我們將會有新的主題～敬請期待 ：）\n","source":"_posts/D3/D3-v4-with-Vue-CANVAS-Vertical-Bar-Chart.md","raw":"---\ntitle: D3 v4 with Vue - CANVAS Vertical Bar Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, CANVAS]\ndate: 2018/08/05\nupdated: 2018/08/05\n---\n\n作者：Anny Chang\n\n此篇練習使用 `CANVAS` 來做直條圖。因為和橫條圖的結構很相像，所以這邊就直接進入直條圖動畫的部分。\n\n<!--more-->\n\n***\n## 直條圖動畫\n\n```js\nanimationLine(elapsed) {\n  let duration = 800;\n  let t = Math.min(1, elapsed / duration); // compute how far through the animation we are (0 to 1)\n\n  // Clear Canvas\n  this.ctx.clearRect(0, 0, this.conWidth, this.conHeight);\n\n  // 繪製不須動畫的元素\n  this.drawStatic();\n\n  /*-------------------------\n    直條\n  -------------------------*/\n  this.ctx.save();\n  this.bars.forEach((e, i) => {\n  \t// 開始繪製\n\t\tthis.ctx.beginPath();\n  \tthis.ctx.rect(e.x, e.y + e.height * (1 - t), e.width, e.height * t);\n    this.ctx.globalAlpha = t;\n    this.ctx.fillStyle = e.color;\n    this.ctx.fill();\n  });\n\n  /*-------------------------\n    直條文字\n  -------------------------*/\n  this.ctx.font = \"12px sans-serif\";\n  this.ctx.textBaseline = \"bottom\";\n  this.ctx.textAlign = \"center\";\n  this.ctx.fillStyle = \"gray\";\n  this.bars.forEach((e, i) => {\n    // 開始繪製\n    this.ctx.fillText(e.number, e.x + this.barWidth / 2, e.y);\n  });\n  this.ctx.restore();\n\n  // if this animation is over\n  if (t === 1) {\n    // stop this timer since we are done animating.\n    this.timer.stop();\n  }\n},\n```\n\n> 繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤...)才特別拉出來寫成一個 function 放在繪製動畫之前。\n\n***\n## 不需動畫的元素\n\n```js\ndrawStatic() {\n  let tickSize = 6; // 軸點大小\n\n  /*-------------------------\n    X軸\n  -------------------------*/\n  this.xTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisX\")\n    .call(this.xAxis)\n    .selectAll(\"g.tick\");\n  // 繪製X軸點\n  this.ctx.beginPath();\n  // 黑色刻點\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(xPos, this.chartTop + this.chartHeight);\n    this.ctx.lineTo(xPos, this.chartTop + this.chartHeight + tickSize);\n  });\n  this.ctx.stroke();\n\n  // 繪製X軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.lineTo(\n    this.chartLeft + this.chartHeight,\n    this.chartTop + this.chartWidth\n  );\n  this.ctx.stroke();\n\n  // 繪製X軸文字\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.xTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let xTrans = node.attr(\"transform\");\n    let xPos = Number(xTrans.split(\",\")[0].split(\"(\")[1]) + this.chartLeft;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      xPos,\n    \tthis.chartTop + this.chartHeight + tickSize\n      );\n  });\n\n  // 繪製X軸標籤\n  this.data.forEach((el, index) => {\n    // 圓點\n    // 開始繪製\n    this.ctx.save();\n    this.ctx.beginPath();\n    // 繪製點\n    this.ctx.arc(\n      this.chartLeft + index * 100,\n      this.chartTop + this.chartHeight + 50,\n      5,\n      0,\n      2 * Math.PI\n    );\n    // 填色\n    this.ctx.fillStyle = this.color(index);\n    this.ctx.fill();\n    // 結束繪製\n    this.ctx.closePath();\n\n    // 文字\n    this.ctx.textAlign = \"left\";\n    this.ctx.textBaseline = \"middle\";\n  \tthis.ctx.font = \"16px sans-serif\";\n    this.ctx.fillStyle = \"#000\";\n    this.ctx.fillText(\n      el.name,\n      this.chartLeft + index * 100 + 10,\n      this.chartTop + this.chartHeight + 50\n    );\n    this.ctx.restore();\n  });\n\n  /*-------------------------\n    Y軸\n  -------------------------*/\n  this.yTick = this.custom\n    .append(\"g\")\n    .attr(\"class\", \"axis axisY\")\n    .call(this.yAxis)\n    .selectAll(\"g.tick\");\n  // 繪製Y軸點\n  this.ctx.save();\n  this.ctx.beginPath();\n  // 內部灰色刻線\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    // 跳過 0 的軸點\n    if (index === 0) return;\n\n    // 繪製軸點\n    this.ctx.moveTo(this.chartLeft, yPos);\n    this.ctx.lineTo(this.chartLeft + this.chartWidth, yPos);\n  });\n  this.ctx.strokeStyle = \"#efefef\"; // 線顏色\n  this.ctx.stroke();\n  this.ctx.restore();\n\n  // 最上方的刻點\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft - tickSize, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop);\n  this.ctx.stroke();\n\n  // 繪製Y軸線\n  this.ctx.beginPath();\n  this.ctx.moveTo(this.chartLeft, this.chartTop);\n  this.ctx.lineTo(this.chartLeft, this.chartTop + this.chartHeight);\n  this.ctx.stroke();\n\n  // 繪製Y軸文字\n  this.ctx.textAlign = \"right\";\n  this.ctx.textBaseline = \"middle\";\n  this.yTick.each((el, index, arr) => {\n    let node = d3.select(arr[index]);\n    let yTrans = node.attr(\"transform\");\n    let yPos = Number(yTrans.split(\",\")[1].split(\")\")[0]) + this.chartTop;\n\n    this.ctx.fillText(\n      node.property(\"innerText\"),\n      this.chartLeft - tickSize,\n      yPos\n    );\n  });\n\n  // 繪製Y軸標籤\n  // start by saving the current context (current orientation, origin)\n  this.ctx.save();\n  this.ctx.translate(0, 0);\n  this.ctx.rotate(-Math.PI / 2);\n  this.ctx.textAlign = \"center\";\n  this.ctx.textBaseline = \"top\";\n  this.ctx.font = \"16px sans-serif\";\n  this.ctx.fillText(\"件數\", -(this.chartTop + this.chartHeight / 2), 0);\n  this.ctx.restore(); // now restore the canvas flipping it back to its original orientation\n},\n```\n\n線上 demo [在此](https://annilla.github.io/d3-practice-vue-canvas/dist/)，也可以在[Github](https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarVChart.vue)查看完整程式碼，下次我們要講最後一個甜甜圈圖了，之後我們將會有新的主題～敬請期待 ：）\n","slug":"D3/D3-v4-with-Vue-CANVAS-Vertical-Bar-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pn000cr3y72kxubmd6","content":"<p>作者：Anny Chang</p>\n<p>此篇練習使用 <code>CANVAS</code> 來做直條圖。因為和橫條圖的結構很相像，所以這邊就直接進入直條圖動畫的部分。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"直條圖動畫\"><a href=\"#直條圖動畫\" class=\"headerlink\" title=\"直條圖動畫\"></a>直條圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">800</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    直條</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  \t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rect</span>(e.<span class=\"property\">x</span>, e.<span class=\"property\">y</span> + e.<span class=\"property\">height</span> * (<span class=\"number\">1</span> - t), e.<span class=\"property\">width</span>, e.<span class=\"property\">height</span> * t);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    直條文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;12px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;bottom&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;gray&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(e.<span class=\"property\">number</span>, e.<span class=\"property\">x</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>, e.<span class=\"property\">y</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisX&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 黑色刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      xPos,</span><br><span class=\"line\">    \t<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓點</span></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span>,</span><br><span class=\"line\">      <span class=\"number\">5</span>,</span><br><span class=\"line\">      <span class=\"number\">0</span>,</span><br><span class=\"line\">      <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 文字</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  \t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      el.<span class=\"property\">name</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span> + <span class=\"number\">10</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 內部灰色刻線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#efefef&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 最上方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸標籤</span></span><br><span class=\"line\">  <span class=\"comment\">// start by saving the current context (current orientation, origin)</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">translate</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rotate</span>(-<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">&quot;件數&quot;</span>, -(<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> / <span class=\"number\">2</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>(); <span class=\"comment\">// now restore the canvas flipping it back to its original orientation</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarVChart.vue\">Github</a>查看完整程式碼，下次我們要講最後一個甜甜圈圖了，之後我們將會有新的主題～敬請期待 ：）</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>作者：Anny Chang</p>\n<p>此篇練習使用 <code>CANVAS</code> 來做直條圖。因為和橫條圖的結構很相像，所以這邊就直接進入直條圖動畫的部分。</p>","more":"<hr>\n<h2 id=\"直條圖動畫\"><a href=\"#直條圖動畫\" class=\"headerlink\" title=\"直條圖動畫\"></a>直條圖動畫</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">animationLine</span>(<span class=\"params\">elapsed</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> duration = <span class=\"number\">800</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(<span class=\"number\">1</span>, elapsed / duration); <span class=\"comment\">// compute how far through the animation we are (0 to 1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Clear Canvas</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conWidth</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">conHeight</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製不須動畫的元素</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">drawStatic</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    直條</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  \t<span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  \t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rect</span>(e.<span class=\"property\">x</span>, e.<span class=\"property\">y</span> + e.<span class=\"property\">height</span> * (<span class=\"number\">1</span> - t), e.<span class=\"property\">width</span>, e.<span class=\"property\">height</span> * t);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">globalAlpha</span> = t;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = e.<span class=\"property\">color</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    直條文字</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;12px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;bottom&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;gray&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">bars</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(e.<span class=\"property\">number</span>, e.<span class=\"property\">x</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>, e.<span class=\"property\">y</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// if this animation is over</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (t === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// stop this timer since we are done animating.</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>.<span class=\"title function_\">stop</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>繪製的前後順序會影響繪製出來的圖層疊加效果，越後面繪製出來的元素會蓋在舊的元素上方。所以不需動畫的元素(ex: X軸、Y軸、標籤…)才特別拉出來寫成一個 function 放在繪製動畫之前。</p>\n</blockquote>\n<hr>\n<h2 id=\"不需動畫的元素\"><a href=\"#不需動畫的元素\" class=\"headerlink\" title=\"不需動畫的元素\"></a>不需動畫的元素</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">drawStatic</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickSize = <span class=\"number\">6</span>; <span class=\"comment\">// 軸點大小</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    X軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisX&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 黑色刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(xPos, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>,</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">xTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> xPos = <span class=\"title class_\">Number</span>(xTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;(&quot;</span>)[<span class=\"number\">1</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      xPos,</span><br><span class=\"line\">    \t<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + tickSize</span><br><span class=\"line\">      );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製X軸標籤</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓點</span></span><br><span class=\"line\">    <span class=\"comment\">// 開始繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 繪製點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span>,</span><br><span class=\"line\">      <span class=\"number\">5</span>,</span><br><span class=\"line\">      <span class=\"number\">0</span>,</span><br><span class=\"line\">      <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"comment\">// 填色</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 結束繪製</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">closePath</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 文字</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;left&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  \t<span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&quot;#000&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      el.<span class=\"property\">name</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + index * <span class=\"number\">100</span> + <span class=\"number\">10</span>,</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> + <span class=\"number\">50</span></span><br><span class=\"line\">    );</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*-------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    Y軸</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------------*/</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">custom</span></span><br><span class=\"line\">    .<span class=\"title function_\">append</span>(<span class=\"string\">&quot;g&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;axis axisY&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">selectAll</span>(<span class=\"string\">&quot;g.tick&quot;</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"comment\">// 內部灰色刻線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 跳過 0 的軸點</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 繪製軸點</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, yPos);</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartWidth</span>, yPos);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">strokeStyle</span> = <span class=\"string\">&quot;#efefef&quot;</span>; <span class=\"comment\">// 線顏色</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 最上方的刻點</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸線</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">moveTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">lineTo</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">stroke</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸文字</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;right&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;middle&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">yTick</span>.<span class=\"title function_\">each</span>(<span class=\"function\">(<span class=\"params\">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> node = d3.<span class=\"title function_\">select</span>(arr[index]);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yTrans = node.<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;transform&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> yPos = <span class=\"title class_\">Number</span>(yTrans.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;,&quot;</span>)[<span class=\"number\">1</span>].<span class=\"title function_\">split</span>(<span class=\"string\">&quot;)&quot;</span>)[<span class=\"number\">0</span>]) + <span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(</span><br><span class=\"line\">      node.<span class=\"title function_\">property</span>(<span class=\"string\">&quot;innerText&quot;</span>),</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chartLeft</span> - tickSize,</span><br><span class=\"line\">      yPos</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 繪製Y軸標籤</span></span><br><span class=\"line\">  <span class=\"comment\">// start by saving the current context (current orientation, origin)</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">save</span>();</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">translate</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">rotate</span>(-<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textAlign</span> = <span class=\"string\">&quot;center&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">textBaseline</span> = <span class=\"string\">&quot;top&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&quot;16px sans-serif&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">&quot;件數&quot;</span>, -(<span class=\"variable language_\">this</span>.<span class=\"property\">chartTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chartHeight</span> / <span class=\"number\">2</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">restore</span>(); <span class=\"comment\">// now restore the canvas flipping it back to its original orientation</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>線上 demo <a href=\"https://annilla.github.io/d3-practice-vue-canvas/dist/\">在此</a>，也可以在<a href=\"https://github.com/Annilla/d3-practice-vue-canvas/blob/master/src/components/BarVChart.vue\">Github</a>查看完整程式碼，下次我們要講最後一個甜甜圈圖了，之後我們將會有新的主題～敬請期待 ：）</p>"},{"title":"D3 v4 with Vue - SVG Donut Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-04-30T16:00:00.000Z","updated":"2018-04-30T16:00:00.000Z","_content":"\n這次要來練習用 `D3` 搭配 `Vue` 做 `SVG` 甜甜圈圖囉～如果要做中間不要洞的圓餅圖，把內圈半徑改成 0 即可。\n\n<!--more-->\n\n一開始想說動畫的部分希望由 `CSS` `transition` 來主導 `stroke-dasharray` 進行動畫，但後來發現沒有實際的圖形範圍做 `Tooltip` 的功能（因為 `CSS` 做的圓圈每個都一樣，只是透過 `stroke-dasharray` 長度不同造成甜甜圈的假象）。所以後來透過 `D3` 計算每個區塊的 `<path>` 才得以完成 `Tooltip` 的功能。因為以上種種的考量後，下面就拆分成兩個部分來解釋，一個部分是執行動畫的 `<circle>` 部分，另一個則是製作 `Tooltip` 功能的 `<path>` 部分。\n\n***\n## 執行動畫的 `<circle>`\n\n![執行動畫的 <circle>](https://lh3.googleusercontent.com/y3ciNP2itQDbjSzjgXxlukSy-kfrNSRuyhAcs6afRYhZoU3jMXL7jB098ANZEWAV8eSsovPlqPCgjuwx5dbtff_ItDj6vvTBiPPmTQRyThIX-XHeeXwgoWCFeGji1KA9DJRyY2_lRjoV0elfwsKcyVn1VaIICoGD5uFBiH2K5vbJvuTPnOLXcgE4Ng6rQZ8d6NNEHWYtPa0UqaGtMpbBXzVGFQmA7U48vwIJdQJwzuyYy0Pj6dmfa7IVDUCSOp84EXTO0tZsoBufOpjUF9miUGNwoQS43xwKtPfl0ur6cA4hTpbn9FlCU4rDym8Jaa9mkBarS8T1Y8hH09udOeiv9dIaKJrniqoXnf4G3wTB79sKLVmDiKv6vQIB504mby_sbn1c3aQVoQlyJfahu59J2IRVFlZ1_jVpkSi9SCu9kf-O_gyMdCQcID79yYuLKsq3nG5X-UwlbX5SDKvPif8YW-r0MtdxZVuMX95Ot4FB0nh5M0l3pSd2NhllyL_Xsa4U9MwgKQB6vPCajdSYNsM6NtTgfUKJfUFANreODCXT9uYwCLd50nkUhOcf9QA0k3gORRJxbDozlchw4y8nuc3EA3G36KVFLM50NYjLnHmw19i05cEnduWlg3d--Ku4Hx6n_NQwPEFjsJVZpX2IU5VZdXU4PBRKgBWS=w600-h576-no \"<circle>\")\n\n* HTML\n\n```html\n<!-- 執行動畫的圓圈 -->\n<circle class=\"circle\"\n  v-for=\"(c, key) in donut\"\n  ref=\"circles\"\n  :key=\"`${key}${c.percentage}${c.offset}`\"\n  :r=\"radius\"\n  :cx=\"chart.outerRadius\"\n  :cy=\"chart.outerRadius\"\n  :stroke-width=\"chart.outerRadius - chart.innerRadius\"\n  :stroke-dashoffset=\"c.offset\"\n  :stroke=\"c.color\"\n  fill= \"transparent\"/>\n```\n\n* CSS\n\n```css\n.donutChart {\n  /* 說明 */\n  .detail {\n    color: gray;\n  }\n  /* 統計圖 */\n  .chartContain {\n    ....\n    .chartWrap {\n      ...\n      .chart {\n        ...\n        /* 因為 <circle> 0 度從右邊開始，但我們想要從上方開始，所以加了往上旋轉 90 度變形 */\n        transform: rotate(-90deg);\n        .circle {\n          transition: 1s; /* 漸變動畫進行的秒數 */\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n```js\nexport default {\n  computed: {\n    // 圓周長\n    circum() {\n      // circumference = 2 * pi * radius\n      return 2 * Math.PI * this.radius;\n    },\n    // 顏色函數\n    color() {\n      return d3.scaleOrdinal(d3.schemeCategory20c);\n    },\n    // 所有資料值總合\n    totalSum() {\n      let sum = 0;\n\n      if (this.data.length) {\n        this.data.forEach((e, i) => {\n          sum = sum + e.value;\n        });\n      }\n\n      return sum;\n    },\n    // <circle> 屬性\n    donut() {\n      let newArray = [];\n      let afterPer = 0; // 把前面的 percentage 累加 (0.xxx)\n\n      // 產生 <circle> 屬性陣列\n      if (this.data.length) {\n        this.data.forEach((e, i) => {\n          // 新增陣列\n          newArray.push({\n            // 拿來計算跑動畫的線條長度 （在 randomData 後半）\n            percentage: e.value / this.totalSum * 100,\n            // 位移長度 = 圓周長 * (1 - 前面累加的長度比例)\n            offset: this.circum * (1 - afterPer),\n            color: this.color(i) // 填色\n          });\n\n          // 把前面的 percentage 累加 (0.xxx)\n          afterPer = afterPer + e.value / this.totalSum;\n        });\n      }\n\n      return newArray;\n    },\n  },\n  ...\n  methods: {\n    randomData() {\n      ...\n\n      // 用 js 跑展開動畫\n      this.$nextTick().then(() => {\n        // DOM updated\n        this.donut.forEach((el, index) => {\n          let totalTime = 100; // 設定切換 css 狀態的時間間隔\n          let stroke = this.dasharray(el.percentage); // 計算 stroke-dasharray\n\n          // 起始位置\n          this.$refs.circles[index].style.cssText = `stroke-dasharray: 0 ${this.circum}; opacity: 0`;\n\n          // 設定 Interval\n          setTimeout(() => {\n            // 結束位置\n            this.$refs.circles[index].style.cssText = `stroke-dasharray: ${stroke.dash} ${stroke.gap}; opacity: 1`;\n          }, totalTime);\n        });\n      });\n    },\n    // 計算 stroke-dasharray 的 dash & gap\n    dasharray(percentage) {\n      let dash = this.circum / 100 * percentage; // percentage %\n      let gap = this.circum / 100 * (100 - percentage);\n\n      return { dash: dash, gap: gap };\n    },\n  }\n}\n```\n\n***\n## 製作 `Tooltip` 功能的 `<path>`\n\n![製作 Tooltip 功能的 <path>](https://lh3.googleusercontent.com/PYNMBI1NGyZvd-VuUfGSGcZR5B4HlbvrPPyBFGPPRV93iTPzhYyQoGipBmZw7xLAuHGvYALgqaunKM3AygQOJQvN-vf7JqiJqyu3pGsrqHOizHIAb37MK7__M8Z7bGsBYqgfhKsmmFr6hnHcYD2V8KUAD8LesMx6bPBvxvw1HdFeAHFIm3zeOtnzdYLeo9CoPE0Cjk-V_SylGwg8vNmp11OBESjJbGfshslHV0ih3FHkB5F7DmGbzY_7usoUDnVOgXdzFAIFMlWrJnR-k_Y_HYeOgfZkk5__OqhokFbvBsAYmuHhIWLNIin3Zs96XgVgF0DAKDLdpJfpVthZTdSdAXYmE9izJnaNf5AbeXKgtspy8ARAoXx4h3soWWg8IorSidCfULUEtUOtNWQ8ZBJ-fGqSzCXYFB4Yr12RI4YDaoB1e51JATaQGDmIu8hwbaUoUecZe0Ryo04VjUZ1bGmRzXMmsoRvNcb2rkPF3n-t1csEU48dxSzZgcgRm7gCWprA2qRbIt-5c_LthwXteMkFsYQj3XRxmZTvl9AOom7Ypme0juX6tcjHEj1ogkSopwGhxr-NZvHNU5qax5vKIcpBF5wLpdAS7INTkNsr_Dxyo3-rTk8tFriT8b2mTY9vLCWOrNm2_seIi8ZM74qPVq-jc9HqE8AfvS8V=w600-h576-no \"<path>\")\n\n這邊你可能會發現很奇怪的事情，就是為什麼上面已經算過百分比了，但這邊還要再算一次？如果仔細看的話，你應該會發現這邊的百分比是用在甜甜圈上方顯示的文字。想一想，如果統計圖出現小數點後十六位數的百分比，是不是超奇怪！！！所以這邊文字其實是透過 `D3` 格式換算成我們較易閱讀的百分比，並不是真實的比例。\n\n* HTML\n\n```html\n<!-- 滑鼠滑過的區塊 -->\n<g\n  class=\"arc\"\n  v-for=\"(p, key) in pie\"\n  :key=\"`${key}${p.d}`\"\n  :transform=\"`translate(${chart.outerRadius},${chart.outerRadius}) rotate(90)`\"\n  v-on:mouseover=\"showTooltip(key, $event)\" v-on:mouseout=\"hiddenTooltip\">\n  <path\n    fill=\"transparent\"\n    :d=\"p.d\">\n  </path>\n  <!-- 文字位置需要由 path 的座標透過 D3 計算，才能把文字放在各自的區塊中間。 -->\n  <text\n    :transform=\"`translate(${p.centroid})`\"\n    text-anchor=\"middle\"\n    fill=\"white\">{{ p.percentage }}\n  </text>\n</g>\n```\n\n* JS\n\n```js\npie() {\n  let newArray = [];\n  let format = d3.format(\".0%\"); // D3 格式化單位（百分比）\n  let pie = d3\n    .pie() // 使用 pie 函數\n    .sort(null) // 不做重新排序\n    .value(function(d) {\n      return d.value;\n    })(this.data); // 為了等下要使用 arc 角度，先造好 pie 物件\n\n  // 產生 <path> & <text> 屬性陣列\n  if (this.data.length) {\n    this.data.forEach((e, i) => {\n      // 準備好 arc 路徑\n      let arc = d3\n        .arc() // 使用 arc 函數\n        .innerRadius(this.chart.innerRadius) // 甜甜圈內半徑\n        .outerRadius(this.chart.outerRadius); // 甜甜圈外半徑\n\n      // 新增陣列\n      newArray.push({\n        // 計算 path 路徑，使用剛剛造好的 arc 函數\n        d: arc({\n          // 透過上方建立的 pie 函數，得知 arc 的起始角度\n          startAngle: pie[i].startAngle, \n          // 透過上方建立的 pie 函數，得知 arc 的結束角度\n          endAngle: pie[i].endAngle\n        }),\n        // 使用 arc.centroid 函數取得 <text> 相對於 <path> 位移至正中間 x, y\n        centroid: arc.centroid(pie[i]),\n        // 將顯示的文字轉成易閱讀的格式\n        percentage: format(e.value / this.totalSum)\n      });\n    });\n  }\n\n  return newArray;\n}\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/DonutChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看直條圖的 Demo，我們下回見～\n\n![甜甜圈圖完成](https://lh3.googleusercontent.com/b5xMuJcWbNk6hgHI5RT0FbGiIN6_XK8pJsXqSmiK-6kXykrTkgYLC4rOtrpZt1fcw3OjOtjgwvNHBkewBHST6Z1WoCrRPo6AD4oekyvYh24S1JS2ja2QGSMFyfhIOSD_eY9AZTvfprwIqDBPs3_E-sFsUpr1YcidoinaoGbhCRT9yJom_ztql5N6isa5lznQ_xLWkbg_8-3QS9_J21qVgBAly90yKebDGLrXmJFNyJG75wZP_vDIyINy2H2fYTg49-spVM76MavB-9ESNxSKFTRbAGaE3xcBR7wmAICq8SzP__ucHYOehi2sWGNsFbc4Vn3jf23QT2JXI6N9aLgmiwrDaRAkYDqGgpYPSJZPzW0gZZysf5nEHLluS8B2q_B5Ewrmz54HWF-ZVpSYoXYbC2G4ynMaOT7g83ils5zDDfZMitBqE9zb7l8esPvxsKa-ODi4qoThsmlj5UfUjWsNT8XuxCb83VwCjPbVF5fZdNJcuC5SAaFqN1IjdKRAwMpgq3ukvg6ITv4TjPSDGE8MXnNQzG2kff-bSnzWUxWaVVA79aRyw4dmEuy74tMV8nTMVZRmQ7o8sRJEzp11f0Qvz91Lqn0HRvEzt6uigBkrfLqno0m0alzaIJj8nBhy2CUEP7BR_VsHtZ1s_GWD927Jbpl2n6o-lilU=w1024-h983-no \"甜甜圈圖\")","source":"_posts/D3/D3-v4-with-Vue-SVG-Donut-Chart.md","raw":"---\ntitle: D3 v4 with Vue - SVG Donut Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, SVG]\ndate: 2018/05/01\nupdated: 2018/05/01\n---\n\n這次要來練習用 `D3` 搭配 `Vue` 做 `SVG` 甜甜圈圖囉～如果要做中間不要洞的圓餅圖，把內圈半徑改成 0 即可。\n\n<!--more-->\n\n一開始想說動畫的部分希望由 `CSS` `transition` 來主導 `stroke-dasharray` 進行動畫，但後來發現沒有實際的圖形範圍做 `Tooltip` 的功能（因為 `CSS` 做的圓圈每個都一樣，只是透過 `stroke-dasharray` 長度不同造成甜甜圈的假象）。所以後來透過 `D3` 計算每個區塊的 `<path>` 才得以完成 `Tooltip` 的功能。因為以上種種的考量後，下面就拆分成兩個部分來解釋，一個部分是執行動畫的 `<circle>` 部分，另一個則是製作 `Tooltip` 功能的 `<path>` 部分。\n\n***\n## 執行動畫的 `<circle>`\n\n![執行動畫的 <circle>](https://lh3.googleusercontent.com/y3ciNP2itQDbjSzjgXxlukSy-kfrNSRuyhAcs6afRYhZoU3jMXL7jB098ANZEWAV8eSsovPlqPCgjuwx5dbtff_ItDj6vvTBiPPmTQRyThIX-XHeeXwgoWCFeGji1KA9DJRyY2_lRjoV0elfwsKcyVn1VaIICoGD5uFBiH2K5vbJvuTPnOLXcgE4Ng6rQZ8d6NNEHWYtPa0UqaGtMpbBXzVGFQmA7U48vwIJdQJwzuyYy0Pj6dmfa7IVDUCSOp84EXTO0tZsoBufOpjUF9miUGNwoQS43xwKtPfl0ur6cA4hTpbn9FlCU4rDym8Jaa9mkBarS8T1Y8hH09udOeiv9dIaKJrniqoXnf4G3wTB79sKLVmDiKv6vQIB504mby_sbn1c3aQVoQlyJfahu59J2IRVFlZ1_jVpkSi9SCu9kf-O_gyMdCQcID79yYuLKsq3nG5X-UwlbX5SDKvPif8YW-r0MtdxZVuMX95Ot4FB0nh5M0l3pSd2NhllyL_Xsa4U9MwgKQB6vPCajdSYNsM6NtTgfUKJfUFANreODCXT9uYwCLd50nkUhOcf9QA0k3gORRJxbDozlchw4y8nuc3EA3G36KVFLM50NYjLnHmw19i05cEnduWlg3d--Ku4Hx6n_NQwPEFjsJVZpX2IU5VZdXU4PBRKgBWS=w600-h576-no \"<circle>\")\n\n* HTML\n\n```html\n<!-- 執行動畫的圓圈 -->\n<circle class=\"circle\"\n  v-for=\"(c, key) in donut\"\n  ref=\"circles\"\n  :key=\"`${key}${c.percentage}${c.offset}`\"\n  :r=\"radius\"\n  :cx=\"chart.outerRadius\"\n  :cy=\"chart.outerRadius\"\n  :stroke-width=\"chart.outerRadius - chart.innerRadius\"\n  :stroke-dashoffset=\"c.offset\"\n  :stroke=\"c.color\"\n  fill= \"transparent\"/>\n```\n\n* CSS\n\n```css\n.donutChart {\n  /* 說明 */\n  .detail {\n    color: gray;\n  }\n  /* 統計圖 */\n  .chartContain {\n    ....\n    .chartWrap {\n      ...\n      .chart {\n        ...\n        /* 因為 <circle> 0 度從右邊開始，但我們想要從上方開始，所以加了往上旋轉 90 度變形 */\n        transform: rotate(-90deg);\n        .circle {\n          transition: 1s; /* 漸變動畫進行的秒數 */\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n```js\nexport default {\n  computed: {\n    // 圓周長\n    circum() {\n      // circumference = 2 * pi * radius\n      return 2 * Math.PI * this.radius;\n    },\n    // 顏色函數\n    color() {\n      return d3.scaleOrdinal(d3.schemeCategory20c);\n    },\n    // 所有資料值總合\n    totalSum() {\n      let sum = 0;\n\n      if (this.data.length) {\n        this.data.forEach((e, i) => {\n          sum = sum + e.value;\n        });\n      }\n\n      return sum;\n    },\n    // <circle> 屬性\n    donut() {\n      let newArray = [];\n      let afterPer = 0; // 把前面的 percentage 累加 (0.xxx)\n\n      // 產生 <circle> 屬性陣列\n      if (this.data.length) {\n        this.data.forEach((e, i) => {\n          // 新增陣列\n          newArray.push({\n            // 拿來計算跑動畫的線條長度 （在 randomData 後半）\n            percentage: e.value / this.totalSum * 100,\n            // 位移長度 = 圓周長 * (1 - 前面累加的長度比例)\n            offset: this.circum * (1 - afterPer),\n            color: this.color(i) // 填色\n          });\n\n          // 把前面的 percentage 累加 (0.xxx)\n          afterPer = afterPer + e.value / this.totalSum;\n        });\n      }\n\n      return newArray;\n    },\n  },\n  ...\n  methods: {\n    randomData() {\n      ...\n\n      // 用 js 跑展開動畫\n      this.$nextTick().then(() => {\n        // DOM updated\n        this.donut.forEach((el, index) => {\n          let totalTime = 100; // 設定切換 css 狀態的時間間隔\n          let stroke = this.dasharray(el.percentage); // 計算 stroke-dasharray\n\n          // 起始位置\n          this.$refs.circles[index].style.cssText = `stroke-dasharray: 0 ${this.circum}; opacity: 0`;\n\n          // 設定 Interval\n          setTimeout(() => {\n            // 結束位置\n            this.$refs.circles[index].style.cssText = `stroke-dasharray: ${stroke.dash} ${stroke.gap}; opacity: 1`;\n          }, totalTime);\n        });\n      });\n    },\n    // 計算 stroke-dasharray 的 dash & gap\n    dasharray(percentage) {\n      let dash = this.circum / 100 * percentage; // percentage %\n      let gap = this.circum / 100 * (100 - percentage);\n\n      return { dash: dash, gap: gap };\n    },\n  }\n}\n```\n\n***\n## 製作 `Tooltip` 功能的 `<path>`\n\n![製作 Tooltip 功能的 <path>](https://lh3.googleusercontent.com/PYNMBI1NGyZvd-VuUfGSGcZR5B4HlbvrPPyBFGPPRV93iTPzhYyQoGipBmZw7xLAuHGvYALgqaunKM3AygQOJQvN-vf7JqiJqyu3pGsrqHOizHIAb37MK7__M8Z7bGsBYqgfhKsmmFr6hnHcYD2V8KUAD8LesMx6bPBvxvw1HdFeAHFIm3zeOtnzdYLeo9CoPE0Cjk-V_SylGwg8vNmp11OBESjJbGfshslHV0ih3FHkB5F7DmGbzY_7usoUDnVOgXdzFAIFMlWrJnR-k_Y_HYeOgfZkk5__OqhokFbvBsAYmuHhIWLNIin3Zs96XgVgF0DAKDLdpJfpVthZTdSdAXYmE9izJnaNf5AbeXKgtspy8ARAoXx4h3soWWg8IorSidCfULUEtUOtNWQ8ZBJ-fGqSzCXYFB4Yr12RI4YDaoB1e51JATaQGDmIu8hwbaUoUecZe0Ryo04VjUZ1bGmRzXMmsoRvNcb2rkPF3n-t1csEU48dxSzZgcgRm7gCWprA2qRbIt-5c_LthwXteMkFsYQj3XRxmZTvl9AOom7Ypme0juX6tcjHEj1ogkSopwGhxr-NZvHNU5qax5vKIcpBF5wLpdAS7INTkNsr_Dxyo3-rTk8tFriT8b2mTY9vLCWOrNm2_seIi8ZM74qPVq-jc9HqE8AfvS8V=w600-h576-no \"<path>\")\n\n這邊你可能會發現很奇怪的事情，就是為什麼上面已經算過百分比了，但這邊還要再算一次？如果仔細看的話，你應該會發現這邊的百分比是用在甜甜圈上方顯示的文字。想一想，如果統計圖出現小數點後十六位數的百分比，是不是超奇怪！！！所以這邊文字其實是透過 `D3` 格式換算成我們較易閱讀的百分比，並不是真實的比例。\n\n* HTML\n\n```html\n<!-- 滑鼠滑過的區塊 -->\n<g\n  class=\"arc\"\n  v-for=\"(p, key) in pie\"\n  :key=\"`${key}${p.d}`\"\n  :transform=\"`translate(${chart.outerRadius},${chart.outerRadius}) rotate(90)`\"\n  v-on:mouseover=\"showTooltip(key, $event)\" v-on:mouseout=\"hiddenTooltip\">\n  <path\n    fill=\"transparent\"\n    :d=\"p.d\">\n  </path>\n  <!-- 文字位置需要由 path 的座標透過 D3 計算，才能把文字放在各自的區塊中間。 -->\n  <text\n    :transform=\"`translate(${p.centroid})`\"\n    text-anchor=\"middle\"\n    fill=\"white\">{{ p.percentage }}\n  </text>\n</g>\n```\n\n* JS\n\n```js\npie() {\n  let newArray = [];\n  let format = d3.format(\".0%\"); // D3 格式化單位（百分比）\n  let pie = d3\n    .pie() // 使用 pie 函數\n    .sort(null) // 不做重新排序\n    .value(function(d) {\n      return d.value;\n    })(this.data); // 為了等下要使用 arc 角度，先造好 pie 物件\n\n  // 產生 <path> & <text> 屬性陣列\n  if (this.data.length) {\n    this.data.forEach((e, i) => {\n      // 準備好 arc 路徑\n      let arc = d3\n        .arc() // 使用 arc 函數\n        .innerRadius(this.chart.innerRadius) // 甜甜圈內半徑\n        .outerRadius(this.chart.outerRadius); // 甜甜圈外半徑\n\n      // 新增陣列\n      newArray.push({\n        // 計算 path 路徑，使用剛剛造好的 arc 函數\n        d: arc({\n          // 透過上方建立的 pie 函數，得知 arc 的起始角度\n          startAngle: pie[i].startAngle, \n          // 透過上方建立的 pie 函數，得知 arc 的結束角度\n          endAngle: pie[i].endAngle\n        }),\n        // 使用 arc.centroid 函數取得 <text> 相對於 <path> 位移至正中間 x, y\n        centroid: arc.centroid(pie[i]),\n        // 將顯示的文字轉成易閱讀的格式\n        percentage: format(e.value / this.totalSum)\n      });\n    });\n  }\n\n  return newArray;\n}\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/DonutChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看直條圖的 Demo，我們下回見～\n\n![甜甜圈圖完成](https://lh3.googleusercontent.com/b5xMuJcWbNk6hgHI5RT0FbGiIN6_XK8pJsXqSmiK-6kXykrTkgYLC4rOtrpZt1fcw3OjOtjgwvNHBkewBHST6Z1WoCrRPo6AD4oekyvYh24S1JS2ja2QGSMFyfhIOSD_eY9AZTvfprwIqDBPs3_E-sFsUpr1YcidoinaoGbhCRT9yJom_ztql5N6isa5lznQ_xLWkbg_8-3QS9_J21qVgBAly90yKebDGLrXmJFNyJG75wZP_vDIyINy2H2fYTg49-spVM76MavB-9ESNxSKFTRbAGaE3xcBR7wmAICq8SzP__ucHYOehi2sWGNsFbc4Vn3jf23QT2JXI6N9aLgmiwrDaRAkYDqGgpYPSJZPzW0gZZysf5nEHLluS8B2q_B5Ewrmz54HWF-ZVpSYoXYbC2G4ynMaOT7g83ils5zDDfZMitBqE9zb7l8esPvxsKa-ODi4qoThsmlj5UfUjWsNT8XuxCb83VwCjPbVF5fZdNJcuC5SAaFqN1IjdKRAwMpgq3ukvg6ITv4TjPSDGE8MXnNQzG2kff-bSnzWUxWaVVA79aRyw4dmEuy74tMV8nTMVZRmQ7o8sRJEzp11f0Qvz91Lqn0HRvEzt6uigBkrfLqno0m0alzaIJj8nBhy2CUEP7BR_VsHtZ1s_GWD927Jbpl2n6o-lilU=w1024-h983-no \"甜甜圈圖\")","slug":"D3/D3-v4-with-Vue-SVG-Donut-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pp000dr3y73io1b5bi","content":"<p>這次要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做 <code>SVG</code> 甜甜圈圖囉～如果要做中間不要洞的圓餅圖，把內圈半徑改成 0 即可。</p>\n<span id=\"more\"></span>\n\n<p>一開始想說動畫的部分希望由 <code>CSS</code> <code>transition</code> 來主導 <code>stroke-dasharray</code> 進行動畫，但後來發現沒有實際的圖形範圍做 <code>Tooltip</code> 的功能（因為 <code>CSS</code> 做的圓圈每個都一樣，只是透過 <code>stroke-dasharray</code> 長度不同造成甜甜圈的假象）。所以後來透過 <code>D3</code> 計算每個區塊的 <code>&lt;path&gt;</code> 才得以完成 <code>Tooltip</code> 的功能。因為以上種種的考量後，下面就拆分成兩個部分來解釋，一個部分是執行動畫的 <code>&lt;circle&gt;</code> 部分，另一個則是製作 <code>Tooltip</code> 功能的 <code>&lt;path&gt;</code> 部分。</p>\n<hr>\n<h2 id=\"執行動畫的-lt-circle-gt\"><a href=\"#執行動畫的-lt-circle-gt\" class=\"headerlink\" title=\"執行動畫的 &lt;circle&gt;\"></a>執行動畫的 <code>&lt;circle&gt;</code></h2><p><img src=\"https://lh3.googleusercontent.com/y3ciNP2itQDbjSzjgXxlukSy-kfrNSRuyhAcs6afRYhZoU3jMXL7jB098ANZEWAV8eSsovPlqPCgjuwx5dbtff_ItDj6vvTBiPPmTQRyThIX-XHeeXwgoWCFeGji1KA9DJRyY2_lRjoV0elfwsKcyVn1VaIICoGD5uFBiH2K5vbJvuTPnOLXcgE4Ng6rQZ8d6NNEHWYtPa0UqaGtMpbBXzVGFQmA7U48vwIJdQJwzuyYy0Pj6dmfa7IVDUCSOp84EXTO0tZsoBufOpjUF9miUGNwoQS43xwKtPfl0ur6cA4hTpbn9FlCU4rDym8Jaa9mkBarS8T1Y8hH09udOeiv9dIaKJrniqoXnf4G3wTB79sKLVmDiKv6vQIB504mby_sbn1c3aQVoQlyJfahu59J2IRVFlZ1_jVpkSi9SCu9kf-O_gyMdCQcID79yYuLKsq3nG5X-UwlbX5SDKvPif8YW-r0MtdxZVuMX95Ot4FB0nh5M0l3pSd2NhllyL_Xsa4U9MwgKQB6vPCajdSYNsM6NtTgfUKJfUFANreODCXT9uYwCLd50nkUhOcf9QA0k3gORRJxbDozlchw4y8nuc3EA3G36KVFLM50NYjLnHmw19i05cEnduWlg3d--Ku4Hx6n_NQwPEFjsJVZpX2IU5VZdXU4PBRKgBWS=w600-h576-no\" alt=\"執行動畫的 &lt;circle&gt;\" title=\"&lt;circle&gt;\"></p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 執行動畫的圓圈 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;circle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(c, key) in donut&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">ref</span>=<span class=\"string\">&quot;circles&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;c.percentage&#125;$&#123;c.offset&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:r</span>=<span class=\"string\">&quot;radius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:cx</span>=<span class=\"string\">&quot;chart.outerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:cy</span>=<span class=\"string\">&quot;chart.outerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke-width</span>=<span class=\"string\">&quot;chart.outerRadius - chart.innerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke-dashoffset</span>=<span class=\"string\">&quot;c.offset&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke</span>=<span class=\"string\">&quot;c.color&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">fill</span>= <span class=\"string\">&quot;transparent&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.donutChart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 說明 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.detail</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: gray;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">        <span class=\"comment\">/* 因為 &lt;circle&gt; 0 度從右邊開始，但我們想要從上方開始，所以加了往上旋轉 90 度變形 */</span></span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(-<span class=\"number\">90deg</span>);</span><br><span class=\"line\">        <span class=\"selector-class\">.circle</span> &#123;</span><br><span class=\"line\">          <span class=\"attribute\">transition</span>: <span class=\"number\">1s</span>; <span class=\"comment\">/* 漸變動畫進行的秒數 */</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓周長</span></span><br><span class=\"line\">    <span class=\"title function_\">circum</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// circumference = 2 * pi * radius</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\">    <span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory20c</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 所有資料值總合</span></span><br><span class=\"line\">    <span class=\"title function_\">totalSum</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          sum = sum + e.<span class=\"property\">value</span>;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// &lt;circle&gt; 屬性</span></span><br><span class=\"line\">    <span class=\"title function_\">donut</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> afterPer = <span class=\"number\">0</span>; <span class=\"comment\">// 把前面的 percentage 累加 (0.xxx)</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 產生 &lt;circle&gt; 屬性陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 新增陣列</span></span><br><span class=\"line\">          newArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 拿來計算跑動畫的線條長度 （在 randomData 後半）</span></span><br><span class=\"line\">            <span class=\"attr\">percentage</span>: e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span> * <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"comment\">// 位移長度 = 圓周長 * (1 - 前面累加的長度比例)</span></span><br><span class=\"line\">            <span class=\"attr\">offset</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> * (<span class=\"number\">1</span> - afterPer),</span><br><span class=\"line\">            <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i) <span class=\"comment\">// 填色</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 把前面的 percentage 累加 (0.xxx)</span></span><br><span class=\"line\">          afterPer = afterPer + e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span>;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newArray;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 用 js 跑展開動畫</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.$nextTick().<span class=\"title function_\">then</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// DOM updated</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">donut</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> totalTime = <span class=\"number\">100</span>; <span class=\"comment\">// 設定切換 css 狀態的時間間隔</span></span><br><span class=\"line\">          <span class=\"keyword\">let</span> stroke = <span class=\"variable language_\">this</span>.<span class=\"title function_\">dasharray</span>(el.<span class=\"property\">percentage</span>); <span class=\"comment\">// 計算 stroke-dasharray</span></span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 起始位置</span></span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">circles</span>[index].<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">`stroke-dasharray: 0 <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.circum&#125;</span>; opacity: 0`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 設定 Interval</span></span><br><span class=\"line\">          <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 結束位置</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">circles</span>[index].<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">`stroke-dasharray: <span class=\"subst\">$&#123;stroke.dash&#125;</span> <span class=\"subst\">$&#123;stroke.gap&#125;</span>; opacity: 1`</span>;</span><br><span class=\"line\">          &#125;, totalTime);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 計算 stroke-dasharray 的 dash &amp; gap</span></span><br><span class=\"line\">    <span class=\"title function_\">dasharray</span>(<span class=\"params\">percentage</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> dash = <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> / <span class=\"number\">100</span> * percentage; <span class=\"comment\">// percentage %</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> gap = <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> / <span class=\"number\">100</span> * (<span class=\"number\">100</span> - percentage);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123; <span class=\"attr\">dash</span>: dash, <span class=\"attr\">gap</span>: gap &#125;;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"製作-Tooltip-功能的-lt-path-gt\"><a href=\"#製作-Tooltip-功能的-lt-path-gt\" class=\"headerlink\" title=\"製作 Tooltip 功能的 &lt;path&gt;\"></a>製作 <code>Tooltip</code> 功能的 <code>&lt;path&gt;</code></h2><p><img src=\"https://lh3.googleusercontent.com/PYNMBI1NGyZvd-VuUfGSGcZR5B4HlbvrPPyBFGPPRV93iTPzhYyQoGipBmZw7xLAuHGvYALgqaunKM3AygQOJQvN-vf7JqiJqyu3pGsrqHOizHIAb37MK7__M8Z7bGsBYqgfhKsmmFr6hnHcYD2V8KUAD8LesMx6bPBvxvw1HdFeAHFIm3zeOtnzdYLeo9CoPE0Cjk-V_SylGwg8vNmp11OBESjJbGfshslHV0ih3FHkB5F7DmGbzY_7usoUDnVOgXdzFAIFMlWrJnR-k_Y_HYeOgfZkk5__OqhokFbvBsAYmuHhIWLNIin3Zs96XgVgF0DAKDLdpJfpVthZTdSdAXYmE9izJnaNf5AbeXKgtspy8ARAoXx4h3soWWg8IorSidCfULUEtUOtNWQ8ZBJ-fGqSzCXYFB4Yr12RI4YDaoB1e51JATaQGDmIu8hwbaUoUecZe0Ryo04VjUZ1bGmRzXMmsoRvNcb2rkPF3n-t1csEU48dxSzZgcgRm7gCWprA2qRbIt-5c_LthwXteMkFsYQj3XRxmZTvl9AOom7Ypme0juX6tcjHEj1ogkSopwGhxr-NZvHNU5qax5vKIcpBF5wLpdAS7INTkNsr_Dxyo3-rTk8tFriT8b2mTY9vLCWOrNm2_seIi8ZM74qPVq-jc9HqE8AfvS8V=w600-h576-no\" alt=\"製作 Tooltip 功能的 &lt;path&gt;\" title=\"&lt;path&gt;\"></p>\n<p>這邊你可能會發現很奇怪的事情，就是為什麼上面已經算過百分比了，但這邊還要再算一次？如果仔細看的話，你應該會發現這邊的百分比是用在甜甜圈上方顯示的文字。想一想，如果統計圖出現小數點後十六位數的百分比，是不是超奇怪！！！所以這邊文字其實是透過 <code>D3</code> 格式換算成我們較易閱讀的百分比，並不是真實的比例。</p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 滑鼠滑過的區塊 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">class</span>=<span class=\"string\">&quot;arc&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(p, key) in pie&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;p.d&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate($&#123;chart.outerRadius&#125;,$&#123;chart.outerRadius&#125;) rotate(90)`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">fill</span>=<span class=\"string\">&quot;transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:d</span>=<span class=\"string\">&quot;p.d&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 文字位置需要由 path 的座標透過 D3 計算，才能把文字放在各自的區塊中間。 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">text</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate($&#123;p.centroid&#125;)`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">fill</span>=<span class=\"string\">&quot;white&quot;</span>&gt;</span>&#123;&#123; p.percentage &#125;&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">pie</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> format = d3.<span class=\"title function_\">format</span>(<span class=\"string\">&quot;.0%&quot;</span>); <span class=\"comment\">// D3 格式化單位（百分比）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> pie = d3</span><br><span class=\"line\">    .<span class=\"title function_\">pie</span>() <span class=\"comment\">// 使用 pie 函數</span></span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"literal\">null</span>) <span class=\"comment\">// 不做重新排序</span></span><br><span class=\"line\">    .<span class=\"title function_\">value</span>(<span class=\"keyword\">function</span>(<span class=\"params\">d</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> d.<span class=\"property\">value</span>;</span><br><span class=\"line\">    &#125;)(<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>); <span class=\"comment\">// 為了等下要使用 arc 角度，先造好 pie 物件</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生 &lt;path&gt; &amp; &lt;text&gt; 屬性陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 準備好 arc 路徑</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> arc = d3</span><br><span class=\"line\">        .<span class=\"title function_\">arc</span>() <span class=\"comment\">// 使用 arc 函數</span></span><br><span class=\"line\">        .<span class=\"title function_\">innerRadius</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">innerRadius</span>) <span class=\"comment\">// 甜甜圈內半徑</span></span><br><span class=\"line\">        .<span class=\"title function_\">outerRadius</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">outerRadius</span>); <span class=\"comment\">// 甜甜圈外半徑</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 新增陣列</span></span><br><span class=\"line\">      newArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 計算 path 路徑，使用剛剛造好的 arc 函數</span></span><br><span class=\"line\">        <span class=\"attr\">d</span>: <span class=\"title function_\">arc</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 透過上方建立的 pie 函數，得知 arc 的起始角度</span></span><br><span class=\"line\">          <span class=\"attr\">startAngle</span>: pie[i].<span class=\"property\">startAngle</span>, </span><br><span class=\"line\">          <span class=\"comment\">// 透過上方建立的 pie 函數，得知 arc 的結束角度</span></span><br><span class=\"line\">          <span class=\"attr\">endAngle</span>: pie[i].<span class=\"property\">endAngle</span></span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        <span class=\"comment\">// 使用 arc.centroid 函數取得 &lt;text&gt; 相對於 &lt;path&gt; 位移至正中間 x, y</span></span><br><span class=\"line\">        <span class=\"attr\">centroid</span>: arc.<span class=\"title function_\">centroid</span>(pie[i]),</span><br><span class=\"line\">        <span class=\"comment\">// 將顯示的文字轉成易閱讀的格式</span></span><br><span class=\"line\">        <span class=\"attr\">percentage</span>: <span class=\"title function_\">format</span>(e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span>)</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/DonutChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看直條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/b5xMuJcWbNk6hgHI5RT0FbGiIN6_XK8pJsXqSmiK-6kXykrTkgYLC4rOtrpZt1fcw3OjOtjgwvNHBkewBHST6Z1WoCrRPo6AD4oekyvYh24S1JS2ja2QGSMFyfhIOSD_eY9AZTvfprwIqDBPs3_E-sFsUpr1YcidoinaoGbhCRT9yJom_ztql5N6isa5lznQ_xLWkbg_8-3QS9_J21qVgBAly90yKebDGLrXmJFNyJG75wZP_vDIyINy2H2fYTg49-spVM76MavB-9ESNxSKFTRbAGaE3xcBR7wmAICq8SzP__ucHYOehi2sWGNsFbc4Vn3jf23QT2JXI6N9aLgmiwrDaRAkYDqGgpYPSJZPzW0gZZysf5nEHLluS8B2q_B5Ewrmz54HWF-ZVpSYoXYbC2G4ynMaOT7g83ils5zDDfZMitBqE9zb7l8esPvxsKa-ODi4qoThsmlj5UfUjWsNT8XuxCb83VwCjPbVF5fZdNJcuC5SAaFqN1IjdKRAwMpgq3ukvg6ITv4TjPSDGE8MXnNQzG2kff-bSnzWUxWaVVA79aRyw4dmEuy74tMV8nTMVZRmQ7o8sRJEzp11f0Qvz91Lqn0HRvEzt6uigBkrfLqno0m0alzaIJj8nBhy2CUEP7BR_VsHtZ1s_GWD927Jbpl2n6o-lilU=w1024-h983-no\" alt=\"甜甜圈圖完成\" title=\"甜甜圈圖\"></p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>這次要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做 <code>SVG</code> 甜甜圈圖囉～如果要做中間不要洞的圓餅圖，把內圈半徑改成 0 即可。</p>","more":"<p>一開始想說動畫的部分希望由 <code>CSS</code> <code>transition</code> 來主導 <code>stroke-dasharray</code> 進行動畫，但後來發現沒有實際的圖形範圍做 <code>Tooltip</code> 的功能（因為 <code>CSS</code> 做的圓圈每個都一樣，只是透過 <code>stroke-dasharray</code> 長度不同造成甜甜圈的假象）。所以後來透過 <code>D3</code> 計算每個區塊的 <code>&lt;path&gt;</code> 才得以完成 <code>Tooltip</code> 的功能。因為以上種種的考量後，下面就拆分成兩個部分來解釋，一個部分是執行動畫的 <code>&lt;circle&gt;</code> 部分，另一個則是製作 <code>Tooltip</code> 功能的 <code>&lt;path&gt;</code> 部分。</p>\n<hr>\n<h2 id=\"執行動畫的-lt-circle-gt\"><a href=\"#執行動畫的-lt-circle-gt\" class=\"headerlink\" title=\"執行動畫的 &lt;circle&gt;\"></a>執行動畫的 <code>&lt;circle&gt;</code></h2><p><img src=\"https://lh3.googleusercontent.com/y3ciNP2itQDbjSzjgXxlukSy-kfrNSRuyhAcs6afRYhZoU3jMXL7jB098ANZEWAV8eSsovPlqPCgjuwx5dbtff_ItDj6vvTBiPPmTQRyThIX-XHeeXwgoWCFeGji1KA9DJRyY2_lRjoV0elfwsKcyVn1VaIICoGD5uFBiH2K5vbJvuTPnOLXcgE4Ng6rQZ8d6NNEHWYtPa0UqaGtMpbBXzVGFQmA7U48vwIJdQJwzuyYy0Pj6dmfa7IVDUCSOp84EXTO0tZsoBufOpjUF9miUGNwoQS43xwKtPfl0ur6cA4hTpbn9FlCU4rDym8Jaa9mkBarS8T1Y8hH09udOeiv9dIaKJrniqoXnf4G3wTB79sKLVmDiKv6vQIB504mby_sbn1c3aQVoQlyJfahu59J2IRVFlZ1_jVpkSi9SCu9kf-O_gyMdCQcID79yYuLKsq3nG5X-UwlbX5SDKvPif8YW-r0MtdxZVuMX95Ot4FB0nh5M0l3pSd2NhllyL_Xsa4U9MwgKQB6vPCajdSYNsM6NtTgfUKJfUFANreODCXT9uYwCLd50nkUhOcf9QA0k3gORRJxbDozlchw4y8nuc3EA3G36KVFLM50NYjLnHmw19i05cEnduWlg3d--Ku4Hx6n_NQwPEFjsJVZpX2IU5VZdXU4PBRKgBWS=w600-h576-no\" alt=\"執行動畫的 &lt;circle&gt;\" title=\"&lt;circle&gt;\"></p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 執行動畫的圓圈 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;circle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(c, key) in donut&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">ref</span>=<span class=\"string\">&quot;circles&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;c.percentage&#125;$&#123;c.offset&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:r</span>=<span class=\"string\">&quot;radius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:cx</span>=<span class=\"string\">&quot;chart.outerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:cy</span>=<span class=\"string\">&quot;chart.outerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke-width</span>=<span class=\"string\">&quot;chart.outerRadius - chart.innerRadius&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke-dashoffset</span>=<span class=\"string\">&quot;c.offset&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:stroke</span>=<span class=\"string\">&quot;c.color&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">fill</span>= <span class=\"string\">&quot;transparent&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.donutChart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* 說明 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.detail</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: gray;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\">  <span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">        <span class=\"comment\">/* 因為 &lt;circle&gt; 0 度從右邊開始，但我們想要從上方開始，所以加了往上旋轉 90 度變形 */</span></span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">rotate</span>(-<span class=\"number\">90deg</span>);</span><br><span class=\"line\">        <span class=\"selector-class\">.circle</span> &#123;</span><br><span class=\"line\">          <span class=\"attribute\">transition</span>: <span class=\"number\">1s</span>; <span class=\"comment\">/* 漸變動畫進行的秒數 */</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 圓周長</span></span><br><span class=\"line\">    <span class=\"title function_\">circum</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// circumference = 2 * pi * radius</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\">    <span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory20c</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 所有資料值總合</span></span><br><span class=\"line\">    <span class=\"title function_\">totalSum</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          sum = sum + e.<span class=\"property\">value</span>;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> sum;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// &lt;circle&gt; 屬性</span></span><br><span class=\"line\">    <span class=\"title function_\">donut</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> afterPer = <span class=\"number\">0</span>; <span class=\"comment\">// 把前面的 percentage 累加 (0.xxx)</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 產生 &lt;circle&gt; 屬性陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 新增陣列</span></span><br><span class=\"line\">          newArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 拿來計算跑動畫的線條長度 （在 randomData 後半）</span></span><br><span class=\"line\">            <span class=\"attr\">percentage</span>: e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span> * <span class=\"number\">100</span>,</span><br><span class=\"line\">            <span class=\"comment\">// 位移長度 = 圓周長 * (1 - 前面累加的長度比例)</span></span><br><span class=\"line\">            <span class=\"attr\">offset</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> * (<span class=\"number\">1</span> - afterPer),</span><br><span class=\"line\">            <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i) <span class=\"comment\">// 填色</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 把前面的 percentage 累加 (0.xxx)</span></span><br><span class=\"line\">          afterPer = afterPer + e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span>;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> newArray;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 用 js 跑展開動畫</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.$nextTick().<span class=\"title function_\">then</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// DOM updated</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">donut</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">el, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> totalTime = <span class=\"number\">100</span>; <span class=\"comment\">// 設定切換 css 狀態的時間間隔</span></span><br><span class=\"line\">          <span class=\"keyword\">let</span> stroke = <span class=\"variable language_\">this</span>.<span class=\"title function_\">dasharray</span>(el.<span class=\"property\">percentage</span>); <span class=\"comment\">// 計算 stroke-dasharray</span></span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 起始位置</span></span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">circles</span>[index].<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">`stroke-dasharray: 0 <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.circum&#125;</span>; opacity: 0`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"comment\">// 設定 Interval</span></span><br><span class=\"line\">          <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 結束位置</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">circles</span>[index].<span class=\"property\">style</span>.<span class=\"property\">cssText</span> = <span class=\"string\">`stroke-dasharray: <span class=\"subst\">$&#123;stroke.dash&#125;</span> <span class=\"subst\">$&#123;stroke.gap&#125;</span>; opacity: 1`</span>;</span><br><span class=\"line\">          &#125;, totalTime);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 計算 stroke-dasharray 的 dash &amp; gap</span></span><br><span class=\"line\">    <span class=\"title function_\">dasharray</span>(<span class=\"params\">percentage</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> dash = <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> / <span class=\"number\">100</span> * percentage; <span class=\"comment\">// percentage %</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> gap = <span class=\"variable language_\">this</span>.<span class=\"property\">circum</span> / <span class=\"number\">100</span> * (<span class=\"number\">100</span> - percentage);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123; <span class=\"attr\">dash</span>: dash, <span class=\"attr\">gap</span>: gap &#125;;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"製作-Tooltip-功能的-lt-path-gt\"><a href=\"#製作-Tooltip-功能的-lt-path-gt\" class=\"headerlink\" title=\"製作 Tooltip 功能的 &lt;path&gt;\"></a>製作 <code>Tooltip</code> 功能的 <code>&lt;path&gt;</code></h2><p><img src=\"https://lh3.googleusercontent.com/PYNMBI1NGyZvd-VuUfGSGcZR5B4HlbvrPPyBFGPPRV93iTPzhYyQoGipBmZw7xLAuHGvYALgqaunKM3AygQOJQvN-vf7JqiJqyu3pGsrqHOizHIAb37MK7__M8Z7bGsBYqgfhKsmmFr6hnHcYD2V8KUAD8LesMx6bPBvxvw1HdFeAHFIm3zeOtnzdYLeo9CoPE0Cjk-V_SylGwg8vNmp11OBESjJbGfshslHV0ih3FHkB5F7DmGbzY_7usoUDnVOgXdzFAIFMlWrJnR-k_Y_HYeOgfZkk5__OqhokFbvBsAYmuHhIWLNIin3Zs96XgVgF0DAKDLdpJfpVthZTdSdAXYmE9izJnaNf5AbeXKgtspy8ARAoXx4h3soWWg8IorSidCfULUEtUOtNWQ8ZBJ-fGqSzCXYFB4Yr12RI4YDaoB1e51JATaQGDmIu8hwbaUoUecZe0Ryo04VjUZ1bGmRzXMmsoRvNcb2rkPF3n-t1csEU48dxSzZgcgRm7gCWprA2qRbIt-5c_LthwXteMkFsYQj3XRxmZTvl9AOom7Ypme0juX6tcjHEj1ogkSopwGhxr-NZvHNU5qax5vKIcpBF5wLpdAS7INTkNsr_Dxyo3-rTk8tFriT8b2mTY9vLCWOrNm2_seIi8ZM74qPVq-jc9HqE8AfvS8V=w600-h576-no\" alt=\"製作 Tooltip 功能的 &lt;path&gt;\" title=\"&lt;path&gt;\"></p>\n<p>這邊你可能會發現很奇怪的事情，就是為什麼上面已經算過百分比了，但這邊還要再算一次？如果仔細看的話，你應該會發現這邊的百分比是用在甜甜圈上方顯示的文字。想一想，如果統計圖出現小數點後十六位數的百分比，是不是超奇怪！！！所以這邊文字其實是透過 <code>D3</code> 格式換算成我們較易閱讀的百分比，並不是真實的比例。</p>\n<ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 滑鼠滑過的區塊 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">class</span>=<span class=\"string\">&quot;arc&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(p, key) in pie&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;p.d&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate($&#123;chart.outerRadius&#125;,$&#123;chart.outerRadius&#125;) rotate(90)`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">fill</span>=<span class=\"string\">&quot;transparent&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:d</span>=<span class=\"string\">&quot;p.d&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 文字位置需要由 path 的座標透過 D3 計算，才能把文字放在各自的區塊中間。 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">text</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate($&#123;p.centroid&#125;)`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">fill</span>=<span class=\"string\">&quot;white&quot;</span>&gt;</span>&#123;&#123; p.percentage &#125;&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">pie</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\">  <span class=\"keyword\">let</span> format = d3.<span class=\"title function_\">format</span>(<span class=\"string\">&quot;.0%&quot;</span>); <span class=\"comment\">// D3 格式化單位（百分比）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> pie = d3</span><br><span class=\"line\">    .<span class=\"title function_\">pie</span>() <span class=\"comment\">// 使用 pie 函數</span></span><br><span class=\"line\">    .<span class=\"title function_\">sort</span>(<span class=\"literal\">null</span>) <span class=\"comment\">// 不做重新排序</span></span><br><span class=\"line\">    .<span class=\"title function_\">value</span>(<span class=\"keyword\">function</span>(<span class=\"params\">d</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> d.<span class=\"property\">value</span>;</span><br><span class=\"line\">    &#125;)(<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>); <span class=\"comment\">// 為了等下要使用 arc 角度，先造好 pie 物件</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生 &lt;path&gt; &amp; &lt;text&gt; 屬性陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 準備好 arc 路徑</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> arc = d3</span><br><span class=\"line\">        .<span class=\"title function_\">arc</span>() <span class=\"comment\">// 使用 arc 函數</span></span><br><span class=\"line\">        .<span class=\"title function_\">innerRadius</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">innerRadius</span>) <span class=\"comment\">// 甜甜圈內半徑</span></span><br><span class=\"line\">        .<span class=\"title function_\">outerRadius</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">outerRadius</span>); <span class=\"comment\">// 甜甜圈外半徑</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 新增陣列</span></span><br><span class=\"line\">      newArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 計算 path 路徑，使用剛剛造好的 arc 函數</span></span><br><span class=\"line\">        <span class=\"attr\">d</span>: <span class=\"title function_\">arc</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 透過上方建立的 pie 函數，得知 arc 的起始角度</span></span><br><span class=\"line\">          <span class=\"attr\">startAngle</span>: pie[i].<span class=\"property\">startAngle</span>, </span><br><span class=\"line\">          <span class=\"comment\">// 透過上方建立的 pie 函數，得知 arc 的結束角度</span></span><br><span class=\"line\">          <span class=\"attr\">endAngle</span>: pie[i].<span class=\"property\">endAngle</span></span><br><span class=\"line\">        &#125;),</span><br><span class=\"line\">        <span class=\"comment\">// 使用 arc.centroid 函數取得 &lt;text&gt; 相對於 &lt;path&gt; 位移至正中間 x, y</span></span><br><span class=\"line\">        <span class=\"attr\">centroid</span>: arc.<span class=\"title function_\">centroid</span>(pie[i]),</span><br><span class=\"line\">        <span class=\"comment\">// 將顯示的文字轉成易閱讀的格式</span></span><br><span class=\"line\">        <span class=\"attr\">percentage</span>: <span class=\"title function_\">format</span>(e.<span class=\"property\">value</span> / <span class=\"variable language_\">this</span>.<span class=\"property\">totalSum</span>)</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/DonutChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看直條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/b5xMuJcWbNk6hgHI5RT0FbGiIN6_XK8pJsXqSmiK-6kXykrTkgYLC4rOtrpZt1fcw3OjOtjgwvNHBkewBHST6Z1WoCrRPo6AD4oekyvYh24S1JS2ja2QGSMFyfhIOSD_eY9AZTvfprwIqDBPs3_E-sFsUpr1YcidoinaoGbhCRT9yJom_ztql5N6isa5lznQ_xLWkbg_8-3QS9_J21qVgBAly90yKebDGLrXmJFNyJG75wZP_vDIyINy2H2fYTg49-spVM76MavB-9ESNxSKFTRbAGaE3xcBR7wmAICq8SzP__ucHYOehi2sWGNsFbc4Vn3jf23QT2JXI6N9aLgmiwrDaRAkYDqGgpYPSJZPzW0gZZysf5nEHLluS8B2q_B5Ewrmz54HWF-ZVpSYoXYbC2G4ynMaOT7g83ils5zDDfZMitBqE9zb7l8esPvxsKa-ODi4qoThsmlj5UfUjWsNT8XuxCb83VwCjPbVF5fZdNJcuC5SAaFqN1IjdKRAwMpgq3ukvg6ITv4TjPSDGE8MXnNQzG2kff-bSnzWUxWaVVA79aRyw4dmEuy74tMV8nTMVZRmQ7o8sRJEzp11f0Qvz91Lqn0HRvEzt6uigBkrfLqno0m0alzaIJj8nBhy2CUEP7BR_VsHtZ1s_GWD927Jbpl2n6o-lilU=w1024-h983-no\" alt=\"甜甜圈圖完成\" title=\"甜甜圈圖\"></p>"},{"title":"D3 v4 with Vue - SVG Horizontal Bar Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-03-03T16:00:00.000Z","updated":"2018-03-03T16:00:00.000Z","_content":"\n今天要來練習用 `D3` 搭配 `Vue` 做簡易的 `SVG` 橫條圖囉～\n\n<!--more-->\n\n上一篇有描述過:\n\n* 準備 `SVG` 畫布\n\n* 準備隨機資料\n\n* 加上提示資料的 tooltip\n\n這幾個部分大同小異，所以這裡就不再次解釋，我們直接從處理座標軸開始說起。\n\n***\n## 插入座標軸\n\n* HTML\n\n```html\n<!-- X軸座標 -->\n<g :transform=\"`translate(0, ${chart.height})`\" class=\"axis axisX\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\"></g>\n<!-- Y軸座標 -->\n<g class=\"axis axisY\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"></g>\n<!-- Y軸標籤 -->\n<text class=\"axisYText\" :x=\"axisYText[0]\" :y=\"axisYText[1]\" dy=\"1em\" text-anchor=\"middle\">件數</text>\n```\n\n* CSS\n\n```css\n.chart {\n  ......\n  .chartWrap {\n    .axis.axisX {\n      .domain {\n        display: none;\n      }\n      .tick {\n        line {\n          stroke: #efefef;\n          stroke-width: 2;\n          stroke-dasharray: 1, 6;\n          stroke-linecap: round;\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。\n\n```js\n// X軸線性比例縮放\nxScale() {\n  let Xmin = 0;\n  let Xmax; // 找出所有X值的最大\n  let newArray = [];\n\n  // 找出所有X值的最大數\n  this.data.value.forEach(function(e) {\n    newArray.push(e.number);\n  });\n  Xmax = d3.max(newArray);\n\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([Xmin, Xmax]) // 設定轉換後的定義域\n    .range([0, this.chart.width]); // 設定轉換前的範圍\n},\n// X軸設定\nxAxis() {\n  return d3\n    .axisBottom(this.xScale) // 下方座標軸函式\n    .tickSizeInner(-this.chart.width); // 設定内侧刻度大小\n},\n```\n\n```js\n// Y軸線性比例縮放\nyScale() {\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([0, this.data.value.length + 1]) // 設定轉換後的定義域\n    .range([this.chart.height, 0]); // 設定轉換前的範圍\n},\n// Y軸設定\nyAxis() {\n  // 計算座標軸標註點個數，小於三個月要多加一個標註點 （ex: 6~10月，共 5 個標註點）\n  let tickNum =\n    this.valueLength < 3 ? this.valueLength + 1 : this.valueLength;\n\n  return d3\n    .axisLeft(this.yScale) // 左方座標軸函式\n    .ticks(tickNum) // 設定座標軸標註點個數\n    .tickFormat((d, i) => { // 設定標註點呈現的文字陣列\n      return this.yLabel[i];\n    });\n},\n```\n\n在每次隨機資料後，動態插入座標軸。\n\n```js\nrandomData() {\n  ......\n  //清除坐標軸\n  document.querySelector(\".chart .axisX\").innerHTML = \"\";\n  document.querySelector(\".chart .axisY\").innerHTML = \"\";\n\n  // 插入X軸座標\n  d3.select(\".chart .axisX\").call(this.xAxis);\n  // 插入Y軸座標\n  d3.select(\".chart .axisY\").call(this.yAxis);\n},\n```\n\n***\n## 繪製橫條\n\n* HTML\n\n```html\n<!-- 橫條 -->\n<transition-group tag=\"g\" name=\"growBarp\">\n  <rect class=\"bar\" v-for=\"(rect, key) in bar\" :key=\"`${key}${rect.width}${rect.y}`\" :fill=\"rect.color\" :x=\"rect.x\" :y=\"rect.y\" :width=\"rect.width\" :height=\"rect.height\" v-on:mouseover=\"showTooltip(key, $event)\" v-on:mouseout=\"hiddenTooltip\"></rect>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growBarp-enter-active { /* 進入動畫：進行中 */\n  transition: all 1s; /* 動畫時間： 1秒 */\n}\n.growBarp-enter { /* 進入動畫：開始 */\n  transform: scaleX(0); /* 水平縮放從0開始 */\n  opacity: 0; /* 淡入從透明度0開始 */\n}\n```\n\n* JS\n\n```js\n// 顏色函數\ncolor() {\n  // 使用 D3 內建 10種顏色輪迴的函式\n  return d3.scaleOrdinal(d3.schemeCategory10);\n},\n// 橫條寬度、間隔設定\nbarWidth() {\n  // 間隔\n  let gap = 20;\n\n  // 計算橫條的寬度\n  return this.chart.height / (this.valueLength + 1) - gap;\n},\n// 橫條座標、顏色\nbar() {\n  let rectArray = [];\n\n  // 產生橫條的陣列\n  if (this.data.value) {\n    this.data.value.forEach((e, i) => {\n      rectArray.push({\n        color: this.color(0), // 設定顏色\n        x: 0, // 設定x座標\n        y: this.yScale(i + 1) - this.barWidth / 2, // 設定y座標\n        width: this.xScale(e.number), // 設定寬度\n        height: this.barWidth // 設定高度\n      });\n    });\n  }\n\n  return rectArray;\n},\n// 橫條文字座標、內容\nbarText() {\n  let textArray = [];\n\n  // 產生橫條文字的陣列\n  if (this.data.value) {\n    this.data.value.forEach((e, i) => {\n      textArray.push({\n        x: this.xScale(e.number) - 20, // 設定x座標\n        y: this.yScale(i + 1) + 5, // 設定y座標\n        number: e.number // 設定顯示的值\n      });\n    });\n  }\n\n  return textArray;\n}\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarPChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看橫條圖的 Demo，我們下回見～\n\n![橫條圖完成](https://lh3.googleusercontent.com/UKjKyxBO-9dZHOpAj_zv75uJiYbW2rclJzVfNf9H4pqSaBjORKXVtpnXTn_c023LtDb54pUS-ggsy_aa73DpxRLm7pSCfpHAbGqjswpoc7DZz4vX5_5a2TCpGvQMZCAAuvGw-k4bw4zy0qIuC-1pccneHc2y6dS8zrL3oNZega1lV4RP1zj_C4G5tIoU3TKKeFh-KdNZO5W36ZLahvjumi066FUJX04CbLc5i5TW6pADmptSPfcQ4xgrH4CeM76pTW8WwQytXOWscAt-OJPuEHcMx7gdQJGvCpCI1OUNLViG4PoVNT3aDvzYX51sw0rR8V3mX0QZTtkQQCmLFfK71iX7xJgHKb_CAOCbq1EdiC4jpp4js_iny-ssB8YQafwzLoZQIQk81Fia7OUzoTUxQ02QkNHwjItDFek050IVMBKClKwPLx1o7anAND860jT6A5lZmwG9QVjkfNO4TMcKbGyTjaEDEXgnZIy51qYTj2tTDxN2J1na7cgvjG8U1X-7vPr0rAWa-qXS2kDJIQdStT6Byh058BeIqMQpjtXeGZXLgxlDo4A8qSL6GfVxioJpvBvKsQApY5d_O1i0O_CMMEb5IIUTXL5OYerBURrTozs4V6ypZUc3aQTiV1O_MTtFFqOlM3PAufGC2QNwZghUolODR6rk2Ae6=w921-h1024-no \"橫條圖\")","source":"_posts/D3/D3-v4-with-Vue-SVG-Horizontal-Bar-Chart.md","raw":"---\ntitle: D3 v4 with Vue - SVG Horizontal Bar Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, SVG]\ndate: 2018/03/04\nupdated: 2018/03/04\n---\n\n今天要來練習用 `D3` 搭配 `Vue` 做簡易的 `SVG` 橫條圖囉～\n\n<!--more-->\n\n上一篇有描述過:\n\n* 準備 `SVG` 畫布\n\n* 準備隨機資料\n\n* 加上提示資料的 tooltip\n\n這幾個部分大同小異，所以這裡就不再次解釋，我們直接從處理座標軸開始說起。\n\n***\n## 插入座標軸\n\n* HTML\n\n```html\n<!-- X軸座標 -->\n<g :transform=\"`translate(0, ${chart.height})`\" class=\"axis axisX\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\"></g>\n<!-- Y軸座標 -->\n<g class=\"axis axisY\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\"></g>\n<!-- Y軸標籤 -->\n<text class=\"axisYText\" :x=\"axisYText[0]\" :y=\"axisYText[1]\" dy=\"1em\" text-anchor=\"middle\">件數</text>\n```\n\n* CSS\n\n```css\n.chart {\n  ......\n  .chartWrap {\n    .axis.axisX {\n      .domain {\n        display: none;\n      }\n      .tick {\n        line {\n          stroke: #efefef;\n          stroke-width: 2;\n          stroke-dasharray: 1, 6;\n          stroke-linecap: round;\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。\n\n```js\n// X軸線性比例縮放\nxScale() {\n  let Xmin = 0;\n  let Xmax; // 找出所有X值的最大\n  let newArray = [];\n\n  // 找出所有X值的最大數\n  this.data.value.forEach(function(e) {\n    newArray.push(e.number);\n  });\n  Xmax = d3.max(newArray);\n\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([Xmin, Xmax]) // 設定轉換後的定義域\n    .range([0, this.chart.width]); // 設定轉換前的範圍\n},\n// X軸設定\nxAxis() {\n  return d3\n    .axisBottom(this.xScale) // 下方座標軸函式\n    .tickSizeInner(-this.chart.width); // 設定内侧刻度大小\n},\n```\n\n```js\n// Y軸線性比例縮放\nyScale() {\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([0, this.data.value.length + 1]) // 設定轉換後的定義域\n    .range([this.chart.height, 0]); // 設定轉換前的範圍\n},\n// Y軸設定\nyAxis() {\n  // 計算座標軸標註點個數，小於三個月要多加一個標註點 （ex: 6~10月，共 5 個標註點）\n  let tickNum =\n    this.valueLength < 3 ? this.valueLength + 1 : this.valueLength;\n\n  return d3\n    .axisLeft(this.yScale) // 左方座標軸函式\n    .ticks(tickNum) // 設定座標軸標註點個數\n    .tickFormat((d, i) => { // 設定標註點呈現的文字陣列\n      return this.yLabel[i];\n    });\n},\n```\n\n在每次隨機資料後，動態插入座標軸。\n\n```js\nrandomData() {\n  ......\n  //清除坐標軸\n  document.querySelector(\".chart .axisX\").innerHTML = \"\";\n  document.querySelector(\".chart .axisY\").innerHTML = \"\";\n\n  // 插入X軸座標\n  d3.select(\".chart .axisX\").call(this.xAxis);\n  // 插入Y軸座標\n  d3.select(\".chart .axisY\").call(this.yAxis);\n},\n```\n\n***\n## 繪製橫條\n\n* HTML\n\n```html\n<!-- 橫條 -->\n<transition-group tag=\"g\" name=\"growBarp\">\n  <rect class=\"bar\" v-for=\"(rect, key) in bar\" :key=\"`${key}${rect.width}${rect.y}`\" :fill=\"rect.color\" :x=\"rect.x\" :y=\"rect.y\" :width=\"rect.width\" :height=\"rect.height\" v-on:mouseover=\"showTooltip(key, $event)\" v-on:mouseout=\"hiddenTooltip\"></rect>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growBarp-enter-active { /* 進入動畫：進行中 */\n  transition: all 1s; /* 動畫時間： 1秒 */\n}\n.growBarp-enter { /* 進入動畫：開始 */\n  transform: scaleX(0); /* 水平縮放從0開始 */\n  opacity: 0; /* 淡入從透明度0開始 */\n}\n```\n\n* JS\n\n```js\n// 顏色函數\ncolor() {\n  // 使用 D3 內建 10種顏色輪迴的函式\n  return d3.scaleOrdinal(d3.schemeCategory10);\n},\n// 橫條寬度、間隔設定\nbarWidth() {\n  // 間隔\n  let gap = 20;\n\n  // 計算橫條的寬度\n  return this.chart.height / (this.valueLength + 1) - gap;\n},\n// 橫條座標、顏色\nbar() {\n  let rectArray = [];\n\n  // 產生橫條的陣列\n  if (this.data.value) {\n    this.data.value.forEach((e, i) => {\n      rectArray.push({\n        color: this.color(0), // 設定顏色\n        x: 0, // 設定x座標\n        y: this.yScale(i + 1) - this.barWidth / 2, // 設定y座標\n        width: this.xScale(e.number), // 設定寬度\n        height: this.barWidth // 設定高度\n      });\n    });\n  }\n\n  return rectArray;\n},\n// 橫條文字座標、內容\nbarText() {\n  let textArray = [];\n\n  // 產生橫條文字的陣列\n  if (this.data.value) {\n    this.data.value.forEach((e, i) => {\n      textArray.push({\n        x: this.xScale(e.number) - 20, // 設定x座標\n        y: this.yScale(i + 1) + 5, // 設定y座標\n        number: e.number // 設定顯示的值\n      });\n    });\n  }\n\n  return textArray;\n}\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarPChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看橫條圖的 Demo，我們下回見～\n\n![橫條圖完成](https://lh3.googleusercontent.com/UKjKyxBO-9dZHOpAj_zv75uJiYbW2rclJzVfNf9H4pqSaBjORKXVtpnXTn_c023LtDb54pUS-ggsy_aa73DpxRLm7pSCfpHAbGqjswpoc7DZz4vX5_5a2TCpGvQMZCAAuvGw-k4bw4zy0qIuC-1pccneHc2y6dS8zrL3oNZega1lV4RP1zj_C4G5tIoU3TKKeFh-KdNZO5W36ZLahvjumi066FUJX04CbLc5i5TW6pADmptSPfcQ4xgrH4CeM76pTW8WwQytXOWscAt-OJPuEHcMx7gdQJGvCpCI1OUNLViG4PoVNT3aDvzYX51sw0rR8V3mX0QZTtkQQCmLFfK71iX7xJgHKb_CAOCbq1EdiC4jpp4js_iny-ssB8YQafwzLoZQIQk81Fia7OUzoTUxQ02QkNHwjItDFek050IVMBKClKwPLx1o7anAND860jT6A5lZmwG9QVjkfNO4TMcKbGyTjaEDEXgnZIy51qYTj2tTDxN2J1na7cgvjG8U1X-7vPr0rAWa-qXS2kDJIQdStT6Byh058BeIqMQpjtXeGZXLgxlDo4A8qSL6GfVxioJpvBvKsQApY5d_O1i0O_CMMEb5IIUTXL5OYerBURrTozs4V6ypZUc3aQTiV1O_MTtFFqOlM3PAufGC2QNwZghUolODR6rk2Ae6=w921-h1024-no \"橫條圖\")","slug":"D3/D3-v4-with-Vue-SVG-Horizontal-Bar-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pr000hr3y73lbyeqfl","content":"<p>今天要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做簡易的 <code>SVG</code> 橫條圖囉～</p>\n<span id=\"more\"></span>\n\n<p>上一篇有描述過:</p>\n<ul>\n<li><p>準備 <code>SVG</code> 畫布</p>\n</li>\n<li><p>準備隨機資料</p>\n</li>\n<li><p>加上提示資料的 tooltip</p>\n</li>\n</ul>\n<p>這幾個部分大同小異，所以這裡就不再次解釋，我們直接從處理座標軸開始說起。</p>\n<hr>\n<h2 id=\"插入座標軸\"><a href=\"#插入座標軸\" class=\"headerlink\" title=\"插入座標軸\"></a>插入座標軸</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- X軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate(0, $&#123;chart.height&#125;)`&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisX&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisY&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;end&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸標籤 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axisYText&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;axisYText[0]&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;axisYText[1]&quot;</span> <span class=\"attr\">dy</span>=<span class=\"string\">&quot;1em&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span>件數<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.axis</span><span class=\"selector-class\">.axisX</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.domain</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"selector-class\">.tick</span> &#123;</span><br><span class=\"line\">        line &#123;</span><br><span class=\"line\">          stroke: <span class=\"number\">#efefef</span>;</span><br><span class=\"line\">          stroke-<span class=\"attribute\">width</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\">          stroke-dasharray: <span class=\"number\">1</span>, <span class=\"number\">6</span>;</span><br><span class=\"line\">          stroke-linecap: round;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// X軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">xScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Xmin</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Xmax</span>; <span class=\"comment\">// 找出所有X值的最大</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 找出所有X值的最大數</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    newArray.<span class=\"title function_\">push</span>(e.<span class=\"property\">number</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"title class_\">Xmax</span> = d3.<span class=\"title function_\">max</span>(newArray);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"title class_\">Xmin</span>, <span class=\"title class_\">Xmax</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// X軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">xAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisBottom</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xScale</span>) <span class=\"comment\">// 下方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickSizeInner</span>(-<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>); <span class=\"comment\">// 設定内侧刻度大小</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">yScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"property\">length</span> + <span class=\"number\">1</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>, <span class=\"number\">0</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// Y軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">yAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 計算座標軸標註點個數，小於三個月要多加一個標註點 （ex: 6~10月，共 5 個標註點）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickNum =</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> &lt; <span class=\"number\">3</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span> : <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisLeft</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yScale</span>) <span class=\"comment\">// 左方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">ticks</span>(tickNum) <span class=\"comment\">// 設定座標軸標註點個數</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickFormat</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123; <span class=\"comment\">// 設定標註點呈現的文字陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">yLabel</span>[i];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>在每次隨機資料後，動態插入座標軸。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"comment\">//清除坐標軸</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 插入X軸座標</span></span><br><span class=\"line\">  d3.<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>).<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 插入Y軸座標</span></span><br><span class=\"line\">  d3.<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>).<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製橫條\"><a href=\"#繪製橫條\" class=\"headerlink\" title=\"繪製橫條\"></a>繪製橫條</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 橫條 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBarp&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">rect</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bar&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(rect, key) in bar&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;rect.width&#125;$&#123;rect.y&#125;`&quot;</span> <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;rect.color&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;rect.x&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;rect.y&quot;</span> <span class=\"attr\">:width</span>=<span class=\"string\">&quot;rect.width&quot;</span> <span class=\"attr\">:height</span>=<span class=\"string\">&quot;rect.height&quot;</span> <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rect</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growBarp-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">1s</span>; <span class=\"comment\">/* 動畫時間： 1秒 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growBarp-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0</span>); <span class=\"comment\">/* 水平縮放從0開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 淡入從透明度0開始 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\"><span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 使用 D3 內建 10種顏色輪迴的函式</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory10</span>);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條寬度、間隔設定</span></span><br><span class=\"line\"><span class=\"title function_\">barWidth</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 間隔</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> gap = <span class=\"number\">20</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 計算橫條的寬度</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> / (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span>) - gap;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條座標、顏色</span></span><br><span class=\"line\"><span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rectArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生橫條的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      rectArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(<span class=\"number\">0</span>), <span class=\"comment\">// 設定顏色</span></span><br><span class=\"line\">        <span class=\"attr\">x</span>: <span class=\"number\">0</span>, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">        <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(i + <span class=\"number\">1</span>) - <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>, <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(e.<span class=\"property\">number</span>), <span class=\"comment\">// 設定寬度</span></span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> <span class=\"comment\">// 設定高度</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> rectArray;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條文字座標、內容</span></span><br><span class=\"line\"><span class=\"title function_\">barText</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> textArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生橫條文字的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      textArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">x</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(e.<span class=\"property\">number</span>) - <span class=\"number\">20</span>, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">        <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(i + <span class=\"number\">1</span>) + <span class=\"number\">5</span>, <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">        <span class=\"attr\">number</span>: e.<span class=\"property\">number</span> <span class=\"comment\">// 設定顯示的值</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> textArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarPChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看橫條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/UKjKyxBO-9dZHOpAj_zv75uJiYbW2rclJzVfNf9H4pqSaBjORKXVtpnXTn_c023LtDb54pUS-ggsy_aa73DpxRLm7pSCfpHAbGqjswpoc7DZz4vX5_5a2TCpGvQMZCAAuvGw-k4bw4zy0qIuC-1pccneHc2y6dS8zrL3oNZega1lV4RP1zj_C4G5tIoU3TKKeFh-KdNZO5W36ZLahvjumi066FUJX04CbLc5i5TW6pADmptSPfcQ4xgrH4CeM76pTW8WwQytXOWscAt-OJPuEHcMx7gdQJGvCpCI1OUNLViG4PoVNT3aDvzYX51sw0rR8V3mX0QZTtkQQCmLFfK71iX7xJgHKb_CAOCbq1EdiC4jpp4js_iny-ssB8YQafwzLoZQIQk81Fia7OUzoTUxQ02QkNHwjItDFek050IVMBKClKwPLx1o7anAND860jT6A5lZmwG9QVjkfNO4TMcKbGyTjaEDEXgnZIy51qYTj2tTDxN2J1na7cgvjG8U1X-7vPr0rAWa-qXS2kDJIQdStT6Byh058BeIqMQpjtXeGZXLgxlDo4A8qSL6GfVxioJpvBvKsQApY5d_O1i0O_CMMEb5IIUTXL5OYerBURrTozs4V6ypZUc3aQTiV1O_MTtFFqOlM3PAufGC2QNwZghUolODR6rk2Ae6=w921-h1024-no\" alt=\"橫條圖完成\" title=\"橫條圖\"></p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>今天要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做簡易的 <code>SVG</code> 橫條圖囉～</p>","more":"<p>上一篇有描述過:</p>\n<ul>\n<li><p>準備 <code>SVG</code> 畫布</p>\n</li>\n<li><p>準備隨機資料</p>\n</li>\n<li><p>加上提示資料的 tooltip</p>\n</li>\n</ul>\n<p>這幾個部分大同小異，所以這裡就不再次解釋，我們直接從處理座標軸開始說起。</p>\n<hr>\n<h2 id=\"插入座標軸\"><a href=\"#插入座標軸\" class=\"headerlink\" title=\"插入座標軸\"></a>插入座標軸</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- X軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate(0, $&#123;chart.height&#125;)`&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisX&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisY&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;end&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸標籤 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axisYText&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;axisYText[0]&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;axisYText[1]&quot;</span> <span class=\"attr\">dy</span>=<span class=\"string\">&quot;1em&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span>件數<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.axis</span><span class=\"selector-class\">.axisX</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.domain</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"selector-class\">.tick</span> &#123;</span><br><span class=\"line\">        line &#123;</span><br><span class=\"line\">          stroke: <span class=\"number\">#efefef</span>;</span><br><span class=\"line\">          stroke-<span class=\"attribute\">width</span>: <span class=\"number\">2</span>;</span><br><span class=\"line\">          stroke-dasharray: <span class=\"number\">1</span>, <span class=\"number\">6</span>;</span><br><span class=\"line\">          stroke-linecap: round;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// X軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">xScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Xmin</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Xmax</span>; <span class=\"comment\">// 找出所有X值的最大</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 找出所有X值的最大數</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    newArray.<span class=\"title function_\">push</span>(e.<span class=\"property\">number</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"title class_\">Xmax</span> = d3.<span class=\"title function_\">max</span>(newArray);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"title class_\">Xmin</span>, <span class=\"title class_\">Xmax</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// X軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">xAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisBottom</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xScale</span>) <span class=\"comment\">// 下方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickSizeInner</span>(-<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>); <span class=\"comment\">// 設定内侧刻度大小</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">yScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"property\">length</span> + <span class=\"number\">1</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>, <span class=\"number\">0</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// Y軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">yAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 計算座標軸標註點個數，小於三個月要多加一個標註點 （ex: 6~10月，共 5 個標註點）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tickNum =</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> &lt; <span class=\"number\">3</span> ? <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span> : <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisLeft</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yScale</span>) <span class=\"comment\">// 左方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">ticks</span>(tickNum) <span class=\"comment\">// 設定座標軸標註點個數</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickFormat</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123; <span class=\"comment\">// 設定標註點呈現的文字陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">yLabel</span>[i];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>在每次隨機資料後，動態插入座標軸。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"comment\">//清除坐標軸</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 插入X軸座標</span></span><br><span class=\"line\">  d3.<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>).<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>);</span><br><span class=\"line\">  <span class=\"comment\">// 插入Y軸座標</span></span><br><span class=\"line\">  d3.<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>).<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製橫條\"><a href=\"#繪製橫條\" class=\"headerlink\" title=\"繪製橫條\"></a>繪製橫條</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 橫條 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBarp&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">rect</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bar&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(rect, key) in bar&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;rect.width&#125;$&#123;rect.y&#125;`&quot;</span> <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;rect.color&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;rect.x&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;rect.y&quot;</span> <span class=\"attr\">:width</span>=<span class=\"string\">&quot;rect.width&quot;</span> <span class=\"attr\">:height</span>=<span class=\"string\">&quot;rect.height&quot;</span> <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rect</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growBarp-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">1s</span>; <span class=\"comment\">/* 動畫時間： 1秒 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growBarp-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0</span>); <span class=\"comment\">/* 水平縮放從0開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 淡入從透明度0開始 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\"><span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 使用 D3 內建 10種顏色輪迴的函式</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory10</span>);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條寬度、間隔設定</span></span><br><span class=\"line\"><span class=\"title function_\">barWidth</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 間隔</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> gap = <span class=\"number\">20</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 計算橫條的寬度</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> / (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span>) - gap;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條座標、顏色</span></span><br><span class=\"line\"><span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rectArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生橫條的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      rectArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(<span class=\"number\">0</span>), <span class=\"comment\">// 設定顏色</span></span><br><span class=\"line\">        <span class=\"attr\">x</span>: <span class=\"number\">0</span>, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">        <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(i + <span class=\"number\">1</span>) - <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> / <span class=\"number\">2</span>, <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(e.<span class=\"property\">number</span>), <span class=\"comment\">// 設定寬度</span></span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> <span class=\"comment\">// 設定高度</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> rectArray;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 橫條文字座標、內容</span></span><br><span class=\"line\"><span class=\"title function_\">barText</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> textArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生橫條文字的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      textArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">x</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(e.<span class=\"property\">number</span>) - <span class=\"number\">20</span>, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">        <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(i + <span class=\"number\">1</span>) + <span class=\"number\">5</span>, <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">        <span class=\"attr\">number</span>: e.<span class=\"property\">number</span> <span class=\"comment\">// 設定顯示的值</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> textArray;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarPChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看橫條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/UKjKyxBO-9dZHOpAj_zv75uJiYbW2rclJzVfNf9H4pqSaBjORKXVtpnXTn_c023LtDb54pUS-ggsy_aa73DpxRLm7pSCfpHAbGqjswpoc7DZz4vX5_5a2TCpGvQMZCAAuvGw-k4bw4zy0qIuC-1pccneHc2y6dS8zrL3oNZega1lV4RP1zj_C4G5tIoU3TKKeFh-KdNZO5W36ZLahvjumi066FUJX04CbLc5i5TW6pADmptSPfcQ4xgrH4CeM76pTW8WwQytXOWscAt-OJPuEHcMx7gdQJGvCpCI1OUNLViG4PoVNT3aDvzYX51sw0rR8V3mX0QZTtkQQCmLFfK71iX7xJgHKb_CAOCbq1EdiC4jpp4js_iny-ssB8YQafwzLoZQIQk81Fia7OUzoTUxQ02QkNHwjItDFek050IVMBKClKwPLx1o7anAND860jT6A5lZmwG9QVjkfNO4TMcKbGyTjaEDEXgnZIy51qYTj2tTDxN2J1na7cgvjG8U1X-7vPr0rAWa-qXS2kDJIQdStT6Byh058BeIqMQpjtXeGZXLgxlDo4A8qSL6GfVxioJpvBvKsQApY5d_O1i0O_CMMEb5IIUTXL5OYerBURrTozs4V6ypZUc3aQTiV1O_MTtFFqOlM3PAufGC2QNwZghUolODR6rk2Ae6=w921-h1024-no\" alt=\"橫條圖完成\" title=\"橫條圖\"></p>"},{"title":"D3 v4 with Vue - SVG Line Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-02-02T16:00:00.000Z","updated":"2018-02-02T16:00:00.000Z","_content":"\n`D3` 是一個 `js library` ，讓開發者在向量繪圖時，能快速算出圖表物件在繪圖區域的路徑座標、座標軸、動態顏色等許多好用的 `function`。\n\n<!--more-->\n\n本系列文章採用 `vue` 搭配 `D3` 是因為使用 `data` 驅動畫面的方式，會比直接操作 `DOM` 的效能更好。 `D3` 內建的繪製功能是類似於 `jquery` 的方式直接操作 `DOM` ，當資料變多時可能會拖垮效能出現延遲的畫面，網路上許多教程初期是用此方式，想看的話 `google` 一下就有囉～\n\n此系列文章 `D3` 專注於使用他本身的計算函數和座標軸等優勢的功能，至於畫面更新等其他雜事就交給 `vue` 處理。當然，未來還有更多優化效能的方式，例如：SVG 換成 CANVAS 等，但都有其優缺點，等之後有空再來做比較。\n\n***\n## 準備 `SVG` 畫布\n\n* HTML\n\n```html\n<svg class=\"chart\" :viewBox=\"viewBox\" preserveAspectRatio=\"xMidYMin slice\">\n  <!-- 左上角起始點 -->\n  <g class=\"chartWrap\" :transform=\"startPoint\">\n  ...\n  </g>\n</svg>\n```\n\n* CSS\n\n```css\n.chart {\n  /* For IE Browser Auto Detact Width and Height (RWD)*/\n  width: 100%;\n  padding-bottom: 100%;\n  height: 1px;\n  overflow: visible;\n  ...\n}\n```\n\n* JS\n\n```js\nimport * as d3 from \"d3\";\n\nexport default {\n  data() {\n    return {\n      data: [], // From randomData()\n      chart: { // 畫布大小和預留的 padding\n        width: 500,\n        height: 500,\n        paddingTop: 30,\n        paddingRight: 30,\n        paddingBottom: 100,\n        paddingLeft: 60\n      },\n      hideTooltip: true // 控制 tooltip 顯示隱藏\n    };\n  },\n  computed: {\n    // 可視區域\n    viewBox() {\n      let viewW =\n        this.chart.width + this.chart.paddingRight + this.chart.paddingLeft;\n      let viewH =\n        this.chart.height + this.chart.paddingTop + this.chart.paddingBottom;\n\n      return `0 0 ${viewW} ${viewH}`;\n    },\n    // 畫圖起始點\n    startPoint() {\n      return `translate(${this.chart.paddingLeft}, ${this.chart.paddingTop})`;\n    },\n    ...\n  }\n}\n```\n\n***\n## 準備隨機資料\n\n* JS\n\n```js\n  methods: {\n    randomData() {\n      let min = 0; // 隨機產生數值的最小值\n      let max = 500; // 隨機產生數值的最大值\n      let random = [ // 資料結構\n        {\n          name: \"鼓山區\",\n          value: [\n            {\n              month: \"6月\",\n              number: \"233\"\n            },\n            {\n              month: \"7月\",\n              number: \"412\"\n            },\n            {\n              month: \"8月\",\n              number: \"533\"\n            },\n            {\n              month: \"9月\",\n              number: \"267\"\n            },\n            {\n              month: \"10月\",\n              number: \"321\"\n            }\n          ]\n        },\n        ...\n      ];\n\n\n      // 隨機產生資料\n      for (let i = 0; i < 3; i++) {\n        random[i].value.forEach((e) => {\n          e.number = Math.floor(Math.random() * (max - min + 1)) + min;\n        });\n      }\n\n\n      this.data = random;\n      \n      ...\n      \n    },\n    ...\n  }\n```\n\n***\n## 插入座標軸\n\n* HTML\n\n```html\n<!-- X軸座標 -->\n<g :transform=\"`translate(0, ${chart.height})`\" class=\"axis axisX\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\">\n</g>\n<!-- Y軸座標 -->\n<g class=\"axis axisY\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\">\n</g>\n<!-- Y軸標籤 -->\n<text class=\"axisYText\" :x=\"axisYText[0]\" :y=\"axisYText[1]\" dy=\"1em\" transform=\"rotate(-90)\" text-anchor=\"middle\">件數</text>\n```\n\n* CSS\n\n```css\n.chart {\n  ...\n  .chartWrap {\n    .axis.axisY {\n      .tick {\n        line {\n          stroke: #efefef;\n          transform: translateX(1px);\n        }\n        &:nth-child(2) {\n          line {\n            stroke: black;\n          }\n        }\n      }\n    }\n    .line {\n      stroke-dasharray: 3000;\n    }\n  }\n}\n```\n\n* JS\n\n因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。\n\n```js\n// X軸線性比例縮放\nxScale() {\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([0, this.data[0].value.length]) // 設定轉換後的定義域\n    .range([0, this.chart.width]); // 設定轉換前的範圍\n},\n// X軸設定\nxAxis() {\n  return d3\n    .axisBottom(this.xScale) // 下方座標軸函式\n    .ticks(5) // 設定座標軸標註點個數 （6~10月，共 5 個標註點）\n    .tickFormat((d, i) => { // 設定標註點呈現的文字陣列\n      return this.xLabel[i];\n    });\n},\n```\n\n```js\n// Y軸線性比例縮放\nyScale() {\n  let Ymin = 0;\n  let Ymax; // 找出所有Y值的最大\n  let newArray = [];\n\n  // 找出所有Y值的最大數\n  this.data.forEach(function(e, i) {\n    e.value.forEach(function(ev) {\n      newArray.push(ev.number);\n    });\n  });\n  Ymax = d3.max(newArray); // D3找最大值函數\n\n\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([Ymin, Ymax]) // 設定轉換後的定義域\n    .range([this.chart.height, 0]); // 設定轉換前的範圍\n},\n// Y軸設定\nyAxis() {\n  return d3\n    .axisLeft(this.yScale) // 左方座標軸函式\n    .tickSizeInner(-this.chart.height); // 設定内侧刻度大小\n},\n```\n\n> 内侧刻度 (tickSizeInner) 和外侧刻度 (tickSizeOuter) 不同，内侧刻度是一个个单独的line元素，而外侧刻度则实际上是坐标轴线path的一部分。\n\n在每次隨機資料後，動態插入座標軸。\n\n```js\n  methods: {\n    randomData() {\n      ...\n      //清除上一次的坐標軸\n      document.querySelector('.chart .axisX').innerHTML = '';\n      document.querySelector('.chart .axisY').innerHTML = '';\n\n      // 插入X軸座標\n      d3\n        .select(\".chart .axisX\")\n        .call(this.xAxis);\n      \n      // 插入Y軸座標\n      d3\n        .select(\".chart .axisY\")\n        .call(this.yAxis);\n    },\n    ...\n  }\n```\n\n***\n## 繪製折線\n\n* HTML\n\n注意： `transition-group` 標籤是拿來做折線 `CSS` 的動畫效果，這邊以效能考量皆採用 `CSS` 來做動畫，搭配 `vue` `transition` 動態加上 `class` ，並不建議用 `JS` 的方法去計算動畫。\n\n```html\n<!-- 折線 -->\n<transition-group tag=\"g\" name=\"growLine\">\n  <path class=\"line\" v-for=\"(path, key) in line\" :key=\"`${key}${path.d}`\" fill=\"none\" :stroke=\"path.color\" :d=\"path.d\"></path>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growLine-enter-active { /* 進入動畫：進行中 */\n  transition: all 2s;  /* 動畫時間： 2秒 */\n  stroke-dashoffset: 0; /* 畫線效果 */\n}\n.growLine-enter { /* 進入動畫：開始 */\n  stroke-dashoffset: 3000; /* 畫線效果 */\n}\n/* 統計圖 */\n.chartContain {\n  ...\n  .chart {\n    ...\n    .chartWrap {\n      ...\n      .line {\n        stroke-dasharray: 3000; /* 畫線效果 */\n      }\n    }\n  }\n```\n\n* JS\n\n```js\n  computed: {\n    ...\n    // 動態顏色\n    color() {\n      // 使用 D3 內建 10種顏色輪迴的函式\n      return d3.scaleOrdinal(d3.schemeCategory10);\n    },\n    // 折線座標、顏色\n    line() {\n      let line = d3\n        .line() // 折線函式\n        .x((d, i) => {\n          // 利用尺度運算資料索引，傳回 x 的位置\n          return this.xScale(i + 1);\n        })\n        .y(d => {\n          // 利用尺度運算資料的值，傳回 y 的位置\n          return this.yScale(d);\n        });\n      let pathArray = [];\n\n      this.dataArray.forEach((e, i) => {\n        pathArray.push({d: line(e), color: this.color(i)});\n      });\n\n      return pathArray;\n    },\n  }\n```\n\n***\n## 繪製點\n\n* HTML\n\n注意： `showTooltip`, `hiddenTooltip` 是拿來做滑過物件顯示數據資料的 `tooltip` 功能，在下一段會提到，這邊先純粹解釋繪製折點的部分。\n\n```html\n<!-- 點 -->\n<g class=\"dot\" v-for=\"(group, key) in dot\" :key=\"key\">\n  <transition-group tag=\"g\" name=\"growDot\">\n    <circle v-for=\"(c, k) in group.circle\" :key=\"`${k}${c.cx}${c.cy}`\" :cx=\"c.cx\" :cy=\"c.cy\" r=\"5\" :fill=\"group.color\" stroke=\"white\" v-on:mouseover=\"showTooltip(key, k, $event)\" v-on:mouseout=\"hiddenTooltip\"></circle>\n  </transition-group>\n</g>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growDot-enter-active { /* 進入動畫：進行中 */\n  transition: all 1s;  /* 動畫時間： 1秒 */\n}\n.growDot-enter { /* 進入動畫：開始 */\n  opacity: 0;  /* 淡入效果 */\n  transform: scale(0);  /* 從 0 開始縮放 */\n  transform-origin: 50%; /* 從中心點做縮放 */\n}\n```\n\n* JS\n\n```js\n  computed: {\n    // 折點座標、顏色\n    dot() {\n      let circleArray = [];\n\n      this.dataArray.forEach((group, i) => {\n        let circleGroup = [];\n\n        // 設置點座標\n        group.forEach((number, index) => {\n          circleGroup.push({\n            cx: this.xScale(index + 1),\n            cy: this.yScale(number),\n          });\n        });\n\n        // 同一群的點用相同顏色\n        circleArray.push({\n          circle: circleGroup,\n          color: this.color(i)\n        });\n      });\n\n      return circleArray;\n    },\n  }\n```\n\n***\n## 加上提示資料點的 `tooltip`\n\n* CSS\n\n```css\n...\n  .tooltip {\n    min-width: 100px;\n    background-color: rgba(0, 0, 0, 0.9);\n    color: white;\n    padding: 10px;\n    border-radius: 6px;\n    position: absolute;\n    text-align: left;\n    line-height: 1.5em;\n    z-index: 1;\n    &.hidden {\n      visibility: hidden;\n    }\n  }\n```\n\n* JS\n\n```js\n  methods: {\n    showTooltip(index1, index2, event) {\n      let mouseX = event.clientX + 20;\n      let mouseY = event.clientY;\n\n      // 設置位置\n      document.querySelector('.tooltip').setAttribute('style', `left: ${mouseX}px; top: ${mouseY}px;`);\n      // 插入名稱\n      document.querySelector('.tooltip .name').innerHTML = `${this.data[index1].name} / ${this.data[index1].value[index2].month}`;\n      document.querySelector('.tooltip .value').innerHTML = `${this.data[index1].value[index2].number} 件`;\n\n      // 顯示 tooltip\n      this.hideTooltip = false;\n    },\n    hiddenTooltip() {\n      this.hideTooltip = true;\n    }\n  }\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/LineChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看折線圖的 Demo，我們下回見～\n\n![折線圖完成](https://lh3.googleusercontent.com/oLw6AdE59P1sxloMw1941hZ_gx1_48MXNjguaxuIo6RGWaMTnpE4ekH4VqJYekKQmItAf2NXaVp1SerJMIcsu_silW_OvrZ7Iy50P9bEbCRZbckPcWdQZSb1aHVgE30uvSiJz3lKZ5QKYG-0Su5dyAv0RvAIzNob14FMqUjHXnHjOxY28iwfkKyplDlJv2drk80y_Iy2T63mWsSYp3xB-KRO0Z3-jAzyBHQ0rlCkb3ItKdrmvvhB3ETe2YBMAuF2JBIeYo9fZ7h4cOZBhchxxoV2MJETLVxa0C5n26bhUEd537Z6JOG7f8NqAB7-EcL-0qcWmP6Q9SWhILW0_z4V4g5hOoPQHFfpwMLG27dhn3XqiEo_TdVcW6rcJsI07MrW2sYktDt8ldxDvoABq85h0qlXn2G_pnMGMMr-NtCAEZwqEYgmLZ3p042hnQbWS1owffJcM80GN2w4gFvGhx5niXf5_HzLV0tmIy6LJLR9uPt3Kf2ZddAfPEK6UOLiNVcqj6_X9EPA1tltI-4vtjMz5R7XevyLLFYEYHBoT2LA5PWm_unurJYrH3z3Hz04ZrrFOtLjLdav4tj1JdOHO05P6xteD5rMq4GIiK9B5jmVUlFgIV9Th4Ua2sHLKDPnyY8yS__t9JpB_iWGhIO5na0dgvsNex-Z5rC2=w670-h744-no \"折線圖\")\n\n***\n## 參考資料\n\n* [D3 中文文件 - tickSizeInner](https://github.com/xswei/d3js_doc/blob/master/API_Reference/d3-axis/README.md#axis_tickSizeInner)\n\n* [Vue Transition](https://vuejs.org/v2/guide/transitions.html#ad)","source":"_posts/D3/D3-v4-with-Vue-SVG-Line-Chart.md","raw":"---\ntitle: D3 v4 with Vue - SVG Line Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, SVG]\ndate: 2018/02/03\nupdated: 2018/02/03\n---\n\n`D3` 是一個 `js library` ，讓開發者在向量繪圖時，能快速算出圖表物件在繪圖區域的路徑座標、座標軸、動態顏色等許多好用的 `function`。\n\n<!--more-->\n\n本系列文章採用 `vue` 搭配 `D3` 是因為使用 `data` 驅動畫面的方式，會比直接操作 `DOM` 的效能更好。 `D3` 內建的繪製功能是類似於 `jquery` 的方式直接操作 `DOM` ，當資料變多時可能會拖垮效能出現延遲的畫面，網路上許多教程初期是用此方式，想看的話 `google` 一下就有囉～\n\n此系列文章 `D3` 專注於使用他本身的計算函數和座標軸等優勢的功能，至於畫面更新等其他雜事就交給 `vue` 處理。當然，未來還有更多優化效能的方式，例如：SVG 換成 CANVAS 等，但都有其優缺點，等之後有空再來做比較。\n\n***\n## 準備 `SVG` 畫布\n\n* HTML\n\n```html\n<svg class=\"chart\" :viewBox=\"viewBox\" preserveAspectRatio=\"xMidYMin slice\">\n  <!-- 左上角起始點 -->\n  <g class=\"chartWrap\" :transform=\"startPoint\">\n  ...\n  </g>\n</svg>\n```\n\n* CSS\n\n```css\n.chart {\n  /* For IE Browser Auto Detact Width and Height (RWD)*/\n  width: 100%;\n  padding-bottom: 100%;\n  height: 1px;\n  overflow: visible;\n  ...\n}\n```\n\n* JS\n\n```js\nimport * as d3 from \"d3\";\n\nexport default {\n  data() {\n    return {\n      data: [], // From randomData()\n      chart: { // 畫布大小和預留的 padding\n        width: 500,\n        height: 500,\n        paddingTop: 30,\n        paddingRight: 30,\n        paddingBottom: 100,\n        paddingLeft: 60\n      },\n      hideTooltip: true // 控制 tooltip 顯示隱藏\n    };\n  },\n  computed: {\n    // 可視區域\n    viewBox() {\n      let viewW =\n        this.chart.width + this.chart.paddingRight + this.chart.paddingLeft;\n      let viewH =\n        this.chart.height + this.chart.paddingTop + this.chart.paddingBottom;\n\n      return `0 0 ${viewW} ${viewH}`;\n    },\n    // 畫圖起始點\n    startPoint() {\n      return `translate(${this.chart.paddingLeft}, ${this.chart.paddingTop})`;\n    },\n    ...\n  }\n}\n```\n\n***\n## 準備隨機資料\n\n* JS\n\n```js\n  methods: {\n    randomData() {\n      let min = 0; // 隨機產生數值的最小值\n      let max = 500; // 隨機產生數值的最大值\n      let random = [ // 資料結構\n        {\n          name: \"鼓山區\",\n          value: [\n            {\n              month: \"6月\",\n              number: \"233\"\n            },\n            {\n              month: \"7月\",\n              number: \"412\"\n            },\n            {\n              month: \"8月\",\n              number: \"533\"\n            },\n            {\n              month: \"9月\",\n              number: \"267\"\n            },\n            {\n              month: \"10月\",\n              number: \"321\"\n            }\n          ]\n        },\n        ...\n      ];\n\n\n      // 隨機產生資料\n      for (let i = 0; i < 3; i++) {\n        random[i].value.forEach((e) => {\n          e.number = Math.floor(Math.random() * (max - min + 1)) + min;\n        });\n      }\n\n\n      this.data = random;\n      \n      ...\n      \n    },\n    ...\n  }\n```\n\n***\n## 插入座標軸\n\n* HTML\n\n```html\n<!-- X軸座標 -->\n<g :transform=\"`translate(0, ${chart.height})`\" class=\"axis axisX\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"middle\">\n</g>\n<!-- Y軸座標 -->\n<g class=\"axis axisY\" fill=\"none\" font-size=\"10\" font-family=\"sans-serif\" text-anchor=\"end\">\n</g>\n<!-- Y軸標籤 -->\n<text class=\"axisYText\" :x=\"axisYText[0]\" :y=\"axisYText[1]\" dy=\"1em\" transform=\"rotate(-90)\" text-anchor=\"middle\">件數</text>\n```\n\n* CSS\n\n```css\n.chart {\n  ...\n  .chartWrap {\n    .axis.axisY {\n      .tick {\n        line {\n          stroke: #efefef;\n          transform: translateX(1px);\n        }\n        &:nth-child(2) {\n          line {\n            stroke: black;\n          }\n        }\n      }\n    }\n    .line {\n      stroke-dasharray: 3000;\n    }\n  }\n}\n```\n\n* JS\n\n因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。\n\n```js\n// X軸線性比例縮放\nxScale() {\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([0, this.data[0].value.length]) // 設定轉換後的定義域\n    .range([0, this.chart.width]); // 設定轉換前的範圍\n},\n// X軸設定\nxAxis() {\n  return d3\n    .axisBottom(this.xScale) // 下方座標軸函式\n    .ticks(5) // 設定座標軸標註點個數 （6~10月，共 5 個標註點）\n    .tickFormat((d, i) => { // 設定標註點呈現的文字陣列\n      return this.xLabel[i];\n    });\n},\n```\n\n```js\n// Y軸線性比例縮放\nyScale() {\n  let Ymin = 0;\n  let Ymax; // 找出所有Y值的最大\n  let newArray = [];\n\n  // 找出所有Y值的最大數\n  this.data.forEach(function(e, i) {\n    e.value.forEach(function(ev) {\n      newArray.push(ev.number);\n    });\n  });\n  Ymax = d3.max(newArray); // D3找最大值函數\n\n\n  return d3\n    .scaleLinear() // 線性縮放函式\n    .domain([Ymin, Ymax]) // 設定轉換後的定義域\n    .range([this.chart.height, 0]); // 設定轉換前的範圍\n},\n// Y軸設定\nyAxis() {\n  return d3\n    .axisLeft(this.yScale) // 左方座標軸函式\n    .tickSizeInner(-this.chart.height); // 設定内侧刻度大小\n},\n```\n\n> 内侧刻度 (tickSizeInner) 和外侧刻度 (tickSizeOuter) 不同，内侧刻度是一个个单独的line元素，而外侧刻度则实际上是坐标轴线path的一部分。\n\n在每次隨機資料後，動態插入座標軸。\n\n```js\n  methods: {\n    randomData() {\n      ...\n      //清除上一次的坐標軸\n      document.querySelector('.chart .axisX').innerHTML = '';\n      document.querySelector('.chart .axisY').innerHTML = '';\n\n      // 插入X軸座標\n      d3\n        .select(\".chart .axisX\")\n        .call(this.xAxis);\n      \n      // 插入Y軸座標\n      d3\n        .select(\".chart .axisY\")\n        .call(this.yAxis);\n    },\n    ...\n  }\n```\n\n***\n## 繪製折線\n\n* HTML\n\n注意： `transition-group` 標籤是拿來做折線 `CSS` 的動畫效果，這邊以效能考量皆採用 `CSS` 來做動畫，搭配 `vue` `transition` 動態加上 `class` ，並不建議用 `JS` 的方法去計算動畫。\n\n```html\n<!-- 折線 -->\n<transition-group tag=\"g\" name=\"growLine\">\n  <path class=\"line\" v-for=\"(path, key) in line\" :key=\"`${key}${path.d}`\" fill=\"none\" :stroke=\"path.color\" :d=\"path.d\"></path>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growLine-enter-active { /* 進入動畫：進行中 */\n  transition: all 2s;  /* 動畫時間： 2秒 */\n  stroke-dashoffset: 0; /* 畫線效果 */\n}\n.growLine-enter { /* 進入動畫：開始 */\n  stroke-dashoffset: 3000; /* 畫線效果 */\n}\n/* 統計圖 */\n.chartContain {\n  ...\n  .chart {\n    ...\n    .chartWrap {\n      ...\n      .line {\n        stroke-dasharray: 3000; /* 畫線效果 */\n      }\n    }\n  }\n```\n\n* JS\n\n```js\n  computed: {\n    ...\n    // 動態顏色\n    color() {\n      // 使用 D3 內建 10種顏色輪迴的函式\n      return d3.scaleOrdinal(d3.schemeCategory10);\n    },\n    // 折線座標、顏色\n    line() {\n      let line = d3\n        .line() // 折線函式\n        .x((d, i) => {\n          // 利用尺度運算資料索引，傳回 x 的位置\n          return this.xScale(i + 1);\n        })\n        .y(d => {\n          // 利用尺度運算資料的值，傳回 y 的位置\n          return this.yScale(d);\n        });\n      let pathArray = [];\n\n      this.dataArray.forEach((e, i) => {\n        pathArray.push({d: line(e), color: this.color(i)});\n      });\n\n      return pathArray;\n    },\n  }\n```\n\n***\n## 繪製點\n\n* HTML\n\n注意： `showTooltip`, `hiddenTooltip` 是拿來做滑過物件顯示數據資料的 `tooltip` 功能，在下一段會提到，這邊先純粹解釋繪製折點的部分。\n\n```html\n<!-- 點 -->\n<g class=\"dot\" v-for=\"(group, key) in dot\" :key=\"key\">\n  <transition-group tag=\"g\" name=\"growDot\">\n    <circle v-for=\"(c, k) in group.circle\" :key=\"`${k}${c.cx}${c.cy}`\" :cx=\"c.cx\" :cy=\"c.cy\" r=\"5\" :fill=\"group.color\" stroke=\"white\" v-on:mouseover=\"showTooltip(key, k, $event)\" v-on:mouseout=\"hiddenTooltip\"></circle>\n  </transition-group>\n</g>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growDot-enter-active { /* 進入動畫：進行中 */\n  transition: all 1s;  /* 動畫時間： 1秒 */\n}\n.growDot-enter { /* 進入動畫：開始 */\n  opacity: 0;  /* 淡入效果 */\n  transform: scale(0);  /* 從 0 開始縮放 */\n  transform-origin: 50%; /* 從中心點做縮放 */\n}\n```\n\n* JS\n\n```js\n  computed: {\n    // 折點座標、顏色\n    dot() {\n      let circleArray = [];\n\n      this.dataArray.forEach((group, i) => {\n        let circleGroup = [];\n\n        // 設置點座標\n        group.forEach((number, index) => {\n          circleGroup.push({\n            cx: this.xScale(index + 1),\n            cy: this.yScale(number),\n          });\n        });\n\n        // 同一群的點用相同顏色\n        circleArray.push({\n          circle: circleGroup,\n          color: this.color(i)\n        });\n      });\n\n      return circleArray;\n    },\n  }\n```\n\n***\n## 加上提示資料點的 `tooltip`\n\n* CSS\n\n```css\n...\n  .tooltip {\n    min-width: 100px;\n    background-color: rgba(0, 0, 0, 0.9);\n    color: white;\n    padding: 10px;\n    border-radius: 6px;\n    position: absolute;\n    text-align: left;\n    line-height: 1.5em;\n    z-index: 1;\n    &.hidden {\n      visibility: hidden;\n    }\n  }\n```\n\n* JS\n\n```js\n  methods: {\n    showTooltip(index1, index2, event) {\n      let mouseX = event.clientX + 20;\n      let mouseY = event.clientY;\n\n      // 設置位置\n      document.querySelector('.tooltip').setAttribute('style', `left: ${mouseX}px; top: ${mouseY}px;`);\n      // 插入名稱\n      document.querySelector('.tooltip .name').innerHTML = `${this.data[index1].name} / ${this.data[index1].value[index2].month}`;\n      document.querySelector('.tooltip .value').innerHTML = `${this.data[index1].value[index2].number} 件`;\n\n      // 顯示 tooltip\n      this.hideTooltip = false;\n    },\n    hiddenTooltip() {\n      this.hideTooltip = true;\n    }\n  }\n```\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/LineChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看折線圖的 Demo，我們下回見～\n\n![折線圖完成](https://lh3.googleusercontent.com/oLw6AdE59P1sxloMw1941hZ_gx1_48MXNjguaxuIo6RGWaMTnpE4ekH4VqJYekKQmItAf2NXaVp1SerJMIcsu_silW_OvrZ7Iy50P9bEbCRZbckPcWdQZSb1aHVgE30uvSiJz3lKZ5QKYG-0Su5dyAv0RvAIzNob14FMqUjHXnHjOxY28iwfkKyplDlJv2drk80y_Iy2T63mWsSYp3xB-KRO0Z3-jAzyBHQ0rlCkb3ItKdrmvvhB3ETe2YBMAuF2JBIeYo9fZ7h4cOZBhchxxoV2MJETLVxa0C5n26bhUEd537Z6JOG7f8NqAB7-EcL-0qcWmP6Q9SWhILW0_z4V4g5hOoPQHFfpwMLG27dhn3XqiEo_TdVcW6rcJsI07MrW2sYktDt8ldxDvoABq85h0qlXn2G_pnMGMMr-NtCAEZwqEYgmLZ3p042hnQbWS1owffJcM80GN2w4gFvGhx5niXf5_HzLV0tmIy6LJLR9uPt3Kf2ZddAfPEK6UOLiNVcqj6_X9EPA1tltI-4vtjMz5R7XevyLLFYEYHBoT2LA5PWm_unurJYrH3z3Hz04ZrrFOtLjLdav4tj1JdOHO05P6xteD5rMq4GIiK9B5jmVUlFgIV9Th4Ua2sHLKDPnyY8yS__t9JpB_iWGhIO5na0dgvsNex-Z5rC2=w670-h744-no \"折線圖\")\n\n***\n## 參考資料\n\n* [D3 中文文件 - tickSizeInner](https://github.com/xswei/d3js_doc/blob/master/API_Reference/d3-axis/README.md#axis_tickSizeInner)\n\n* [Vue Transition](https://vuejs.org/v2/guide/transitions.html#ad)","slug":"D3/D3-v4-with-Vue-SVG-Line-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ps000jr3y7dmr298r7","content":"<p><code>D3</code> 是一個 <code>js library</code> ，讓開發者在向量繪圖時，能快速算出圖表物件在繪圖區域的路徑座標、座標軸、動態顏色等許多好用的 <code>function</code>。</p>\n<span id=\"more\"></span>\n\n<p>本系列文章採用 <code>vue</code> 搭配 <code>D3</code> 是因為使用 <code>data</code> 驅動畫面的方式，會比直接操作 <code>DOM</code> 的效能更好。 <code>D3</code> 內建的繪製功能是類似於 <code>jquery</code> 的方式直接操作 <code>DOM</code> ，當資料變多時可能會拖垮效能出現延遲的畫面，網路上許多教程初期是用此方式，想看的話 <code>google</code> 一下就有囉～</p>\n<p>此系列文章 <code>D3</code> 專注於使用他本身的計算函數和座標軸等優勢的功能，至於畫面更新等其他雜事就交給 <code>vue</code> 處理。當然，未來還有更多優化效能的方式，例如：SVG 換成 CANVAS 等，但都有其優缺點，等之後有空再來做比較。</p>\n<hr>\n<h2 id=\"準備-SVG-畫布\"><a href=\"#準備-SVG-畫布\" class=\"headerlink\" title=\"準備 SVG 畫布\"></a>準備 <code>SVG</code> 畫布</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chart&quot;</span> <span class=\"attr\">:viewBox</span>=<span class=\"string\">&quot;viewBox&quot;</span> <span class=\"attr\">preserveAspectRatio</span>=<span class=\"string\">&quot;xMidYMin slice&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 左上角起始點 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chartWrap&quot;</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;startPoint&quot;</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* For IE Browser Auto Detact Width and Height (RWD)*/</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: visible;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> d3 <span class=\"keyword\">from</span> <span class=\"string\">&quot;d3&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">data</span>: [], <span class=\"comment\">// From randomData()</span></span><br><span class=\"line\">      <span class=\"attr\">chart</span>: &#123; <span class=\"comment\">// 畫布大小和預留的 padding</span></span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"number\">500</span>,</span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"number\">500</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingTop</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingRight</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingBottom</span>: <span class=\"number\">100</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingLeft</span>: <span class=\"number\">60</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">hideTooltip</span>: <span class=\"literal\">true</span> <span class=\"comment\">// 控制 tooltip 顯示隱藏</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 可視區域</span></span><br><span class=\"line\">    <span class=\"title function_\">viewBox</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> viewW =</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingRight</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingLeft</span>;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> viewH =</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingBottom</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">`0 0 <span class=\"subst\">$&#123;viewW&#125;</span> <span class=\"subst\">$&#123;viewH&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 畫圖起始點</span></span><br><span class=\"line\">    <span class=\"title function_\">startPoint</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">`translate(<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.chart.paddingLeft&#125;</span>, <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.chart.paddingTop&#125;</span>)`</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"準備隨機資料\"><a href=\"#準備隨機資料\" class=\"headerlink\" title=\"準備隨機資料\"></a>準備隨機資料</h2><ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = <span class=\"number\">0</span>; <span class=\"comment\">// 隨機產生數值的最小值</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> max = <span class=\"number\">500</span>; <span class=\"comment\">// 隨機產生數值的最大值</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> random = [ <span class=\"comment\">// 資料結構</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;鼓山區&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">value</span>: [</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;6月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;233&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;7月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;412&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;8月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;533&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;9月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;267&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;10月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;321&quot;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    ];</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">      random[i].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        e.<span class=\"property\">number</span> = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (max - min + <span class=\"number\">1</span>)) + min;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = random;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ...</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"插入座標軸\"><a href=\"#插入座標軸\" class=\"headerlink\" title=\"插入座標軸\"></a>插入座標軸</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- X軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate(0, $&#123;chart.height&#125;)`&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisX&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisY&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;end&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸標籤 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axisYText&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;axisYText[0]&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;axisYText[1]&quot;</span> <span class=\"attr\">dy</span>=<span class=\"string\">&quot;1em&quot;</span> <span class=\"attr\">transform</span>=<span class=\"string\">&quot;rotate(-90)&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span>件數<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.axis</span><span class=\"selector-class\">.axisY</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.tick</span> &#123;</span><br><span class=\"line\">        line &#123;</span><br><span class=\"line\">          stroke: <span class=\"number\">#efefef</span>;</span><br><span class=\"line\">          <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(<span class=\"number\">1px</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &amp;<span class=\"selector-pseudo\">:nth-child</span>(<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">          line &#123;</span><br><span class=\"line\">            stroke: black;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-class\">.line</span> &#123;</span><br><span class=\"line\">      stroke-dasharray: <span class=\"number\">3000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// X軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">xScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"property\">length</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// X軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">xAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisBottom</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xScale</span>) <span class=\"comment\">// 下方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">ticks</span>(<span class=\"number\">5</span>) <span class=\"comment\">// 設定座標軸標註點個數 （6~10月，共 5 個標註點）</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickFormat</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123; <span class=\"comment\">// 設定標註點呈現的文字陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">xLabel</span>[i];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">yScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Ymin</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Ymax</span>; <span class=\"comment\">// 找出所有Y值的最大</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 找出所有Y值的最大數</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">e, i</span>) &#123;</span><br><span class=\"line\">    e.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">      newArray.<span class=\"title function_\">push</span>(ev.<span class=\"property\">number</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"title class_\">Ymax</span> = d3.<span class=\"title function_\">max</span>(newArray); <span class=\"comment\">// D3找最大值函數</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"title class_\">Ymin</span>, <span class=\"title class_\">Ymax</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>, <span class=\"number\">0</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// Y軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">yAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisLeft</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yScale</span>) <span class=\"comment\">// 左方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickSizeInner</span>(-<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>); <span class=\"comment\">// 設定内侧刻度大小</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>内侧刻度 (tickSizeInner) 和外侧刻度 (tickSizeOuter) 不同，内侧刻度是一个个单独的line元素，而外侧刻度则实际上是坐标轴线path的一部分。</p>\n</blockquote>\n<p>在每次隨機資料後，動態插入座標軸。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"comment\">//清除上一次的坐標軸</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.chart .axisX&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.chart .axisY&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 插入X軸座標</span></span><br><span class=\"line\">    d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 插入Y軸座標</span></span><br><span class=\"line\">    d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製折線\"><a href=\"#繪製折線\" class=\"headerlink\" title=\"繪製折線\"></a>繪製折線</h2><ul>\n<li>HTML</li>\n</ul>\n<p>注意： <code>transition-group</code> 標籤是拿來做折線 <code>CSS</code> 的動畫效果，這邊以效能考量皆採用 <code>CSS</code> 來做動畫，搭配 <code>vue</code> <code>transition</code> 動態加上 <code>class</code> ，並不建議用 <code>JS</code> 的方法去計算動畫。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 折線 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growLine&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;line&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(path, key) in line&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;path.d&#125;`&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">:stroke</span>=<span class=\"string\">&quot;path.color&quot;</span> <span class=\"attr\">:d</span>=<span class=\"string\">&quot;path.d&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growLine-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">2s</span>;  <span class=\"comment\">/* 動畫時間： 2秒 */</span></span><br><span class=\"line\">  stroke-dashoffset: <span class=\"number\">0</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growLine-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  stroke-dashoffset: <span class=\"number\">3000</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"selector-class\">.line</span> &#123;</span><br><span class=\"line\">        stroke-dasharray: <span class=\"number\">3000</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"comment\">// 動態顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 D3 內建 10種顏色輪迴的函式</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory10</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 折線座標、顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">line</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> line = d3</span><br><span class=\"line\">      .<span class=\"title function_\">line</span>() <span class=\"comment\">// 折線函式</span></span><br><span class=\"line\">      .<span class=\"title function_\">x</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 利用尺度運算資料索引，傳回 x 的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .<span class=\"title function_\">y</span>(<span class=\"function\"><span class=\"params\">d</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 利用尺度運算資料的值，傳回 y 的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(d);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> pathArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      pathArray.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">d</span>: <span class=\"title function_\">line</span>(e), <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i)&#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> pathArray;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製點\"><a href=\"#繪製點\" class=\"headerlink\" title=\"繪製點\"></a>繪製點</h2><ul>\n<li>HTML</li>\n</ul>\n<p>注意： <code>showTooltip</code>, <code>hiddenTooltip</code> 是拿來做滑過物件顯示數據資料的 <code>tooltip</code> 功能，在下一段會提到，這邊先純粹解釋繪製折點的部分。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 點 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dot&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(group, key) in dot&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;key&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growDot&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(c, k) in group.circle&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;k&#125;$&#123;c.cx&#125;$&#123;c.cy&#125;`&quot;</span> <span class=\"attr\">:cx</span>=<span class=\"string\">&quot;c.cx&quot;</span> <span class=\"attr\">:cy</span>=<span class=\"string\">&quot;c.cy&quot;</span> <span class=\"attr\">r</span>=<span class=\"string\">&quot;5&quot;</span> <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;group.color&quot;</span> <span class=\"attr\">stroke</span>=<span class=\"string\">&quot;white&quot;</span> <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, k, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">circle</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growDot-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">1s</span>;  <span class=\"comment\">/* 動畫時間： 1秒 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growDot-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;  <span class=\"comment\">/* 淡入效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0</span>);  <span class=\"comment\">/* 從 0 開始縮放 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span>; <span class=\"comment\">/* 從中心點做縮放 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 折點座標、顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">dot</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> circleArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">group, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> circleGroup = [];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 設置點座標</span></span><br><span class=\"line\">      group.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">number, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        circleGroup.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">cx</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(index + <span class=\"number\">1</span>),</span><br><span class=\"line\">          <span class=\"attr\">cy</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(number),</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 同一群的點用相同顏色</span></span><br><span class=\"line\">      circleArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">circle</span>: circleGroup,</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i)</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> circleArray;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"加上提示資料點的-tooltip\"><a href=\"#加上提示資料點的-tooltip\" class=\"headerlink\" title=\"加上提示資料點的 tooltip\"></a>加上提示資料點的 <code>tooltip</code></h2><ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"selector-class\">.tooltip</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.hidden</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">visibility</span>: hidden;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">showTooltip</span>(<span class=\"params\">index1, index2, event</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> mouseX = event.<span class=\"property\">clientX</span> + <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> mouseY = event.<span class=\"property\">clientY</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 設置位置</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip&#x27;</span>).<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;style&#x27;</span>, <span class=\"string\">`left: <span class=\"subst\">$&#123;mouseX&#125;</span>px; top: <span class=\"subst\">$&#123;mouseY&#125;</span>px;`</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 插入名稱</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip .name&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].name&#125;</span> / <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].value[index2].month&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip .value&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].value[index2].number&#125;</span> 件`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 顯示 tooltip</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">hideTooltip</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">hiddenTooltip</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">hideTooltip</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/LineChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看折線圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/oLw6AdE59P1sxloMw1941hZ_gx1_48MXNjguaxuIo6RGWaMTnpE4ekH4VqJYekKQmItAf2NXaVp1SerJMIcsu_silW_OvrZ7Iy50P9bEbCRZbckPcWdQZSb1aHVgE30uvSiJz3lKZ5QKYG-0Su5dyAv0RvAIzNob14FMqUjHXnHjOxY28iwfkKyplDlJv2drk80y_Iy2T63mWsSYp3xB-KRO0Z3-jAzyBHQ0rlCkb3ItKdrmvvhB3ETe2YBMAuF2JBIeYo9fZ7h4cOZBhchxxoV2MJETLVxa0C5n26bhUEd537Z6JOG7f8NqAB7-EcL-0qcWmP6Q9SWhILW0_z4V4g5hOoPQHFfpwMLG27dhn3XqiEo_TdVcW6rcJsI07MrW2sYktDt8ldxDvoABq85h0qlXn2G_pnMGMMr-NtCAEZwqEYgmLZ3p042hnQbWS1owffJcM80GN2w4gFvGhx5niXf5_HzLV0tmIy6LJLR9uPt3Kf2ZddAfPEK6UOLiNVcqj6_X9EPA1tltI-4vtjMz5R7XevyLLFYEYHBoT2LA5PWm_unurJYrH3z3Hz04ZrrFOtLjLdav4tj1JdOHO05P6xteD5rMq4GIiK9B5jmVUlFgIV9Th4Ua2sHLKDPnyY8yS__t9JpB_iWGhIO5na0dgvsNex-Z5rC2=w670-h744-no\" alt=\"折線圖完成\" title=\"折線圖\"></p>\n<hr>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><p><a href=\"https://github.com/xswei/d3js_doc/blob/master/API_Reference/d3-axis/README.md#axis_tickSizeInner\">D3 中文文件 - tickSizeInner</a></p>\n</li>\n<li><p><a href=\"https://vuejs.org/v2/guide/transitions.html#ad\">Vue Transition</a></p>\n</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p><code>D3</code> 是一個 <code>js library</code> ，讓開發者在向量繪圖時，能快速算出圖表物件在繪圖區域的路徑座標、座標軸、動態顏色等許多好用的 <code>function</code>。</p>","more":"<p>本系列文章採用 <code>vue</code> 搭配 <code>D3</code> 是因為使用 <code>data</code> 驅動畫面的方式，會比直接操作 <code>DOM</code> 的效能更好。 <code>D3</code> 內建的繪製功能是類似於 <code>jquery</code> 的方式直接操作 <code>DOM</code> ，當資料變多時可能會拖垮效能出現延遲的畫面，網路上許多教程初期是用此方式，想看的話 <code>google</code> 一下就有囉～</p>\n<p>此系列文章 <code>D3</code> 專注於使用他本身的計算函數和座標軸等優勢的功能，至於畫面更新等其他雜事就交給 <code>vue</code> 處理。當然，未來還有更多優化效能的方式，例如：SVG 換成 CANVAS 等，但都有其優缺點，等之後有空再來做比較。</p>\n<hr>\n<h2 id=\"準備-SVG-畫布\"><a href=\"#準備-SVG-畫布\" class=\"headerlink\" title=\"準備 SVG 畫布\"></a>準備 <code>SVG</code> 畫布</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chart&quot;</span> <span class=\"attr\">:viewBox</span>=<span class=\"string\">&quot;viewBox&quot;</span> <span class=\"attr\">preserveAspectRatio</span>=<span class=\"string\">&quot;xMidYMin slice&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 左上角起始點 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;chartWrap&quot;</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;startPoint&quot;</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* For IE Browser Auto Detact Width and Height (RWD)*/</span></span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow</span>: visible;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> d3 <span class=\"keyword\">from</span> <span class=\"string\">&quot;d3&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">data</span>: [], <span class=\"comment\">// From randomData()</span></span><br><span class=\"line\">      <span class=\"attr\">chart</span>: &#123; <span class=\"comment\">// 畫布大小和預留的 padding</span></span><br><span class=\"line\">        <span class=\"attr\">width</span>: <span class=\"number\">500</span>,</span><br><span class=\"line\">        <span class=\"attr\">height</span>: <span class=\"number\">500</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingTop</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingRight</span>: <span class=\"number\">30</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingBottom</span>: <span class=\"number\">100</span>,</span><br><span class=\"line\">        <span class=\"attr\">paddingLeft</span>: <span class=\"number\">60</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">hideTooltip</span>: <span class=\"literal\">true</span> <span class=\"comment\">// 控制 tooltip 顯示隱藏</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 可視區域</span></span><br><span class=\"line\">    <span class=\"title function_\">viewBox</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> viewW =</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingRight</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingLeft</span>;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> viewH =</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingTop</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">paddingBottom</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">`0 0 <span class=\"subst\">$&#123;viewW&#125;</span> <span class=\"subst\">$&#123;viewH&#125;</span>`</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 畫圖起始點</span></span><br><span class=\"line\">    <span class=\"title function_\">startPoint</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">`translate(<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.chart.paddingLeft&#125;</span>, <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.chart.paddingTop&#125;</span>)`</span>;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"準備隨機資料\"><a href=\"#準備隨機資料\" class=\"headerlink\" title=\"準備隨機資料\"></a>準備隨機資料</h2><ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> min = <span class=\"number\">0</span>; <span class=\"comment\">// 隨機產生數值的最小值</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> max = <span class=\"number\">500</span>; <span class=\"comment\">// 隨機產生數值的最大值</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> random = [ <span class=\"comment\">// 資料結構</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;鼓山區&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">value</span>: [</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;6月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;233&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;7月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;412&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;8月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;533&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;9月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;267&quot;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">month</span>: <span class=\"string\">&quot;10月&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">number</span>: <span class=\"string\">&quot;321&quot;</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      ...</span><br><span class=\"line\">    ];</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 隨機產生資料</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">3</span>; i++) &#123;</span><br><span class=\"line\">      random[i].<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        e.<span class=\"property\">number</span> = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (max - min + <span class=\"number\">1</span>)) + min;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span> = random;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ...</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"插入座標軸\"><a href=\"#插入座標軸\" class=\"headerlink\" title=\"插入座標軸\"></a>插入座標軸</h2><ul>\n<li>HTML</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- X軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">:transform</span>=<span class=\"string\">&quot;`translate(0, $&#123;chart.height&#125;)`&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisX&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸座標 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axis axisY&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">font-size</span>=<span class=\"string\">&quot;10&quot;</span> <span class=\"attr\">font-family</span>=<span class=\"string\">&quot;sans-serif&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;end&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Y軸標籤 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;axisYText&quot;</span> <span class=\"attr\">:x</span>=<span class=\"string\">&quot;axisYText[0]&quot;</span> <span class=\"attr\">:y</span>=<span class=\"string\">&quot;axisYText[1]&quot;</span> <span class=\"attr\">dy</span>=<span class=\"string\">&quot;1em&quot;</span> <span class=\"attr\">transform</span>=<span class=\"string\">&quot;rotate(-90)&quot;</span> <span class=\"attr\">text-anchor</span>=<span class=\"string\">&quot;middle&quot;</span>&gt;</span>件數<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.axis</span><span class=\"selector-class\">.axisY</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.tick</span> &#123;</span><br><span class=\"line\">        line &#123;</span><br><span class=\"line\">          stroke: <span class=\"number\">#efefef</span>;</span><br><span class=\"line\">          <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(<span class=\"number\">1px</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &amp;<span class=\"selector-pseudo\">:nth-child</span>(<span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">          line &#123;</span><br><span class=\"line\">            stroke: black;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"selector-class\">.line</span> &#123;</span><br><span class=\"line\">      stroke-dasharray: <span class=\"number\">3000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>因程式碼過多，這邊只講用到的 D3 函數部分，文章最後會有完整程式碼連結。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// X軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">xScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>[<span class=\"number\">0</span>].<span class=\"property\">value</span>.<span class=\"property\">length</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"number\">0</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// X軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">xAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisBottom</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xScale</span>) <span class=\"comment\">// 下方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">ticks</span>(<span class=\"number\">5</span>) <span class=\"comment\">// 設定座標軸標註點個數 （6~10月，共 5 個標註點）</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickFormat</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123; <span class=\"comment\">// 設定標註點呈現的文字陣列</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">xLabel</span>[i];</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Y軸線性比例縮放</span></span><br><span class=\"line\"><span class=\"title function_\">yScale</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Ymin</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> <span class=\"title class_\">Ymax</span>; <span class=\"comment\">// 找出所有Y值的最大</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> newArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 找出所有Y值的最大數</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">e, i</span>) &#123;</span><br><span class=\"line\">    e.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">ev</span>) &#123;</span><br><span class=\"line\">      newArray.<span class=\"title function_\">push</span>(ev.<span class=\"property\">number</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"title class_\">Ymax</span> = d3.<span class=\"title function_\">max</span>(newArray); <span class=\"comment\">// D3找最大值函數</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">scaleLinear</span>() <span class=\"comment\">// 線性縮放函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">domain</span>([<span class=\"title class_\">Ymin</span>, <span class=\"title class_\">Ymax</span>]) <span class=\"comment\">// 設定轉換後的定義域</span></span><br><span class=\"line\">    .<span class=\"title function_\">range</span>([<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>, <span class=\"number\">0</span>]); <span class=\"comment\">// 設定轉換前的範圍</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// Y軸設定</span></span><br><span class=\"line\"><span class=\"title function_\">yAxis</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3</span><br><span class=\"line\">    .<span class=\"title function_\">axisLeft</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yScale</span>) <span class=\"comment\">// 左方座標軸函式</span></span><br><span class=\"line\">    .<span class=\"title function_\">tickSizeInner</span>(-<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span>); <span class=\"comment\">// 設定内侧刻度大小</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>内侧刻度 (tickSizeInner) 和外侧刻度 (tickSizeOuter) 不同，内侧刻度是一个个单独的line元素，而外侧刻度则实际上是坐标轴线path的一部分。</p>\n</blockquote>\n<p>在每次隨機資料後，動態插入座標軸。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">randomData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"comment\">//清除上一次的坐標軸</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.chart .axisX&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.chart .axisY&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 插入X軸座標</span></span><br><span class=\"line\">    d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisX&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">xAxis</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 插入Y軸座標</span></span><br><span class=\"line\">    d3</span><br><span class=\"line\">      .<span class=\"title function_\">select</span>(<span class=\"string\">&quot;.chart .axisY&quot;</span>)</span><br><span class=\"line\">      .<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">yAxis</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製折線\"><a href=\"#繪製折線\" class=\"headerlink\" title=\"繪製折線\"></a>繪製折線</h2><ul>\n<li>HTML</li>\n</ul>\n<p>注意： <code>transition-group</code> 標籤是拿來做折線 <code>CSS</code> 的動畫效果，這邊以效能考量皆採用 <code>CSS</code> 來做動畫，搭配 <code>vue</code> <code>transition</code> 動態加上 <code>class</code> ，並不建議用 <code>JS</code> 的方法去計算動畫。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 折線 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growLine&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;line&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(path, key) in line&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;path.d&#125;`&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">:stroke</span>=<span class=\"string\">&quot;path.color&quot;</span> <span class=\"attr\">:d</span>=<span class=\"string\">&quot;path.d&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growLine-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">2s</span>;  <span class=\"comment\">/* 動畫時間： 2秒 */</span></span><br><span class=\"line\">  stroke-dashoffset: <span class=\"number\">0</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growLine-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  stroke-dashoffset: <span class=\"number\">3000</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"selector-class\">.line</span> &#123;</span><br><span class=\"line\">        stroke-dasharray: <span class=\"number\">3000</span>; <span class=\"comment\">/* 畫線效果 */</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"comment\">// 動態顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 D3 內建 10種顏色輪迴的函式</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory10</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 折線座標、顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">line</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> line = d3</span><br><span class=\"line\">      .<span class=\"title function_\">line</span>() <span class=\"comment\">// 折線函式</span></span><br><span class=\"line\">      .<span class=\"title function_\">x</span>(<span class=\"function\">(<span class=\"params\">d, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 利用尺度運算資料索引，傳回 x 的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>);</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      .<span class=\"title function_\">y</span>(<span class=\"function\"><span class=\"params\">d</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 利用尺度運算資料的值，傳回 y 的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(d);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">let</span> pathArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      pathArray.<span class=\"title function_\">push</span>(&#123;<span class=\"attr\">d</span>: <span class=\"title function_\">line</span>(e), <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i)&#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> pathArray;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"繪製點\"><a href=\"#繪製點\" class=\"headerlink\" title=\"繪製點\"></a>繪製點</h2><ul>\n<li>HTML</li>\n</ul>\n<p>注意： <code>showTooltip</code>, <code>hiddenTooltip</code> 是拿來做滑過物件顯示數據資料的 <code>tooltip</code> 功能，在下一段會提到，這邊先純粹解釋繪製折點的部分。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 點 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">g</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dot&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(group, key) in dot&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;key&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growDot&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">circle</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(c, k) in group.circle&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;k&#125;$&#123;c.cx&#125;$&#123;c.cy&#125;`&quot;</span> <span class=\"attr\">:cx</span>=<span class=\"string\">&quot;c.cx&quot;</span> <span class=\"attr\">:cy</span>=<span class=\"string\">&quot;c.cy&quot;</span> <span class=\"attr\">r</span>=<span class=\"string\">&quot;5&quot;</span> <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;group.color&quot;</span> <span class=\"attr\">stroke</span>=<span class=\"string\">&quot;white&quot;</span> <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, k, $event)&quot;</span> <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">circle</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">g</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growDot-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: all <span class=\"number\">1s</span>;  <span class=\"comment\">/* 動畫時間： 1秒 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growDot-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>;  <span class=\"comment\">/* 淡入效果 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0</span>);  <span class=\"comment\">/* 從 0 開始縮放 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span>; <span class=\"comment\">/* 從中心點做縮放 */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 折點座標、顏色</span></span><br><span class=\"line\">  <span class=\"title function_\">dot</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> circleArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">dataArray</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">group, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> circleGroup = [];</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 設置點座標</span></span><br><span class=\"line\">      group.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">number, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        circleGroup.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">cx</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(index + <span class=\"number\">1</span>),</span><br><span class=\"line\">          <span class=\"attr\">cy</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(number),</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 同一群的點用相同顏色</span></span><br><span class=\"line\">      circleArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">circle</span>: circleGroup,</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(i)</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> circleArray;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"加上提示資料點的-tooltip\"><a href=\"#加上提示資料點的-tooltip\" class=\"headerlink\" title=\"加上提示資料點的 tooltip\"></a>加上提示資料點的 <code>tooltip</code></h2><ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"selector-class\">.tooltip</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">min-width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.9</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: white;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">6px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">line-height</span>: <span class=\"number\">1.5em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">z-index</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.hidden</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">visibility</span>: hidden;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">showTooltip</span>(<span class=\"params\">index1, index2, event</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> mouseX = event.<span class=\"property\">clientX</span> + <span class=\"number\">20</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> mouseY = event.<span class=\"property\">clientY</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 設置位置</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip&#x27;</span>).<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;style&#x27;</span>, <span class=\"string\">`left: <span class=\"subst\">$&#123;mouseX&#125;</span>px; top: <span class=\"subst\">$&#123;mouseY&#125;</span>px;`</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 插入名稱</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip .name&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].name&#125;</span> / <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].value[index2].month&#125;</span>`</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.tooltip .value&#x27;</span>).<span class=\"property\">innerHTML</span> = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.data[index1].value[index2].number&#125;</span> 件`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 顯示 tooltip</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">hideTooltip</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">hiddenTooltip</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">hideTooltip</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/LineChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看折線圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/oLw6AdE59P1sxloMw1941hZ_gx1_48MXNjguaxuIo6RGWaMTnpE4ekH4VqJYekKQmItAf2NXaVp1SerJMIcsu_silW_OvrZ7Iy50P9bEbCRZbckPcWdQZSb1aHVgE30uvSiJz3lKZ5QKYG-0Su5dyAv0RvAIzNob14FMqUjHXnHjOxY28iwfkKyplDlJv2drk80y_Iy2T63mWsSYp3xB-KRO0Z3-jAzyBHQ0rlCkb3ItKdrmvvhB3ETe2YBMAuF2JBIeYo9fZ7h4cOZBhchxxoV2MJETLVxa0C5n26bhUEd537Z6JOG7f8NqAB7-EcL-0qcWmP6Q9SWhILW0_z4V4g5hOoPQHFfpwMLG27dhn3XqiEo_TdVcW6rcJsI07MrW2sYktDt8ldxDvoABq85h0qlXn2G_pnMGMMr-NtCAEZwqEYgmLZ3p042hnQbWS1owffJcM80GN2w4gFvGhx5niXf5_HzLV0tmIy6LJLR9uPt3Kf2ZddAfPEK6UOLiNVcqj6_X9EPA1tltI-4vtjMz5R7XevyLLFYEYHBoT2LA5PWm_unurJYrH3z3Hz04ZrrFOtLjLdav4tj1JdOHO05P6xteD5rMq4GIiK9B5jmVUlFgIV9Th4Ua2sHLKDPnyY8yS__t9JpB_iWGhIO5na0dgvsNex-Z5rC2=w670-h744-no\" alt=\"折線圖完成\" title=\"折線圖\"></p>\n<hr>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><p><a href=\"https://github.com/xswei/d3js_doc/blob/master/API_Reference/d3-axis/README.md#axis_tickSizeInner\">D3 中文文件 - tickSizeInner</a></p>\n</li>\n<li><p><a href=\"https://vuejs.org/v2/guide/transitions.html#ad\">Vue Transition</a></p>\n</li>\n</ul>"},{"title":"D3 v4 with Vue - SVG VS CANVAS","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-06-16T16:00:00.000Z","updated":"2018-06-16T16:00:00.000Z","_content":"\n本篇主要是針對 `SVG` 和 `CANVAS` 兩種繪圖方式作比較，並整理各自的優勢。\n\n<!--more-->\n\n***\n## SVG & CANVAS 繪製原理\n\n### SVG\n\n> 用 D3 把算好的陣列，呈現在 SVG 的 DOM 上，讓 Vue 來做 rendor 的動作，最後使用 CSS transition 做動畫。\n\n![SVG Rendor DOM](https://lh3.googleusercontent.com/ZAzSTKoRMQE98bOg3uj9YplXa5AFTgiUR_HxMxa5mFBiEdFs6KNZwU3tgQxrj9R_xxCp2kpb-gLAhDfv1B3el8dULEnnW-YbpGNrZMeVFXiQZjb2xDDe8L2wmgBW36te5_hXcbN3aRdSi3W9TkVkVg7o7V_l6cbtOtm3N_D-kukmkfvQtvPItjI4K8i0jL1XMXbtlqjyDekrjwtrV8BGfJOB2UdWjmmQW79QadmcV3i9T0l7t7OAmZZk4LOwDz02PaZ4xZGglt40m4PVKeBb1181lnPhGp1qcTTLDzoaFyLsGwBfz2Dy_rSpehWT6Y3eUdIMFsUeqmyXCA4A5Q0iAfb8LuJ-36nP8p8DmKjicVfESglz7UY1mjZhV3n1F1VPOWOcVCQSzfEZMi0aYXLqdNMKiW_cjv4W17rPLBpSkUFWJKlXPFDxNOFi7U9u7pKcBIgVN6xaFx1amUnMaWA-boDEzjTeg-8QPl4Gsvp8-nQSkidiih4VEBVfXxnOToWRFYcNjPFswqq9MBdEnyg81b9IkBLGLtf3vqAbsc7tB17EGODRoprk4-kjzZrl2pygkb8DIRzIKhkE0d8gdPr7Yp0hntBjr7oUYVPq2hRqQEya7NE0NIWV6X2VEGOJQTc8BvZXs0wvYWaIUroEr8Ema9dAo1P_tsqs=w1024-h581-no \"SVG\")\n\n### CANVAS\n\n>  Canvas 則是用 \"命令\" 的方式作圖，JS 就如同一隻虛擬的筆，下指令一筆一畫把圖畫出來。所以，畫出來的東西沒有實體 DOM。動畫也是靠 JS 命令，每段時間清除畫布，不斷地做重新繪製。\n\n![JS Draw CANVAS](https://lh3.googleusercontent.com/4IZuljnySSEW7hG-zDIvL-Z8lNLYyLKrxOyiLdmAx_tRjgS_7M2_skX8MMzcm4YfhmMINLCzJDZsYrtojmRH8BySK7TdLOfdheBt9Rta_4S7EI1GTaVyR-_f83E1KHGNMFFzwezeDolTdEq1ULmEIKGxKTldAQ1wUsOjYqhz3Vhj7s27EoYOnIiAdBYiW46dAq4veUAV8wNsQ6zA5OvOJLAJh_PBZrDaV--jneUAsoOWBw2OhWZh7nKAvd0gcKedQ1FZJMj9Cbr51YQ1Hfg0QHhgLgucW1lTS8EwVmmIoycBjADwhaU7BOCH5LRbAu8EYAQJA4hQQ8UQLmmpCeAUAhIsd06ugBU6dFDuXZMCNSfb9sjQDPORauW_SoMK0gkMsS6I5fqJDBFTIXZNXJnLsZ-PedIYbAOIvxJY-jgRHUD4UpzlwM5rp2br8hEUBR7EIVDlRb2Ke56qqJHcYLd-tXOH1KT-7qdFm-rsMYRxpY_Fr_wbMlF5e7ZTMSFguMqwCCsqPLGgnjS1MmrPtNy6jy4JKzko9udGwYPykXmjV08ogFEC9gMpIBpJA3iVYK90V3Gce0XLFWAi_0t1G11llFAoGscFxL9VKVfLg7W-RzDCwapq7wcv7XakRhA-E0Q4yDWR8UNybMOkFb1EDI3WdD51iGa0fAEe=w1024-h615-no \"CANVAS\")\n\n***\n## CAN I USE?\n\n### SVG\n\n![CAN I USE SVG](https://lh3.googleusercontent.com/CDfwxp147t0DvInz8711mtyMUaMRmdTjjk8CoIHKylKWYmMdMBGNlUHPgKkT_ucfVuUrGlX6VHZMSC3ojSq187lSIw8XRln_tDXPMCFoEOr9hf4E4bBpwJKpZRPieJCCZf8GBoAYU4ri4-0HCE7wA0IcJ90RWrlZupjt06y49PaMEDUKjgIISHcaJUiKqRqgzwja1Ko8D-mdjYcGlF6RyUy9-juWjscLnAH9uCJHOtqI1kJGTJ0ZjZXVJReUJdObYGP151lLu8vewoSKOrwzBRYhkyv86aysGASJCYpcJGQpf7LNFZ8O09m6sdNCLf26um8zzs0FD-SIXrB47PgdCclmrUTH-LD3M0mtZauA32vrsuiSTjJZS0FPvs6mvVLX99xQZXVAiAr_6B6atSe5L23oGj5ORwleyh04vQncaVtBOciusq0evUPERCq0-v39ySLRYAeowROsu2MEBuFA_-AVJwyouNe99erpG7P7eHFq2em-JkAzOHAb7elRv0Ogmx9moM3sqHRbJ9pc4qg1cwaiMUtQ9aUZFxEsdJ2ZFBq1xAw4CNN788ZQ1a04749h65-syAzsaZsnF_RhirutLugQz2X3K43VwBOWDMcAbsuo6jcZQE6ym0pL8dbD5b9Ev1I5pgnpmfd1iGvyi6JYb6fS5VHFCnVk=w960-h720-no \"SVG\")\n\n### CANVAS\n\n![CAN I USE CANVAS](https://lh3.googleusercontent.com/zyGQFcsmzVd1aVm5n_qVI79C4BJAAzKjgHjN7T3hoQRt70JYI6Ja8vdw1uPHrPZv-SUOJSjJ_HpbcCLNtHLw6oj8N64XvpEfIvVvGrTeeIfuobhj1x8bRLUCeModLRttvBAksQ1QDIpF3p7Rh4TlCJ2D2hObN0Ij93AIqStJTMl4B2SDIIWnVioj5bHzhRTDWh6u7vjHiCMBG7rm2jcN8LxYtb1SOxlwbTwv9iazoWV3hxZKHkht_8jtm3WOHe1n3ogrfbVWkZHDGr9hG8DZf4brS8N6LeU5o6Hri7EJQ0ZZRV8pxiYcLit3B0NBwf2EyTrMjhYvTQSfwSYnc5hRMb0ZJr3-jzDPYviDiF01eDRHsFmGmNPYqmhDwCFa5KW5I1VpYHdntlPzVPXnMWuvYZME5W-pGmWeXmjeaqF1gEg1TU97YkYlD8QukKF5sPr4aqMHXH7lh442SPlE-u5S20xFHz7SKA8tY-EM-v8mBAmydly7QAW5Fu1sz4F84_U9jbDeQiG9ZTn3jsz3EVieCC1RrAQiS58nyf8P4ZiAP1dlnE3megojSwbTXN_I61Ezn2OFiihhDwO_PAJzYLWfcY38dIb5JKsL8-WhMGmwD4oFGPneJI0VFrfa7T0U1YoXBgZ38SNYDs-EOm3ZyRK-lfmbEaqqEWHy=w960-h720-no \"CANVAS\")\n\n***\n## 程式碼長度\n\n### SVG\n\n![SVG 程式碼長度](https://lh3.googleusercontent.com/5FlHfEuI0Zj2dAku5ef6m0wK7d05fL3MD-dXLnHXxl2lC9JmQdwBvZfvRlJj99aBbOqx3crHAZtRo7GR-fv4wSTrCkpS6y7vQ26wFGonRPx-T5svTRBytT-WIX0wNIgPwg7jISTHadrtgQuXiJF4hfG5OJSYSTOMIZlbemGKoDUPhUpuzqfXpOqMqBalapSbjK2Jwseww_tS6MSdiOVHT09-q8IpNnZ7abZVGtiVS6gQno0rleM9vrJpknaj1VZp3RthIhR4xj81ooqxqkef2zh41lm1hSUjMxf-q9KvNbeg2-YV0okHqaPYJ-1ItJWnaK5faqoSJAoXqXQCWNwG76WbPWFiA4OPXtPdY9NN0VCjRu6sM5xGOQBVmIJowC2IN9qmGktE69O_c5nCWZZdpLJQmT-1EmTMfOFJFaJsenANnJ24F6SqtczDOEGkau6NzJfTKXh92jv28L2QXLK4qp7dtiXucI3XOKev2wmBn1HjaTVhr_BhjgEo78BPMIEOh_8q-lmJ4IG_5tRxxOB_vAvGoDm8ZtXKfaOYf5_ThU-tPADED6-VCFaaDOqvYOt-tawByGrhI9Z9yHP7nX4ITS2Ix6u6YJuVQQtGM1pSf0nradpXkev-woG5BhsChl8nfwp8u4b-ug5Q9yuxp8ImElUBp3REZUrr=w960-h720-no \"SVG\")\n\n> SVG 399 行 (Whoa! Excellent ~)\n\n### CANVAS\n\n![CANVAS 程式碼長度](https://lh3.googleusercontent.com/btBkjLK8sxI6shanpLGKFPvW-nTtQ53-0C_--L3PjPHaOuzBzYMdMBqnLff8wLIf88w6UmnvHQqTR84t4HbTJQXwn9iZo0uNc-gOxPZIkdsa9t3N1tJl_P5n25VgjE1v1ODo9fzD7XWzRc8-iS3-JHMUCrE8-CvFgtxWl36MjXs2zkBd9MFHD_quAdxFZP7V2QvStqogunAWmBFGlNS9oEWP_fEJNak87zSTDMHpXd0JhO8aR_HHvlmiL0nVoyPvH9MiLc0a9lPXSnC5qGshEOIWvPodsZDFTYZm5qIPD-iuz6wWK9-jQ7OVNzhThmg6DhACMxSUq0huiwOUV1y7eBdMFN_U-Qp__H8SFFhBNG0Lv5QWRY-3poipGph0ug_jXlYeUFOiMdOMV28BM8CQ8LHjL8wQCzaF-IIvFHggmfnuGET9RY662S0Nt6pBUzP7Gnqsa6TzVm01x2GHqBIQMfXSckbwQ05-Yn7pIjI_ghFmecl8oyu3m7nMAlXUzFn6M_hZJEapy_9bS4eDjLqD_O70EqqWum1NTukqxDfs6WJ5lcpUA1JMwRNpDuR1FUnA538L7E2yZDEqUQ6i5jQMsmhvWec04eNIBWxmhmEOagBtq-HzHALg1a5hrhCLEcQbmzQcmb055LiQXEJR2x1vmAyHLhAzGD_s=w960-h720-no \"CANVAS\")\n\n> CANVAS 603 行 (Oh-no!! So Terrible ~)\n\n***\n## 執行效能\n\n### SVG\n![SVG 執行效能](https://lh3.googleusercontent.com/I9kGOm_f_okaPyeuNUQmRG5YQUtXwDBEyqhKVnlid_pZzXgT9k5c0mn5nqLFHC3DRblnLGR7GIKg-P_lpAtlXMeUnQMT0ehH_eytcbHA-0Lw6RGfizOvGpLSkqENJT6wiElTEOJzmbttEH-coE_TiIfMZ2ySwFkJJKbJHAl1yUrY3u4NvPjIe531rvGL0V5jt828afr6XI4c1no70wsKXlIIJIZA5zfTodlNsyZ82e1125mhD1J6WUcAJqHV_wO-do3Y-3cS2xIZlSKqvII8ufnS_curc4nvKpXq28w5PBG81BfVDiWiHzMHEaxMKJFBthdglowvIa3ZNgv_M0rnBnfmoTQtb0TDq-QPCb5P_Ox6PSeeipBcGQxuufBBKt7H_yOOEjvVvfpD7CIpLcIapVGmNhYSoQcnw9luB86QM5X-F72P3arl_x9YpISU3lkkFXceQMa67NuoTsKG_HffQ1ZVNMhLSubKF6vapLMZ0MlKfuoXm4GtwUCUGbNgRLIwD19Gcbl4CuK0_HjFgA0Z_vypGieC5Vl_qR1p-A6eX14l0CB1i5jCfs24PaIdJICV__0tJnKcJ1G5I6DwDgzfGC9sJiXLazgzpeuI-Yl6R9mmPJnGVME2k_jHCBpkPiiFsPPlhKPF5TKDZuTkz_1qRiqXND_3dIc0=w960-h720-no \"SVG\")\n\n> SVG 364 ms\n\n### CANVAS\n\n![CANVAS 執行效能](https://lh3.googleusercontent.com/H4jEF4F2vXB7rk767aivRFvdOcEF3CfR1xRc-urjzTV_xJBfxe3ARAa-Xv8PKcIa6ykm37iMIsTf__g_PKY8psG5r_cyNbPW1IhAs4kUZ4yF8tMzLymudPt-p4X4PVav3QWkANhWIl25_q1VwXm-NnoU9ncn4JEiHiREKoMAJiGDnPMV_qgFCrW_CLa78QYUA2jSOVFJ-e6v7A5fALJV_2uvmZNPO5f3Iuc0l1pbJP1zjp4IfdBKA8FadFek2ztoUiAfydWjruU0VT8mAZCJs9Z4PPPBfCxEcAHF8pB44IaYppDO47De1kUAhW2V_vAvKegvjZnUtuX2aSDpDIozyhYFd2an4bE4w00g-pjvTfTGDRtksOr7LYUJqsmCJzCQ1RUBx_2xve07c_Fvb5wjcXkQWu_HVZ3CrciipJ8BnGar6NIKnXnYws-qvcA8uh_8zVafoG57F1f-yMyNzrrJnbMx5cCTfiXFNOQ5--8fPsmcfWLoZ9ASXnv-kbACKwUGNGSsDpP3VvYUVN1pQ0lmq-dXtGcECDtLf6s7yYC5D77noLAXd9GSwH3V5OWdNgw2pIYTKLmlX76eIukbc5CcbgWr1UbUfOLKAZz97b-d122mkf6V9j6eDmCQVWRfZW0T1OeIKffA9yDn5UrZ_R_s6HBweS1SB4O0=w960-h720-no \"CANVAS\")\n\n> CANVAS 177 ms\n\n***\n## 整體分析\n\n![整體分析](https://lh3.googleusercontent.com/TQ1cY8cfzysPs5_lYNwNaJ0dLSSWl0AuWDw6FY6gR43sjv7rTt3E0HPyMj2nJxON75srHT-LziWsBeaOq6wASwN67opUfA5H1rTCziwLryhY7gYpZcgxpj-bjYxRuq4h4iLD2ggN36fOhg36HOMMMdrFkKrtpVGgWhEJdt6HkaKWBHcRuza_tss33mzktR9F1H5IDKbwwVomkz7OFsTErvI_lnWy1Jk7ylrjkbcEOa16WYV6B1YRHFo2h_hU7KCOZF3FU3LY16Mdo8chcVi6KcjfZcxoDj3NleQbpePAi9eGpqy-yCh8jrPAhi5_kQEBGlaJBmLDnC414DNzT9JKIPa-nLEsrDPHWiKG1Pqu24R03o6f0GLfNWy55Vg0ndzR-7OSGl2e347cN1bz0GG7yfl_dMZU23EygFK97e32VFJgktzF9zzuMlsK5s5qJS87knYJnNPIObrgbzET95l3ybsivoI7jIgwXy2TH74UpA6P3H1g5Yk-NPoBoFyGPaXwCvLK-_geMy1JdEIYtwwmJPxMl8AN-1qUSglW5A3keHkXd6kErk2b8nU5tFahYD9PzUf0RMs2DBCaaYcMc5aPLE6hZDuMETmThioOdqVQt7KF0brVzd-OhazWei-Pg2Z9fAjj5d9VDfArg7EIroxOxgX4_UWrRNnk=w960-h720-no \"SVG VS CANVAS\")\n\n> 整體來說，像工業 4.0 這種大數據的資料\b使用 CANVAS 來繪製會是最恰當的（速度才不會卡卡）\b\b\b。相反的，如果是簡單的數據圖，使用 SVG\b\b 會比較容易開發和維護。\n\n\b本篇就分析到此，下一篇會繼續解說 CANVAS 如何繪製其他種類（ex: 長條圖、圓餅圖...）的數據圖。\n","source":"_posts/D3/D3-v4-with-Vue-SVG-VS-CANVAS.md","raw":"---\ntitle: D3 v4 with Vue - SVG VS CANVAS\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, SVG, CANVAS]\ndate: 2018/06/17\nupdated: 2018/06/17\n---\n\n本篇主要是針對 `SVG` 和 `CANVAS` 兩種繪圖方式作比較，並整理各自的優勢。\n\n<!--more-->\n\n***\n## SVG & CANVAS 繪製原理\n\n### SVG\n\n> 用 D3 把算好的陣列，呈現在 SVG 的 DOM 上，讓 Vue 來做 rendor 的動作，最後使用 CSS transition 做動畫。\n\n![SVG Rendor DOM](https://lh3.googleusercontent.com/ZAzSTKoRMQE98bOg3uj9YplXa5AFTgiUR_HxMxa5mFBiEdFs6KNZwU3tgQxrj9R_xxCp2kpb-gLAhDfv1B3el8dULEnnW-YbpGNrZMeVFXiQZjb2xDDe8L2wmgBW36te5_hXcbN3aRdSi3W9TkVkVg7o7V_l6cbtOtm3N_D-kukmkfvQtvPItjI4K8i0jL1XMXbtlqjyDekrjwtrV8BGfJOB2UdWjmmQW79QadmcV3i9T0l7t7OAmZZk4LOwDz02PaZ4xZGglt40m4PVKeBb1181lnPhGp1qcTTLDzoaFyLsGwBfz2Dy_rSpehWT6Y3eUdIMFsUeqmyXCA4A5Q0iAfb8LuJ-36nP8p8DmKjicVfESglz7UY1mjZhV3n1F1VPOWOcVCQSzfEZMi0aYXLqdNMKiW_cjv4W17rPLBpSkUFWJKlXPFDxNOFi7U9u7pKcBIgVN6xaFx1amUnMaWA-boDEzjTeg-8QPl4Gsvp8-nQSkidiih4VEBVfXxnOToWRFYcNjPFswqq9MBdEnyg81b9IkBLGLtf3vqAbsc7tB17EGODRoprk4-kjzZrl2pygkb8DIRzIKhkE0d8gdPr7Yp0hntBjr7oUYVPq2hRqQEya7NE0NIWV6X2VEGOJQTc8BvZXs0wvYWaIUroEr8Ema9dAo1P_tsqs=w1024-h581-no \"SVG\")\n\n### CANVAS\n\n>  Canvas 則是用 \"命令\" 的方式作圖，JS 就如同一隻虛擬的筆，下指令一筆一畫把圖畫出來。所以，畫出來的東西沒有實體 DOM。動畫也是靠 JS 命令，每段時間清除畫布，不斷地做重新繪製。\n\n![JS Draw CANVAS](https://lh3.googleusercontent.com/4IZuljnySSEW7hG-zDIvL-Z8lNLYyLKrxOyiLdmAx_tRjgS_7M2_skX8MMzcm4YfhmMINLCzJDZsYrtojmRH8BySK7TdLOfdheBt9Rta_4S7EI1GTaVyR-_f83E1KHGNMFFzwezeDolTdEq1ULmEIKGxKTldAQ1wUsOjYqhz3Vhj7s27EoYOnIiAdBYiW46dAq4veUAV8wNsQ6zA5OvOJLAJh_PBZrDaV--jneUAsoOWBw2OhWZh7nKAvd0gcKedQ1FZJMj9Cbr51YQ1Hfg0QHhgLgucW1lTS8EwVmmIoycBjADwhaU7BOCH5LRbAu8EYAQJA4hQQ8UQLmmpCeAUAhIsd06ugBU6dFDuXZMCNSfb9sjQDPORauW_SoMK0gkMsS6I5fqJDBFTIXZNXJnLsZ-PedIYbAOIvxJY-jgRHUD4UpzlwM5rp2br8hEUBR7EIVDlRb2Ke56qqJHcYLd-tXOH1KT-7qdFm-rsMYRxpY_Fr_wbMlF5e7ZTMSFguMqwCCsqPLGgnjS1MmrPtNy6jy4JKzko9udGwYPykXmjV08ogFEC9gMpIBpJA3iVYK90V3Gce0XLFWAi_0t1G11llFAoGscFxL9VKVfLg7W-RzDCwapq7wcv7XakRhA-E0Q4yDWR8UNybMOkFb1EDI3WdD51iGa0fAEe=w1024-h615-no \"CANVAS\")\n\n***\n## CAN I USE?\n\n### SVG\n\n![CAN I USE SVG](https://lh3.googleusercontent.com/CDfwxp147t0DvInz8711mtyMUaMRmdTjjk8CoIHKylKWYmMdMBGNlUHPgKkT_ucfVuUrGlX6VHZMSC3ojSq187lSIw8XRln_tDXPMCFoEOr9hf4E4bBpwJKpZRPieJCCZf8GBoAYU4ri4-0HCE7wA0IcJ90RWrlZupjt06y49PaMEDUKjgIISHcaJUiKqRqgzwja1Ko8D-mdjYcGlF6RyUy9-juWjscLnAH9uCJHOtqI1kJGTJ0ZjZXVJReUJdObYGP151lLu8vewoSKOrwzBRYhkyv86aysGASJCYpcJGQpf7LNFZ8O09m6sdNCLf26um8zzs0FD-SIXrB47PgdCclmrUTH-LD3M0mtZauA32vrsuiSTjJZS0FPvs6mvVLX99xQZXVAiAr_6B6atSe5L23oGj5ORwleyh04vQncaVtBOciusq0evUPERCq0-v39ySLRYAeowROsu2MEBuFA_-AVJwyouNe99erpG7P7eHFq2em-JkAzOHAb7elRv0Ogmx9moM3sqHRbJ9pc4qg1cwaiMUtQ9aUZFxEsdJ2ZFBq1xAw4CNN788ZQ1a04749h65-syAzsaZsnF_RhirutLugQz2X3K43VwBOWDMcAbsuo6jcZQE6ym0pL8dbD5b9Ev1I5pgnpmfd1iGvyi6JYb6fS5VHFCnVk=w960-h720-no \"SVG\")\n\n### CANVAS\n\n![CAN I USE CANVAS](https://lh3.googleusercontent.com/zyGQFcsmzVd1aVm5n_qVI79C4BJAAzKjgHjN7T3hoQRt70JYI6Ja8vdw1uPHrPZv-SUOJSjJ_HpbcCLNtHLw6oj8N64XvpEfIvVvGrTeeIfuobhj1x8bRLUCeModLRttvBAksQ1QDIpF3p7Rh4TlCJ2D2hObN0Ij93AIqStJTMl4B2SDIIWnVioj5bHzhRTDWh6u7vjHiCMBG7rm2jcN8LxYtb1SOxlwbTwv9iazoWV3hxZKHkht_8jtm3WOHe1n3ogrfbVWkZHDGr9hG8DZf4brS8N6LeU5o6Hri7EJQ0ZZRV8pxiYcLit3B0NBwf2EyTrMjhYvTQSfwSYnc5hRMb0ZJr3-jzDPYviDiF01eDRHsFmGmNPYqmhDwCFa5KW5I1VpYHdntlPzVPXnMWuvYZME5W-pGmWeXmjeaqF1gEg1TU97YkYlD8QukKF5sPr4aqMHXH7lh442SPlE-u5S20xFHz7SKA8tY-EM-v8mBAmydly7QAW5Fu1sz4F84_U9jbDeQiG9ZTn3jsz3EVieCC1RrAQiS58nyf8P4ZiAP1dlnE3megojSwbTXN_I61Ezn2OFiihhDwO_PAJzYLWfcY38dIb5JKsL8-WhMGmwD4oFGPneJI0VFrfa7T0U1YoXBgZ38SNYDs-EOm3ZyRK-lfmbEaqqEWHy=w960-h720-no \"CANVAS\")\n\n***\n## 程式碼長度\n\n### SVG\n\n![SVG 程式碼長度](https://lh3.googleusercontent.com/5FlHfEuI0Zj2dAku5ef6m0wK7d05fL3MD-dXLnHXxl2lC9JmQdwBvZfvRlJj99aBbOqx3crHAZtRo7GR-fv4wSTrCkpS6y7vQ26wFGonRPx-T5svTRBytT-WIX0wNIgPwg7jISTHadrtgQuXiJF4hfG5OJSYSTOMIZlbemGKoDUPhUpuzqfXpOqMqBalapSbjK2Jwseww_tS6MSdiOVHT09-q8IpNnZ7abZVGtiVS6gQno0rleM9vrJpknaj1VZp3RthIhR4xj81ooqxqkef2zh41lm1hSUjMxf-q9KvNbeg2-YV0okHqaPYJ-1ItJWnaK5faqoSJAoXqXQCWNwG76WbPWFiA4OPXtPdY9NN0VCjRu6sM5xGOQBVmIJowC2IN9qmGktE69O_c5nCWZZdpLJQmT-1EmTMfOFJFaJsenANnJ24F6SqtczDOEGkau6NzJfTKXh92jv28L2QXLK4qp7dtiXucI3XOKev2wmBn1HjaTVhr_BhjgEo78BPMIEOh_8q-lmJ4IG_5tRxxOB_vAvGoDm8ZtXKfaOYf5_ThU-tPADED6-VCFaaDOqvYOt-tawByGrhI9Z9yHP7nX4ITS2Ix6u6YJuVQQtGM1pSf0nradpXkev-woG5BhsChl8nfwp8u4b-ug5Q9yuxp8ImElUBp3REZUrr=w960-h720-no \"SVG\")\n\n> SVG 399 行 (Whoa! Excellent ~)\n\n### CANVAS\n\n![CANVAS 程式碼長度](https://lh3.googleusercontent.com/btBkjLK8sxI6shanpLGKFPvW-nTtQ53-0C_--L3PjPHaOuzBzYMdMBqnLff8wLIf88w6UmnvHQqTR84t4HbTJQXwn9iZo0uNc-gOxPZIkdsa9t3N1tJl_P5n25VgjE1v1ODo9fzD7XWzRc8-iS3-JHMUCrE8-CvFgtxWl36MjXs2zkBd9MFHD_quAdxFZP7V2QvStqogunAWmBFGlNS9oEWP_fEJNak87zSTDMHpXd0JhO8aR_HHvlmiL0nVoyPvH9MiLc0a9lPXSnC5qGshEOIWvPodsZDFTYZm5qIPD-iuz6wWK9-jQ7OVNzhThmg6DhACMxSUq0huiwOUV1y7eBdMFN_U-Qp__H8SFFhBNG0Lv5QWRY-3poipGph0ug_jXlYeUFOiMdOMV28BM8CQ8LHjL8wQCzaF-IIvFHggmfnuGET9RY662S0Nt6pBUzP7Gnqsa6TzVm01x2GHqBIQMfXSckbwQ05-Yn7pIjI_ghFmecl8oyu3m7nMAlXUzFn6M_hZJEapy_9bS4eDjLqD_O70EqqWum1NTukqxDfs6WJ5lcpUA1JMwRNpDuR1FUnA538L7E2yZDEqUQ6i5jQMsmhvWec04eNIBWxmhmEOagBtq-HzHALg1a5hrhCLEcQbmzQcmb055LiQXEJR2x1vmAyHLhAzGD_s=w960-h720-no \"CANVAS\")\n\n> CANVAS 603 行 (Oh-no!! So Terrible ~)\n\n***\n## 執行效能\n\n### SVG\n![SVG 執行效能](https://lh3.googleusercontent.com/I9kGOm_f_okaPyeuNUQmRG5YQUtXwDBEyqhKVnlid_pZzXgT9k5c0mn5nqLFHC3DRblnLGR7GIKg-P_lpAtlXMeUnQMT0ehH_eytcbHA-0Lw6RGfizOvGpLSkqENJT6wiElTEOJzmbttEH-coE_TiIfMZ2ySwFkJJKbJHAl1yUrY3u4NvPjIe531rvGL0V5jt828afr6XI4c1no70wsKXlIIJIZA5zfTodlNsyZ82e1125mhD1J6WUcAJqHV_wO-do3Y-3cS2xIZlSKqvII8ufnS_curc4nvKpXq28w5PBG81BfVDiWiHzMHEaxMKJFBthdglowvIa3ZNgv_M0rnBnfmoTQtb0TDq-QPCb5P_Ox6PSeeipBcGQxuufBBKt7H_yOOEjvVvfpD7CIpLcIapVGmNhYSoQcnw9luB86QM5X-F72P3arl_x9YpISU3lkkFXceQMa67NuoTsKG_HffQ1ZVNMhLSubKF6vapLMZ0MlKfuoXm4GtwUCUGbNgRLIwD19Gcbl4CuK0_HjFgA0Z_vypGieC5Vl_qR1p-A6eX14l0CB1i5jCfs24PaIdJICV__0tJnKcJ1G5I6DwDgzfGC9sJiXLazgzpeuI-Yl6R9mmPJnGVME2k_jHCBpkPiiFsPPlhKPF5TKDZuTkz_1qRiqXND_3dIc0=w960-h720-no \"SVG\")\n\n> SVG 364 ms\n\n### CANVAS\n\n![CANVAS 執行效能](https://lh3.googleusercontent.com/H4jEF4F2vXB7rk767aivRFvdOcEF3CfR1xRc-urjzTV_xJBfxe3ARAa-Xv8PKcIa6ykm37iMIsTf__g_PKY8psG5r_cyNbPW1IhAs4kUZ4yF8tMzLymudPt-p4X4PVav3QWkANhWIl25_q1VwXm-NnoU9ncn4JEiHiREKoMAJiGDnPMV_qgFCrW_CLa78QYUA2jSOVFJ-e6v7A5fALJV_2uvmZNPO5f3Iuc0l1pbJP1zjp4IfdBKA8FadFek2ztoUiAfydWjruU0VT8mAZCJs9Z4PPPBfCxEcAHF8pB44IaYppDO47De1kUAhW2V_vAvKegvjZnUtuX2aSDpDIozyhYFd2an4bE4w00g-pjvTfTGDRtksOr7LYUJqsmCJzCQ1RUBx_2xve07c_Fvb5wjcXkQWu_HVZ3CrciipJ8BnGar6NIKnXnYws-qvcA8uh_8zVafoG57F1f-yMyNzrrJnbMx5cCTfiXFNOQ5--8fPsmcfWLoZ9ASXnv-kbACKwUGNGSsDpP3VvYUVN1pQ0lmq-dXtGcECDtLf6s7yYC5D77noLAXd9GSwH3V5OWdNgw2pIYTKLmlX76eIukbc5CcbgWr1UbUfOLKAZz97b-d122mkf6V9j6eDmCQVWRfZW0T1OeIKffA9yDn5UrZ_R_s6HBweS1SB4O0=w960-h720-no \"CANVAS\")\n\n> CANVAS 177 ms\n\n***\n## 整體分析\n\n![整體分析](https://lh3.googleusercontent.com/TQ1cY8cfzysPs5_lYNwNaJ0dLSSWl0AuWDw6FY6gR43sjv7rTt3E0HPyMj2nJxON75srHT-LziWsBeaOq6wASwN67opUfA5H1rTCziwLryhY7gYpZcgxpj-bjYxRuq4h4iLD2ggN36fOhg36HOMMMdrFkKrtpVGgWhEJdt6HkaKWBHcRuza_tss33mzktR9F1H5IDKbwwVomkz7OFsTErvI_lnWy1Jk7ylrjkbcEOa16WYV6B1YRHFo2h_hU7KCOZF3FU3LY16Mdo8chcVi6KcjfZcxoDj3NleQbpePAi9eGpqy-yCh8jrPAhi5_kQEBGlaJBmLDnC414DNzT9JKIPa-nLEsrDPHWiKG1Pqu24R03o6f0GLfNWy55Vg0ndzR-7OSGl2e347cN1bz0GG7yfl_dMZU23EygFK97e32VFJgktzF9zzuMlsK5s5qJS87knYJnNPIObrgbzET95l3ybsivoI7jIgwXy2TH74UpA6P3H1g5Yk-NPoBoFyGPaXwCvLK-_geMy1JdEIYtwwmJPxMl8AN-1qUSglW5A3keHkXd6kErk2b8nU5tFahYD9PzUf0RMs2DBCaaYcMc5aPLE6hZDuMETmThioOdqVQt7KF0brVzd-OhazWei-Pg2Z9fAjj5d9VDfArg7EIroxOxgX4_UWrRNnk=w960-h720-no \"SVG VS CANVAS\")\n\n> 整體來說，像工業 4.0 這種大數據的資料\b使用 CANVAS 來繪製會是最恰當的（速度才不會卡卡）\b\b\b。相反的，如果是簡單的數據圖，使用 SVG\b\b 會比較容易開發和維護。\n\n\b本篇就分析到此，下一篇會繼續解說 CANVAS 如何繪製其他種類（ex: 長條圖、圓餅圖...）的數據圖。\n","slug":"D3/D3-v4-with-Vue-SVG-VS-CANVAS","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9pv000or3y7ht51a7kw","content":"<p>本篇主要是針對 <code>SVG</code> 和 <code>CANVAS</code> 兩種繪圖方式作比較，並整理各自的優勢。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"SVG-amp-CANVAS-繪製原理\"><a href=\"#SVG-amp-CANVAS-繪製原理\" class=\"headerlink\" title=\"SVG &amp; CANVAS 繪製原理\"></a>SVG &amp; CANVAS 繪製原理</h2><h3 id=\"SVG\"><a href=\"#SVG\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><blockquote>\n<p>用 D3 把算好的陣列，呈現在 SVG 的 DOM 上，讓 Vue 來做 rendor 的動作，最後使用 CSS transition 做動畫。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/ZAzSTKoRMQE98bOg3uj9YplXa5AFTgiUR_HxMxa5mFBiEdFs6KNZwU3tgQxrj9R_xxCp2kpb-gLAhDfv1B3el8dULEnnW-YbpGNrZMeVFXiQZjb2xDDe8L2wmgBW36te5_hXcbN3aRdSi3W9TkVkVg7o7V_l6cbtOtm3N_D-kukmkfvQtvPItjI4K8i0jL1XMXbtlqjyDekrjwtrV8BGfJOB2UdWjmmQW79QadmcV3i9T0l7t7OAmZZk4LOwDz02PaZ4xZGglt40m4PVKeBb1181lnPhGp1qcTTLDzoaFyLsGwBfz2Dy_rSpehWT6Y3eUdIMFsUeqmyXCA4A5Q0iAfb8LuJ-36nP8p8DmKjicVfESglz7UY1mjZhV3n1F1VPOWOcVCQSzfEZMi0aYXLqdNMKiW_cjv4W17rPLBpSkUFWJKlXPFDxNOFi7U9u7pKcBIgVN6xaFx1amUnMaWA-boDEzjTeg-8QPl4Gsvp8-nQSkidiih4VEBVfXxnOToWRFYcNjPFswqq9MBdEnyg81b9IkBLGLtf3vqAbsc7tB17EGODRoprk4-kjzZrl2pygkb8DIRzIKhkE0d8gdPr7Yp0hntBjr7oUYVPq2hRqQEya7NE0NIWV6X2VEGOJQTc8BvZXs0wvYWaIUroEr8Ema9dAo1P_tsqs=w1024-h581-no\" alt=\"SVG Rendor DOM\" title=\"SVG\"></p>\n<h3 id=\"CANVAS\"><a href=\"#CANVAS\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><blockquote>\n<p> Canvas 則是用 “命令” 的方式作圖，JS 就如同一隻虛擬的筆，下指令一筆一畫把圖畫出來。所以，畫出來的東西沒有實體 DOM。動畫也是靠 JS 命令，每段時間清除畫布，不斷地做重新繪製。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/4IZuljnySSEW7hG-zDIvL-Z8lNLYyLKrxOyiLdmAx_tRjgS_7M2_skX8MMzcm4YfhmMINLCzJDZsYrtojmRH8BySK7TdLOfdheBt9Rta_4S7EI1GTaVyR-_f83E1KHGNMFFzwezeDolTdEq1ULmEIKGxKTldAQ1wUsOjYqhz3Vhj7s27EoYOnIiAdBYiW46dAq4veUAV8wNsQ6zA5OvOJLAJh_PBZrDaV--jneUAsoOWBw2OhWZh7nKAvd0gcKedQ1FZJMj9Cbr51YQ1Hfg0QHhgLgucW1lTS8EwVmmIoycBjADwhaU7BOCH5LRbAu8EYAQJA4hQQ8UQLmmpCeAUAhIsd06ugBU6dFDuXZMCNSfb9sjQDPORauW_SoMK0gkMsS6I5fqJDBFTIXZNXJnLsZ-PedIYbAOIvxJY-jgRHUD4UpzlwM5rp2br8hEUBR7EIVDlRb2Ke56qqJHcYLd-tXOH1KT-7qdFm-rsMYRxpY_Fr_wbMlF5e7ZTMSFguMqwCCsqPLGgnjS1MmrPtNy6jy4JKzko9udGwYPykXmjV08ogFEC9gMpIBpJA3iVYK90V3Gce0XLFWAi_0t1G11llFAoGscFxL9VKVfLg7W-RzDCwapq7wcv7XakRhA-E0Q4yDWR8UNybMOkFb1EDI3WdD51iGa0fAEe=w1024-h615-no\" alt=\"JS Draw CANVAS\" title=\"CANVAS\"></p>\n<hr>\n<h2 id=\"CAN-I-USE\"><a href=\"#CAN-I-USE\" class=\"headerlink\" title=\"CAN I USE?\"></a>CAN I USE?</h2><h3 id=\"SVG-1\"><a href=\"#SVG-1\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/CDfwxp147t0DvInz8711mtyMUaMRmdTjjk8CoIHKylKWYmMdMBGNlUHPgKkT_ucfVuUrGlX6VHZMSC3ojSq187lSIw8XRln_tDXPMCFoEOr9hf4E4bBpwJKpZRPieJCCZf8GBoAYU4ri4-0HCE7wA0IcJ90RWrlZupjt06y49PaMEDUKjgIISHcaJUiKqRqgzwja1Ko8D-mdjYcGlF6RyUy9-juWjscLnAH9uCJHOtqI1kJGTJ0ZjZXVJReUJdObYGP151lLu8vewoSKOrwzBRYhkyv86aysGASJCYpcJGQpf7LNFZ8O09m6sdNCLf26um8zzs0FD-SIXrB47PgdCclmrUTH-LD3M0mtZauA32vrsuiSTjJZS0FPvs6mvVLX99xQZXVAiAr_6B6atSe5L23oGj5ORwleyh04vQncaVtBOciusq0evUPERCq0-v39ySLRYAeowROsu2MEBuFA_-AVJwyouNe99erpG7P7eHFq2em-JkAzOHAb7elRv0Ogmx9moM3sqHRbJ9pc4qg1cwaiMUtQ9aUZFxEsdJ2ZFBq1xAw4CNN788ZQ1a04749h65-syAzsaZsnF_RhirutLugQz2X3K43VwBOWDMcAbsuo6jcZQE6ym0pL8dbD5b9Ev1I5pgnpmfd1iGvyi6JYb6fS5VHFCnVk=w960-h720-no\" alt=\"CAN I USE SVG\" title=\"SVG\"></p>\n<h3 id=\"CANVAS-1\"><a href=\"#CANVAS-1\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/zyGQFcsmzVd1aVm5n_qVI79C4BJAAzKjgHjN7T3hoQRt70JYI6Ja8vdw1uPHrPZv-SUOJSjJ_HpbcCLNtHLw6oj8N64XvpEfIvVvGrTeeIfuobhj1x8bRLUCeModLRttvBAksQ1QDIpF3p7Rh4TlCJ2D2hObN0Ij93AIqStJTMl4B2SDIIWnVioj5bHzhRTDWh6u7vjHiCMBG7rm2jcN8LxYtb1SOxlwbTwv9iazoWV3hxZKHkht_8jtm3WOHe1n3ogrfbVWkZHDGr9hG8DZf4brS8N6LeU5o6Hri7EJQ0ZZRV8pxiYcLit3B0NBwf2EyTrMjhYvTQSfwSYnc5hRMb0ZJr3-jzDPYviDiF01eDRHsFmGmNPYqmhDwCFa5KW5I1VpYHdntlPzVPXnMWuvYZME5W-pGmWeXmjeaqF1gEg1TU97YkYlD8QukKF5sPr4aqMHXH7lh442SPlE-u5S20xFHz7SKA8tY-EM-v8mBAmydly7QAW5Fu1sz4F84_U9jbDeQiG9ZTn3jsz3EVieCC1RrAQiS58nyf8P4ZiAP1dlnE3megojSwbTXN_I61Ezn2OFiihhDwO_PAJzYLWfcY38dIb5JKsL8-WhMGmwD4oFGPneJI0VFrfa7T0U1YoXBgZ38SNYDs-EOm3ZyRK-lfmbEaqqEWHy=w960-h720-no\" alt=\"CAN I USE CANVAS\" title=\"CANVAS\"></p>\n<hr>\n<h2 id=\"程式碼長度\"><a href=\"#程式碼長度\" class=\"headerlink\" title=\"程式碼長度\"></a>程式碼長度</h2><h3 id=\"SVG-2\"><a href=\"#SVG-2\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/5FlHfEuI0Zj2dAku5ef6m0wK7d05fL3MD-dXLnHXxl2lC9JmQdwBvZfvRlJj99aBbOqx3crHAZtRo7GR-fv4wSTrCkpS6y7vQ26wFGonRPx-T5svTRBytT-WIX0wNIgPwg7jISTHadrtgQuXiJF4hfG5OJSYSTOMIZlbemGKoDUPhUpuzqfXpOqMqBalapSbjK2Jwseww_tS6MSdiOVHT09-q8IpNnZ7abZVGtiVS6gQno0rleM9vrJpknaj1VZp3RthIhR4xj81ooqxqkef2zh41lm1hSUjMxf-q9KvNbeg2-YV0okHqaPYJ-1ItJWnaK5faqoSJAoXqXQCWNwG76WbPWFiA4OPXtPdY9NN0VCjRu6sM5xGOQBVmIJowC2IN9qmGktE69O_c5nCWZZdpLJQmT-1EmTMfOFJFaJsenANnJ24F6SqtczDOEGkau6NzJfTKXh92jv28L2QXLK4qp7dtiXucI3XOKev2wmBn1HjaTVhr_BhjgEo78BPMIEOh_8q-lmJ4IG_5tRxxOB_vAvGoDm8ZtXKfaOYf5_ThU-tPADED6-VCFaaDOqvYOt-tawByGrhI9Z9yHP7nX4ITS2Ix6u6YJuVQQtGM1pSf0nradpXkev-woG5BhsChl8nfwp8u4b-ug5Q9yuxp8ImElUBp3REZUrr=w960-h720-no\" alt=\"SVG 程式碼長度\" title=\"SVG\"></p>\n<blockquote>\n<p>SVG 399 行 (Whoa! Excellent ~)</p>\n</blockquote>\n<h3 id=\"CANVAS-2\"><a href=\"#CANVAS-2\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/btBkjLK8sxI6shanpLGKFPvW-nTtQ53-0C_--L3PjPHaOuzBzYMdMBqnLff8wLIf88w6UmnvHQqTR84t4HbTJQXwn9iZo0uNc-gOxPZIkdsa9t3N1tJl_P5n25VgjE1v1ODo9fzD7XWzRc8-iS3-JHMUCrE8-CvFgtxWl36MjXs2zkBd9MFHD_quAdxFZP7V2QvStqogunAWmBFGlNS9oEWP_fEJNak87zSTDMHpXd0JhO8aR_HHvlmiL0nVoyPvH9MiLc0a9lPXSnC5qGshEOIWvPodsZDFTYZm5qIPD-iuz6wWK9-jQ7OVNzhThmg6DhACMxSUq0huiwOUV1y7eBdMFN_U-Qp__H8SFFhBNG0Lv5QWRY-3poipGph0ug_jXlYeUFOiMdOMV28BM8CQ8LHjL8wQCzaF-IIvFHggmfnuGET9RY662S0Nt6pBUzP7Gnqsa6TzVm01x2GHqBIQMfXSckbwQ05-Yn7pIjI_ghFmecl8oyu3m7nMAlXUzFn6M_hZJEapy_9bS4eDjLqD_O70EqqWum1NTukqxDfs6WJ5lcpUA1JMwRNpDuR1FUnA538L7E2yZDEqUQ6i5jQMsmhvWec04eNIBWxmhmEOagBtq-HzHALg1a5hrhCLEcQbmzQcmb055LiQXEJR2x1vmAyHLhAzGD_s=w960-h720-no\" alt=\"CANVAS 程式碼長度\" title=\"CANVAS\"></p>\n<blockquote>\n<p>CANVAS 603 行 (Oh-no!! So Terrible ~)</p>\n</blockquote>\n<hr>\n<h2 id=\"執行效能\"><a href=\"#執行效能\" class=\"headerlink\" title=\"執行效能\"></a>執行效能</h2><h3 id=\"SVG-3\"><a href=\"#SVG-3\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/I9kGOm_f_okaPyeuNUQmRG5YQUtXwDBEyqhKVnlid_pZzXgT9k5c0mn5nqLFHC3DRblnLGR7GIKg-P_lpAtlXMeUnQMT0ehH_eytcbHA-0Lw6RGfizOvGpLSkqENJT6wiElTEOJzmbttEH-coE_TiIfMZ2ySwFkJJKbJHAl1yUrY3u4NvPjIe531rvGL0V5jt828afr6XI4c1no70wsKXlIIJIZA5zfTodlNsyZ82e1125mhD1J6WUcAJqHV_wO-do3Y-3cS2xIZlSKqvII8ufnS_curc4nvKpXq28w5PBG81BfVDiWiHzMHEaxMKJFBthdglowvIa3ZNgv_M0rnBnfmoTQtb0TDq-QPCb5P_Ox6PSeeipBcGQxuufBBKt7H_yOOEjvVvfpD7CIpLcIapVGmNhYSoQcnw9luB86QM5X-F72P3arl_x9YpISU3lkkFXceQMa67NuoTsKG_HffQ1ZVNMhLSubKF6vapLMZ0MlKfuoXm4GtwUCUGbNgRLIwD19Gcbl4CuK0_HjFgA0Z_vypGieC5Vl_qR1p-A6eX14l0CB1i5jCfs24PaIdJICV__0tJnKcJ1G5I6DwDgzfGC9sJiXLazgzpeuI-Yl6R9mmPJnGVME2k_jHCBpkPiiFsPPlhKPF5TKDZuTkz_1qRiqXND_3dIc0=w960-h720-no\" alt=\"SVG 執行效能\" title=\"SVG\"></p>\n<blockquote>\n<p>SVG 364 ms</p>\n</blockquote>\n<h3 id=\"CANVAS-3\"><a href=\"#CANVAS-3\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/H4jEF4F2vXB7rk767aivRFvdOcEF3CfR1xRc-urjzTV_xJBfxe3ARAa-Xv8PKcIa6ykm37iMIsTf__g_PKY8psG5r_cyNbPW1IhAs4kUZ4yF8tMzLymudPt-p4X4PVav3QWkANhWIl25_q1VwXm-NnoU9ncn4JEiHiREKoMAJiGDnPMV_qgFCrW_CLa78QYUA2jSOVFJ-e6v7A5fALJV_2uvmZNPO5f3Iuc0l1pbJP1zjp4IfdBKA8FadFek2ztoUiAfydWjruU0VT8mAZCJs9Z4PPPBfCxEcAHF8pB44IaYppDO47De1kUAhW2V_vAvKegvjZnUtuX2aSDpDIozyhYFd2an4bE4w00g-pjvTfTGDRtksOr7LYUJqsmCJzCQ1RUBx_2xve07c_Fvb5wjcXkQWu_HVZ3CrciipJ8BnGar6NIKnXnYws-qvcA8uh_8zVafoG57F1f-yMyNzrrJnbMx5cCTfiXFNOQ5--8fPsmcfWLoZ9ASXnv-kbACKwUGNGSsDpP3VvYUVN1pQ0lmq-dXtGcECDtLf6s7yYC5D77noLAXd9GSwH3V5OWdNgw2pIYTKLmlX76eIukbc5CcbgWr1UbUfOLKAZz97b-d122mkf6V9j6eDmCQVWRfZW0T1OeIKffA9yDn5UrZ_R_s6HBweS1SB4O0=w960-h720-no\" alt=\"CANVAS 執行效能\" title=\"CANVAS\"></p>\n<blockquote>\n<p>CANVAS 177 ms</p>\n</blockquote>\n<hr>\n<h2 id=\"整體分析\"><a href=\"#整體分析\" class=\"headerlink\" title=\"整體分析\"></a>整體分析</h2><p><img src=\"https://lh3.googleusercontent.com/TQ1cY8cfzysPs5_lYNwNaJ0dLSSWl0AuWDw6FY6gR43sjv7rTt3E0HPyMj2nJxON75srHT-LziWsBeaOq6wASwN67opUfA5H1rTCziwLryhY7gYpZcgxpj-bjYxRuq4h4iLD2ggN36fOhg36HOMMMdrFkKrtpVGgWhEJdt6HkaKWBHcRuza_tss33mzktR9F1H5IDKbwwVomkz7OFsTErvI_lnWy1Jk7ylrjkbcEOa16WYV6B1YRHFo2h_hU7KCOZF3FU3LY16Mdo8chcVi6KcjfZcxoDj3NleQbpePAi9eGpqy-yCh8jrPAhi5_kQEBGlaJBmLDnC414DNzT9JKIPa-nLEsrDPHWiKG1Pqu24R03o6f0GLfNWy55Vg0ndzR-7OSGl2e347cN1bz0GG7yfl_dMZU23EygFK97e32VFJgktzF9zzuMlsK5s5qJS87knYJnNPIObrgbzET95l3ybsivoI7jIgwXy2TH74UpA6P3H1g5Yk-NPoBoFyGPaXwCvLK-_geMy1JdEIYtwwmJPxMl8AN-1qUSglW5A3keHkXd6kErk2b8nU5tFahYD9PzUf0RMs2DBCaaYcMc5aPLE6hZDuMETmThioOdqVQt7KF0brVzd-OhazWei-Pg2Z9fAjj5d9VDfArg7EIroxOxgX4_UWrRNnk=w960-h720-no\" alt=\"整體分析\" title=\"SVG VS CANVAS\"></p>\n<blockquote>\n<p>整體來說，像工業 4.0 這種大數據的資料\b使用 CANVAS 來繪製會是最恰當的（速度才不會卡卡）\b\b\b。相反的，如果是簡單的數據圖，使用 SVG\b\b 會比較容易開發和維護。</p>\n</blockquote>\n<p>\b本篇就分析到此，下一篇會繼續解說 CANVAS 如何繪製其他種類（ex: 長條圖、圓餅圖…）的數據圖。</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>本篇主要是針對 <code>SVG</code> 和 <code>CANVAS</code> 兩種繪圖方式作比較，並整理各自的優勢。</p>","more":"<hr>\n<h2 id=\"SVG-amp-CANVAS-繪製原理\"><a href=\"#SVG-amp-CANVAS-繪製原理\" class=\"headerlink\" title=\"SVG &amp; CANVAS 繪製原理\"></a>SVG &amp; CANVAS 繪製原理</h2><h3 id=\"SVG\"><a href=\"#SVG\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><blockquote>\n<p>用 D3 把算好的陣列，呈現在 SVG 的 DOM 上，讓 Vue 來做 rendor 的動作，最後使用 CSS transition 做動畫。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/ZAzSTKoRMQE98bOg3uj9YplXa5AFTgiUR_HxMxa5mFBiEdFs6KNZwU3tgQxrj9R_xxCp2kpb-gLAhDfv1B3el8dULEnnW-YbpGNrZMeVFXiQZjb2xDDe8L2wmgBW36te5_hXcbN3aRdSi3W9TkVkVg7o7V_l6cbtOtm3N_D-kukmkfvQtvPItjI4K8i0jL1XMXbtlqjyDekrjwtrV8BGfJOB2UdWjmmQW79QadmcV3i9T0l7t7OAmZZk4LOwDz02PaZ4xZGglt40m4PVKeBb1181lnPhGp1qcTTLDzoaFyLsGwBfz2Dy_rSpehWT6Y3eUdIMFsUeqmyXCA4A5Q0iAfb8LuJ-36nP8p8DmKjicVfESglz7UY1mjZhV3n1F1VPOWOcVCQSzfEZMi0aYXLqdNMKiW_cjv4W17rPLBpSkUFWJKlXPFDxNOFi7U9u7pKcBIgVN6xaFx1amUnMaWA-boDEzjTeg-8QPl4Gsvp8-nQSkidiih4VEBVfXxnOToWRFYcNjPFswqq9MBdEnyg81b9IkBLGLtf3vqAbsc7tB17EGODRoprk4-kjzZrl2pygkb8DIRzIKhkE0d8gdPr7Yp0hntBjr7oUYVPq2hRqQEya7NE0NIWV6X2VEGOJQTc8BvZXs0wvYWaIUroEr8Ema9dAo1P_tsqs=w1024-h581-no\" alt=\"SVG Rendor DOM\" title=\"SVG\"></p>\n<h3 id=\"CANVAS\"><a href=\"#CANVAS\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><blockquote>\n<p> Canvas 則是用 “命令” 的方式作圖，JS 就如同一隻虛擬的筆，下指令一筆一畫把圖畫出來。所以，畫出來的東西沒有實體 DOM。動畫也是靠 JS 命令，每段時間清除畫布，不斷地做重新繪製。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/4IZuljnySSEW7hG-zDIvL-Z8lNLYyLKrxOyiLdmAx_tRjgS_7M2_skX8MMzcm4YfhmMINLCzJDZsYrtojmRH8BySK7TdLOfdheBt9Rta_4S7EI1GTaVyR-_f83E1KHGNMFFzwezeDolTdEq1ULmEIKGxKTldAQ1wUsOjYqhz3Vhj7s27EoYOnIiAdBYiW46dAq4veUAV8wNsQ6zA5OvOJLAJh_PBZrDaV--jneUAsoOWBw2OhWZh7nKAvd0gcKedQ1FZJMj9Cbr51YQ1Hfg0QHhgLgucW1lTS8EwVmmIoycBjADwhaU7BOCH5LRbAu8EYAQJA4hQQ8UQLmmpCeAUAhIsd06ugBU6dFDuXZMCNSfb9sjQDPORauW_SoMK0gkMsS6I5fqJDBFTIXZNXJnLsZ-PedIYbAOIvxJY-jgRHUD4UpzlwM5rp2br8hEUBR7EIVDlRb2Ke56qqJHcYLd-tXOH1KT-7qdFm-rsMYRxpY_Fr_wbMlF5e7ZTMSFguMqwCCsqPLGgnjS1MmrPtNy6jy4JKzko9udGwYPykXmjV08ogFEC9gMpIBpJA3iVYK90V3Gce0XLFWAi_0t1G11llFAoGscFxL9VKVfLg7W-RzDCwapq7wcv7XakRhA-E0Q4yDWR8UNybMOkFb1EDI3WdD51iGa0fAEe=w1024-h615-no\" alt=\"JS Draw CANVAS\" title=\"CANVAS\"></p>\n<hr>\n<h2 id=\"CAN-I-USE\"><a href=\"#CAN-I-USE\" class=\"headerlink\" title=\"CAN I USE?\"></a>CAN I USE?</h2><h3 id=\"SVG-1\"><a href=\"#SVG-1\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/CDfwxp147t0DvInz8711mtyMUaMRmdTjjk8CoIHKylKWYmMdMBGNlUHPgKkT_ucfVuUrGlX6VHZMSC3ojSq187lSIw8XRln_tDXPMCFoEOr9hf4E4bBpwJKpZRPieJCCZf8GBoAYU4ri4-0HCE7wA0IcJ90RWrlZupjt06y49PaMEDUKjgIISHcaJUiKqRqgzwja1Ko8D-mdjYcGlF6RyUy9-juWjscLnAH9uCJHOtqI1kJGTJ0ZjZXVJReUJdObYGP151lLu8vewoSKOrwzBRYhkyv86aysGASJCYpcJGQpf7LNFZ8O09m6sdNCLf26um8zzs0FD-SIXrB47PgdCclmrUTH-LD3M0mtZauA32vrsuiSTjJZS0FPvs6mvVLX99xQZXVAiAr_6B6atSe5L23oGj5ORwleyh04vQncaVtBOciusq0evUPERCq0-v39ySLRYAeowROsu2MEBuFA_-AVJwyouNe99erpG7P7eHFq2em-JkAzOHAb7elRv0Ogmx9moM3sqHRbJ9pc4qg1cwaiMUtQ9aUZFxEsdJ2ZFBq1xAw4CNN788ZQ1a04749h65-syAzsaZsnF_RhirutLugQz2X3K43VwBOWDMcAbsuo6jcZQE6ym0pL8dbD5b9Ev1I5pgnpmfd1iGvyi6JYb6fS5VHFCnVk=w960-h720-no\" alt=\"CAN I USE SVG\" title=\"SVG\"></p>\n<h3 id=\"CANVAS-1\"><a href=\"#CANVAS-1\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/zyGQFcsmzVd1aVm5n_qVI79C4BJAAzKjgHjN7T3hoQRt70JYI6Ja8vdw1uPHrPZv-SUOJSjJ_HpbcCLNtHLw6oj8N64XvpEfIvVvGrTeeIfuobhj1x8bRLUCeModLRttvBAksQ1QDIpF3p7Rh4TlCJ2D2hObN0Ij93AIqStJTMl4B2SDIIWnVioj5bHzhRTDWh6u7vjHiCMBG7rm2jcN8LxYtb1SOxlwbTwv9iazoWV3hxZKHkht_8jtm3WOHe1n3ogrfbVWkZHDGr9hG8DZf4brS8N6LeU5o6Hri7EJQ0ZZRV8pxiYcLit3B0NBwf2EyTrMjhYvTQSfwSYnc5hRMb0ZJr3-jzDPYviDiF01eDRHsFmGmNPYqmhDwCFa5KW5I1VpYHdntlPzVPXnMWuvYZME5W-pGmWeXmjeaqF1gEg1TU97YkYlD8QukKF5sPr4aqMHXH7lh442SPlE-u5S20xFHz7SKA8tY-EM-v8mBAmydly7QAW5Fu1sz4F84_U9jbDeQiG9ZTn3jsz3EVieCC1RrAQiS58nyf8P4ZiAP1dlnE3megojSwbTXN_I61Ezn2OFiihhDwO_PAJzYLWfcY38dIb5JKsL8-WhMGmwD4oFGPneJI0VFrfa7T0U1YoXBgZ38SNYDs-EOm3ZyRK-lfmbEaqqEWHy=w960-h720-no\" alt=\"CAN I USE CANVAS\" title=\"CANVAS\"></p>\n<hr>\n<h2 id=\"程式碼長度\"><a href=\"#程式碼長度\" class=\"headerlink\" title=\"程式碼長度\"></a>程式碼長度</h2><h3 id=\"SVG-2\"><a href=\"#SVG-2\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/5FlHfEuI0Zj2dAku5ef6m0wK7d05fL3MD-dXLnHXxl2lC9JmQdwBvZfvRlJj99aBbOqx3crHAZtRo7GR-fv4wSTrCkpS6y7vQ26wFGonRPx-T5svTRBytT-WIX0wNIgPwg7jISTHadrtgQuXiJF4hfG5OJSYSTOMIZlbemGKoDUPhUpuzqfXpOqMqBalapSbjK2Jwseww_tS6MSdiOVHT09-q8IpNnZ7abZVGtiVS6gQno0rleM9vrJpknaj1VZp3RthIhR4xj81ooqxqkef2zh41lm1hSUjMxf-q9KvNbeg2-YV0okHqaPYJ-1ItJWnaK5faqoSJAoXqXQCWNwG76WbPWFiA4OPXtPdY9NN0VCjRu6sM5xGOQBVmIJowC2IN9qmGktE69O_c5nCWZZdpLJQmT-1EmTMfOFJFaJsenANnJ24F6SqtczDOEGkau6NzJfTKXh92jv28L2QXLK4qp7dtiXucI3XOKev2wmBn1HjaTVhr_BhjgEo78BPMIEOh_8q-lmJ4IG_5tRxxOB_vAvGoDm8ZtXKfaOYf5_ThU-tPADED6-VCFaaDOqvYOt-tawByGrhI9Z9yHP7nX4ITS2Ix6u6YJuVQQtGM1pSf0nradpXkev-woG5BhsChl8nfwp8u4b-ug5Q9yuxp8ImElUBp3REZUrr=w960-h720-no\" alt=\"SVG 程式碼長度\" title=\"SVG\"></p>\n<blockquote>\n<p>SVG 399 行 (Whoa! Excellent ~)</p>\n</blockquote>\n<h3 id=\"CANVAS-2\"><a href=\"#CANVAS-2\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/btBkjLK8sxI6shanpLGKFPvW-nTtQ53-0C_--L3PjPHaOuzBzYMdMBqnLff8wLIf88w6UmnvHQqTR84t4HbTJQXwn9iZo0uNc-gOxPZIkdsa9t3N1tJl_P5n25VgjE1v1ODo9fzD7XWzRc8-iS3-JHMUCrE8-CvFgtxWl36MjXs2zkBd9MFHD_quAdxFZP7V2QvStqogunAWmBFGlNS9oEWP_fEJNak87zSTDMHpXd0JhO8aR_HHvlmiL0nVoyPvH9MiLc0a9lPXSnC5qGshEOIWvPodsZDFTYZm5qIPD-iuz6wWK9-jQ7OVNzhThmg6DhACMxSUq0huiwOUV1y7eBdMFN_U-Qp__H8SFFhBNG0Lv5QWRY-3poipGph0ug_jXlYeUFOiMdOMV28BM8CQ8LHjL8wQCzaF-IIvFHggmfnuGET9RY662S0Nt6pBUzP7Gnqsa6TzVm01x2GHqBIQMfXSckbwQ05-Yn7pIjI_ghFmecl8oyu3m7nMAlXUzFn6M_hZJEapy_9bS4eDjLqD_O70EqqWum1NTukqxDfs6WJ5lcpUA1JMwRNpDuR1FUnA538L7E2yZDEqUQ6i5jQMsmhvWec04eNIBWxmhmEOagBtq-HzHALg1a5hrhCLEcQbmzQcmb055LiQXEJR2x1vmAyHLhAzGD_s=w960-h720-no\" alt=\"CANVAS 程式碼長度\" title=\"CANVAS\"></p>\n<blockquote>\n<p>CANVAS 603 行 (Oh-no!! So Terrible ~)</p>\n</blockquote>\n<hr>\n<h2 id=\"執行效能\"><a href=\"#執行效能\" class=\"headerlink\" title=\"執行效能\"></a>執行效能</h2><h3 id=\"SVG-3\"><a href=\"#SVG-3\" class=\"headerlink\" title=\"SVG\"></a>SVG</h3><p><img src=\"https://lh3.googleusercontent.com/I9kGOm_f_okaPyeuNUQmRG5YQUtXwDBEyqhKVnlid_pZzXgT9k5c0mn5nqLFHC3DRblnLGR7GIKg-P_lpAtlXMeUnQMT0ehH_eytcbHA-0Lw6RGfizOvGpLSkqENJT6wiElTEOJzmbttEH-coE_TiIfMZ2ySwFkJJKbJHAl1yUrY3u4NvPjIe531rvGL0V5jt828afr6XI4c1no70wsKXlIIJIZA5zfTodlNsyZ82e1125mhD1J6WUcAJqHV_wO-do3Y-3cS2xIZlSKqvII8ufnS_curc4nvKpXq28w5PBG81BfVDiWiHzMHEaxMKJFBthdglowvIa3ZNgv_M0rnBnfmoTQtb0TDq-QPCb5P_Ox6PSeeipBcGQxuufBBKt7H_yOOEjvVvfpD7CIpLcIapVGmNhYSoQcnw9luB86QM5X-F72P3arl_x9YpISU3lkkFXceQMa67NuoTsKG_HffQ1ZVNMhLSubKF6vapLMZ0MlKfuoXm4GtwUCUGbNgRLIwD19Gcbl4CuK0_HjFgA0Z_vypGieC5Vl_qR1p-A6eX14l0CB1i5jCfs24PaIdJICV__0tJnKcJ1G5I6DwDgzfGC9sJiXLazgzpeuI-Yl6R9mmPJnGVME2k_jHCBpkPiiFsPPlhKPF5TKDZuTkz_1qRiqXND_3dIc0=w960-h720-no\" alt=\"SVG 執行效能\" title=\"SVG\"></p>\n<blockquote>\n<p>SVG 364 ms</p>\n</blockquote>\n<h3 id=\"CANVAS-3\"><a href=\"#CANVAS-3\" class=\"headerlink\" title=\"CANVAS\"></a>CANVAS</h3><p><img src=\"https://lh3.googleusercontent.com/H4jEF4F2vXB7rk767aivRFvdOcEF3CfR1xRc-urjzTV_xJBfxe3ARAa-Xv8PKcIa6ykm37iMIsTf__g_PKY8psG5r_cyNbPW1IhAs4kUZ4yF8tMzLymudPt-p4X4PVav3QWkANhWIl25_q1VwXm-NnoU9ncn4JEiHiREKoMAJiGDnPMV_qgFCrW_CLa78QYUA2jSOVFJ-e6v7A5fALJV_2uvmZNPO5f3Iuc0l1pbJP1zjp4IfdBKA8FadFek2ztoUiAfydWjruU0VT8mAZCJs9Z4PPPBfCxEcAHF8pB44IaYppDO47De1kUAhW2V_vAvKegvjZnUtuX2aSDpDIozyhYFd2an4bE4w00g-pjvTfTGDRtksOr7LYUJqsmCJzCQ1RUBx_2xve07c_Fvb5wjcXkQWu_HVZ3CrciipJ8BnGar6NIKnXnYws-qvcA8uh_8zVafoG57F1f-yMyNzrrJnbMx5cCTfiXFNOQ5--8fPsmcfWLoZ9ASXnv-kbACKwUGNGSsDpP3VvYUVN1pQ0lmq-dXtGcECDtLf6s7yYC5D77noLAXd9GSwH3V5OWdNgw2pIYTKLmlX76eIukbc5CcbgWr1UbUfOLKAZz97b-d122mkf6V9j6eDmCQVWRfZW0T1OeIKffA9yDn5UrZ_R_s6HBweS1SB4O0=w960-h720-no\" alt=\"CANVAS 執行效能\" title=\"CANVAS\"></p>\n<blockquote>\n<p>CANVAS 177 ms</p>\n</blockquote>\n<hr>\n<h2 id=\"整體分析\"><a href=\"#整體分析\" class=\"headerlink\" title=\"整體分析\"></a>整體分析</h2><p><img src=\"https://lh3.googleusercontent.com/TQ1cY8cfzysPs5_lYNwNaJ0dLSSWl0AuWDw6FY6gR43sjv7rTt3E0HPyMj2nJxON75srHT-LziWsBeaOq6wASwN67opUfA5H1rTCziwLryhY7gYpZcgxpj-bjYxRuq4h4iLD2ggN36fOhg36HOMMMdrFkKrtpVGgWhEJdt6HkaKWBHcRuza_tss33mzktR9F1H5IDKbwwVomkz7OFsTErvI_lnWy1Jk7ylrjkbcEOa16WYV6B1YRHFo2h_hU7KCOZF3FU3LY16Mdo8chcVi6KcjfZcxoDj3NleQbpePAi9eGpqy-yCh8jrPAhi5_kQEBGlaJBmLDnC414DNzT9JKIPa-nLEsrDPHWiKG1Pqu24R03o6f0GLfNWy55Vg0ndzR-7OSGl2e347cN1bz0GG7yfl_dMZU23EygFK97e32VFJgktzF9zzuMlsK5s5qJS87knYJnNPIObrgbzET95l3ybsivoI7jIgwXy2TH74UpA6P3H1g5Yk-NPoBoFyGPaXwCvLK-_geMy1JdEIYtwwmJPxMl8AN-1qUSglW5A3keHkXd6kErk2b8nU5tFahYD9PzUf0RMs2DBCaaYcMc5aPLE6hZDuMETmThioOdqVQt7KF0brVzd-OhazWei-Pg2Z9fAjj5d9VDfArg7EIroxOxgX4_UWrRNnk=w960-h720-no\" alt=\"整體分析\" title=\"SVG VS CANVAS\"></p>\n<blockquote>\n<p>整體來說，像工業 4.0 這種大數據的資料\b使用 CANVAS 來繪製會是最恰當的（速度才不會卡卡）\b\b\b。相反的，如果是簡單的數據圖，使用 SVG\b\b 會比較容易開發和維護。</p>\n</blockquote>\n<p>\b本篇就分析到此，下一篇會繼續解說 CANVAS 如何繪製其他種類（ex: 長條圖、圓餅圖…）的數據圖。</p>"},{"title":"D3 v4 with Vue - SVG Vertical Bar Chart","thumbnailImage":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no","coverMeta":"out","date":"2018-04-05T16:00:00.000Z","updated":"2018-04-05T16:00:00.000Z","_content":"\n這次要來練習用 `D3` 搭配 `Vue` 做多組動態的 `SVG` 直條圖囉～\n<!--more-->\n\n前面幾篇有講過的原理這裡就不再次解釋，我們直接從繪製直條開始說起。\n\n***\n## 繪製直條\n\n* HTML\n\n這邊直條圖外面包了兩次 `transition-group` 是因為第一次進來頁面的時候，並不會呈現動畫，所以為了 Fixed 這個 Bug 所以外面又包了一次 `transition-group`。\n\n```html\n<!-- 直條 -->\n<!-- 為了初始有動畫，所以包了兩次 transition-group -->\n<transition-group tag=\"g\" name=\"growBar\">\n  <transition-group tag=\"g\" name=\"growBar\" class=\"bar\" v-for=\"(group, key) in bar\" :key=\"`${key}${group.rect.height}${group.rect.x}`\">\n      <rect\n      v-for=\"(r, k) in group.rect\"\n      :key=\"`${k}${r.height}${r.x}`\"\n      :fill=\"group.color\"\n      :x=\"r.x\"\n      :y=\"r.y\"\n      :width=\"r.width\"\n      :height=\"r.height\"\n      v-on:mouseover=\"showTooltip(key, k, $event)\"\n      v-on:mouseout=\"hiddenTooltip\"\n      ></rect>\n  </transition-group>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growBar-enter-active { /* 進入動畫：進行中 */\n  /* 動畫時間： 伸縮變形1秒, 透明度1秒 */\n  transition: transform 0.7s, opacity 1s;\n}\n.growBar-enter { /* 進入動畫：開始 */\n  /* 因為直條的起始點 x, y 位於矩形的左上角，\n  若用 js 的方式是要同時變動 y 座標和高度，\n  但因為我們使用 css transition 的方式，\n  所以只能微調縮放和位移的比例，做到近乎相似的效果。\n  垂直縮放從0.55開始，垂直位移從-12%開始 */\n  transform: scaleY(0.55) translateY(-12%);\n  opacity: 0; /* 淡入從透明度0開始 */\n}\n......\n/* 統計圖 */\n.chartContain {\n  ....\n  .chart {\n    ....\n    .chartWrap {\n      ....\n      /* 因為起始點預設是左上角，所以要改成縮放中心為中間底部開始。\n         包了兩次 transition-group 所以群組.bar也要設定縮放中心。 */\n      .bar {\n        transform-origin: 50% 100%;\n        rect {\n          transform-origin: 50% 100%;\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n直條寬度(barWidth)和個別 x 座標這兩個比較難懂的地方，在後面會用圖解的方式說明。\n\n```js\n// 顏色函數\ncolor() {\n  return d3.scaleOrdinal(d3.schemeCategory20c);\n},\nbarWidth() {\n  /* --------------------\n  1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\n      this.chart.width / (this.valueLength + 1) * this.valueLength\n  2. 扣掉長條圖中間的間隔\n      - (this.chart.gap * this.data.length)\n  3. 剩下的寬度分給所有長條\n      / (this.valueLength * this.data.length)\n  -------------------- */\n  return (\n    (this.chart.width / (this.valueLength + 1) * this.valueLength -\n      this.chart.gap * this.data.length) /\n    (this.valueLength * this.data.length)\n  );\n},\n// 直條座標、顏色\nbar() {\n  let rectArray = [];\n\n  // 產生直條的陣列\n  if (this.valueLength) {\n    this.data.forEach((group, index) => {\n      let rectGroup = [];\n\n      group.value.forEach((e, i) => {\n        rectGroup.push({\n          /* --------------------\n          1. 把群組直條往左推整體的一半\n              - this.barWidth * this.data.length / 2\n          2. 依個別順序向右平移\n              + this.barWidth * index\n          -------------------- */\n          x:\n            this.xScale(i + 1) -\n            this.barWidth * this.data.length / 2 +\n            this.barWidth * index, // 設定x座標\n          y: this.yScale(e.number), // 設定y座標\n          width: this.barWidth, // 設定寬度\n          height: this.chart.height - this.yScale(e.number) // 設定高度\n        });\n      });\n\n      rectArray.push({\n        rect: rectGroup,\n        color: this.color(index) // 設定顏色\n      });\n    });\n  }\n\n  return rectArray;\n},\n```\n\n***\n## 直條寬度(barWidth)\n\n![剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)](https://lh3.googleusercontent.com/jZblvHrlEVkWivyJRdqbnChcpzjIGTO0W51dGDMQTSJqtL6Fz3OgGclg79-eXpB9suVivseGe0NCGUcl3kA1n14BIBuUeS0KDzDq8LTTXVMBNiYtjm-KiY8-BnvmkaSxeF-qCUZIKL6atH_5Kh8utztXHtG-hhbq49oXesaVbGiHoc1bpwpA_YT3hcox7eqPiTt-oOTWmC_Uu3VSN8tZ1NKi0k6xpFqlJTrLxLc4PZ3SyDxHSDtscDZPMwAip5Ee7Dz3FnvETQxusKCu_7mnsosIVmY48P55F00UepRxv3gX_wGJ03dH7faNCLFeXShHVH54-Aw4iY8nLEX_p8qjPuhVgII9FO9BCR3Zrc7Y4AKRh6xnTPfNzGana3cm_Hfc01Imz_Dg_4dDnwimmzMOaDsF9wiMIhDlVc9O44RRu8L1T665QvIyANpYCnm8ujL6GAzZ39j6hXh1u-WKglTUpUBlgpO5GeOTSiG9XgKrA3pVL80fIq9kvgD61TZPmhSXId4Aj-m7tPkVMGJeDp-K_ukaoZW15RN-MIkQsRIxSurqhoGWkQ20lsKdKh4FvyAMbbG_Y1u68sPbdYvFZ5ka41-a5f7VtAu_alWZFw3XSLIBgXzoXfkHQtedzByyafq57wGhMLBb8qA__hutfVu4Omcvf3Zfbu9Q=w604-h694-no \"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\")\n\n![扣掉長條圖中間的間隔，剩下的寬度分給所有長條](https://lh3.googleusercontent.com/TTY0912pddpHrNUxQY04UZm2rUYh9fucfjoaoxX33yjbSRf__xOZq-rIgZFjvJbR8Q4cIKD9kLZGyR10lt8uBG0_gUzDKmWF1Vmzy5ijYWybjCAkeo27OkiYiXDSyPdFJM89WcdajieDv0KyqaFj7swZ8mVpQNYSX76kvDN565oR6iIejII7hbHC4Oi69k6x897AdXx_uPWHrWmbshttNWoWtKkEoxHZQO37AR9HouaTD1vDGyh7EvfdP0zKL1lQOiLNqbmk2-CTdw3JrKysn84gVAa3ulKKVtg269fmV-vK3ITRyvh0Bp5kpgv_HfnUMenVp_HYdh0ldGimVi9FhmXJqjIY4emmKOH55Up5oaMMW2Z91C_dJA8mbex3Cev6AZXjU8aWsXmpGQIalHzjAzBXIUese1T3W6zMYrJeXNuxX_26ZfF_hKIMtuKMsHDtKRRsHwmgi1ZnBohh8vBArUJWpL210_i2feIToAWpm0doTzCNEiYMx6Lp75ySeejMjsunMzBPF_gPNKEDQPwwHovKxzgJbfQ22vvov4DNl-DVkJgqSPK-7tGPAcbttInT2VjU6BmHkV4EHsSZPQHRCQynilcLdrfKMGKyVVCx2jpChOrLZlSebOwESJ1q6mKV7CK4-EMbjm3whgVhuN1KjMwyyNEYC9pm=w604-h694-no \"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\")\n\n1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\n\n2. 扣掉長條圖中間的間隔\n\n3. 剩下的寬度分給所有長條\n\n***\n## 直條x座標\n\n![扣掉長條圖中間的間隔，剩下的寬度分給所有長條](https://lh3.googleusercontent.com/oPWMvbdY76bF-4K5gZKM6Lmees8dv6dDwCEz_hFvqcCK0vuGfcB2I_PafS41ajU3ehgU43swWfptKkqBFP1ap-WxQ8VeY0bWhypPglFygisUB8rtqBEJ6BhfPUgHw-dwQE23Z9QEMPH1geS5TsR4RrMHVmqQJBuKYhx0CPuvfOyuDoWoq2ynppBF7f0UMkaX6Qbko1nbw-T0RPHs9UgwxIUcvw4072hgGGVoXfwEFjXMFF3hHnepRt6Ap6aZh1pFPD6k9ZCOJKFvooaR0HiFE71nKfot2xwk3Q-aVEKjVAuwfDIu8EgPziuPDmZKkYnP1bFhXXvJIRw2pQCYFDnZSdL4eOwZ_JgOhRVc9aZwnrPkCN_CJDn0Ps4Uw6h5cvdlSITjjTyFPuQ_7oBrXAOnO0lVHzxqhb0SFrUbIEj_1AIdp5IkpoyuM3rKxiOlzBcS9I1DW9efIyDEUqF0KwBuMxwjoJaSyoxryGW0HWkFNaCCshb9PJZHWEvxI_63H-l7X1Uxn3Kv3StFS2VgzuvU0o4MfdYYEFH1STCK_6vZMv_xbCtXyWZM1Ag-ci2LqATgfQ9GyGD3Se1oxjmDrRBP8MOdfH_guJLmvCGEQYm7FK-YZZX1YsiGR_p1zM4X7KtS77Zd6hpXVJa31bzQISz7kUStKR01lCZG=w604-h694-no \"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\")\n\n1. 把群組直條往左推整體的一半\n\n2. 依個別順序向右平移\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarVChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看直條圖的 Demo，我們下回見～\n\n![直條圖完成](https://lh3.googleusercontent.com/B6TzzgsZw8pI0JAbb7_DHD3on1AKCSLQPs3N0uMIfiJQRNY1hvZ803AcoXCcFrYEfxHzDxCOau_DUmhILVyNumh_ZRWDd3332BsI787fiD3oO8UCBOI7qzwUjk0B_42izUfJJAKseu6mzDgkBePYY1e2_RiMysSHBc_hQ_rjupXuZyYeBjRY7HOd_VuyWMbjaYMzgDVbTy5Szs1cOC4obFVrc-E_-NynRtkTRQXrfoPF_sS6259qxcDMs6nvXeoFoVsIhwo56uCAw2K07ciS-Md-4m7WwV-kx-YMJMFAilrZ_aJXUPRwYdTA_8u9AmCynhASNzOpSUmfeiDPvYFsjdWD9FeR7UmRjRaRP0KrROeQRmLPx0B4hbfuy467v83Zkvp7ghEwyymFOTyB83kvXWzjLPij4k5xziN5dPKX7cQnuAOvpnumew3Dx7wrXDST9wx6qPOrisLUoeQjjEVnwl2L012UT0ow7fh21HBjSCglX33mipaAD5QJZz_iYf6Yff4HlRXvPSr3a_kkRAw_BLxm0J-5RI8Q-T9js8vIXn3At2u6Nk7MwKhede7Mkcq3W4MjCu7ZEZdMuMdBMskdNl4takHf5FFgUjPhid1EpXkASa9RWVpYicmaeuf4QvcBu3IfIl4b3zGMbB_j8M4_QwFBA4cz1gw_=w917-h1024-no \"直條圖\")","source":"_posts/D3/D3-v4-with-Vue-SVG-Vertical-Bar-Chart.md","raw":"---\ntitle: D3 v4 with Vue - SVG Vertical Bar Chart\ncategories:\n  - D3\nthumbnailImage: https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/-eOwVjzN6KMfzEVll-unJCaKBes1MALCdB9jxG6e8lvWovjeLtdbf2NQoH0DKAM9SS12sUeOnOlQ5Q8hTMAexo9N5jIS4P2S16RDrrY9WQziVA8E-0cPxcpldO6YgU2MKg64Tn2pXchVxryU_w1QjaYaUk4P17cRXHc4XfQEp4LViItsu2Ze2Uy5llcYhUtubWfmMpAC0FN54OWYb1sY-jgQ_ps2V8GXKPmrjCXFFX_zXLEHVuyZznY4vXYyLXOVkydprDNQojOcUyok6nG-4DAgA35W3v9BazdoiW1iNU97FJwr9mBvuvUAmS-2U0lPBa34-B-Lx-5736rwQXfqOY6gQIBeusZHjFgQR_3ByxJz5KuLLOVsA0uauyYxS2jIBMFFP_d6xve19P0dNAVP5tC7Zj8S0g43Rbl9S9h8eXyjaxUVeYAG1mZibk6GEkqrawGDOXWTITTjkRS2Buhl6YNcuSxezcm_IR4NZCcsgXE3VtEeYhGpIaoaS-cMemaqEKi8F7SYtKZQvH_SM6SYakk6J0aqik0gNRTyxA0nvDlVp2ohNsMdRWFqhRJ5RfgOVfGIFkohL2DnhgHRntAGKHqqnas1uKk8tS040VoxZuYvVp24N0N9OfwnYmmMQYHh_COOdYkItMsHzhAX53dpqgyGbeyq5zL3=w1024-h551-no\ncoverMeta: out\ntags: [D3, Vue, SVG]\ndate: 2018/04/06\nupdated: 2018/04/06\n---\n\n這次要來練習用 `D3` 搭配 `Vue` 做多組動態的 `SVG` 直條圖囉～\n<!--more-->\n\n前面幾篇有講過的原理這裡就不再次解釋，我們直接從繪製直條開始說起。\n\n***\n## 繪製直條\n\n* HTML\n\n這邊直條圖外面包了兩次 `transition-group` 是因為第一次進來頁面的時候，並不會呈現動畫，所以為了 Fixed 這個 Bug 所以外面又包了一次 `transition-group`。\n\n```html\n<!-- 直條 -->\n<!-- 為了初始有動畫，所以包了兩次 transition-group -->\n<transition-group tag=\"g\" name=\"growBar\">\n  <transition-group tag=\"g\" name=\"growBar\" class=\"bar\" v-for=\"(group, key) in bar\" :key=\"`${key}${group.rect.height}${group.rect.x}`\">\n      <rect\n      v-for=\"(r, k) in group.rect\"\n      :key=\"`${k}${r.height}${r.x}`\"\n      :fill=\"group.color\"\n      :x=\"r.x\"\n      :y=\"r.y\"\n      :width=\"r.width\"\n      :height=\"r.height\"\n      v-on:mouseover=\"showTooltip(key, k, $event)\"\n      v-on:mouseout=\"hiddenTooltip\"\n      ></rect>\n  </transition-group>\n</transition-group>\n```\n\n* CSS\n\n```css\n/* 動畫 */\n.growBar-enter-active { /* 進入動畫：進行中 */\n  /* 動畫時間： 伸縮變形1秒, 透明度1秒 */\n  transition: transform 0.7s, opacity 1s;\n}\n.growBar-enter { /* 進入動畫：開始 */\n  /* 因為直條的起始點 x, y 位於矩形的左上角，\n  若用 js 的方式是要同時變動 y 座標和高度，\n  但因為我們使用 css transition 的方式，\n  所以只能微調縮放和位移的比例，做到近乎相似的效果。\n  垂直縮放從0.55開始，垂直位移從-12%開始 */\n  transform: scaleY(0.55) translateY(-12%);\n  opacity: 0; /* 淡入從透明度0開始 */\n}\n......\n/* 統計圖 */\n.chartContain {\n  ....\n  .chart {\n    ....\n    .chartWrap {\n      ....\n      /* 因為起始點預設是左上角，所以要改成縮放中心為中間底部開始。\n         包了兩次 transition-group 所以群組.bar也要設定縮放中心。 */\n      .bar {\n        transform-origin: 50% 100%;\n        rect {\n          transform-origin: 50% 100%;\n        }\n      }\n    }\n  }\n}\n```\n\n* JS\n\n直條寬度(barWidth)和個別 x 座標這兩個比較難懂的地方，在後面會用圖解的方式說明。\n\n```js\n// 顏色函數\ncolor() {\n  return d3.scaleOrdinal(d3.schemeCategory20c);\n},\nbarWidth() {\n  /* --------------------\n  1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\n      this.chart.width / (this.valueLength + 1) * this.valueLength\n  2. 扣掉長條圖中間的間隔\n      - (this.chart.gap * this.data.length)\n  3. 剩下的寬度分給所有長條\n      / (this.valueLength * this.data.length)\n  -------------------- */\n  return (\n    (this.chart.width / (this.valueLength + 1) * this.valueLength -\n      this.chart.gap * this.data.length) /\n    (this.valueLength * this.data.length)\n  );\n},\n// 直條座標、顏色\nbar() {\n  let rectArray = [];\n\n  // 產生直條的陣列\n  if (this.valueLength) {\n    this.data.forEach((group, index) => {\n      let rectGroup = [];\n\n      group.value.forEach((e, i) => {\n        rectGroup.push({\n          /* --------------------\n          1. 把群組直條往左推整體的一半\n              - this.barWidth * this.data.length / 2\n          2. 依個別順序向右平移\n              + this.barWidth * index\n          -------------------- */\n          x:\n            this.xScale(i + 1) -\n            this.barWidth * this.data.length / 2 +\n            this.barWidth * index, // 設定x座標\n          y: this.yScale(e.number), // 設定y座標\n          width: this.barWidth, // 設定寬度\n          height: this.chart.height - this.yScale(e.number) // 設定高度\n        });\n      });\n\n      rectArray.push({\n        rect: rectGroup,\n        color: this.color(index) // 設定顏色\n      });\n    });\n  }\n\n  return rectArray;\n},\n```\n\n***\n## 直條寬度(barWidth)\n\n![剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)](https://lh3.googleusercontent.com/jZblvHrlEVkWivyJRdqbnChcpzjIGTO0W51dGDMQTSJqtL6Fz3OgGclg79-eXpB9suVivseGe0NCGUcl3kA1n14BIBuUeS0KDzDq8LTTXVMBNiYtjm-KiY8-BnvmkaSxeF-qCUZIKL6atH_5Kh8utztXHtG-hhbq49oXesaVbGiHoc1bpwpA_YT3hcox7eqPiTt-oOTWmC_Uu3VSN8tZ1NKi0k6xpFqlJTrLxLc4PZ3SyDxHSDtscDZPMwAip5Ee7Dz3FnvETQxusKCu_7mnsosIVmY48P55F00UepRxv3gX_wGJ03dH7faNCLFeXShHVH54-Aw4iY8nLEX_p8qjPuhVgII9FO9BCR3Zrc7Y4AKRh6xnTPfNzGana3cm_Hfc01Imz_Dg_4dDnwimmzMOaDsF9wiMIhDlVc9O44RRu8L1T665QvIyANpYCnm8ujL6GAzZ39j6hXh1u-WKglTUpUBlgpO5GeOTSiG9XgKrA3pVL80fIq9kvgD61TZPmhSXId4Aj-m7tPkVMGJeDp-K_ukaoZW15RN-MIkQsRIxSurqhoGWkQ20lsKdKh4FvyAMbbG_Y1u68sPbdYvFZ5ka41-a5f7VtAu_alWZFw3XSLIBgXzoXfkHQtedzByyafq57wGhMLBb8qA__hutfVu4Omcvf3Zfbu9Q=w604-h694-no \"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\")\n\n![扣掉長條圖中間的間隔，剩下的寬度分給所有長條](https://lh3.googleusercontent.com/TTY0912pddpHrNUxQY04UZm2rUYh9fucfjoaoxX33yjbSRf__xOZq-rIgZFjvJbR8Q4cIKD9kLZGyR10lt8uBG0_gUzDKmWF1Vmzy5ijYWybjCAkeo27OkiYiXDSyPdFJM89WcdajieDv0KyqaFj7swZ8mVpQNYSX76kvDN565oR6iIejII7hbHC4Oi69k6x897AdXx_uPWHrWmbshttNWoWtKkEoxHZQO37AR9HouaTD1vDGyh7EvfdP0zKL1lQOiLNqbmk2-CTdw3JrKysn84gVAa3ulKKVtg269fmV-vK3ITRyvh0Bp5kpgv_HfnUMenVp_HYdh0ldGimVi9FhmXJqjIY4emmKOH55Up5oaMMW2Z91C_dJA8mbex3Cev6AZXjU8aWsXmpGQIalHzjAzBXIUese1T3W6zMYrJeXNuxX_26ZfF_hKIMtuKMsHDtKRRsHwmgi1ZnBohh8vBArUJWpL210_i2feIToAWpm0doTzCNEiYMx6Lp75ySeejMjsunMzBPF_gPNKEDQPwwHovKxzgJbfQ22vvov4DNl-DVkJgqSPK-7tGPAcbttInT2VjU6BmHkV4EHsSZPQHRCQynilcLdrfKMGKyVVCx2jpChOrLZlSebOwESJ1q6mKV7CK4-EMbjm3whgVhuN1KjMwyyNEYC9pm=w604-h694-no \"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\")\n\n1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\n\n2. 扣掉長條圖中間的間隔\n\n3. 剩下的寬度分給所有長條\n\n***\n## 直條x座標\n\n![扣掉長條圖中間的間隔，剩下的寬度分給所有長條](https://lh3.googleusercontent.com/oPWMvbdY76bF-4K5gZKM6Lmees8dv6dDwCEz_hFvqcCK0vuGfcB2I_PafS41ajU3ehgU43swWfptKkqBFP1ap-WxQ8VeY0bWhypPglFygisUB8rtqBEJ6BhfPUgHw-dwQE23Z9QEMPH1geS5TsR4RrMHVmqQJBuKYhx0CPuvfOyuDoWoq2ynppBF7f0UMkaX6Qbko1nbw-T0RPHs9UgwxIUcvw4072hgGGVoXfwEFjXMFF3hHnepRt6Ap6aZh1pFPD6k9ZCOJKFvooaR0HiFE71nKfot2xwk3Q-aVEKjVAuwfDIu8EgPziuPDmZKkYnP1bFhXXvJIRw2pQCYFDnZSdL4eOwZ_JgOhRVc9aZwnrPkCN_CJDn0Ps4Uw6h5cvdlSITjjTyFPuQ_7oBrXAOnO0lVHzxqhb0SFrUbIEj_1AIdp5IkpoyuM3rKxiOlzBcS9I1DW9efIyDEUqF0KwBuMxwjoJaSyoxryGW0HWkFNaCCshb9PJZHWEvxI_63H-l7X1Uxn3Kv3StFS2VgzuvU0o4MfdYYEFH1STCK_6vZMv_xbCtXyWZM1Ag-ci2LqATgfQ9GyGD3Se1oxjmDrRBP8MOdfH_guJLmvCGEQYm7FK-YZZX1YsiGR_p1zM4X7KtS77Zd6hpXVJa31bzQISz7kUStKR01lCZG=w604-h694-no \"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\")\n\n1. 把群組直條往左推整體的一半\n\n2. 依個別順序向右平移\n\n全部畫好的樣子如下圖，可以去 [Github](https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarVChart.vue) 查看完整程式碼喔！也可以在[這裡](https://annilla.github.io/d3-practice-vue-svg/dist/)查看直條圖的 Demo，我們下回見～\n\n![直條圖完成](https://lh3.googleusercontent.com/B6TzzgsZw8pI0JAbb7_DHD3on1AKCSLQPs3N0uMIfiJQRNY1hvZ803AcoXCcFrYEfxHzDxCOau_DUmhILVyNumh_ZRWDd3332BsI787fiD3oO8UCBOI7qzwUjk0B_42izUfJJAKseu6mzDgkBePYY1e2_RiMysSHBc_hQ_rjupXuZyYeBjRY7HOd_VuyWMbjaYMzgDVbTy5Szs1cOC4obFVrc-E_-NynRtkTRQXrfoPF_sS6259qxcDMs6nvXeoFoVsIhwo56uCAw2K07ciS-Md-4m7WwV-kx-YMJMFAilrZ_aJXUPRwYdTA_8u9AmCynhASNzOpSUmfeiDPvYFsjdWD9FeR7UmRjRaRP0KrROeQRmLPx0B4hbfuy467v83Zkvp7ghEwyymFOTyB83kvXWzjLPij4k5xziN5dPKX7cQnuAOvpnumew3Dx7wrXDST9wx6qPOrisLUoeQjjEVnwl2L012UT0ow7fh21HBjSCglX33mipaAD5QJZz_iYf6Yff4HlRXvPSr3a_kkRAw_BLxm0J-5RI8Q-T9js8vIXn3At2u6Nk7MwKhede7Mkcq3W4MjCu7ZEZdMuMdBMskdNl4takHf5FFgUjPhid1EpXkASa9RWVpYicmaeuf4QvcBu3IfIl4b3zGMbB_j8M4_QwFBA4cz1gw_=w917-h1024-no \"直條圖\")","slug":"D3/D3-v4-with-Vue-SVG-Vertical-Bar-Chart","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9py000pr3y794zke5vm","content":"<p>這次要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做多組動態的 <code>SVG</code> 直條圖囉～</p>\n<span id=\"more\"></span>\n\n<p>前面幾篇有講過的原理這裡就不再次解釋，我們直接從繪製直條開始說起。</p>\n<hr>\n<h2 id=\"繪製直條\"><a href=\"#繪製直條\" class=\"headerlink\" title=\"繪製直條\"></a>繪製直條</h2><ul>\n<li>HTML</li>\n</ul>\n<p>這邊直條圖外面包了兩次 <code>transition-group</code> 是因為第一次進來頁面的時候，並不會呈現動畫，所以為了 Fixed 這個 Bug 所以外面又包了一次 <code>transition-group</code>。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 直條 --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 為了初始有動畫，所以包了兩次 transition-group --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBar&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBar&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bar&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(group, key) in bar&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;group.rect.height&#125;$&#123;group.rect.x&#125;`&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">rect</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(r, k) in group.rect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;k&#125;$&#123;r.height&#125;$&#123;r.x&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;group.color&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:x</span>=<span class=\"string\">&quot;r.x&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:y</span>=<span class=\"string\">&quot;r.y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:width</span>=<span class=\"string\">&quot;r.width&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:height</span>=<span class=\"string\">&quot;r.height&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, k, $event)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rect</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growBar-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 動畫時間： 伸縮變形1秒, 透明度1秒 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: transform <span class=\"number\">0.7s</span>, opacity <span class=\"number\">1s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growBar-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 因為直條的起始點 x, y 位於矩形的左上角，</span></span><br><span class=\"line\"><span class=\"comment\">  若用 js 的方式是要同時變動 y 座標和高度，</span></span><br><span class=\"line\"><span class=\"comment\">  但因為我們使用 css transition 的方式，</span></span><br><span class=\"line\"><span class=\"comment\">  所以只能微調縮放和位移的比例，做到近乎相似的效果。</span></span><br><span class=\"line\"><span class=\"comment\">  垂直縮放從0.55開始，垂直位移從-12%開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.55</span>) <span class=\"built_in\">translateY</span>(-<span class=\"number\">12%</span>);</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 淡入從透明度0開始 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">......</span><br><span class=\"line\"><span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">  ....</span><br><span class=\"line\">  <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ....</span><br><span class=\"line\">      <span class=\"comment\">/* 因為起始點預設是左上角，所以要改成縮放中心為中間底部開始。</span></span><br><span class=\"line\"><span class=\"comment\">         包了兩次 transition-group 所以群組.bar也要設定縮放中心。 */</span></span><br><span class=\"line\">      <span class=\"selector-class\">.bar</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span> <span class=\"number\">100%</span>;</span><br><span class=\"line\">        rect &#123;</span><br><span class=\"line\">          <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span> <span class=\"number\">100%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>直條寬度(barWidth)和個別 x 座標這兩個比較難懂的地方，在後面會用圖解的方式說明。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\"><span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory20c</span>);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">barWidth</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* --------------------</span></span><br><span class=\"line\"><span class=\"comment\">  1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)</span></span><br><span class=\"line\"><span class=\"comment\">      this.chart.width / (this.valueLength + 1) * this.valueLength</span></span><br><span class=\"line\"><span class=\"comment\">  2. 扣掉長條圖中間的間隔</span></span><br><span class=\"line\"><span class=\"comment\">      - (this.chart.gap * this.data.length)</span></span><br><span class=\"line\"><span class=\"comment\">  3. 剩下的寬度分給所有長條</span></span><br><span class=\"line\"><span class=\"comment\">      / (this.valueLength * this.data.length)</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------- */</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    (<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span> / (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span>) * <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> -</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">gap</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) /</span><br><span class=\"line\">    (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 直條座標、顏色</span></span><br><span class=\"line\"><span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rectArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生直條的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">group, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> rectGroup = [];</span><br><span class=\"line\"></span><br><span class=\"line\">      group.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        rectGroup.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">/* --------------------</span></span><br><span class=\"line\"><span class=\"comment\">          1. 把群組直條往左推整體的一半</span></span><br><span class=\"line\"><span class=\"comment\">              - this.barWidth * this.data.length / 2</span></span><br><span class=\"line\"><span class=\"comment\">          2. 依個別順序向右平移</span></span><br><span class=\"line\"><span class=\"comment\">              + this.barWidth * index</span></span><br><span class=\"line\"><span class=\"comment\">          -------------------- */</span></span><br><span class=\"line\">          <span class=\"attr\">x</span>:</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) -</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span> / <span class=\"number\">2</span> +</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> * index, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">          <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(e.<span class=\"property\">number</span>), <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">          <span class=\"attr\">width</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span>, <span class=\"comment\">// 設定寬度</span></span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> - <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(e.<span class=\"property\">number</span>) <span class=\"comment\">// 設定高度</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      rectArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">rect</span>: rectGroup,</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index) <span class=\"comment\">// 設定顏色</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> rectArray;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"直條寬度-barWidth\"><a href=\"#直條寬度-barWidth\" class=\"headerlink\" title=\"直條寬度(barWidth)\"></a>直條寬度(barWidth)</h2><p><img src=\"https://lh3.googleusercontent.com/jZblvHrlEVkWivyJRdqbnChcpzjIGTO0W51dGDMQTSJqtL6Fz3OgGclg79-eXpB9suVivseGe0NCGUcl3kA1n14BIBuUeS0KDzDq8LTTXVMBNiYtjm-KiY8-BnvmkaSxeF-qCUZIKL6atH_5Kh8utztXHtG-hhbq49oXesaVbGiHoc1bpwpA_YT3hcox7eqPiTt-oOTWmC_Uu3VSN8tZ1NKi0k6xpFqlJTrLxLc4PZ3SyDxHSDtscDZPMwAip5Ee7Dz3FnvETQxusKCu_7mnsosIVmY48P55F00UepRxv3gX_wGJ03dH7faNCLFeXShHVH54-Aw4iY8nLEX_p8qjPuhVgII9FO9BCR3Zrc7Y4AKRh6xnTPfNzGana3cm_Hfc01Imz_Dg_4dDnwimmzMOaDsF9wiMIhDlVc9O44RRu8L1T665QvIyANpYCnm8ujL6GAzZ39j6hXh1u-WKglTUpUBlgpO5GeOTSiG9XgKrA3pVL80fIq9kvgD61TZPmhSXId4Aj-m7tPkVMGJeDp-K_ukaoZW15RN-MIkQsRIxSurqhoGWkQ20lsKdKh4FvyAMbbG_Y1u68sPbdYvFZ5ka41-a5f7VtAu_alWZFw3XSLIBgXzoXfkHQtedzByyafq57wGhMLBb8qA__hutfVu4Omcvf3Zfbu9Q=w604-h694-no\" alt=\"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\" title=\"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/TTY0912pddpHrNUxQY04UZm2rUYh9fucfjoaoxX33yjbSRf__xOZq-rIgZFjvJbR8Q4cIKD9kLZGyR10lt8uBG0_gUzDKmWF1Vmzy5ijYWybjCAkeo27OkiYiXDSyPdFJM89WcdajieDv0KyqaFj7swZ8mVpQNYSX76kvDN565oR6iIejII7hbHC4Oi69k6x897AdXx_uPWHrWmbshttNWoWtKkEoxHZQO37AR9HouaTD1vDGyh7EvfdP0zKL1lQOiLNqbmk2-CTdw3JrKysn84gVAa3ulKKVtg269fmV-vK3ITRyvh0Bp5kpgv_HfnUMenVp_HYdh0ldGimVi9FhmXJqjIY4emmKOH55Up5oaMMW2Z91C_dJA8mbex3Cev6AZXjU8aWsXmpGQIalHzjAzBXIUese1T3W6zMYrJeXNuxX_26ZfF_hKIMtuKMsHDtKRRsHwmgi1ZnBohh8vBArUJWpL210_i2feIToAWpm0doTzCNEiYMx6Lp75ySeejMjsunMzBPF_gPNKEDQPwwHovKxzgJbfQ22vvov4DNl-DVkJgqSPK-7tGPAcbttInT2VjU6BmHkV4EHsSZPQHRCQynilcLdrfKMGKyVVCx2jpChOrLZlSebOwESJ1q6mKV7CK4-EMbjm3whgVhuN1KjMwyyNEYC9pm=w604-h694-no\" alt=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\" title=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\"></p>\n<ol>\n<li><p>剩下可放圖的地方 &#x3D; 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)</p>\n</li>\n<li><p>扣掉長條圖中間的間隔</p>\n</li>\n<li><p>剩下的寬度分給所有長條</p>\n</li>\n</ol>\n<hr>\n<h2 id=\"直條x座標\"><a href=\"#直條x座標\" class=\"headerlink\" title=\"直條x座標\"></a>直條x座標</h2><p><img src=\"https://lh3.googleusercontent.com/oPWMvbdY76bF-4K5gZKM6Lmees8dv6dDwCEz_hFvqcCK0vuGfcB2I_PafS41ajU3ehgU43swWfptKkqBFP1ap-WxQ8VeY0bWhypPglFygisUB8rtqBEJ6BhfPUgHw-dwQE23Z9QEMPH1geS5TsR4RrMHVmqQJBuKYhx0CPuvfOyuDoWoq2ynppBF7f0UMkaX6Qbko1nbw-T0RPHs9UgwxIUcvw4072hgGGVoXfwEFjXMFF3hHnepRt6Ap6aZh1pFPD6k9ZCOJKFvooaR0HiFE71nKfot2xwk3Q-aVEKjVAuwfDIu8EgPziuPDmZKkYnP1bFhXXvJIRw2pQCYFDnZSdL4eOwZ_JgOhRVc9aZwnrPkCN_CJDn0Ps4Uw6h5cvdlSITjjTyFPuQ_7oBrXAOnO0lVHzxqhb0SFrUbIEj_1AIdp5IkpoyuM3rKxiOlzBcS9I1DW9efIyDEUqF0KwBuMxwjoJaSyoxryGW0HWkFNaCCshb9PJZHWEvxI_63H-l7X1Uxn3Kv3StFS2VgzuvU0o4MfdYYEFH1STCK_6vZMv_xbCtXyWZM1Ag-ci2LqATgfQ9GyGD3Se1oxjmDrRBP8MOdfH_guJLmvCGEQYm7FK-YZZX1YsiGR_p1zM4X7KtS77Zd6hpXVJa31bzQISz7kUStKR01lCZG=w604-h694-no\" alt=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\" title=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\"></p>\n<ol>\n<li><p>把群組直條往左推整體的一半</p>\n</li>\n<li><p>依個別順序向右平移</p>\n</li>\n</ol>\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarVChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看直條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/B6TzzgsZw8pI0JAbb7_DHD3on1AKCSLQPs3N0uMIfiJQRNY1hvZ803AcoXCcFrYEfxHzDxCOau_DUmhILVyNumh_ZRWDd3332BsI787fiD3oO8UCBOI7qzwUjk0B_42izUfJJAKseu6mzDgkBePYY1e2_RiMysSHBc_hQ_rjupXuZyYeBjRY7HOd_VuyWMbjaYMzgDVbTy5Szs1cOC4obFVrc-E_-NynRtkTRQXrfoPF_sS6259qxcDMs6nvXeoFoVsIhwo56uCAw2K07ciS-Md-4m7WwV-kx-YMJMFAilrZ_aJXUPRwYdTA_8u9AmCynhASNzOpSUmfeiDPvYFsjdWD9FeR7UmRjRaRP0KrROeQRmLPx0B4hbfuy467v83Zkvp7ghEwyymFOTyB83kvXWzjLPij4k5xziN5dPKX7cQnuAOvpnumew3Dx7wrXDST9wx6qPOrisLUoeQjjEVnwl2L012UT0ow7fh21HBjSCglX33mipaAD5QJZz_iYf6Yff4HlRXvPSr3a_kkRAw_BLxm0J-5RI8Q-T9js8vIXn3At2u6Nk7MwKhede7Mkcq3W4MjCu7ZEZdMuMdBMskdNl4takHf5FFgUjPhid1EpXkASa9RWVpYicmaeuf4QvcBu3IfIl4b3zGMbB_j8M4_QwFBA4cz1gw_=w917-h1024-no\" alt=\"直條圖完成\" title=\"直條圖\"></p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/0ql8YPK9TWE2Iw2k5riCgtn6op1D95u8PM6OpYAiq1dZsrJ580p9Cmprzs4lMk8WAHeO81FEcsbR76fEphaIz67O6YylI2bxFQu3BHhcm3k0IP6whT76GyTmsR7HANYz1KeJVTTG2X4-KxV7zh_FsAhdZ8j-gz2BcWsaYonzgm2-bzEDNEvkCTiH9klL6RGWE9YhK_BfjR402BCev0Uq5nwNwEhHjqBeIpv-ePFTAux2RXkdXZ9iz67SKQ0h_q-w7vB9oPzPrg8FZUwK-WbM0uoKQI5IZP0BUXf9eyE8_fFa3YPO9u4V1Dhcf6YsMfCIvO6OpYvh5PeWKpDWm2q80MmUKrAp0G2nthLFwcC5JZlfWWiM-mPbZ04Oklp61oOOLA6bdBJCvMtmwCiycopM3bXsmCA06hK4hDyjRiT_foULVswowzSRc7KsL-p5ayX6Gg2mmdX45Ile4Tw7NjLk8-bVBHhC6gb6DnbDFitOQ6RVKSwXn6WK98i11j3PykdwonGTkc4_9Q9v-dOWSVSpdE1Ouy0wjCDFn0tYH7OPF1tRnht7JgbdrWw0p-AJ9O_jHy6K-BQN4I6n9HchsrRvZE9rITTXd8lv6hj5KG_2JQ0vWIpNqGrif6OH4pik7olcv3v45Z210q2ufPkmoPQIHTEeKQvRbEUN=w600-h200-no","excerpt":"<p>這次要來練習用 <code>D3</code> 搭配 <code>Vue</code> 做多組動態的 <code>SVG</code> 直條圖囉～</p>","more":"<p>前面幾篇有講過的原理這裡就不再次解釋，我們直接從繪製直條開始說起。</p>\n<hr>\n<h2 id=\"繪製直條\"><a href=\"#繪製直條\" class=\"headerlink\" title=\"繪製直條\"></a>繪製直條</h2><ul>\n<li>HTML</li>\n</ul>\n<p>這邊直條圖外面包了兩次 <code>transition-group</code> 是因為第一次進來頁面的時候，並不會呈現動畫，所以為了 Fixed 這個 Bug 所以外面又包了一次 <code>transition-group</code>。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 直條 --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 為了初始有動畫，所以包了兩次 transition-group --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBar&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">transition-group</span> <span class=\"attr\">tag</span>=<span class=\"string\">&quot;g&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;growBar&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;bar&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(group, key) in bar&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;key&#125;$&#123;group.rect.height&#125;$&#123;group.rect.x&#125;`&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">rect</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(r, k) in group.rect&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:key</span>=<span class=\"string\">&quot;`$&#123;k&#125;$&#123;r.height&#125;$&#123;r.x&#125;`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:fill</span>=<span class=\"string\">&quot;group.color&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:x</span>=<span class=\"string\">&quot;r.x&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:y</span>=<span class=\"string\">&quot;r.y&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:width</span>=<span class=\"string\">&quot;r.width&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">:height</span>=<span class=\"string\">&quot;r.height&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-on:mouseover</span>=<span class=\"string\">&quot;showTooltip(key, k, $event)&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">v-on:mouseout</span>=<span class=\"string\">&quot;hiddenTooltip&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rect</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">transition-group</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 動畫 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.growBar-enter-active</span> &#123; <span class=\"comment\">/* 進入動畫：進行中 */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 動畫時間： 伸縮變形1秒, 透明度1秒 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transition</span>: transform <span class=\"number\">0.7s</span>, opacity <span class=\"number\">1s</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.growBar-enter</span> &#123; <span class=\"comment\">/* 進入動畫：開始 */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 因為直條的起始點 x, y 位於矩形的左上角，</span></span><br><span class=\"line\"><span class=\"comment\">  若用 js 的方式是要同時變動 y 座標和高度，</span></span><br><span class=\"line\"><span class=\"comment\">  但因為我們使用 css transition 的方式，</span></span><br><span class=\"line\"><span class=\"comment\">  所以只能微調縮放和位移的比例，做到近乎相似的效果。</span></span><br><span class=\"line\"><span class=\"comment\">  垂直縮放從0.55開始，垂直位移從-12%開始 */</span></span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.55</span>) <span class=\"built_in\">translateY</span>(-<span class=\"number\">12%</span>);</span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0</span>; <span class=\"comment\">/* 淡入從透明度0開始 */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">......</span><br><span class=\"line\"><span class=\"comment\">/* 統計圖 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.chartContain</span> &#123;</span><br><span class=\"line\">  ....</span><br><span class=\"line\">  <span class=\"selector-class\">.chart</span> &#123;</span><br><span class=\"line\">    ....</span><br><span class=\"line\">    <span class=\"selector-class\">.chartWrap</span> &#123;</span><br><span class=\"line\">      ....</span><br><span class=\"line\">      <span class=\"comment\">/* 因為起始點預設是左上角，所以要改成縮放中心為中間底部開始。</span></span><br><span class=\"line\"><span class=\"comment\">         包了兩次 transition-group 所以群組.bar也要設定縮放中心。 */</span></span><br><span class=\"line\">      <span class=\"selector-class\">.bar</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span> <span class=\"number\">100%</span>;</span><br><span class=\"line\">        rect &#123;</span><br><span class=\"line\">          <span class=\"attribute\">transform-origin</span>: <span class=\"number\">50%</span> <span class=\"number\">100%</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JS</li>\n</ul>\n<p>直條寬度(barWidth)和個別 x 座標這兩個比較難懂的地方，在後面會用圖解的方式說明。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 顏色函數</span></span><br><span class=\"line\"><span class=\"title function_\">color</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> d3.<span class=\"title function_\">scaleOrdinal</span>(d3.<span class=\"property\">schemeCategory20c</span>);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">barWidth</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* --------------------</span></span><br><span class=\"line\"><span class=\"comment\">  1. 剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)</span></span><br><span class=\"line\"><span class=\"comment\">      this.chart.width / (this.valueLength + 1) * this.valueLength</span></span><br><span class=\"line\"><span class=\"comment\">  2. 扣掉長條圖中間的間隔</span></span><br><span class=\"line\"><span class=\"comment\">      - (this.chart.gap * this.data.length)</span></span><br><span class=\"line\"><span class=\"comment\">  3. 剩下的寬度分給所有長條</span></span><br><span class=\"line\"><span class=\"comment\">      / (this.valueLength * this.data.length)</span></span><br><span class=\"line\"><span class=\"comment\">  -------------------- */</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    (<span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">width</span> / (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> + <span class=\"number\">1</span>) * <span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> -</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">gap</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>) /</span><br><span class=\"line\">    (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span>)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"comment\">// 直條座標、顏色</span></span><br><span class=\"line\"><span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> rectArray = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 產生直條的陣列</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">valueLength</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">group, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> rectGroup = [];</span><br><span class=\"line\"></span><br><span class=\"line\">      group.<span class=\"property\">value</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">e, i</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        rectGroup.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">/* --------------------</span></span><br><span class=\"line\"><span class=\"comment\">          1. 把群組直條往左推整體的一半</span></span><br><span class=\"line\"><span class=\"comment\">              - this.barWidth * this.data.length / 2</span></span><br><span class=\"line\"><span class=\"comment\">          2. 依個別順序向右平移</span></span><br><span class=\"line\"><span class=\"comment\">              + this.barWidth * index</span></span><br><span class=\"line\"><span class=\"comment\">          -------------------- */</span></span><br><span class=\"line\">          <span class=\"attr\">x</span>:</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">xScale</span>(i + <span class=\"number\">1</span>) -</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">length</span> / <span class=\"number\">2</span> +</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span> * index, <span class=\"comment\">// 設定x座標</span></span><br><span class=\"line\">          <span class=\"attr\">y</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(e.<span class=\"property\">number</span>), <span class=\"comment\">// 設定y座標</span></span><br><span class=\"line\">          <span class=\"attr\">width</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">barWidth</span>, <span class=\"comment\">// 設定寬度</span></span><br><span class=\"line\">          <span class=\"attr\">height</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">chart</span>.<span class=\"property\">height</span> - <span class=\"variable language_\">this</span>.<span class=\"title function_\">yScale</span>(e.<span class=\"property\">number</span>) <span class=\"comment\">// 設定高度</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      rectArray.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">rect</span>: rectGroup,</span><br><span class=\"line\">        <span class=\"attr\">color</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">color</span>(index) <span class=\"comment\">// 設定顏色</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> rectArray;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"直條寬度-barWidth\"><a href=\"#直條寬度-barWidth\" class=\"headerlink\" title=\"直條寬度(barWidth)\"></a>直條寬度(barWidth)</h2><p><img src=\"https://lh3.googleusercontent.com/jZblvHrlEVkWivyJRdqbnChcpzjIGTO0W51dGDMQTSJqtL6Fz3OgGclg79-eXpB9suVivseGe0NCGUcl3kA1n14BIBuUeS0KDzDq8LTTXVMBNiYtjm-KiY8-BnvmkaSxeF-qCUZIKL6atH_5Kh8utztXHtG-hhbq49oXesaVbGiHoc1bpwpA_YT3hcox7eqPiTt-oOTWmC_Uu3VSN8tZ1NKi0k6xpFqlJTrLxLc4PZ3SyDxHSDtscDZPMwAip5Ee7Dz3FnvETQxusKCu_7mnsosIVmY48P55F00UepRxv3gX_wGJ03dH7faNCLFeXShHVH54-Aw4iY8nLEX_p8qjPuhVgII9FO9BCR3Zrc7Y4AKRh6xnTPfNzGana3cm_Hfc01Imz_Dg_4dDnwimmzMOaDsF9wiMIhDlVc9O44RRu8L1T665QvIyANpYCnm8ujL6GAzZ39j6hXh1u-WKglTUpUBlgpO5GeOTSiG9XgKrA3pVL80fIq9kvgD61TZPmhSXId4Aj-m7tPkVMGJeDp-K_ukaoZW15RN-MIkQsRIxSurqhoGWkQ20lsKdKh4FvyAMbbG_Y1u68sPbdYvFZ5ka41-a5f7VtAu_alWZFw3XSLIBgXzoXfkHQtedzByyafq57wGhMLBb8qA__hutfVu4Omcvf3Zfbu9Q=w604-h694-no\" alt=\"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\" title=\"剩下可放圖的地方 = 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/TTY0912pddpHrNUxQY04UZm2rUYh9fucfjoaoxX33yjbSRf__xOZq-rIgZFjvJbR8Q4cIKD9kLZGyR10lt8uBG0_gUzDKmWF1Vmzy5ijYWybjCAkeo27OkiYiXDSyPdFJM89WcdajieDv0KyqaFj7swZ8mVpQNYSX76kvDN565oR6iIejII7hbHC4Oi69k6x897AdXx_uPWHrWmbshttNWoWtKkEoxHZQO37AR9HouaTD1vDGyh7EvfdP0zKL1lQOiLNqbmk2-CTdw3JrKysn84gVAa3ulKKVtg269fmV-vK3ITRyvh0Bp5kpgv_HfnUMenVp_HYdh0ldGimVi9FhmXJqjIY4emmKOH55Up5oaMMW2Z91C_dJA8mbex3Cev6AZXjU8aWsXmpGQIalHzjAzBXIUese1T3W6zMYrJeXNuxX_26ZfF_hKIMtuKMsHDtKRRsHwmgi1ZnBohh8vBArUJWpL210_i2feIToAWpm0doTzCNEiYMx6Lp75ySeejMjsunMzBPF_gPNKEDQPwwHovKxzgJbfQ22vvov4DNl-DVkJgqSPK-7tGPAcbttInT2VjU6BmHkV4EHsSZPQHRCQynilcLdrfKMGKyVVCx2jpChOrLZlSebOwESJ1q6mKV7CK4-EMbjm3whgVhuN1KjMwyyNEYC9pm=w604-h694-no\" alt=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\" title=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\"></p>\n<ol>\n<li><p>剩下可放圖的地方 &#x3D; 圖表寬度 - 左右的間距 (大約是x軸寬除上總刻數+1)</p>\n</li>\n<li><p>扣掉長條圖中間的間隔</p>\n</li>\n<li><p>剩下的寬度分給所有長條</p>\n</li>\n</ol>\n<hr>\n<h2 id=\"直條x座標\"><a href=\"#直條x座標\" class=\"headerlink\" title=\"直條x座標\"></a>直條x座標</h2><p><img src=\"https://lh3.googleusercontent.com/oPWMvbdY76bF-4K5gZKM6Lmees8dv6dDwCEz_hFvqcCK0vuGfcB2I_PafS41ajU3ehgU43swWfptKkqBFP1ap-WxQ8VeY0bWhypPglFygisUB8rtqBEJ6BhfPUgHw-dwQE23Z9QEMPH1geS5TsR4RrMHVmqQJBuKYhx0CPuvfOyuDoWoq2ynppBF7f0UMkaX6Qbko1nbw-T0RPHs9UgwxIUcvw4072hgGGVoXfwEFjXMFF3hHnepRt6Ap6aZh1pFPD6k9ZCOJKFvooaR0HiFE71nKfot2xwk3Q-aVEKjVAuwfDIu8EgPziuPDmZKkYnP1bFhXXvJIRw2pQCYFDnZSdL4eOwZ_JgOhRVc9aZwnrPkCN_CJDn0Ps4Uw6h5cvdlSITjjTyFPuQ_7oBrXAOnO0lVHzxqhb0SFrUbIEj_1AIdp5IkpoyuM3rKxiOlzBcS9I1DW9efIyDEUqF0KwBuMxwjoJaSyoxryGW0HWkFNaCCshb9PJZHWEvxI_63H-l7X1Uxn3Kv3StFS2VgzuvU0o4MfdYYEFH1STCK_6vZMv_xbCtXyWZM1Ag-ci2LqATgfQ9GyGD3Se1oxjmDrRBP8MOdfH_guJLmvCGEQYm7FK-YZZX1YsiGR_p1zM4X7KtS77Zd6hpXVJa31bzQISz7kUStKR01lCZG=w604-h694-no\" alt=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\" title=\"扣掉長條圖中間的間隔，剩下的寬度分給所有長條\"></p>\n<ol>\n<li><p>把群組直條往左推整體的一半</p>\n</li>\n<li><p>依個別順序向右平移</p>\n</li>\n</ol>\n<p>全部畫好的樣子如下圖，可以去 <a href=\"https://github.com/Annilla/d3-practice-vue-svg/blob/master/src/components/BarVChart.vue\">Github</a> 查看完整程式碼喔！也可以在<a href=\"https://annilla.github.io/d3-practice-vue-svg/dist/\">這裡</a>查看直條圖的 Demo，我們下回見～</p>\n<p><img src=\"https://lh3.googleusercontent.com/B6TzzgsZw8pI0JAbb7_DHD3on1AKCSLQPs3N0uMIfiJQRNY1hvZ803AcoXCcFrYEfxHzDxCOau_DUmhILVyNumh_ZRWDd3332BsI787fiD3oO8UCBOI7qzwUjk0B_42izUfJJAKseu6mzDgkBePYY1e2_RiMysSHBc_hQ_rjupXuZyYeBjRY7HOd_VuyWMbjaYMzgDVbTy5Szs1cOC4obFVrc-E_-NynRtkTRQXrfoPF_sS6259qxcDMs6nvXeoFoVsIhwo56uCAw2K07ciS-Md-4m7WwV-kx-YMJMFAilrZ_aJXUPRwYdTA_8u9AmCynhASNzOpSUmfeiDPvYFsjdWD9FeR7UmRjRaRP0KrROeQRmLPx0B4hbfuy467v83Zkvp7ghEwyymFOTyB83kvXWzjLPij4k5xziN5dPKX7cQnuAOvpnumew3Dx7wrXDST9wx6qPOrisLUoeQjjEVnwl2L012UT0ow7fh21HBjSCglX33mipaAD5QJZz_iYf6Yff4HlRXvPSr3a_kkRAw_BLxm0J-5RI8Q-T9js8vIXn3At2u6Nk7MwKhede7Mkcq3W4MjCu7ZEZdMuMdBMskdNl4takHf5FFgUjPhid1EpXkASa9RWVpYicmaeuf4QvcBu3IfIl4b3zGMbB_j8M4_QwFBA4cz1gw_=w917-h1024-no\" alt=\"直條圖完成\" title=\"直條圖\"></p>"},{"title":"Grab Data to CSV by using NodeJS","humbnailImage":"https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png","thumbnailImagePosition":"left","coverImage":"https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png","coverMeta":"out","date":"2019-07-03T16:00:00.000Z","updated":"2019-07-03T16:00:00.000Z","_content":"\n工作中遇到一個情境是，打 API 可以要到當下的資訊，但 User 想要幾分鐘之內的紀錄，如果要做報表的話，就要非常手動的用 postman 打 API N 次，然後再將儲存下來的 json 轉成 csv，最後再將 n 個 csv 合成一份檔案。實際若是每分鐘打一次 API，假設只抓十分鐘，就是存十次 json 檔案，再將十個 json 檔案轉成十個 csv ，最後再手動合成一個 csv 檔案，光是手動的時間絕對超過三十分鐘。為此，我決定要寫一隻程式讓上面的所有動作自動化。\n\n<!--more-->\n\n環境使用 NodeJS。\n\n# 安裝套件\n\n共安裝 3 個套件\n\n* axios: 戳 API 用\n* moment: 處理時間\n* json2csv: 將 data 轉成 csv 格式\n\n```\nyarn add axios moment json2csv\n```\n\n# 程式解說\n\n這裡只需要寫一隻 getData.js 就搞定 。\n\n```js\nconst axios = require('axios');\nconst moment = require('moment');\nconst { Parser } = require('json2csv');\nconst fs = require('fs');\n\nlet head = []; // 存取 head 資料\n...\nlet timer = null; // 定時抓取資料的計時器\nlet duration = 60000; // 多久抓一次資料\nlet token = ''; // 存取 API token\nlet apiURL = 'put API URL';\nlet appID = 'put API ID';\nlet appSecret = 'put API Code';\nlet startTime = moment().format(); // 紀錄開始時間\nlet grabMiniute = 3; // 設定要抓取的分鐘數\nlet endTime = moment(startTime).add(grabMiniute, 'minutes'); // 計算結束的時間\n\n// 取得 API token \nasync function getToken() {\n  let res = await axios({\n    methos: 'GET',\n    url: `${apiURL}/api/auth?appId=${appID}&appSecret=${appSecret}`\n  });\n  token = res.data.data;\n}\n\n// 將戳 API 包裝成一個程式，若 token 過期會重戳 API\nasync function requestAPI(apiMethod, apiURL, retryFunc) {\n  try {\n    return await axios({\n      method: apiMethod,\n      url: apiURL,\n      headers: {\n        AccessToken: token,\n        System: appID\n      }\n    });\n  } catch(error) {\n    if (error.message.indexOf('401') > -1) {\n      // get token\n      await getToken();\n      retryFunc();\n    }\n  }\n}\n\n// 戳 head API 取資料\nasync function getHead() {\n  let res = await requestAPI('GET', `${apiURL}/api/Head`, getHead);\n  if (res) { head = head.concat(res.data); }\n  console.log('head', head.length);\n}\n\n...\n\n// 一次取得多種資料\nasync function getAllData() {\n  // get token\n  await getToken();\n\n  console.log(`----- ${grabMiniute} minutes left -----`);\n\n  // grab data\n  getHead();\n  getFeeder();\n  getNozzle();\n\n  grabMiniute = grabMiniute - 1;\n}\n\n// 寫檔案\nfunction writeFile(data, fileName) {\n  fs.writeFile(fileName, data, 'utf8', function (err) {\n    if (err) {\n        console.log(`An error occured while writing ${fileName}.`);\n        return console.log(err);\n    }\n\n    console.log(`${fileName} has been saved.`);\n  });\n}\n\n// 轉格式並儲存檔案\nfunction saveFile() {\n  try {\n    // 將 json 轉 csv\n    const fieldsHead = [columnA, ...];\n    const fieldsFeeder = [columnA, ...];\n    const fieldsNozzle = [columnA, ...];\n    const parserHead = new Parser({ fieldsHead });\n    const parserFeeder = new Parser({ fieldsFeeder });\n    const parserNozzle = new Parser({ fieldsNozzle });\n    const csvFeeder = parserFeeder.parse(feeder);\n    const csvHead = parserHead.parse(head);\n    const csvNozzle = parserNozzle.parse(nozzle);\n\n    console.log(`----- SAVE FILES -----`);\n    writeFile(csvHead, 'Head.csv');\n    writeFile(csvFeeder, 'Feeder.csv');\n    writeFile(csvNozzle, 'Nozzle.csv');\n  } catch (err) {\n    console.error('saveFile ERROR: ', err);\n  }\n}\n\n/* ---------------\n  Start from here\n  ---------------*/\n// 一開始先執行\ngetAllData();\n\n// 啟動計時器\ntimer = setInterval(() => {\n  let now = moment().format();\n  if(moment(now).isBefore(endTime)) {\n    // 如果還沒到結束時間，就繼續取資料\n    getAllData();\n  } else {\n    // 如果時間到就停止計時器\n    clearInterval(timer);\n    // 將資料儲存成檔案\n    saveFile();\n  }\n}, duration);\n```\n\n# 跑起來吧～\n\n```\nnode getData.js\n```\n\n![跑起來吧](https://lh3.googleusercontent.com/j9w9EiGilWwL1E7atc2_7zYqgVhaihr6BfYRaV5yI_7Zqsm35HHQq-PJB16FVphVx-NG13pmNYy6lSX9OCHF_awYWCscNoCuHxWl8S9dVYtbK6cIFPZVlOk2nlHuPWYZ75c4TrgpM3lOYW3SAwF0QGa38s58WuDPHyxBdZDK-JLJgR7IY-ovFu6YZ2I37ciPf93Mvc24Bg9tJJSj7zdYtfwirxPeFXIVL0guofpoTEBAR29_4BsLnEAtsY6pK5KEXNYcjhwjZ7GuUjNfueF2Qe0abLvsorMFWE1JY5ems-ZOVm0Bw-BmXVqkGNknDNd5aIoILBJ5fAyRLmbV7hVCQpzS79jPBdWDicXsTu8c7qQbGqyU1hyB56MJajIEVViQCoEKMDHnuCWuD67a09wBI8zOQoRIYJmkFf1EPZ93bgVt-KPrgOeQIgaEEIerHPmp56OslVqyOsVi_N4iZ5xROgSit4I4wzfQgZYYbdkLkX4H0fV1VX2zpufoKrx0cz6ZMzTxczYtQErozIMQ5nYZDD1I3xAwN9Gxkr79V2gWHZgICAZ_o1N-MHcM-Sdk690fheubq0PwpekkxP_FIxrJCRaLRYYByMybeyt6z6Y1U713nSO05whp-jMXVNkf459UBi-n8I2Zu8LUktni-ZnJ8GacoOoZM6xV=w1173-h812-no \"跑起來吧\")\n\n> 後記：其實 User 一直不停的找我手動抓資料，一開始邊寫程式還要先手動抓資料很阿砸，但後來工具完成後，變成非常順手，覺得幸好有寫這隻小工具的感覺XD","source":"_posts/JS/Grab-Data-To-CSV-By-Using-NodeJS.md","raw":"---\ntitle: Grab Data to CSV by using NodeJS\ncategories:\n  - JS\nhumbnailImage: https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png\nthumbnailImagePosition: left\ncoverImage: https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png\ncoverMeta: out\ntags: [JS]\ndate: 2019/07/04\nupdated: 2019/07/04\n---\n\n工作中遇到一個情境是，打 API 可以要到當下的資訊，但 User 想要幾分鐘之內的紀錄，如果要做報表的話，就要非常手動的用 postman 打 API N 次，然後再將儲存下來的 json 轉成 csv，最後再將 n 個 csv 合成一份檔案。實際若是每分鐘打一次 API，假設只抓十分鐘，就是存十次 json 檔案，再將十個 json 檔案轉成十個 csv ，最後再手動合成一個 csv 檔案，光是手動的時間絕對超過三十分鐘。為此，我決定要寫一隻程式讓上面的所有動作自動化。\n\n<!--more-->\n\n環境使用 NodeJS。\n\n# 安裝套件\n\n共安裝 3 個套件\n\n* axios: 戳 API 用\n* moment: 處理時間\n* json2csv: 將 data 轉成 csv 格式\n\n```\nyarn add axios moment json2csv\n```\n\n# 程式解說\n\n這裡只需要寫一隻 getData.js 就搞定 。\n\n```js\nconst axios = require('axios');\nconst moment = require('moment');\nconst { Parser } = require('json2csv');\nconst fs = require('fs');\n\nlet head = []; // 存取 head 資料\n...\nlet timer = null; // 定時抓取資料的計時器\nlet duration = 60000; // 多久抓一次資料\nlet token = ''; // 存取 API token\nlet apiURL = 'put API URL';\nlet appID = 'put API ID';\nlet appSecret = 'put API Code';\nlet startTime = moment().format(); // 紀錄開始時間\nlet grabMiniute = 3; // 設定要抓取的分鐘數\nlet endTime = moment(startTime).add(grabMiniute, 'minutes'); // 計算結束的時間\n\n// 取得 API token \nasync function getToken() {\n  let res = await axios({\n    methos: 'GET',\n    url: `${apiURL}/api/auth?appId=${appID}&appSecret=${appSecret}`\n  });\n  token = res.data.data;\n}\n\n// 將戳 API 包裝成一個程式，若 token 過期會重戳 API\nasync function requestAPI(apiMethod, apiURL, retryFunc) {\n  try {\n    return await axios({\n      method: apiMethod,\n      url: apiURL,\n      headers: {\n        AccessToken: token,\n        System: appID\n      }\n    });\n  } catch(error) {\n    if (error.message.indexOf('401') > -1) {\n      // get token\n      await getToken();\n      retryFunc();\n    }\n  }\n}\n\n// 戳 head API 取資料\nasync function getHead() {\n  let res = await requestAPI('GET', `${apiURL}/api/Head`, getHead);\n  if (res) { head = head.concat(res.data); }\n  console.log('head', head.length);\n}\n\n...\n\n// 一次取得多種資料\nasync function getAllData() {\n  // get token\n  await getToken();\n\n  console.log(`----- ${grabMiniute} minutes left -----`);\n\n  // grab data\n  getHead();\n  getFeeder();\n  getNozzle();\n\n  grabMiniute = grabMiniute - 1;\n}\n\n// 寫檔案\nfunction writeFile(data, fileName) {\n  fs.writeFile(fileName, data, 'utf8', function (err) {\n    if (err) {\n        console.log(`An error occured while writing ${fileName}.`);\n        return console.log(err);\n    }\n\n    console.log(`${fileName} has been saved.`);\n  });\n}\n\n// 轉格式並儲存檔案\nfunction saveFile() {\n  try {\n    // 將 json 轉 csv\n    const fieldsHead = [columnA, ...];\n    const fieldsFeeder = [columnA, ...];\n    const fieldsNozzle = [columnA, ...];\n    const parserHead = new Parser({ fieldsHead });\n    const parserFeeder = new Parser({ fieldsFeeder });\n    const parserNozzle = new Parser({ fieldsNozzle });\n    const csvFeeder = parserFeeder.parse(feeder);\n    const csvHead = parserHead.parse(head);\n    const csvNozzle = parserNozzle.parse(nozzle);\n\n    console.log(`----- SAVE FILES -----`);\n    writeFile(csvHead, 'Head.csv');\n    writeFile(csvFeeder, 'Feeder.csv');\n    writeFile(csvNozzle, 'Nozzle.csv');\n  } catch (err) {\n    console.error('saveFile ERROR: ', err);\n  }\n}\n\n/* ---------------\n  Start from here\n  ---------------*/\n// 一開始先執行\ngetAllData();\n\n// 啟動計時器\ntimer = setInterval(() => {\n  let now = moment().format();\n  if(moment(now).isBefore(endTime)) {\n    // 如果還沒到結束時間，就繼續取資料\n    getAllData();\n  } else {\n    // 如果時間到就停止計時器\n    clearInterval(timer);\n    // 將資料儲存成檔案\n    saveFile();\n  }\n}, duration);\n```\n\n# 跑起來吧～\n\n```\nnode getData.js\n```\n\n![跑起來吧](https://lh3.googleusercontent.com/j9w9EiGilWwL1E7atc2_7zYqgVhaihr6BfYRaV5yI_7Zqsm35HHQq-PJB16FVphVx-NG13pmNYy6lSX9OCHF_awYWCscNoCuHxWl8S9dVYtbK6cIFPZVlOk2nlHuPWYZ75c4TrgpM3lOYW3SAwF0QGa38s58WuDPHyxBdZDK-JLJgR7IY-ovFu6YZ2I37ciPf93Mvc24Bg9tJJSj7zdYtfwirxPeFXIVL0guofpoTEBAR29_4BsLnEAtsY6pK5KEXNYcjhwjZ7GuUjNfueF2Qe0abLvsorMFWE1JY5ems-ZOVm0Bw-BmXVqkGNknDNd5aIoILBJ5fAyRLmbV7hVCQpzS79jPBdWDicXsTu8c7qQbGqyU1hyB56MJajIEVViQCoEKMDHnuCWuD67a09wBI8zOQoRIYJmkFf1EPZ93bgVt-KPrgOeQIgaEEIerHPmp56OslVqyOsVi_N4iZ5xROgSit4I4wzfQgZYYbdkLkX4H0fV1VX2zpufoKrx0cz6ZMzTxczYtQErozIMQ5nYZDD1I3xAwN9Gxkr79V2gWHZgICAZ_o1N-MHcM-Sdk690fheubq0PwpekkxP_FIxrJCRaLRYYByMybeyt6z6Y1U713nSO05whp-jMXVNkf459UBi-n8I2Zu8LUktni-ZnJ8GacoOoZM6xV=w1173-h812-no \"跑起來吧\")\n\n> 後記：其實 User 一直不停的找我手動抓資料，一開始邊寫程式還要先手動抓資料很阿砸，但後來工具完成後，變成非常順手，覺得幸好有寫這隻小工具的感覺XD","slug":"JS/Grab-Data-To-CSV-By-Using-NodeJS","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9q1000tr3y74sfwgcjy","content":"<p>工作中遇到一個情境是，打 API 可以要到當下的資訊，但 User 想要幾分鐘之內的紀錄，如果要做報表的話，就要非常手動的用 postman 打 API N 次，然後再將儲存下來的 json 轉成 csv，最後再將 n 個 csv 合成一份檔案。實際若是每分鐘打一次 API，假設只抓十分鐘，就是存十次 json 檔案，再將十個 json 檔案轉成十個 csv ，最後再手動合成一個 csv 檔案，光是手動的時間絕對超過三十分鐘。為此，我決定要寫一隻程式讓上面的所有動作自動化。</p>\n<span id=\"more\"></span>\n\n<p>環境使用 NodeJS。</p>\n<h1 id=\"安裝套件\"><a href=\"#安裝套件\" class=\"headerlink\" title=\"安裝套件\"></a>安裝套件</h1><p>共安裝 3 個套件</p>\n<ul>\n<li>axios: 戳 API 用</li>\n<li>moment: 處理時間</li>\n<li>json2csv: 將 data 轉成 csv 格式</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add axios moment json2csv</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"程式解說\"><a href=\"#程式解說\" class=\"headerlink\" title=\"程式解說\"></a>程式解說</h1><p>這裡只需要寫一隻 getData.js 就搞定 。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> axios = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;axios&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> moment = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;moment&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">Parser</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;json2csv&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> head = []; <span class=\"comment\">// 存取 head 資料</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>; <span class=\"comment\">// 定時抓取資料的計時器</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> duration = <span class=\"number\">60000</span>; <span class=\"comment\">// 多久抓一次資料</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> token = <span class=\"string\">&#x27;&#x27;</span>; <span class=\"comment\">// 存取 API token</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> apiURL = <span class=\"string\">&#x27;put API URL&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> appID = <span class=\"string\">&#x27;put API ID&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> appSecret = <span class=\"string\">&#x27;put API Code&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> startTime = <span class=\"title function_\">moment</span>().<span class=\"title function_\">format</span>(); <span class=\"comment\">// 紀錄開始時間</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> grabMiniute = <span class=\"number\">3</span>; <span class=\"comment\">// 設定要抓取的分鐘數</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> endTime = <span class=\"title function_\">moment</span>(startTime).<span class=\"title function_\">add</span>(grabMiniute, <span class=\"string\">&#x27;minutes&#x27;</span>); <span class=\"comment\">// 計算結束的時間</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 取得 API token </span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getToken</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">methos</span>: <span class=\"string\">&#x27;GET&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">`<span class=\"subst\">$&#123;apiURL&#125;</span>/api/auth?appId=<span class=\"subst\">$&#123;appID&#125;</span>&amp;appSecret=<span class=\"subst\">$&#123;appSecret&#125;</span>`</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  token = res.<span class=\"property\">data</span>.<span class=\"property\">data</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將戳 API 包裝成一個程式，若 token 過期會重戳 API</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">requestAPI</span>(<span class=\"params\">apiMethod, apiURL, retryFunc</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: apiMethod,</span><br><span class=\"line\">      <span class=\"attr\">url</span>: apiURL,</span><br><span class=\"line\">      <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">        <span class=\"title class_\">AccessToken</span>: token,</span><br><span class=\"line\">        <span class=\"title class_\">System</span>: appID</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span>(error) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (error.<span class=\"property\">message</span>.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;401&#x27;</span>) &gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// get token</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> <span class=\"title function_\">getToken</span>();</span><br><span class=\"line\">      <span class=\"title function_\">retryFunc</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 戳 head API 取資料</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getHead</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">requestAPI</span>(<span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"string\">`<span class=\"subst\">$&#123;apiURL&#125;</span>/api/Head`</span>, getHead);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (res) &#123; head = head.<span class=\"title function_\">concat</span>(res.<span class=\"property\">data</span>); &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;head&#x27;</span>, head.<span class=\"property\">length</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 一次取得多種資料</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getAllData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// get token</span></span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title function_\">getToken</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`----- <span class=\"subst\">$&#123;grabMiniute&#125;</span> minutes left -----`</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// grab data</span></span><br><span class=\"line\">  <span class=\"title function_\">getHead</span>();</span><br><span class=\"line\">  <span class=\"title function_\">getFeeder</span>();</span><br><span class=\"line\">  <span class=\"title function_\">getNozzle</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  grabMiniute = grabMiniute - <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 寫檔案</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">writeFile</span>(<span class=\"params\">data, fileName</span>) &#123;</span><br><span class=\"line\">  fs.<span class=\"title function_\">writeFile</span>(fileName, data, <span class=\"string\">&#x27;utf8&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`An error occured while writing <span class=\"subst\">$&#123;fileName&#125;</span>.`</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;fileName&#125;</span> has been saved.`</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 轉格式並儲存檔案</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">saveFile</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 將 json 轉 csv</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsHead = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsFeeder = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsNozzle = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserHead = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsHead &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserFeeder = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsFeeder &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserNozzle = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsNozzle &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvFeeder = parserFeeder.<span class=\"title function_\">parse</span>(feeder);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvHead = parserHead.<span class=\"title function_\">parse</span>(head);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvNozzle = parserNozzle.<span class=\"title function_\">parse</span>(nozzle);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`----- SAVE FILES -----`</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvHead, <span class=\"string\">&#x27;Head.csv&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvFeeder, <span class=\"string\">&#x27;Feeder.csv&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvNozzle, <span class=\"string\">&#x27;Nozzle.csv&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;saveFile ERROR: &#x27;</span>, err);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ---------------</span></span><br><span class=\"line\"><span class=\"comment\">  Start from here</span></span><br><span class=\"line\"><span class=\"comment\">  ---------------*/</span></span><br><span class=\"line\"><span class=\"comment\">// 一開始先執行</span></span><br><span class=\"line\"><span class=\"title function_\">getAllData</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 啟動計時器</span></span><br><span class=\"line\">timer = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> now = <span class=\"title function_\">moment</span>().<span class=\"title function_\">format</span>();</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"title function_\">moment</span>(now).<span class=\"title function_\">isBefore</span>(endTime)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果還沒到結束時間，就繼續取資料</span></span><br><span class=\"line\">    <span class=\"title function_\">getAllData</span>();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果時間到就停止計時器</span></span><br><span class=\"line\">    <span class=\"built_in\">clearInterval</span>(timer);</span><br><span class=\"line\">    <span class=\"comment\">// 將資料儲存成檔案</span></span><br><span class=\"line\">    <span class=\"title function_\">saveFile</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;, duration);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"跑起來吧～\"><a href=\"#跑起來吧～\" class=\"headerlink\" title=\"跑起來吧～\"></a>跑起來吧～</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node getData.js</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/j9w9EiGilWwL1E7atc2_7zYqgVhaihr6BfYRaV5yI_7Zqsm35HHQq-PJB16FVphVx-NG13pmNYy6lSX9OCHF_awYWCscNoCuHxWl8S9dVYtbK6cIFPZVlOk2nlHuPWYZ75c4TrgpM3lOYW3SAwF0QGa38s58WuDPHyxBdZDK-JLJgR7IY-ovFu6YZ2I37ciPf93Mvc24Bg9tJJSj7zdYtfwirxPeFXIVL0guofpoTEBAR29_4BsLnEAtsY6pK5KEXNYcjhwjZ7GuUjNfueF2Qe0abLvsorMFWE1JY5ems-ZOVm0Bw-BmXVqkGNknDNd5aIoILBJ5fAyRLmbV7hVCQpzS79jPBdWDicXsTu8c7qQbGqyU1hyB56MJajIEVViQCoEKMDHnuCWuD67a09wBI8zOQoRIYJmkFf1EPZ93bgVt-KPrgOeQIgaEEIerHPmp56OslVqyOsVi_N4iZ5xROgSit4I4wzfQgZYYbdkLkX4H0fV1VX2zpufoKrx0cz6ZMzTxczYtQErozIMQ5nYZDD1I3xAwN9Gxkr79V2gWHZgICAZ_o1N-MHcM-Sdk690fheubq0PwpekkxP_FIxrJCRaLRYYByMybeyt6z6Y1U713nSO05whp-jMXVNkf459UBi-n8I2Zu8LUktni-ZnJ8GacoOoZM6xV=w1173-h812-no\" alt=\"跑起來吧\" title=\"跑起來吧\"></p>\n<blockquote>\n<p>後記：其實 User 一直不停的找我手動抓資料，一開始邊寫程式還要先手動抓資料很阿砸，但後來工具完成後，變成非常順手，覺得幸好有寫這隻小工具的感覺XD</p>\n</blockquote>\n","site":{"data":{}},"thumbnailImageUrl":"https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png","excerpt":"<p>工作中遇到一個情境是，打 API 可以要到當下的資訊，但 User 想要幾分鐘之內的紀錄，如果要做報表的話，就要非常手動的用 postman 打 API N 次，然後再將儲存下來的 json 轉成 csv，最後再將 n 個 csv 合成一份檔案。實際若是每分鐘打一次 API，假設只抓十分鐘，就是存十次 json 檔案，再將十個 json 檔案轉成十個 csv ，最後再手動合成一個 csv 檔案，光是手動的時間絕對超過三十分鐘。為此，我決定要寫一隻程式讓上面的所有動作自動化。</p>","more":"<p>環境使用 NodeJS。</p>\n<h1 id=\"安裝套件\"><a href=\"#安裝套件\" class=\"headerlink\" title=\"安裝套件\"></a>安裝套件</h1><p>共安裝 3 個套件</p>\n<ul>\n<li>axios: 戳 API 用</li>\n<li>moment: 處理時間</li>\n<li>json2csv: 將 data 轉成 csv 格式</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add axios moment json2csv</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"程式解說\"><a href=\"#程式解說\" class=\"headerlink\" title=\"程式解說\"></a>程式解說</h1><p>這裡只需要寫一隻 getData.js 就搞定 。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> axios = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;axios&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> moment = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;moment&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">Parser</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;json2csv&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> fs = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;fs&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> head = []; <span class=\"comment\">// 存取 head 資料</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">let</span> timer = <span class=\"literal\">null</span>; <span class=\"comment\">// 定時抓取資料的計時器</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> duration = <span class=\"number\">60000</span>; <span class=\"comment\">// 多久抓一次資料</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> token = <span class=\"string\">&#x27;&#x27;</span>; <span class=\"comment\">// 存取 API token</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> apiURL = <span class=\"string\">&#x27;put API URL&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> appID = <span class=\"string\">&#x27;put API ID&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> appSecret = <span class=\"string\">&#x27;put API Code&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> startTime = <span class=\"title function_\">moment</span>().<span class=\"title function_\">format</span>(); <span class=\"comment\">// 紀錄開始時間</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> grabMiniute = <span class=\"number\">3</span>; <span class=\"comment\">// 設定要抓取的分鐘數</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> endTime = <span class=\"title function_\">moment</span>(startTime).<span class=\"title function_\">add</span>(grabMiniute, <span class=\"string\">&#x27;minutes&#x27;</span>); <span class=\"comment\">// 計算結束的時間</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 取得 API token </span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getToken</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">methos</span>: <span class=\"string\">&#x27;GET&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">`<span class=\"subst\">$&#123;apiURL&#125;</span>/api/auth?appId=<span class=\"subst\">$&#123;appID&#125;</span>&amp;appSecret=<span class=\"subst\">$&#123;appSecret&#125;</span>`</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  token = res.<span class=\"property\">data</span>.<span class=\"property\">data</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將戳 API 包裝成一個程式，若 token 過期會重戳 API</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">requestAPI</span>(<span class=\"params\">apiMethod, apiURL, retryFunc</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: apiMethod,</span><br><span class=\"line\">      <span class=\"attr\">url</span>: apiURL,</span><br><span class=\"line\">      <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">        <span class=\"title class_\">AccessToken</span>: token,</span><br><span class=\"line\">        <span class=\"title class_\">System</span>: appID</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span>(error) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (error.<span class=\"property\">message</span>.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;401&#x27;</span>) &gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// get token</span></span><br><span class=\"line\">      <span class=\"keyword\">await</span> <span class=\"title function_\">getToken</span>();</span><br><span class=\"line\">      <span class=\"title function_\">retryFunc</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 戳 head API 取資料</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getHead</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">requestAPI</span>(<span class=\"string\">&#x27;GET&#x27;</span>, <span class=\"string\">`<span class=\"subst\">$&#123;apiURL&#125;</span>/api/Head`</span>, getHead);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (res) &#123; head = head.<span class=\"title function_\">concat</span>(res.<span class=\"property\">data</span>); &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;head&#x27;</span>, head.<span class=\"property\">length</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 一次取得多種資料</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getAllData</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// get token</span></span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title function_\">getToken</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`----- <span class=\"subst\">$&#123;grabMiniute&#125;</span> minutes left -----`</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// grab data</span></span><br><span class=\"line\">  <span class=\"title function_\">getHead</span>();</span><br><span class=\"line\">  <span class=\"title function_\">getFeeder</span>();</span><br><span class=\"line\">  <span class=\"title function_\">getNozzle</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  grabMiniute = grabMiniute - <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 寫檔案</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">writeFile</span>(<span class=\"params\">data, fileName</span>) &#123;</span><br><span class=\"line\">  fs.<span class=\"title function_\">writeFile</span>(fileName, data, <span class=\"string\">&#x27;utf8&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`An error occured while writing <span class=\"subst\">$&#123;fileName&#125;</span>.`</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`<span class=\"subst\">$&#123;fileName&#125;</span> has been saved.`</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 轉格式並儲存檔案</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">saveFile</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 將 json 轉 csv</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsHead = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsFeeder = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> fieldsNozzle = [columnA, ...];</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserHead = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsHead &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserFeeder = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsFeeder &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> parserNozzle = <span class=\"keyword\">new</span> <span class=\"title class_\">Parser</span>(&#123; fieldsNozzle &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvFeeder = parserFeeder.<span class=\"title function_\">parse</span>(feeder);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvHead = parserHead.<span class=\"title function_\">parse</span>(head);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> csvNozzle = parserNozzle.<span class=\"title function_\">parse</span>(nozzle);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`----- SAVE FILES -----`</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvHead, <span class=\"string\">&#x27;Head.csv&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvFeeder, <span class=\"string\">&#x27;Feeder.csv&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">writeFile</span>(csvNozzle, <span class=\"string\">&#x27;Nozzle.csv&#x27;</span>);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;saveFile ERROR: &#x27;</span>, err);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* ---------------</span></span><br><span class=\"line\"><span class=\"comment\">  Start from here</span></span><br><span class=\"line\"><span class=\"comment\">  ---------------*/</span></span><br><span class=\"line\"><span class=\"comment\">// 一開始先執行</span></span><br><span class=\"line\"><span class=\"title function_\">getAllData</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 啟動計時器</span></span><br><span class=\"line\">timer = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> now = <span class=\"title function_\">moment</span>().<span class=\"title function_\">format</span>();</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"title function_\">moment</span>(now).<span class=\"title function_\">isBefore</span>(endTime)) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果還沒到結束時間，就繼續取資料</span></span><br><span class=\"line\">    <span class=\"title function_\">getAllData</span>();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果時間到就停止計時器</span></span><br><span class=\"line\">    <span class=\"built_in\">clearInterval</span>(timer);</span><br><span class=\"line\">    <span class=\"comment\">// 將資料儲存成檔案</span></span><br><span class=\"line\">    <span class=\"title function_\">saveFile</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;, duration);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"跑起來吧～\"><a href=\"#跑起來吧～\" class=\"headerlink\" title=\"跑起來吧～\"></a>跑起來吧～</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node getData.js</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/j9w9EiGilWwL1E7atc2_7zYqgVhaihr6BfYRaV5yI_7Zqsm35HHQq-PJB16FVphVx-NG13pmNYy6lSX9OCHF_awYWCscNoCuHxWl8S9dVYtbK6cIFPZVlOk2nlHuPWYZ75c4TrgpM3lOYW3SAwF0QGa38s58WuDPHyxBdZDK-JLJgR7IY-ovFu6YZ2I37ciPf93Mvc24Bg9tJJSj7zdYtfwirxPeFXIVL0guofpoTEBAR29_4BsLnEAtsY6pK5KEXNYcjhwjZ7GuUjNfueF2Qe0abLvsorMFWE1JY5ems-ZOVm0Bw-BmXVqkGNknDNd5aIoILBJ5fAyRLmbV7hVCQpzS79jPBdWDicXsTu8c7qQbGqyU1hyB56MJajIEVViQCoEKMDHnuCWuD67a09wBI8zOQoRIYJmkFf1EPZ93bgVt-KPrgOeQIgaEEIerHPmp56OslVqyOsVi_N4iZ5xROgSit4I4wzfQgZYYbdkLkX4H0fV1VX2zpufoKrx0cz6ZMzTxczYtQErozIMQ5nYZDD1I3xAwN9Gxkr79V2gWHZgICAZ_o1N-MHcM-Sdk690fheubq0PwpekkxP_FIxrJCRaLRYYByMybeyt6z6Y1U713nSO05whp-jMXVNkf459UBi-n8I2Zu8LUktni-ZnJ8GacoOoZM6xV=w1173-h812-no\" alt=\"跑起來吧\" title=\"跑起來吧\"></p>\n<blockquote>\n<p>後記：其實 User 一直不停的找我手動抓資料，一開始邊寫程式還要先手動抓資料很阿砸，但後來工具完成後，變成非常順手，覺得幸好有寫這隻小工具的感覺XD</p>\n</blockquote>"},{"title":"JS Retry Function","thumbnailImage":"https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png","thumbnailImagePosition":"left","coverImage":"https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png","coverMeta":"out","date":"2019-04-30T16:00:00.000Z","updated":"2019-04-30T16:00:00.000Z","_content":"\n工作上，參考一位前輩寫的 Retry function 的原理記錄，實做經過 N 秒後重複做一件事情的小程式。\n\n<!--more-->\n\n這裡從取得 AD 帳號來舉例。費話不多說，先上 code。\n\n```\nasync getADRetry(){\n    /*--------------------------\n        AD account Retry 機制\n        1. 成功取得 AD 回傳值\n        2. 無法取得 AD 開始 Retry\n        3. Retry 延遲秒數從 nextDelay 開始，每多一次就加 1 秒\n        4. Retry 次數最多 retryNumber 次\n        5. Retry 成功則回傳值，全部失敗則回傳 ''(空字串)\n    --------------------------*/\n    let NtAccount = '';\n    let nextDelay = 0;\n    let retryNumber = 5;\n\n    for(let i = 0; i < retryNumber; i++) {\n\n        // 延遲 nextDelay 秒後\n        await delayTime(nextDelay);\n        // 取得 user\n        NtAccount = getUserName();\n\n        if (NtAccount === '') {\n            // 無法取得 AD\n            // nextDelay 下一次加 1 秒\n            nextDelay = nextDelay + 1000;\n            // Continue Retry\n            console.log(`No AD. Retry [${i + 1}]: for ${nextDelay}ms...`);\n        } else {\n            // 成功取得 AD 跳出迴圈\n            console.log(`Get AD.`);\n            break;\n        }\n\n    }\n\n    return NtAccount;\n},\n```\n\n其中 delayTime 函數用 promise 即可實做，只要傳入毫秒 ms 就能得到延遲的動作。\n\n```\n// Delay 延遲秒數\nexport function delayTime (interval) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, interval);\n    });\n};\n```","source":"_posts/JS/JS-Retry-Function.md","raw":"---\ntitle: JS Retry Function\ncategories:\n  - JS\nthumbnailImage: https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png\nthumbnailImagePosition: left\ncoverImage: https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png\ncoverMeta: out\ntags: [JS]\ndate: 2019/05/01\nupdated: 2019/05/01\n---\n\n工作上，參考一位前輩寫的 Retry function 的原理記錄，實做經過 N 秒後重複做一件事情的小程式。\n\n<!--more-->\n\n這裡從取得 AD 帳號來舉例。費話不多說，先上 code。\n\n```\nasync getADRetry(){\n    /*--------------------------\n        AD account Retry 機制\n        1. 成功取得 AD 回傳值\n        2. 無法取得 AD 開始 Retry\n        3. Retry 延遲秒數從 nextDelay 開始，每多一次就加 1 秒\n        4. Retry 次數最多 retryNumber 次\n        5. Retry 成功則回傳值，全部失敗則回傳 ''(空字串)\n    --------------------------*/\n    let NtAccount = '';\n    let nextDelay = 0;\n    let retryNumber = 5;\n\n    for(let i = 0; i < retryNumber; i++) {\n\n        // 延遲 nextDelay 秒後\n        await delayTime(nextDelay);\n        // 取得 user\n        NtAccount = getUserName();\n\n        if (NtAccount === '') {\n            // 無法取得 AD\n            // nextDelay 下一次加 1 秒\n            nextDelay = nextDelay + 1000;\n            // Continue Retry\n            console.log(`No AD. Retry [${i + 1}]: for ${nextDelay}ms...`);\n        } else {\n            // 成功取得 AD 跳出迴圈\n            console.log(`Get AD.`);\n            break;\n        }\n\n    }\n\n    return NtAccount;\n},\n```\n\n其中 delayTime 函數用 promise 即可實做，只要傳入毫秒 ms 就能得到延遲的動作。\n\n```\n// Delay 延遲秒數\nexport function delayTime (interval) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, interval);\n    });\n};\n```","slug":"JS/JS-Retry-Function","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9q2000vr3y7hktbaioe","content":"<p>工作上，參考一位前輩寫的 Retry function 的原理記錄，實做經過 N 秒後重複做一件事情的小程式。</p>\n<span id=\"more\"></span>\n\n<p>這裡從取得 AD 帳號來舉例。費話不多說，先上 code。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async getADRetry()&#123;</span><br><span class=\"line\">    /*--------------------------</span><br><span class=\"line\">        AD account Retry 機制</span><br><span class=\"line\">        1. 成功取得 AD 回傳值</span><br><span class=\"line\">        2. 無法取得 AD 開始 Retry</span><br><span class=\"line\">        3. Retry 延遲秒數從 nextDelay 開始，每多一次就加 1 秒</span><br><span class=\"line\">        4. Retry 次數最多 retryNumber 次</span><br><span class=\"line\">        5. Retry 成功則回傳值，全部失敗則回傳 &#x27;&#x27;(空字串)</span><br><span class=\"line\">    --------------------------*/</span><br><span class=\"line\">    let NtAccount = &#x27;&#x27;;</span><br><span class=\"line\">    let nextDelay = 0;</span><br><span class=\"line\">    let retryNumber = 5;</span><br><span class=\"line\"></span><br><span class=\"line\">    for(let i = 0; i &lt; retryNumber; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        // 延遲 nextDelay 秒後</span><br><span class=\"line\">        await delayTime(nextDelay);</span><br><span class=\"line\">        // 取得 user</span><br><span class=\"line\">        NtAccount = getUserName();</span><br><span class=\"line\"></span><br><span class=\"line\">        if (NtAccount === &#x27;&#x27;) &#123;</span><br><span class=\"line\">            // 無法取得 AD</span><br><span class=\"line\">            // nextDelay 下一次加 1 秒</span><br><span class=\"line\">            nextDelay = nextDelay + 1000;</span><br><span class=\"line\">            // Continue Retry</span><br><span class=\"line\">            console.log(`No AD. Retry [$&#123;i + 1&#125;]: for $&#123;nextDelay&#125;ms...`);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            // 成功取得 AD 跳出迴圈</span><br><span class=\"line\">            console.log(`Get AD.`);</span><br><span class=\"line\">            break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return NtAccount;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>其中 delayTime 函數用 promise 即可實做，只要傳入毫秒 ms 就能得到延遲的動作。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Delay 延遲秒數</span><br><span class=\"line\">export function delayTime (interval) &#123;</span><br><span class=\"line\">    return new Promise((resolve) =&gt; &#123;</span><br><span class=\"line\">        setTimeout(resolve, interval);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"thumbnailImageUrl":"https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png","excerpt":"<p>工作上，參考一位前輩寫的 Retry function 的原理記錄，實做經過 N 秒後重複做一件事情的小程式。</p>","more":"<p>這裡從取得 AD 帳號來舉例。費話不多說，先上 code。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">async getADRetry()&#123;</span><br><span class=\"line\">    /*--------------------------</span><br><span class=\"line\">        AD account Retry 機制</span><br><span class=\"line\">        1. 成功取得 AD 回傳值</span><br><span class=\"line\">        2. 無法取得 AD 開始 Retry</span><br><span class=\"line\">        3. Retry 延遲秒數從 nextDelay 開始，每多一次就加 1 秒</span><br><span class=\"line\">        4. Retry 次數最多 retryNumber 次</span><br><span class=\"line\">        5. Retry 成功則回傳值，全部失敗則回傳 &#x27;&#x27;(空字串)</span><br><span class=\"line\">    --------------------------*/</span><br><span class=\"line\">    let NtAccount = &#x27;&#x27;;</span><br><span class=\"line\">    let nextDelay = 0;</span><br><span class=\"line\">    let retryNumber = 5;</span><br><span class=\"line\"></span><br><span class=\"line\">    for(let i = 0; i &lt; retryNumber; i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        // 延遲 nextDelay 秒後</span><br><span class=\"line\">        await delayTime(nextDelay);</span><br><span class=\"line\">        // 取得 user</span><br><span class=\"line\">        NtAccount = getUserName();</span><br><span class=\"line\"></span><br><span class=\"line\">        if (NtAccount === &#x27;&#x27;) &#123;</span><br><span class=\"line\">            // 無法取得 AD</span><br><span class=\"line\">            // nextDelay 下一次加 1 秒</span><br><span class=\"line\">            nextDelay = nextDelay + 1000;</span><br><span class=\"line\">            // Continue Retry</span><br><span class=\"line\">            console.log(`No AD. Retry [$&#123;i + 1&#125;]: for $&#123;nextDelay&#125;ms...`);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            // 成功取得 AD 跳出迴圈</span><br><span class=\"line\">            console.log(`Get AD.`);</span><br><span class=\"line\">            break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return NtAccount;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>其中 delayTime 函數用 promise 即可實做，只要傳入毫秒 ms 就能得到延遲的動作。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Delay 延遲秒數</span><br><span class=\"line\">export function delayTime (interval) &#123;</span><br><span class=\"line\">    return new Promise((resolve) =&gt; &#123;</span><br><span class=\"line\">        setTimeout(resolve, interval);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>"},{"title":"Notes on Transferring from Vuetify V1 to V2","thumbnailImage":"https://styles.redditmedia.com/t5_3nu8v/styles/communityIcon_zuqnf4r5ml111.png?width=256&s=cb1e7da96a8a20995de2e1a934d07b6a0a94958e","thumbnailImagePosition":"left","coverImage":"https://i.morioh.com/2019/11/01/47e709b4198f.jpg","coverMeta":"out","date":"2021-02-06T16:00:00.000Z","updated":"2021-06-18T00:18:35.960Z","_content":"\n此篇記錄 Vuetify 從 v1 升級到 v2 所要注意的事情。\n\n<!--more-->\n\n# Color Theme\n\nV2 color theme 改分成 light 和 dark 兩種模式。為方便管理，做法是另外開一隻 vuetify.js 然後再引入 main.js 做使用。\n\n/js/vuetify.js\n\n```js\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        themes: {\n            light: {\n                primary: '...',\n                secondary: '...',\n                accent: '...',\n                error: '...',\n                info: '...',\n                success: '...',\n                warning: '...'\n            },\n            dark: {\n                primary: '...',\n                secondary: '...',\n                accent: '...',\n                error: '...',\n                info: '...',\n                success: '...',\n                warning: '...'\n            }\n        },\n    },\n});\n```\n\nmain.js\n\n```js\n...\nimport vuetify from './js/vuetify'\n\nnew Vue({\n    el: '#app',\n    vuetify,\n    router,\n    store,\n    render: h => h(App)\n});\n```\n\n# v-content to v-main\n\n`v-content` 名稱在 V2 變成 `v-main`。\n\n# Grid\n\n原本使用 `v-layout`, `v-flex` 做排版，V2 改為使用 `v-row`, `v-col`，原組件功能保留，若不更動也可以。\n\n# v-toolbar to v-app-bar\n\n新版 V2 有另外開新組件 `v-app-bar` 讓開發者可替換掉 `v-toolbar`。兩者相比之下，`v-app-bar` 有更多新功能可使用，可參閱 [StackOverflow](https://stackoverflow.com/questions/58068147/what-is-difference-between-v-app-bar-and-v-toolbar-in-vuetify)。\n\n* `v-app-bar` 可下 app 屬性，代表整個應用程式的最上層功能。\n* 選單 icon `v-toolbar-side-icon` 名稱改為 `v-app-bar-nav-icon`。\n\n# v-navigation\n\n屬性 `mobile-break-point` 更名為 `mobile-breakpoint` 。\n\n# v-list\n\n只要是 `v-list-tile` 名稱在 V2 變成 `v-list-item`。比較常用到的地方是 Navigation 和 Menu 組件。\n\n* `v-list-tile-sub-title`更名為`v-list-item-subtitle`。\n* `v-list-item` 的屬性 `avator` 已被移除。\n\n# v-dialog\n\n原本可在 `v-dialog` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Dialogs](https://vuetifyjs.com/en/components/dialogs/)。\n\n# v-tooltip\n\n原本可在 `v-tooltip` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Tooltips](https://vuetifyjs.com/en/components/tooltips/)。\n\n# v-menu\n\n原本可在 `v-menu` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Menus](https://vuetifyjs.com/en/components/menus/)。另外，取消了 lazy 和 full-width 屬性。\n\n> PS. `v-menu` 需要下 `min-width` 在 IE 瀏覽器才不會破版。\n\n# v-snackbar\n\n原本 `v-snackbar` 不需要下 v-slot，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Snackbars](https://vuetifyjs.com/en/components/snackbars/)。\n\n# v-btn 預設樣式改變\n\nflat 屬性改為 text。\n\n# text-xs-(align) to text-(align)\n\n`text-xs-center` 名稱在 V2 變成 `text-center`，以此類推。\n\n# v-chip\n\n原本監聽 close  的 `@input` 屬性改成 `@click:close`。\n\n# v-data-table\n\n`v-data-table` 改的地方蠻多的，描述如下。\n\n* `hide-actions` 改為 `hide-default-footer`\n* `pagination.sync` 改為 `page.sync`\n* `select-all` 改為 `show-select`\n* 需要下 `items-per-page` 設置每頁資料筆數\n* 每格資料改為使用 template v-slot 的方式做覆蓋，例如對資料使用 filter。參閱 [Item](https://vuetifyjs.com/en/components/data-tables/#item)。\n\n# v-expansion-panels\n\n結構有大幅度的改變，最外層換成 `v-expansion-panels`。`v-expansion-panel` 變成內頁，屬性要移到外層。標題一定要拉到 `v-expansion-panel-header`。參閱 [Expansion Panels](https://vuetifyjs.com/en/components/expansion-panels/)。\n\n* 屬性 `expand` 改為 `mutiple`\n* v-model 陣列改為使用 index (ex: [true, false, true] => [0,2])","source":"_posts/JS/Notes-on-Transferring-from-Vuetify-V1-to-V2.md","raw":"---\ntitle: Notes on Transferring from Vuetify V1 to V2\ncategories:\n  - JS\nthumbnailImage: https://styles.redditmedia.com/t5_3nu8v/styles/communityIcon_zuqnf4r5ml111.png?width=256&s=cb1e7da96a8a20995de2e1a934d07b6a0a94958e\nthumbnailImagePosition: left\ncoverImage: https://i.morioh.com/2019/11/01/47e709b4198f.jpg\ncoverMeta: out\ntags: [JS]\ndate: 2021/02/07\nupdated: 2021/06/11ß\n---\n\n此篇記錄 Vuetify 從 v1 升級到 v2 所要注意的事情。\n\n<!--more-->\n\n# Color Theme\n\nV2 color theme 改分成 light 和 dark 兩種模式。為方便管理，做法是另外開一隻 vuetify.js 然後再引入 main.js 做使用。\n\n/js/vuetify.js\n\n```js\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        themes: {\n            light: {\n                primary: '...',\n                secondary: '...',\n                accent: '...',\n                error: '...',\n                info: '...',\n                success: '...',\n                warning: '...'\n            },\n            dark: {\n                primary: '...',\n                secondary: '...',\n                accent: '...',\n                error: '...',\n                info: '...',\n                success: '...',\n                warning: '...'\n            }\n        },\n    },\n});\n```\n\nmain.js\n\n```js\n...\nimport vuetify from './js/vuetify'\n\nnew Vue({\n    el: '#app',\n    vuetify,\n    router,\n    store,\n    render: h => h(App)\n});\n```\n\n# v-content to v-main\n\n`v-content` 名稱在 V2 變成 `v-main`。\n\n# Grid\n\n原本使用 `v-layout`, `v-flex` 做排版，V2 改為使用 `v-row`, `v-col`，原組件功能保留，若不更動也可以。\n\n# v-toolbar to v-app-bar\n\n新版 V2 有另外開新組件 `v-app-bar` 讓開發者可替換掉 `v-toolbar`。兩者相比之下，`v-app-bar` 有更多新功能可使用，可參閱 [StackOverflow](https://stackoverflow.com/questions/58068147/what-is-difference-between-v-app-bar-and-v-toolbar-in-vuetify)。\n\n* `v-app-bar` 可下 app 屬性，代表整個應用程式的最上層功能。\n* 選單 icon `v-toolbar-side-icon` 名稱改為 `v-app-bar-nav-icon`。\n\n# v-navigation\n\n屬性 `mobile-break-point` 更名為 `mobile-breakpoint` 。\n\n# v-list\n\n只要是 `v-list-tile` 名稱在 V2 變成 `v-list-item`。比較常用到的地方是 Navigation 和 Menu 組件。\n\n* `v-list-tile-sub-title`更名為`v-list-item-subtitle`。\n* `v-list-item` 的屬性 `avator` 已被移除。\n\n# v-dialog\n\n原本可在 `v-dialog` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Dialogs](https://vuetifyjs.com/en/components/dialogs/)。\n\n# v-tooltip\n\n原本可在 `v-tooltip` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Tooltips](https://vuetifyjs.com/en/components/tooltips/)。\n\n# v-menu\n\n原本可在 `v-menu` 下 `slot=\"activator\"`，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Menus](https://vuetifyjs.com/en/components/menus/)。另外，取消了 lazy 和 full-width 屬性。\n\n> PS. `v-menu` 需要下 `min-width` 在 IE 瀏覽器才不會破版。\n\n# v-snackbar\n\n原本 `v-snackbar` 不需要下 v-slot，改為一定要另外在內部開一個 `template` 下 slot 語法才行。可參閱 [Snackbars](https://vuetifyjs.com/en/components/snackbars/)。\n\n# v-btn 預設樣式改變\n\nflat 屬性改為 text。\n\n# text-xs-(align) to text-(align)\n\n`text-xs-center` 名稱在 V2 變成 `text-center`，以此類推。\n\n# v-chip\n\n原本監聽 close  的 `@input` 屬性改成 `@click:close`。\n\n# v-data-table\n\n`v-data-table` 改的地方蠻多的，描述如下。\n\n* `hide-actions` 改為 `hide-default-footer`\n* `pagination.sync` 改為 `page.sync`\n* `select-all` 改為 `show-select`\n* 需要下 `items-per-page` 設置每頁資料筆數\n* 每格資料改為使用 template v-slot 的方式做覆蓋，例如對資料使用 filter。參閱 [Item](https://vuetifyjs.com/en/components/data-tables/#item)。\n\n# v-expansion-panels\n\n結構有大幅度的改變，最外層換成 `v-expansion-panels`。`v-expansion-panel` 變成內頁，屬性要移到外層。標題一定要拉到 `v-expansion-panel-header`。參閱 [Expansion Panels](https://vuetifyjs.com/en/components/expansion-panels/)。\n\n* 屬性 `expand` 改為 `mutiple`\n* v-model 陣列改為使用 index (ex: [true, false, true] => [0,2])","slug":"JS/Notes-on-Transferring-from-Vuetify-V1-to-V2","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9q4000yr3y7d9mtgyn9","content":"<p>此篇記錄 Vuetify 從 v1 升級到 v2 所要注意的事情。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Color-Theme\"><a href=\"#Color-Theme\" class=\"headerlink\" title=\"Color Theme\"></a>Color Theme</h1><p>V2 color theme 改分成 light 和 dark 兩種模式。為方便管理，做法是另外開一隻 vuetify.js 然後再引入 main.js 做使用。</p>\n<p>&#x2F;js&#x2F;vuetify.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuetify</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuetify&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuetify</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuetify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">theme</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">themes</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">light</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">primary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">secondary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">accent</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">error</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">info</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">success</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">warning</span>: <span class=\"string\">&#x27;...&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"attr\">dark</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">primary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">secondary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">accent</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">error</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">info</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">success</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">warning</span>: <span class=\"string\">&#x27;...&#x27;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>main.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> vuetify <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/vuetify&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    vuetify,</span><br><span class=\"line\">    router,</span><br><span class=\"line\">    store,</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"v-content-to-v-main\"><a href=\"#v-content-to-v-main\" class=\"headerlink\" title=\"v-content to v-main\"></a>v-content to v-main</h1><p><code>v-content</code> 名稱在 V2 變成 <code>v-main</code>。</p>\n<h1 id=\"Grid\"><a href=\"#Grid\" class=\"headerlink\" title=\"Grid\"></a>Grid</h1><p>原本使用 <code>v-layout</code>, <code>v-flex</code> 做排版，V2 改為使用 <code>v-row</code>, <code>v-col</code>，原組件功能保留，若不更動也可以。</p>\n<h1 id=\"v-toolbar-to-v-app-bar\"><a href=\"#v-toolbar-to-v-app-bar\" class=\"headerlink\" title=\"v-toolbar to v-app-bar\"></a>v-toolbar to v-app-bar</h1><p>新版 V2 有另外開新組件 <code>v-app-bar</code> 讓開發者可替換掉 <code>v-toolbar</code>。兩者相比之下，<code>v-app-bar</code> 有更多新功能可使用，可參閱 <a href=\"https://stackoverflow.com/questions/58068147/what-is-difference-between-v-app-bar-and-v-toolbar-in-vuetify\">StackOverflow</a>。</p>\n<ul>\n<li><code>v-app-bar</code> 可下 app 屬性，代表整個應用程式的最上層功能。</li>\n<li>選單 icon <code>v-toolbar-side-icon</code> 名稱改為 <code>v-app-bar-nav-icon</code>。</li>\n</ul>\n<h1 id=\"v-navigation\"><a href=\"#v-navigation\" class=\"headerlink\" title=\"v-navigation\"></a>v-navigation</h1><p>屬性 <code>mobile-break-point</code> 更名為 <code>mobile-breakpoint</code> 。</p>\n<h1 id=\"v-list\"><a href=\"#v-list\" class=\"headerlink\" title=\"v-list\"></a>v-list</h1><p>只要是 <code>v-list-tile</code> 名稱在 V2 變成 <code>v-list-item</code>。比較常用到的地方是 Navigation 和 Menu 組件。</p>\n<ul>\n<li><code>v-list-tile-sub-title</code>更名為<code>v-list-item-subtitle</code>。</li>\n<li><code>v-list-item</code> 的屬性 <code>avator</code> 已被移除。</li>\n</ul>\n<h1 id=\"v-dialog\"><a href=\"#v-dialog\" class=\"headerlink\" title=\"v-dialog\"></a>v-dialog</h1><p>原本可在 <code>v-dialog</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/dialogs/\">Dialogs</a>。</p>\n<h1 id=\"v-tooltip\"><a href=\"#v-tooltip\" class=\"headerlink\" title=\"v-tooltip\"></a>v-tooltip</h1><p>原本可在 <code>v-tooltip</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/tooltips/\">Tooltips</a>。</p>\n<h1 id=\"v-menu\"><a href=\"#v-menu\" class=\"headerlink\" title=\"v-menu\"></a>v-menu</h1><p>原本可在 <code>v-menu</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/menus/\">Menus</a>。另外，取消了 lazy 和 full-width 屬性。</p>\n<blockquote>\n<p>PS. <code>v-menu</code> 需要下 <code>min-width</code> 在 IE 瀏覽器才不會破版。</p>\n</blockquote>\n<h1 id=\"v-snackbar\"><a href=\"#v-snackbar\" class=\"headerlink\" title=\"v-snackbar\"></a>v-snackbar</h1><p>原本 <code>v-snackbar</code> 不需要下 v-slot，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/snackbars/\">Snackbars</a>。</p>\n<h1 id=\"v-btn-預設樣式改變\"><a href=\"#v-btn-預設樣式改變\" class=\"headerlink\" title=\"v-btn 預設樣式改變\"></a>v-btn 預設樣式改變</h1><p>flat 屬性改為 text。</p>\n<h1 id=\"text-xs-align-to-text-align\"><a href=\"#text-xs-align-to-text-align\" class=\"headerlink\" title=\"text-xs-(align) to text-(align)\"></a>text-xs-(align) to text-(align)</h1><p><code>text-xs-center</code> 名稱在 V2 變成 <code>text-center</code>，以此類推。</p>\n<h1 id=\"v-chip\"><a href=\"#v-chip\" class=\"headerlink\" title=\"v-chip\"></a>v-chip</h1><p>原本監聽 close  的 <code>@input</code> 屬性改成 <code>@click:close</code>。</p>\n<h1 id=\"v-data-table\"><a href=\"#v-data-table\" class=\"headerlink\" title=\"v-data-table\"></a>v-data-table</h1><p><code>v-data-table</code> 改的地方蠻多的，描述如下。</p>\n<ul>\n<li><code>hide-actions</code> 改為 <code>hide-default-footer</code></li>\n<li><code>pagination.sync</code> 改為 <code>page.sync</code></li>\n<li><code>select-all</code> 改為 <code>show-select</code></li>\n<li>需要下 <code>items-per-page</code> 設置每頁資料筆數</li>\n<li>每格資料改為使用 template v-slot 的方式做覆蓋，例如對資料使用 filter。參閱 <a href=\"https://vuetifyjs.com/en/components/data-tables/#item\">Item</a>。</li>\n</ul>\n<h1 id=\"v-expansion-panels\"><a href=\"#v-expansion-panels\" class=\"headerlink\" title=\"v-expansion-panels\"></a>v-expansion-panels</h1><p>結構有大幅度的改變，最外層換成 <code>v-expansion-panels</code>。<code>v-expansion-panel</code> 變成內頁，屬性要移到外層。標題一定要拉到 <code>v-expansion-panel-header</code>。參閱 <a href=\"https://vuetifyjs.com/en/components/expansion-panels/\">Expansion Panels</a>。</p>\n<ul>\n<li>屬性 <code>expand</code> 改為 <code>mutiple</code></li>\n<li>v-model 陣列改為使用 index (ex: [true, false, true] &#x3D;&gt; [0,2])</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://styles.redditmedia.com/t5_3nu8v/styles/communityIcon_zuqnf4r5ml111.png?width=256&s=cb1e7da96a8a20995de2e1a934d07b6a0a94958e","excerpt":"<p>此篇記錄 Vuetify 從 v1 升級到 v2 所要注意的事情。</p>","more":"<h1 id=\"Color-Theme\"><a href=\"#Color-Theme\" class=\"headerlink\" title=\"Color Theme\"></a>Color Theme</h1><p>V2 color theme 改分成 light 和 dark 兩種模式。為方便管理，做法是另外開一隻 vuetify.js 然後再引入 main.js 做使用。</p>\n<p>&#x2F;js&#x2F;vuetify.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuetify</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuetify&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuetify</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuetify</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">theme</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">themes</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">light</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">primary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">secondary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">accent</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">error</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">info</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">success</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">warning</span>: <span class=\"string\">&#x27;...&#x27;</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"attr\">dark</span>: &#123;</span><br><span class=\"line\">                <span class=\"attr\">primary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">secondary</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">accent</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">error</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">info</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">success</span>: <span class=\"string\">&#x27;...&#x27;</span>,</span><br><span class=\"line\">                <span class=\"attr\">warning</span>: <span class=\"string\">&#x27;...&#x27;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>main.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> vuetify <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/vuetify&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    vuetify,</span><br><span class=\"line\">    router,</span><br><span class=\"line\">    store,</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>)</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"v-content-to-v-main\"><a href=\"#v-content-to-v-main\" class=\"headerlink\" title=\"v-content to v-main\"></a>v-content to v-main</h1><p><code>v-content</code> 名稱在 V2 變成 <code>v-main</code>。</p>\n<h1 id=\"Grid\"><a href=\"#Grid\" class=\"headerlink\" title=\"Grid\"></a>Grid</h1><p>原本使用 <code>v-layout</code>, <code>v-flex</code> 做排版，V2 改為使用 <code>v-row</code>, <code>v-col</code>，原組件功能保留，若不更動也可以。</p>\n<h1 id=\"v-toolbar-to-v-app-bar\"><a href=\"#v-toolbar-to-v-app-bar\" class=\"headerlink\" title=\"v-toolbar to v-app-bar\"></a>v-toolbar to v-app-bar</h1><p>新版 V2 有另外開新組件 <code>v-app-bar</code> 讓開發者可替換掉 <code>v-toolbar</code>。兩者相比之下，<code>v-app-bar</code> 有更多新功能可使用，可參閱 <a href=\"https://stackoverflow.com/questions/58068147/what-is-difference-between-v-app-bar-and-v-toolbar-in-vuetify\">StackOverflow</a>。</p>\n<ul>\n<li><code>v-app-bar</code> 可下 app 屬性，代表整個應用程式的最上層功能。</li>\n<li>選單 icon <code>v-toolbar-side-icon</code> 名稱改為 <code>v-app-bar-nav-icon</code>。</li>\n</ul>\n<h1 id=\"v-navigation\"><a href=\"#v-navigation\" class=\"headerlink\" title=\"v-navigation\"></a>v-navigation</h1><p>屬性 <code>mobile-break-point</code> 更名為 <code>mobile-breakpoint</code> 。</p>\n<h1 id=\"v-list\"><a href=\"#v-list\" class=\"headerlink\" title=\"v-list\"></a>v-list</h1><p>只要是 <code>v-list-tile</code> 名稱在 V2 變成 <code>v-list-item</code>。比較常用到的地方是 Navigation 和 Menu 組件。</p>\n<ul>\n<li><code>v-list-tile-sub-title</code>更名為<code>v-list-item-subtitle</code>。</li>\n<li><code>v-list-item</code> 的屬性 <code>avator</code> 已被移除。</li>\n</ul>\n<h1 id=\"v-dialog\"><a href=\"#v-dialog\" class=\"headerlink\" title=\"v-dialog\"></a>v-dialog</h1><p>原本可在 <code>v-dialog</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/dialogs/\">Dialogs</a>。</p>\n<h1 id=\"v-tooltip\"><a href=\"#v-tooltip\" class=\"headerlink\" title=\"v-tooltip\"></a>v-tooltip</h1><p>原本可在 <code>v-tooltip</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/tooltips/\">Tooltips</a>。</p>\n<h1 id=\"v-menu\"><a href=\"#v-menu\" class=\"headerlink\" title=\"v-menu\"></a>v-menu</h1><p>原本可在 <code>v-menu</code> 下 <code>slot=&quot;activator&quot;</code>，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/menus/\">Menus</a>。另外，取消了 lazy 和 full-width 屬性。</p>\n<blockquote>\n<p>PS. <code>v-menu</code> 需要下 <code>min-width</code> 在 IE 瀏覽器才不會破版。</p>\n</blockquote>\n<h1 id=\"v-snackbar\"><a href=\"#v-snackbar\" class=\"headerlink\" title=\"v-snackbar\"></a>v-snackbar</h1><p>原本 <code>v-snackbar</code> 不需要下 v-slot，改為一定要另外在內部開一個 <code>template</code> 下 slot 語法才行。可參閱 <a href=\"https://vuetifyjs.com/en/components/snackbars/\">Snackbars</a>。</p>\n<h1 id=\"v-btn-預設樣式改變\"><a href=\"#v-btn-預設樣式改變\" class=\"headerlink\" title=\"v-btn 預設樣式改變\"></a>v-btn 預設樣式改變</h1><p>flat 屬性改為 text。</p>\n<h1 id=\"text-xs-align-to-text-align\"><a href=\"#text-xs-align-to-text-align\" class=\"headerlink\" title=\"text-xs-(align) to text-(align)\"></a>text-xs-(align) to text-(align)</h1><p><code>text-xs-center</code> 名稱在 V2 變成 <code>text-center</code>，以此類推。</p>\n<h1 id=\"v-chip\"><a href=\"#v-chip\" class=\"headerlink\" title=\"v-chip\"></a>v-chip</h1><p>原本監聽 close  的 <code>@input</code> 屬性改成 <code>@click:close</code>。</p>\n<h1 id=\"v-data-table\"><a href=\"#v-data-table\" class=\"headerlink\" title=\"v-data-table\"></a>v-data-table</h1><p><code>v-data-table</code> 改的地方蠻多的，描述如下。</p>\n<ul>\n<li><code>hide-actions</code> 改為 <code>hide-default-footer</code></li>\n<li><code>pagination.sync</code> 改為 <code>page.sync</code></li>\n<li><code>select-all</code> 改為 <code>show-select</code></li>\n<li>需要下 <code>items-per-page</code> 設置每頁資料筆數</li>\n<li>每格資料改為使用 template v-slot 的方式做覆蓋，例如對資料使用 filter。參閱 <a href=\"https://vuetifyjs.com/en/components/data-tables/#item\">Item</a>。</li>\n</ul>\n<h1 id=\"v-expansion-panels\"><a href=\"#v-expansion-panels\" class=\"headerlink\" title=\"v-expansion-panels\"></a>v-expansion-panels</h1><p>結構有大幅度的改變，最外層換成 <code>v-expansion-panels</code>。<code>v-expansion-panel</code> 變成內頁，屬性要移到外層。標題一定要拉到 <code>v-expansion-panel-header</code>。參閱 <a href=\"https://vuetifyjs.com/en/components/expansion-panels/\">Expansion Panels</a>。</p>\n<ul>\n<li>屬性 <code>expand</code> 改為 <code>mutiple</code></li>\n<li>v-model 陣列改為使用 index (ex: [true, false, true] &#x3D;&gt; [0,2])</li>\n</ul>"},{"title":"React Redux Practice","thumbnailImage":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png","thumbnailImagePosition":"left","coverImage":"https://cdn-images-1.medium.com/max/1200/1*y6C4nSvy2Woe0m7bWEn4BA.png","coverMeta":"out","date":"2019-07-02T16:00:00.000Z","updated":"2019-07-02T16:00:00.000Z","_content":"\n最近朋友問我關於 Redux 的問題，但我已經有兩年沒碰 React 了。所以藉此機會找了 youtube 上的[教程](https://youtu.be/OSSpVLpuVWA)，好好複習一次。\n\n<!--more-->\n\n## Redux\n\n* Redux 透過單向數據流模型來管理狀態，幫助應用程式擴展規模\n\n![單向數據流模型](https://lh3.googleusercontent.com/RCAqIMcoBNaVcnbKPXupA177bJvvluPn3GeaSEywgKbQ9tqDWh-cjeds7KbOJiCWStxVGOQLR23kbd0nRhY31T_f7BlJY3CfCXXhGGqYqTaQvZiZKwIpOkY2QBnDdNxY1rEkqvHJAuIrvfRYS5HU5PAiW-JK5baYknZXW-dn14aeptIf1OXblwufjzgNDRSP1gZqUzvG1yyKF88XxV8isg76MQ2yONKLHhrzDNu5Yx_OrcP1u95MtLR9F-mZf_ah65I-JmVYpbtfECihE7VNEn58n7vMp2CIym4JLvRTFspEzCAerEklTkI4aF7oWqcnO-2fK_IImagVK_JU5D2dqBvGA9ZB6XChXPMmbYDs-dinini_zUPgFvYFQK0ZvhW7-KIBsMIVFNNgFhhVZb3wc3mcwrwIvLlmWkqpGHevqclMLAuWlaj-1LeYndUMfE5MzcZ8CSzu7Vo3YO_MjEh8mxSzICgvz-gnIUs6ezMhTCxxSp8SXuta7SZbTcgqDDFzx1BovCKvVgxlvOOD0hNneBq3C0yPBhVAB5mcNInZhjfhWYshXmEJUPZDUiHFXRmMzeCLmoRzUU0DzE2oasezhmYktkb4aRq9XzSkE2d8b9DILg4wWP3skCXG6syozRvTQwnu6z9tZMi96CvFm6RmyKiRebM-Vro_=w922-h548-no \"單向數據流模型\")\n\n* [Redux Devtools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd) 幫助開發者進行狀態的監控與偵錯\n\n![Redux Devtools](https://user-images.githubusercontent.com/7957859/48663602-3aac4900-ea9b-11e8-921f-97059cbb599c.png \"Redux Devtools\")\n\n## Redux Flow\n\nRedux Flow 有個儲存所有狀態 (State) 的倉庫 (Store)，頁面會依據這些狀態 (State) 產生對應的介面 (UI)。當使用者對介面 (UI) 觸發動作 (Actions) 時，動作 (Actions) 會把使用者所做的事情 (payload) 傳輸給處理器 (Reducer) 做運算， 處理器 (Reducer) 處理完後變會把倉庫 (Store) 裡的狀態 (State) 更新，所以頁面就會再依據狀態 (State) 的改變產生對應的新介面 (UI)。\n\n![Redux Flow](https://lh3.googleusercontent.com/4fNoEoelX9xGuY9ujaqlV5bkoRzFWVJ12urnnBAs17FYumoFnC31TKe4hTzfpNBzG0Rde55vjURuPCCh7JiRYcl66xMZdgiijutv6ld2sRCwNBevGcfHj5sSUmCBmU3YrVGsagAVIpmmqGiZlI4wIGniBspsMA1CtGFA7f2punGbnfQLE_NhcPU8u_3VAxc3wmJJ1hxhaf_wO_FViTMzHx43-Lk3dmT3H219W4AAUPoPFMwWiiPyzNBtRZVzIyhLb6bGGLZPojsdaf5COQNN4NqfXnwgU0dNFX44tdM-10gYftyOBzsXwiCXu0aoPCei0nRvCp_cRlCClGYC6n9rp-4aNZ8GcaelZqN5nIf0jUYqegcGDoXeruwiy8g0x8_tlX5gAayXencALfp6LjfRTrM9Yry4z_VfgQuws0Y1-zvNdERmcZcFi3xfIPAfWuSxgdn5LeTxsm3fJ9eSCWobTf8n8KLW9rEXiwkBMiIqy4k7gYF6AnLzb9jssIp_huq0gStGif0pQdC-zjk144oSFkqmh9WtQGMGwSXTMfSL0g0NWKk9MehbxzFhRVKA-UrsN961N6dJXvs91IDJk3kT2Pb4ba_rx9yRnTu1mbPEvKp0hB73vro_RC94REWLrlzgkG6i_N9ezftI2z7TciZqnyMlGvCbwLIA=w1340-h932-no \"Redux Flow\")\n\n## 安裝\n\n打下列指令安裝 React App。\n\n```\nnpx create-react-app redux-tutorial\n```\n\n誒？為什麼是 npx 呢？那是什麼？\n所以我去搜尋了[npx 使用教程](https://www.ruanyifeng.com/blog/2019/02/npx.html)如下。\n\n> 除了調用項目內部模塊，npx 還能避免全局安裝的模塊。比如，create-react-app 這個模塊是全局安裝，npx 可以運行它，而且不進行全局安裝。上面代碼運行時，npx 將create-react-app下載到一個臨時目錄，使用以後再刪除。所以，以後再次執行上面的命令，會重新下載create-react-app。\n\n意思就是他不會在你電腦安裝 create-react-app 這個項目呦～幫你產生好專案後，就會自動移除不佔空間。\n\n接下來進入專案，安裝 Redux。\n\n```\ncd redux-tutorial\n```\n\n```\nyarn add redux react-redux\n```\n\n將專案啟動檢查有沒有安裝成功。\n\n```\nyarn start\n```\n\n起成功的話會看到瀏覽器自動開啟頁面如下圖。頁面上會提示去修改 src/App.js 就會自動 reload 畫面。\n\n![專案啟動頁面](https://lh3.googleusercontent.com/0eGc8PAV_LPbfRoLNBV1BkkTQD37TUEjNij_RlVgxSEuYZNY4DKF8uGzrLBHVf2AE4TBM8x9rWyyKuJVMinEABsb-JvpT9bkwb0NNTSKNjYcBbNBmdnZ6W_kg54n3dGO5Nn4z3ODEQeiLYYKsdOj5jwyrsb1o8hgfX6PiirzQaKCa-Nn7uyHM22VNhwKD8ycZsBYICwXla6-z_C-y7a8ycYR1zN7oa0TaMHidHVS74tcBOumyuO5ZZISjlDhYjajvV5ERdTi6ypNQbBq79zXlwjRmjq9UyATG39FOn5Dk3byoatX_sEfevfBxTxDTEgukeEz2anjaoIIzDzEwJJS0MLXZxkAGhtSAwBkU9LCGRh9IPc4IgShJuqA2B8-9qqSBznAukDaKrdbkjotC6gbbv2wsm_ogOhB68qf9fWHap_Jh_32gF-znppLcU-kP9cyGAF1hEBSDdeOngarYU6uSaIuuVlqJFjakf3CgBFdZVspwHQbdYGOmSyxPN_NU_nrZg7dgjYJeI_FkPzR8lY4qETFKPYyfWTCArWuzry2GwQ36VIrcc4lmp5SlhLnyW2WNZmaf-MMkVpjYMmzkNbRymIFamQzA2GO49BmecALKJXy4z_tSkYqsa8pDyRECxa1RGspkoog9YUvthBasLtLTForiwJN0iez=w2560-h1446-no \"專案啟動頁面\")\n\n## 創建 Store\n\n### createStore\n\n教程在 index.js 先創建了簡易的 store。[Git#1](https://github.com/Annilla/react-redux-practice/tree/V1)\n\n```js\n...\nimport { createStore } from 'redux';\n\n// reducer\nfunction reducer(state, action) {\n  // 當 action type 為 _changeState 時，將 state 更改為 action 帶過來的 payload 值\n  if (action.type === '_changeState') {\n    return action.payload.newState;\n  }\n  // 預設沒有動作時的值\n  return 'state';\n}\n\n// 創建 sotre\nconst store = createStore(reducer);\n\n// 印出初始的 state 值\nconsole.log(store.getState());\n\n// 設定動作屬性所帶的 payload 值\nconst action = {\n  type: '_changeState',\n  payload: {\n    newState: 'New State'\n  }\n};\n\n// 將動作帶入 reducer 中，進而更新 store 中的 state\nstore.dispatch(action);\n\n// 印出經過動作後的 state 值\nconsole.log(store.getState());\n\n...\n\n```\n\n### combineReducers\n\n當有兩個以上的 Reducers 時，在 index.js 做合併。 [Git#2](https://github.com/Annilla/react-redux-practice/tree/V2)\n\n```js\n...\nimport { createStore, combineReducers } from 'redux';\n\n// 將 Reducer 分成專門處理產品和使用者資訊兩種\n// 專門處理產品的 Reducer\nfunction productsReducer(state = [], action) {\n  return state;\n}\n// 專門處理使用者的 Reducer\nfunction userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case 'updateUser':\n      return payload.user;\n  }\n  return state;\n}\n// 將兩種 Reducer 合起來放在 store 用\nconst allReducers = combineReducers({\n  products: productsReducer,\n  user: userReducer\n});\n\nconst store = createStore(\n  allReducers,\n  // 放入起始值\n  {\n    products: [{ name: 'iPhone' }],\n    user: 'Anny Chang'\n  },\n  // 開啟 devTool\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\n// 定義動作\nconst updateUserAction = {\n  type: 'updateUser',\n  payload: {\n    user: 'John'\n  }\n}\n\n// 將動作帶入 reducer 中，進而更新 store 中的 state\nstore.dispatch(updateUserAction);\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n...\n```\n\n## Reducers and Actions\n\n將 Reducers 和 Actions 從 index.js 中抽離。[Git#3](https://github.com/Annilla/react-redux-practice/tree/V3)\n\n### Actions\n\n在 `src/acitons/` 新增 `user-actions.js` 和 `products-actions.js`。\n\nuser-actions.js\n\n```js\n// 將 type 名稱輸出供 Reducer 共用\nexport const UPDATE_USER = 'users:updateUser';\n\nexport function updateUser (newUser) {\n  return {\n    type: UPDATE_USER,\n    payload: {\n      user: newUser\n    }\n  }\n}\n```\n\n### Reducers\n\n在 `src/reducers/` 新增 `user-reducer.js` 和 `products-reducer.js`。\n\nuser-reducer.js\n\n```js\n// 從 Action 那裡取得動作名稱\nimport { UPDATE_USER } from '../actions/user-actions'\n\nexport default function userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case UPDATE_USER:\n      return payload.user;\n    default:\n      return state;\n  }\n}\n```\n\n### View\n\nApp.js\n\n```js\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport { updateUser } from './actions/user-actions'\n\nclass App extends Component {\n  constructor(props) {\n    // Using super in classes\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super#Using_super_in_classes\n    // super() 將父類的構建項目傳到子項目\n    super(props);\n    // 將 onUpdateUser(event) 綁定 component 本身 = this\n    this.onUpdateUser = this.onUpdateUser.bind(this);\n  }\n\n  onUpdateUser(event) {\n    // this = component 本身\n    // 將輸入框的文字丟給 Redux Action\n    this.props.onUpdateUser(event.target.value);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <p>Practice by Anny Chang</p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React\n          </a>\n          <h1>\n            <input onChange={this.onUpdateUser}></input>\n            <br/>\n            {this.props.user}\n          </h1>\n        </header>\n      </div>\n    );\n  }\n}\n\n// 將 Redux State 丟到此 component 的 prop\nconst mapStateToProps = state => ({\n  products: state.products,\n  user: state.user\n});\n\n// 將 Redux Action 丟到此 component 的 prop\nconst mapActionsToProps = {\n  onUpdateUser: updateUser\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n\n```\n\n## Redux-thunk\n\n當我們在接取 API 非同步的請求時，就需要 Redux-thunk 這個 middleware，幫助 Promise 回傳過後可以在 dispatch 其他的 Action。[Git#4](https://github.com/Annilla/react-redux-practice/tree/V4)\n\n安裝 redux-thunk。\n\n```\nyarn add redux-thunk\n```\n\n在 index.js 引用 thunk。\n\n```js\n...\nimport thunk from 'redux-thunk';\nimport { applyMiddleware, compose, createStore, combineReducers } from 'redux';\n...\n\n// 使用 applyMiddleware 將 thunk 帶進去改變原生 dispatch 行為\n// Thunk 是一個以 action 為本的包裹器\n// 在 Redux 中藉由 Redux-Thunk 這個 Redux Middleware 讓我們可以在使用時不去區分 pure action creator 還是 thunk action creator\nconst allStoreEnhancers = compose (\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nconst store = createStore(\n  allReducers,\n  {\n    products: [{ name: 'iPhone' }],\n    user: 'Anny Chang'\n  },\n  allStoreEnhancers\n);\n\n...\n```\n\n### Actions\n\nuser-actions.js\n\n```js\nimport axios from 'axios';\n\n...\nexport const SHOW_ERROR = 'users:showError';\n\n...\n\nexport function showError () {\n  return {\n    type: SHOW_ERROR,\n    payload: {\n      user: 'ERROR!!'\n    }\n  }\n}\n\nexport function apiRequest() {\n  return dispatch => {\n    // 使用 axios 接取 API Promise\n    // 這邊網址因為有 CORS，所以必定 ERROR\n    axios({\n      method: 'GET',\n      url: 'http://google.com'\n    }).then(response => {\n      // 成功的話會 dispatch updateUser Action\n      console.log('SUCCESS');\n      dispatch(updateUser(response.newUser));\n    }).catch(response => {\n      // 失敗的話會 dispatch showError Action\n      console.log('ERROR');\n      dispatch(showError());\n    })\n  }\n}\n```\n\n### Reducers\n\nuser-reducer.js\n\n```js\nimport { UPDATE_USER, SHOW_ERROR } from '../actions/user-actions'\n\nexport default function userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case UPDATE_USER:\n      return payload.user;\n    case SHOW_ERROR:\n      return payload.user;\n    default:\n      return state;\n  }\n}\n```\n\n### View\n\nApp.js\n\n```js\n...\nimport { updateUser, apiRequest } from './actions/user-actions'\n\nclass App extends Component {\n  constructor(props) {\n    ...\n  }\n\n  // 在 component 出現的時候進行 API request\n  componentDidMount () {\n    this.props.onApiRequest();\n  }\n\n  ...\n\n  render() {\n    ...\n  }\n}\n\n...\n\n// 將 apiRequest 放到此 component 的 props\nconst mapActionsToProps = {\n  onUpdateUser: updateUser,\n  onApiRequest: apiRequest\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n```\n\n## Reselect\n\n使用者每次都會透過 action 去做 dispatch 進而改變 state 的值。那麼，問題來了，如果需要的計算量比較大，每次更新的重新計算就會造成性能的問題。為了避免不必要的計算，Reselect 就是來解決此問題。[Git#5](https://github.com/Annilla/react-redux-practice/tree/V5)\n\n> 如果有用過 Vue 的話，就類似 computed 的功能。\n\nSelectors 的特點為：\n\n* Selectors 可以用來計算延伸的資料，允許 Redux 去儲存最低限度的 state。也就是說，state 只儲存原始的基本資料，中間延伸的計算透過 Selector 呈現即可。\n\n* Selectors 很有效率。一個 selector 只會在與他相關的變數有改變的時候才會重新計算。\n\n* Selectors 可以多個組合。可被其他的 selectors 當作變數來運用。\n\n這邊解釋就不用影片中的範例，因為我覺得官方提供的 example 解釋更為貼切。\n\n```js\nimport { createSelector } from 'reselect'\n\n// 把 shop 裡面的 items 抓出來\nconst shopItemsSelector = state => state.shop.items\n// 把 shop 裡面的 taxPercent 抓出來\nconst taxPercentSelector = state => state.shop.taxPercent\n\n// 把 items 的 value 做總和\nconst subtotalSelector = createSelector(\n  shopItemsSelector,\n  items => items.reduce((acc, item) => acc + item.value, 0)\n)\n\n// 用 subtotal 和 taxPercent 計算總稅額\nconst taxSelector = createSelector(\n  subtotalSelector,\n  taxPercentSelector,\n  (subtotal, taxPercent) => subtotal * (taxPercent / 100)\n)\n\n// 用 subtotal 和 tax 計算加稅後的總金額\nexport const totalSelector = createSelector(\n  subtotalSelector,\n  taxSelector,\n  (subtotal, tax) => ({ total: subtotal + tax })\n)\n\nlet exampleState = {\n  shop: {\n    taxPercent: 8,\n    items: [\n      { name: 'apple', value: 1.20 },\n      { name: 'orange', value: 0.95 },\n    ]\n  }\n}\n\nconsole.log(subtotalSelector(exampleState)) // 2.15\nconsole.log(taxSelector(exampleState))      // 0.172\nconsole.log(totalSelector(exampleState))    // { total: 2.322 }\n```\n\n## Smart VS Dumb Component\n\n你不可能把每個子 component 都跟 Store 做聯繫，這樣很累且是過度使用。所以我們就會有一個專門和 Store 做聯繫的 Component，也就是 Smart Component。他接到資料後會往下傳給只吃 prop 的 Dumb Component。如此一來我們就能保持只有少數 Smart Component 控制 Store，而底下的 Dumb Component 因為只吃 prop 傳進來的值，所以也可安心的重複使用。\n\n> Smart VS Dumb Component 的概念是通用的理論，並不是 React 獨有。所以同樣的概念也適用在 Vue 和 Angular 等框架上。\n\n![Smart VS Dumb Component](https://huzidaha.github.io/static/assets/img/posts/25608378-BE07-4050-88B1-72025085875A.png \"Smart VS Dumb Component\")\n\n## 參考資料\n\n* [Redux Middleware大略架構](https://medium.com/@WendellLiu/redux-middleware%E5%A4%A7%E7%95%A5%E6%9E%B6%E6%A7%8B-ace7e646c929)\n* [讓你的Action能作更多 — Redux-Thunk](https://medium.com/frochu/%E9%80%81%E8%AE%93%E4%BD%A0%E7%9A%84action%E8%83%BD%E4%BD%9C%E6%9B%B4%E5%A4%9A-redux-thunk-c07bc5488e48)\n* [react-redux性能优化之reselect](https://www.jianshu.com/p/1fcef4c892ba)\n* [Smart 组件 vs Dumb 组件](http://huziketang.mangojuice.top/books/react/lesson43)","source":"_posts/JS/React-Redux-Practice.md","raw":"---\ntitle: React Redux Practice\ncategories:\n  - JS\n  - React\nthumbnailImage: https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png\nthumbnailImagePosition: left\ncoverImage: https://cdn-images-1.medium.com/max/1200/1*y6C4nSvy2Woe0m7bWEn4BA.png\ncoverMeta: out\ntags: [JS, React, Redux]\ndate: 2019/07/03\nupdated: 2019/07/03\n---\n\n最近朋友問我關於 Redux 的問題，但我已經有兩年沒碰 React 了。所以藉此機會找了 youtube 上的[教程](https://youtu.be/OSSpVLpuVWA)，好好複習一次。\n\n<!--more-->\n\n## Redux\n\n* Redux 透過單向數據流模型來管理狀態，幫助應用程式擴展規模\n\n![單向數據流模型](https://lh3.googleusercontent.com/RCAqIMcoBNaVcnbKPXupA177bJvvluPn3GeaSEywgKbQ9tqDWh-cjeds7KbOJiCWStxVGOQLR23kbd0nRhY31T_f7BlJY3CfCXXhGGqYqTaQvZiZKwIpOkY2QBnDdNxY1rEkqvHJAuIrvfRYS5HU5PAiW-JK5baYknZXW-dn14aeptIf1OXblwufjzgNDRSP1gZqUzvG1yyKF88XxV8isg76MQ2yONKLHhrzDNu5Yx_OrcP1u95MtLR9F-mZf_ah65I-JmVYpbtfECihE7VNEn58n7vMp2CIym4JLvRTFspEzCAerEklTkI4aF7oWqcnO-2fK_IImagVK_JU5D2dqBvGA9ZB6XChXPMmbYDs-dinini_zUPgFvYFQK0ZvhW7-KIBsMIVFNNgFhhVZb3wc3mcwrwIvLlmWkqpGHevqclMLAuWlaj-1LeYndUMfE5MzcZ8CSzu7Vo3YO_MjEh8mxSzICgvz-gnIUs6ezMhTCxxSp8SXuta7SZbTcgqDDFzx1BovCKvVgxlvOOD0hNneBq3C0yPBhVAB5mcNInZhjfhWYshXmEJUPZDUiHFXRmMzeCLmoRzUU0DzE2oasezhmYktkb4aRq9XzSkE2d8b9DILg4wWP3skCXG6syozRvTQwnu6z9tZMi96CvFm6RmyKiRebM-Vro_=w922-h548-no \"單向數據流模型\")\n\n* [Redux Devtools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd) 幫助開發者進行狀態的監控與偵錯\n\n![Redux Devtools](https://user-images.githubusercontent.com/7957859/48663602-3aac4900-ea9b-11e8-921f-97059cbb599c.png \"Redux Devtools\")\n\n## Redux Flow\n\nRedux Flow 有個儲存所有狀態 (State) 的倉庫 (Store)，頁面會依據這些狀態 (State) 產生對應的介面 (UI)。當使用者對介面 (UI) 觸發動作 (Actions) 時，動作 (Actions) 會把使用者所做的事情 (payload) 傳輸給處理器 (Reducer) 做運算， 處理器 (Reducer) 處理完後變會把倉庫 (Store) 裡的狀態 (State) 更新，所以頁面就會再依據狀態 (State) 的改變產生對應的新介面 (UI)。\n\n![Redux Flow](https://lh3.googleusercontent.com/4fNoEoelX9xGuY9ujaqlV5bkoRzFWVJ12urnnBAs17FYumoFnC31TKe4hTzfpNBzG0Rde55vjURuPCCh7JiRYcl66xMZdgiijutv6ld2sRCwNBevGcfHj5sSUmCBmU3YrVGsagAVIpmmqGiZlI4wIGniBspsMA1CtGFA7f2punGbnfQLE_NhcPU8u_3VAxc3wmJJ1hxhaf_wO_FViTMzHx43-Lk3dmT3H219W4AAUPoPFMwWiiPyzNBtRZVzIyhLb6bGGLZPojsdaf5COQNN4NqfXnwgU0dNFX44tdM-10gYftyOBzsXwiCXu0aoPCei0nRvCp_cRlCClGYC6n9rp-4aNZ8GcaelZqN5nIf0jUYqegcGDoXeruwiy8g0x8_tlX5gAayXencALfp6LjfRTrM9Yry4z_VfgQuws0Y1-zvNdERmcZcFi3xfIPAfWuSxgdn5LeTxsm3fJ9eSCWobTf8n8KLW9rEXiwkBMiIqy4k7gYF6AnLzb9jssIp_huq0gStGif0pQdC-zjk144oSFkqmh9WtQGMGwSXTMfSL0g0NWKk9MehbxzFhRVKA-UrsN961N6dJXvs91IDJk3kT2Pb4ba_rx9yRnTu1mbPEvKp0hB73vro_RC94REWLrlzgkG6i_N9ezftI2z7TciZqnyMlGvCbwLIA=w1340-h932-no \"Redux Flow\")\n\n## 安裝\n\n打下列指令安裝 React App。\n\n```\nnpx create-react-app redux-tutorial\n```\n\n誒？為什麼是 npx 呢？那是什麼？\n所以我去搜尋了[npx 使用教程](https://www.ruanyifeng.com/blog/2019/02/npx.html)如下。\n\n> 除了調用項目內部模塊，npx 還能避免全局安裝的模塊。比如，create-react-app 這個模塊是全局安裝，npx 可以運行它，而且不進行全局安裝。上面代碼運行時，npx 將create-react-app下載到一個臨時目錄，使用以後再刪除。所以，以後再次執行上面的命令，會重新下載create-react-app。\n\n意思就是他不會在你電腦安裝 create-react-app 這個項目呦～幫你產生好專案後，就會自動移除不佔空間。\n\n接下來進入專案，安裝 Redux。\n\n```\ncd redux-tutorial\n```\n\n```\nyarn add redux react-redux\n```\n\n將專案啟動檢查有沒有安裝成功。\n\n```\nyarn start\n```\n\n起成功的話會看到瀏覽器自動開啟頁面如下圖。頁面上會提示去修改 src/App.js 就會自動 reload 畫面。\n\n![專案啟動頁面](https://lh3.googleusercontent.com/0eGc8PAV_LPbfRoLNBV1BkkTQD37TUEjNij_RlVgxSEuYZNY4DKF8uGzrLBHVf2AE4TBM8x9rWyyKuJVMinEABsb-JvpT9bkwb0NNTSKNjYcBbNBmdnZ6W_kg54n3dGO5Nn4z3ODEQeiLYYKsdOj5jwyrsb1o8hgfX6PiirzQaKCa-Nn7uyHM22VNhwKD8ycZsBYICwXla6-z_C-y7a8ycYR1zN7oa0TaMHidHVS74tcBOumyuO5ZZISjlDhYjajvV5ERdTi6ypNQbBq79zXlwjRmjq9UyATG39FOn5Dk3byoatX_sEfevfBxTxDTEgukeEz2anjaoIIzDzEwJJS0MLXZxkAGhtSAwBkU9LCGRh9IPc4IgShJuqA2B8-9qqSBznAukDaKrdbkjotC6gbbv2wsm_ogOhB68qf9fWHap_Jh_32gF-znppLcU-kP9cyGAF1hEBSDdeOngarYU6uSaIuuVlqJFjakf3CgBFdZVspwHQbdYGOmSyxPN_NU_nrZg7dgjYJeI_FkPzR8lY4qETFKPYyfWTCArWuzry2GwQ36VIrcc4lmp5SlhLnyW2WNZmaf-MMkVpjYMmzkNbRymIFamQzA2GO49BmecALKJXy4z_tSkYqsa8pDyRECxa1RGspkoog9YUvthBasLtLTForiwJN0iez=w2560-h1446-no \"專案啟動頁面\")\n\n## 創建 Store\n\n### createStore\n\n教程在 index.js 先創建了簡易的 store。[Git#1](https://github.com/Annilla/react-redux-practice/tree/V1)\n\n```js\n...\nimport { createStore } from 'redux';\n\n// reducer\nfunction reducer(state, action) {\n  // 當 action type 為 _changeState 時，將 state 更改為 action 帶過來的 payload 值\n  if (action.type === '_changeState') {\n    return action.payload.newState;\n  }\n  // 預設沒有動作時的值\n  return 'state';\n}\n\n// 創建 sotre\nconst store = createStore(reducer);\n\n// 印出初始的 state 值\nconsole.log(store.getState());\n\n// 設定動作屬性所帶的 payload 值\nconst action = {\n  type: '_changeState',\n  payload: {\n    newState: 'New State'\n  }\n};\n\n// 將動作帶入 reducer 中，進而更新 store 中的 state\nstore.dispatch(action);\n\n// 印出經過動作後的 state 值\nconsole.log(store.getState());\n\n...\n\n```\n\n### combineReducers\n\n當有兩個以上的 Reducers 時，在 index.js 做合併。 [Git#2](https://github.com/Annilla/react-redux-practice/tree/V2)\n\n```js\n...\nimport { createStore, combineReducers } from 'redux';\n\n// 將 Reducer 分成專門處理產品和使用者資訊兩種\n// 專門處理產品的 Reducer\nfunction productsReducer(state = [], action) {\n  return state;\n}\n// 專門處理使用者的 Reducer\nfunction userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case 'updateUser':\n      return payload.user;\n  }\n  return state;\n}\n// 將兩種 Reducer 合起來放在 store 用\nconst allReducers = combineReducers({\n  products: productsReducer,\n  user: userReducer\n});\n\nconst store = createStore(\n  allReducers,\n  // 放入起始值\n  {\n    products: [{ name: 'iPhone' }],\n    user: 'Anny Chang'\n  },\n  // 開啟 devTool\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\n// 定義動作\nconst updateUserAction = {\n  type: 'updateUser',\n  payload: {\n    user: 'John'\n  }\n}\n\n// 將動作帶入 reducer 中，進而更新 store 中的 state\nstore.dispatch(updateUserAction);\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n...\n```\n\n## Reducers and Actions\n\n將 Reducers 和 Actions 從 index.js 中抽離。[Git#3](https://github.com/Annilla/react-redux-practice/tree/V3)\n\n### Actions\n\n在 `src/acitons/` 新增 `user-actions.js` 和 `products-actions.js`。\n\nuser-actions.js\n\n```js\n// 將 type 名稱輸出供 Reducer 共用\nexport const UPDATE_USER = 'users:updateUser';\n\nexport function updateUser (newUser) {\n  return {\n    type: UPDATE_USER,\n    payload: {\n      user: newUser\n    }\n  }\n}\n```\n\n### Reducers\n\n在 `src/reducers/` 新增 `user-reducer.js` 和 `products-reducer.js`。\n\nuser-reducer.js\n\n```js\n// 從 Action 那裡取得動作名稱\nimport { UPDATE_USER } from '../actions/user-actions'\n\nexport default function userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case UPDATE_USER:\n      return payload.user;\n    default:\n      return state;\n  }\n}\n```\n\n### View\n\nApp.js\n\n```js\nimport React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport { updateUser } from './actions/user-actions'\n\nclass App extends Component {\n  constructor(props) {\n    // Using super in classes\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super#Using_super_in_classes\n    // super() 將父類的構建項目傳到子項目\n    super(props);\n    // 將 onUpdateUser(event) 綁定 component 本身 = this\n    this.onUpdateUser = this.onUpdateUser.bind(this);\n  }\n\n  onUpdateUser(event) {\n    // this = component 本身\n    // 將輸入框的文字丟給 Redux Action\n    this.props.onUpdateUser(event.target.value);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <p>Practice by Anny Chang</p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React\n          </a>\n          <h1>\n            <input onChange={this.onUpdateUser}></input>\n            <br/>\n            {this.props.user}\n          </h1>\n        </header>\n      </div>\n    );\n  }\n}\n\n// 將 Redux State 丟到此 component 的 prop\nconst mapStateToProps = state => ({\n  products: state.products,\n  user: state.user\n});\n\n// 將 Redux Action 丟到此 component 的 prop\nconst mapActionsToProps = {\n  onUpdateUser: updateUser\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n\n```\n\n## Redux-thunk\n\n當我們在接取 API 非同步的請求時，就需要 Redux-thunk 這個 middleware，幫助 Promise 回傳過後可以在 dispatch 其他的 Action。[Git#4](https://github.com/Annilla/react-redux-practice/tree/V4)\n\n安裝 redux-thunk。\n\n```\nyarn add redux-thunk\n```\n\n在 index.js 引用 thunk。\n\n```js\n...\nimport thunk from 'redux-thunk';\nimport { applyMiddleware, compose, createStore, combineReducers } from 'redux';\n...\n\n// 使用 applyMiddleware 將 thunk 帶進去改變原生 dispatch 行為\n// Thunk 是一個以 action 為本的包裹器\n// 在 Redux 中藉由 Redux-Thunk 這個 Redux Middleware 讓我們可以在使用時不去區分 pure action creator 還是 thunk action creator\nconst allStoreEnhancers = compose (\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nconst store = createStore(\n  allReducers,\n  {\n    products: [{ name: 'iPhone' }],\n    user: 'Anny Chang'\n  },\n  allStoreEnhancers\n);\n\n...\n```\n\n### Actions\n\nuser-actions.js\n\n```js\nimport axios from 'axios';\n\n...\nexport const SHOW_ERROR = 'users:showError';\n\n...\n\nexport function showError () {\n  return {\n    type: SHOW_ERROR,\n    payload: {\n      user: 'ERROR!!'\n    }\n  }\n}\n\nexport function apiRequest() {\n  return dispatch => {\n    // 使用 axios 接取 API Promise\n    // 這邊網址因為有 CORS，所以必定 ERROR\n    axios({\n      method: 'GET',\n      url: 'http://google.com'\n    }).then(response => {\n      // 成功的話會 dispatch updateUser Action\n      console.log('SUCCESS');\n      dispatch(updateUser(response.newUser));\n    }).catch(response => {\n      // 失敗的話會 dispatch showError Action\n      console.log('ERROR');\n      dispatch(showError());\n    })\n  }\n}\n```\n\n### Reducers\n\nuser-reducer.js\n\n```js\nimport { UPDATE_USER, SHOW_ERROR } from '../actions/user-actions'\n\nexport default function userReducer(state = '', {type, payload}) {\n  switch (type) {\n    case UPDATE_USER:\n      return payload.user;\n    case SHOW_ERROR:\n      return payload.user;\n    default:\n      return state;\n  }\n}\n```\n\n### View\n\nApp.js\n\n```js\n...\nimport { updateUser, apiRequest } from './actions/user-actions'\n\nclass App extends Component {\n  constructor(props) {\n    ...\n  }\n\n  // 在 component 出現的時候進行 API request\n  componentDidMount () {\n    this.props.onApiRequest();\n  }\n\n  ...\n\n  render() {\n    ...\n  }\n}\n\n...\n\n// 將 apiRequest 放到此 component 的 props\nconst mapActionsToProps = {\n  onUpdateUser: updateUser,\n  onApiRequest: apiRequest\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(App);\n```\n\n## Reselect\n\n使用者每次都會透過 action 去做 dispatch 進而改變 state 的值。那麼，問題來了，如果需要的計算量比較大，每次更新的重新計算就會造成性能的問題。為了避免不必要的計算，Reselect 就是來解決此問題。[Git#5](https://github.com/Annilla/react-redux-practice/tree/V5)\n\n> 如果有用過 Vue 的話，就類似 computed 的功能。\n\nSelectors 的特點為：\n\n* Selectors 可以用來計算延伸的資料，允許 Redux 去儲存最低限度的 state。也就是說，state 只儲存原始的基本資料，中間延伸的計算透過 Selector 呈現即可。\n\n* Selectors 很有效率。一個 selector 只會在與他相關的變數有改變的時候才會重新計算。\n\n* Selectors 可以多個組合。可被其他的 selectors 當作變數來運用。\n\n這邊解釋就不用影片中的範例，因為我覺得官方提供的 example 解釋更為貼切。\n\n```js\nimport { createSelector } from 'reselect'\n\n// 把 shop 裡面的 items 抓出來\nconst shopItemsSelector = state => state.shop.items\n// 把 shop 裡面的 taxPercent 抓出來\nconst taxPercentSelector = state => state.shop.taxPercent\n\n// 把 items 的 value 做總和\nconst subtotalSelector = createSelector(\n  shopItemsSelector,\n  items => items.reduce((acc, item) => acc + item.value, 0)\n)\n\n// 用 subtotal 和 taxPercent 計算總稅額\nconst taxSelector = createSelector(\n  subtotalSelector,\n  taxPercentSelector,\n  (subtotal, taxPercent) => subtotal * (taxPercent / 100)\n)\n\n// 用 subtotal 和 tax 計算加稅後的總金額\nexport const totalSelector = createSelector(\n  subtotalSelector,\n  taxSelector,\n  (subtotal, tax) => ({ total: subtotal + tax })\n)\n\nlet exampleState = {\n  shop: {\n    taxPercent: 8,\n    items: [\n      { name: 'apple', value: 1.20 },\n      { name: 'orange', value: 0.95 },\n    ]\n  }\n}\n\nconsole.log(subtotalSelector(exampleState)) // 2.15\nconsole.log(taxSelector(exampleState))      // 0.172\nconsole.log(totalSelector(exampleState))    // { total: 2.322 }\n```\n\n## Smart VS Dumb Component\n\n你不可能把每個子 component 都跟 Store 做聯繫，這樣很累且是過度使用。所以我們就會有一個專門和 Store 做聯繫的 Component，也就是 Smart Component。他接到資料後會往下傳給只吃 prop 的 Dumb Component。如此一來我們就能保持只有少數 Smart Component 控制 Store，而底下的 Dumb Component 因為只吃 prop 傳進來的值，所以也可安心的重複使用。\n\n> Smart VS Dumb Component 的概念是通用的理論，並不是 React 獨有。所以同樣的概念也適用在 Vue 和 Angular 等框架上。\n\n![Smart VS Dumb Component](https://huzidaha.github.io/static/assets/img/posts/25608378-BE07-4050-88B1-72025085875A.png \"Smart VS Dumb Component\")\n\n## 參考資料\n\n* [Redux Middleware大略架構](https://medium.com/@WendellLiu/redux-middleware%E5%A4%A7%E7%95%A5%E6%9E%B6%E6%A7%8B-ace7e646c929)\n* [讓你的Action能作更多 — Redux-Thunk](https://medium.com/frochu/%E9%80%81%E8%AE%93%E4%BD%A0%E7%9A%84action%E8%83%BD%E4%BD%9C%E6%9B%B4%E5%A4%9A-redux-thunk-c07bc5488e48)\n* [react-redux性能优化之reselect](https://www.jianshu.com/p/1fcef4c892ba)\n* [Smart 组件 vs Dumb 组件](http://huziketang.mangojuice.top/books/react/lesson43)","slug":"JS/React-Redux-Practice","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9q60012r3y78hqwfn7u","content":"<p>最近朋友問我關於 Redux 的問題，但我已經有兩年沒碰 React 了。所以藉此機會找了 youtube 上的<a href=\"https://youtu.be/OSSpVLpuVWA\">教程</a>，好好複習一次。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><ul>\n<li>Redux 透過單向數據流模型來管理狀態，幫助應用程式擴展規模</li>\n</ul>\n<p><img src=\"https://lh3.googleusercontent.com/RCAqIMcoBNaVcnbKPXupA177bJvvluPn3GeaSEywgKbQ9tqDWh-cjeds7KbOJiCWStxVGOQLR23kbd0nRhY31T_f7BlJY3CfCXXhGGqYqTaQvZiZKwIpOkY2QBnDdNxY1rEkqvHJAuIrvfRYS5HU5PAiW-JK5baYknZXW-dn14aeptIf1OXblwufjzgNDRSP1gZqUzvG1yyKF88XxV8isg76MQ2yONKLHhrzDNu5Yx_OrcP1u95MtLR9F-mZf_ah65I-JmVYpbtfECihE7VNEn58n7vMp2CIym4JLvRTFspEzCAerEklTkI4aF7oWqcnO-2fK_IImagVK_JU5D2dqBvGA9ZB6XChXPMmbYDs-dinini_zUPgFvYFQK0ZvhW7-KIBsMIVFNNgFhhVZb3wc3mcwrwIvLlmWkqpGHevqclMLAuWlaj-1LeYndUMfE5MzcZ8CSzu7Vo3YO_MjEh8mxSzICgvz-gnIUs6ezMhTCxxSp8SXuta7SZbTcgqDDFzx1BovCKvVgxlvOOD0hNneBq3C0yPBhVAB5mcNInZhjfhWYshXmEJUPZDUiHFXRmMzeCLmoRzUU0DzE2oasezhmYktkb4aRq9XzSkE2d8b9DILg4wWP3skCXG6syozRvTQwnu6z9tZMi96CvFm6RmyKiRebM-Vro_=w922-h548-no\" alt=\"單向數據流模型\" title=\"單向數據流模型\"></p>\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd\">Redux Devtools</a> 幫助開發者進行狀態的監控與偵錯</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/7957859/48663602-3aac4900-ea9b-11e8-921f-97059cbb599c.png\" alt=\"Redux Devtools\" title=\"Redux Devtools\"></p>\n<h2 id=\"Redux-Flow\"><a href=\"#Redux-Flow\" class=\"headerlink\" title=\"Redux Flow\"></a>Redux Flow</h2><p>Redux Flow 有個儲存所有狀態 (State) 的倉庫 (Store)，頁面會依據這些狀態 (State) 產生對應的介面 (UI)。當使用者對介面 (UI) 觸發動作 (Actions) 時，動作 (Actions) 會把使用者所做的事情 (payload) 傳輸給處理器 (Reducer) 做運算， 處理器 (Reducer) 處理完後變會把倉庫 (Store) 裡的狀態 (State) 更新，所以頁面就會再依據狀態 (State) 的改變產生對應的新介面 (UI)。</p>\n<p><img src=\"https://lh3.googleusercontent.com/4fNoEoelX9xGuY9ujaqlV5bkoRzFWVJ12urnnBAs17FYumoFnC31TKe4hTzfpNBzG0Rde55vjURuPCCh7JiRYcl66xMZdgiijutv6ld2sRCwNBevGcfHj5sSUmCBmU3YrVGsagAVIpmmqGiZlI4wIGniBspsMA1CtGFA7f2punGbnfQLE_NhcPU8u_3VAxc3wmJJ1hxhaf_wO_FViTMzHx43-Lk3dmT3H219W4AAUPoPFMwWiiPyzNBtRZVzIyhLb6bGGLZPojsdaf5COQNN4NqfXnwgU0dNFX44tdM-10gYftyOBzsXwiCXu0aoPCei0nRvCp_cRlCClGYC6n9rp-4aNZ8GcaelZqN5nIf0jUYqegcGDoXeruwiy8g0x8_tlX5gAayXencALfp6LjfRTrM9Yry4z_VfgQuws0Y1-zvNdERmcZcFi3xfIPAfWuSxgdn5LeTxsm3fJ9eSCWobTf8n8KLW9rEXiwkBMiIqy4k7gYF6AnLzb9jssIp_huq0gStGif0pQdC-zjk144oSFkqmh9WtQGMGwSXTMfSL0g0NWKk9MehbxzFhRVKA-UrsN961N6dJXvs91IDJk3kT2Pb4ba_rx9yRnTu1mbPEvKp0hB73vro_RC94REWLrlzgkG6i_N9ezftI2z7TciZqnyMlGvCbwLIA=w1340-h932-no\" alt=\"Redux Flow\" title=\"Redux Flow\"></p>\n<h2 id=\"安裝\"><a href=\"#安裝\" class=\"headerlink\" title=\"安裝\"></a>安裝</h2><p>打下列指令安裝 React App。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx create-react-app redux-tutorial</span><br></pre></td></tr></table></figure>\n\n<p>誒？為什麼是 npx 呢？那是什麼？<br>所以我去搜尋了<a href=\"https://www.ruanyifeng.com/blog/2019/02/npx.html\">npx 使用教程</a>如下。</p>\n<blockquote>\n<p>除了調用項目內部模塊，npx 還能避免全局安裝的模塊。比如，create-react-app 這個模塊是全局安裝，npx 可以運行它，而且不進行全局安裝。上面代碼運行時，npx 將create-react-app下載到一個臨時目錄，使用以後再刪除。所以，以後再次執行上面的命令，會重新下載create-react-app。</p>\n</blockquote>\n<p>意思就是他不會在你電腦安裝 create-react-app 這個項目呦～幫你產生好專案後，就會自動移除不佔空間。</p>\n<p>接下來進入專案，安裝 Redux。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd redux-tutorial</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add redux react-redux</span><br></pre></td></tr></table></figure>\n\n<p>將專案啟動檢查有沒有安裝成功。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn start</span><br></pre></td></tr></table></figure>\n\n<p>起成功的話會看到瀏覽器自動開啟頁面如下圖。頁面上會提示去修改 src&#x2F;App.js 就會自動 reload 畫面。</p>\n<p><img src=\"https://lh3.googleusercontent.com/0eGc8PAV_LPbfRoLNBV1BkkTQD37TUEjNij_RlVgxSEuYZNY4DKF8uGzrLBHVf2AE4TBM8x9rWyyKuJVMinEABsb-JvpT9bkwb0NNTSKNjYcBbNBmdnZ6W_kg54n3dGO5Nn4z3ODEQeiLYYKsdOj5jwyrsb1o8hgfX6PiirzQaKCa-Nn7uyHM22VNhwKD8ycZsBYICwXla6-z_C-y7a8ycYR1zN7oa0TaMHidHVS74tcBOumyuO5ZZISjlDhYjajvV5ERdTi6ypNQbBq79zXlwjRmjq9UyATG39FOn5Dk3byoatX_sEfevfBxTxDTEgukeEz2anjaoIIzDzEwJJS0MLXZxkAGhtSAwBkU9LCGRh9IPc4IgShJuqA2B8-9qqSBznAukDaKrdbkjotC6gbbv2wsm_ogOhB68qf9fWHap_Jh_32gF-znppLcU-kP9cyGAF1hEBSDdeOngarYU6uSaIuuVlqJFjakf3CgBFdZVspwHQbdYGOmSyxPN_NU_nrZg7dgjYJeI_FkPzR8lY4qETFKPYyfWTCArWuzry2GwQ36VIrcc4lmp5SlhLnyW2WNZmaf-MMkVpjYMmzkNbRymIFamQzA2GO49BmecALKJXy4z_tSkYqsa8pDyRECxa1RGspkoog9YUvthBasLtLTForiwJN0iez=w2560-h1446-no\" alt=\"專案啟動頁面\" title=\"專案啟動頁面\"></p>\n<h2 id=\"創建-Store\"><a href=\"#創建-Store\" class=\"headerlink\" title=\"創建 Store\"></a>創建 Store</h2><h3 id=\"createStore\"><a href=\"#createStore\" class=\"headerlink\" title=\"createStore\"></a>createStore</h3><p>教程在 index.js 先創建了簡易的 store。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V1\">Git#1</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reducer</span>(<span class=\"params\">state, action</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 當 action type 為 _changeState 時，將 state 更改為 action 帶過來的 payload 值</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (action.<span class=\"property\">type</span> === <span class=\"string\">&#x27;_changeState&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> action.<span class=\"property\">payload</span>.<span class=\"property\">newState</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 預設沒有動作時的值</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;state&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 創建 sotre</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(reducer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 印出初始的 state 值</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(store.<span class=\"title function_\">getState</span>());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 設定動作屬性所帶的 payload 值</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> action = &#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;_changeState&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">newState</span>: <span class=\"string\">&#x27;New State&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將動作帶入 reducer 中，進而更新 store 中的 state</span></span><br><span class=\"line\">store.<span class=\"title function_\">dispatch</span>(action);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 印出經過動作後的 state 值</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(store.<span class=\"title function_\">getState</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"combineReducers\"><a href=\"#combineReducers\" class=\"headerlink\" title=\"combineReducers\"></a>combineReducers</h3><p>當有兩個以上的 Reducers 時，在 index.js 做合併。 <a href=\"https://github.com/Annilla/react-redux-practice/tree/V2\">Git#2</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Reducer 分成專門處理產品和使用者資訊兩種</span></span><br><span class=\"line\"><span class=\"comment\">// 專門處理產品的 Reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">productsReducer</span>(<span class=\"params\">state = [], action</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 專門處理使用者的 Reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&#x27;updateUser&#x27;</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 將兩種 Reducer 合起來放在 store 用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> allReducers = <span class=\"title function_\">combineReducers</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">products</span>: productsReducer,</span><br><span class=\"line\">  <span class=\"attr\">user</span>: userReducer</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(</span><br><span class=\"line\">  allReducers,</span><br><span class=\"line\">  <span class=\"comment\">// 放入起始值</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">products</span>: [&#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;iPhone&#x27;</span> &#125;],</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;Anny Chang&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 開啟 devTool</span></span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">__REDUX_DEVTOOLS_EXTENSION__</span> &amp;&amp; <span class=\"variable language_\">window</span>.<span class=\"title function_\">__REDUX_DEVTOOLS_EXTENSION__</span>()</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 定義動作</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> updateUserAction = &#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;updateUser&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;John&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將動作帶入 reducer 中，進而更新 store 中的 state</span></span><br><span class=\"line\">store.<span class=\"title function_\">dispatch</span>(updateUserAction);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">ReactDOM</span>.<span class=\"title function_\">render</span>(<span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Provider</span> <span class=\"attr\">store</span>=<span class=\"string\">&#123;store&#125;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">App</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Provider</span>&gt;</span></span>, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Reducers-and-Actions\"><a href=\"#Reducers-and-Actions\" class=\"headerlink\" title=\"Reducers and Actions\"></a>Reducers and Actions</h2><p>將 Reducers 和 Actions 從 index.js 中抽離。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V3\">Git#3</a></p>\n<h3 id=\"Actions\"><a href=\"#Actions\" class=\"headerlink\" title=\"Actions\"></a>Actions</h3><p>在 <code>src/acitons/</code> 新增 <code>user-actions.js</code> 和 <code>products-actions.js</code>。</p>\n<p>user-actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 將 type 名稱輸出供 Reducer 共用</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">UPDATE_USER</span> = <span class=\"string\">&#x27;users:updateUser&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateUser</span> (newUser) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"variable constant_\">UPDATE_USER</span>,</span><br><span class=\"line\">    <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">user</span>: newUser</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reducers\"><a href=\"#Reducers\" class=\"headerlink\" title=\"Reducers\"></a>Reducers</h3><p>在 <code>src/reducers/</code> 新增 <code>user-reducer.js</code> 和 <code>products-reducer.js</code>。</p>\n<p>user-reducer.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 從 Action 那裡取得動作名稱</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">UPDATE_USER</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">UPDATE_USER</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"attr\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"View\"><a href=\"#View\" class=\"headerlink\" title=\"View\"></a>View</h3><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span>, &#123; <span class=\"title class_\">Component</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./logo.svg&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;./App.css&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-redux&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateUser &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">App</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Component</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">props</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Using super in classes</span></span><br><span class=\"line\">    <span class=\"comment\">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super#Using_super_in_classes</span></span><br><span class=\"line\">    <span class=\"comment\">// super() 將父類的構建項目傳到子項目</span></span><br><span class=\"line\">    <span class=\"variable language_\">super</span>(props);</span><br><span class=\"line\">    <span class=\"comment\">// 將 onUpdateUser(event) 綁定 component 本身 = this</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onUpdateUser</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">onUpdateUser</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">onUpdateUser</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// this = component 本身</span></span><br><span class=\"line\">    <span class=\"comment\">// 將輸入框的文字丟給 Redux Action</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">props</span>.<span class=\"title function_\">onUpdateUser</span>(event.<span class=\"property\">target</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">header</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-header&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#123;logo&#125;</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-logo&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            Edit <span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>src/App.js<span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span> and save to reload.</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Practice by Anny Chang<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">a</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-link&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://reactjs.org&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">rel</span>=<span class=\"string\">&quot;noopener noreferrer&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          &gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            Learn React</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.onUpdateUser&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            &#123;this.props.user&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Redux State 丟到此 component 的 prop</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">mapStateToProps</span> = state =&gt; (&#123;</span><br><span class=\"line\">  <span class=\"attr\">products</span>: state.<span class=\"property\">products</span>,</span><br><span class=\"line\">  <span class=\"attr\">user</span>: state.<span class=\"property\">user</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Redux Action 丟到此 component 的 prop</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mapActionsToProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">onUpdateUser</span>: updateUser</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">connect</span>(mapStateToProps, mapActionsToProps)(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Redux-thunk\"><a href=\"#Redux-thunk\" class=\"headerlink\" title=\"Redux-thunk\"></a>Redux-thunk</h2><p>當我們在接取 API 非同步的請求時，就需要 Redux-thunk 這個 middleware，幫助 Promise 回傳過後可以在 dispatch 其他的 Action。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V4\">Git#4</a></p>\n<p>安裝 redux-thunk。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add redux-thunk</span><br></pre></td></tr></table></figure>\n\n<p>在 index.js 引用 thunk。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> thunk <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux-thunk&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; applyMiddleware, compose, createStore, combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 applyMiddleware 將 thunk 帶進去改變原生 dispatch 行為</span></span><br><span class=\"line\"><span class=\"comment\">// Thunk 是一個以 action 為本的包裹器</span></span><br><span class=\"line\"><span class=\"comment\">// 在 Redux 中藉由 Redux-Thunk 這個 Redux Middleware 讓我們可以在使用時不去區分 pure action creator 還是 thunk action creator</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> allStoreEnhancers = compose (</span><br><span class=\"line\">  <span class=\"title function_\">applyMiddleware</span>(thunk),</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">__REDUX_DEVTOOLS_EXTENSION__</span> &amp;&amp; <span class=\"variable language_\">window</span>.<span class=\"title function_\">__REDUX_DEVTOOLS_EXTENSION__</span>()</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(</span><br><span class=\"line\">  allReducers,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">products</span>: [&#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;iPhone&#x27;</span> &#125;],</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;Anny Chang&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  allStoreEnhancers</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Actions-1\"><a href=\"#Actions-1\" class=\"headerlink\" title=\"Actions\"></a>Actions</h3><p>user-actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">&#x27;axios&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">SHOW_ERROR</span> = <span class=\"string\">&#x27;users:showError&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">showError</span> () &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"variable constant_\">SHOW_ERROR</span>,</span><br><span class=\"line\">    <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">user</span>: <span class=\"string\">&#x27;ERROR!!&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">apiRequest</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 axios 接取 API Promise</span></span><br><span class=\"line\">    <span class=\"comment\">// 這邊網址因為有 CORS，所以必定 ERROR</span></span><br><span class=\"line\">    <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: <span class=\"string\">&#x27;GET&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;http://google.com&#x27;</span></span><br><span class=\"line\">    &#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 成功的話會 dispatch updateUser Action</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;SUCCESS&#x27;</span>);</span><br><span class=\"line\">      <span class=\"title function_\">dispatch</span>(<span class=\"title function_\">updateUser</span>(response.<span class=\"property\">newUser</span>));</span><br><span class=\"line\">    &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 失敗的話會 dispatch showError Action</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;ERROR&#x27;</span>);</span><br><span class=\"line\">      <span class=\"title function_\">dispatch</span>(<span class=\"title function_\">showError</span>());</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reducers-1\"><a href=\"#Reducers-1\" class=\"headerlink\" title=\"Reducers\"></a>Reducers</h3><p>user-reducer.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">UPDATE_USER</span>, <span class=\"variable constant_\">SHOW_ERROR</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">UPDATE_USER</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">SHOW_ERROR</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"attr\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"View-1\"><a href=\"#View-1\" class=\"headerlink\" title=\"View\"></a>View</h3><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateUser, apiRequest &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">App</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Component</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">props</span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 在 component 出現的時候進行 API request</span></span><br><span class=\"line\">  componentDidMount () &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">props</span>.<span class=\"title function_\">onApiRequest</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 apiRequest 放到此 component 的 props</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mapActionsToProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">onUpdateUser</span>: updateUser,</span><br><span class=\"line\">  <span class=\"attr\">onApiRequest</span>: apiRequest</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">connect</span>(mapStateToProps, mapActionsToProps)(<span class=\"title class_\">App</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Reselect\"><a href=\"#Reselect\" class=\"headerlink\" title=\"Reselect\"></a>Reselect</h2><p>使用者每次都會透過 action 去做 dispatch 進而改變 state 的值。那麼，問題來了，如果需要的計算量比較大，每次更新的重新計算就會造成性能的問題。為了避免不必要的計算，Reselect 就是來解決此問題。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V5\">Git#5</a></p>\n<blockquote>\n<p>如果有用過 Vue 的話，就類似 computed 的功能。</p>\n</blockquote>\n<p>Selectors 的特點為：</p>\n<ul>\n<li><p>Selectors 可以用來計算延伸的資料，允許 Redux 去儲存最低限度的 state。也就是說，state 只儲存原始的基本資料，中間延伸的計算透過 Selector 呈現即可。</p>\n</li>\n<li><p>Selectors 很有效率。一個 selector 只會在與他相關的變數有改變的時候才會重新計算。</p>\n</li>\n<li><p>Selectors 可以多個組合。可被其他的 selectors 當作變數來運用。</p>\n</li>\n</ul>\n<p>這邊解釋就不用影片中的範例，因為我覺得官方提供的 example 解釋更為貼切。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createSelector &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;reselect&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 把 shop 裡面的 items 抓出來</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">shopItemsSelector</span> = state =&gt; state.<span class=\"property\">shop</span>.<span class=\"property\">items</span></span><br><span class=\"line\"><span class=\"comment\">// 把 shop 裡面的 taxPercent 抓出來</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">taxPercentSelector</span> = state =&gt; state.<span class=\"property\">shop</span>.<span class=\"property\">taxPercent</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 把 items 的 value 做總和</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> subtotalSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  shopItemsSelector,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"params\">items</span> =&gt;</span> items.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">acc, item</span>) =&gt;</span> acc + item.<span class=\"property\">value</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 用 subtotal 和 taxPercent 計算總稅額</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> taxSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  subtotalSelector,</span><br><span class=\"line\">  taxPercentSelector,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">subtotal, taxPercent</span>) =&gt;</span> subtotal * (taxPercent / <span class=\"number\">100</span>)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 用 subtotal 和 tax 計算加稅後的總金額</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> totalSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  subtotalSelector,</span><br><span class=\"line\">  taxSelector,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">subtotal, tax</span>) =&gt;</span> (&#123; <span class=\"attr\">total</span>: subtotal + tax &#125;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> exampleState = &#123;</span><br><span class=\"line\">  <span class=\"attr\">shop</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">taxPercent</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">    <span class=\"attr\">items</span>: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;apple&#x27;</span>, <span class=\"attr\">value</span>: <span class=\"number\">1.20</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;orange&#x27;</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.95</span> &#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">subtotalSelector</span>(exampleState)) <span class=\"comment\">// 2.15</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">taxSelector</span>(exampleState))      <span class=\"comment\">// 0.172</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">totalSelector</span>(exampleState))    <span class=\"comment\">// &#123; total: 2.322 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Smart-VS-Dumb-Component\"><a href=\"#Smart-VS-Dumb-Component\" class=\"headerlink\" title=\"Smart VS Dumb Component\"></a>Smart VS Dumb Component</h2><p>你不可能把每個子 component 都跟 Store 做聯繫，這樣很累且是過度使用。所以我們就會有一個專門和 Store 做聯繫的 Component，也就是 Smart Component。他接到資料後會往下傳給只吃 prop 的 Dumb Component。如此一來我們就能保持只有少數 Smart Component 控制 Store，而底下的 Dumb Component 因為只吃 prop 傳進來的值，所以也可安心的重複使用。</p>\n<blockquote>\n<p>Smart VS Dumb Component 的概念是通用的理論，並不是 React 獨有。所以同樣的概念也適用在 Vue 和 Angular 等框架上。</p>\n</blockquote>\n<p><img src=\"https://huzidaha.github.io/static/assets/img/posts/25608378-BE07-4050-88B1-72025085875A.png\" alt=\"Smart VS Dumb Component\" title=\"Smart VS Dumb Component\"></p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://medium.com/@WendellLiu/redux-middleware%E5%A4%A7%E7%95%A5%E6%9E%B6%E6%A7%8B-ace7e646c929\">Redux Middleware大略架構</a></li>\n<li><a href=\"https://medium.com/frochu/%E9%80%81%E8%AE%93%E4%BD%A0%E7%9A%84action%E8%83%BD%E4%BD%9C%E6%9B%B4%E5%A4%9A-redux-thunk-c07bc5488e48\">讓你的Action能作更多 — Redux-Thunk</a></li>\n<li><a href=\"https://www.jianshu.com/p/1fcef4c892ba\">react-redux性能优化之reselect</a></li>\n<li><a href=\"http://huziketang.mangojuice.top/books/react/lesson43\">Smart 组件 vs Dumb 组件</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png","excerpt":"<p>最近朋友問我關於 Redux 的問題，但我已經有兩年沒碰 React 了。所以藉此機會找了 youtube 上的<a href=\"https://youtu.be/OSSpVLpuVWA\">教程</a>，好好複習一次。</p>","more":"<h2 id=\"Redux\"><a href=\"#Redux\" class=\"headerlink\" title=\"Redux\"></a>Redux</h2><ul>\n<li>Redux 透過單向數據流模型來管理狀態，幫助應用程式擴展規模</li>\n</ul>\n<p><img src=\"https://lh3.googleusercontent.com/RCAqIMcoBNaVcnbKPXupA177bJvvluPn3GeaSEywgKbQ9tqDWh-cjeds7KbOJiCWStxVGOQLR23kbd0nRhY31T_f7BlJY3CfCXXhGGqYqTaQvZiZKwIpOkY2QBnDdNxY1rEkqvHJAuIrvfRYS5HU5PAiW-JK5baYknZXW-dn14aeptIf1OXblwufjzgNDRSP1gZqUzvG1yyKF88XxV8isg76MQ2yONKLHhrzDNu5Yx_OrcP1u95MtLR9F-mZf_ah65I-JmVYpbtfECihE7VNEn58n7vMp2CIym4JLvRTFspEzCAerEklTkI4aF7oWqcnO-2fK_IImagVK_JU5D2dqBvGA9ZB6XChXPMmbYDs-dinini_zUPgFvYFQK0ZvhW7-KIBsMIVFNNgFhhVZb3wc3mcwrwIvLlmWkqpGHevqclMLAuWlaj-1LeYndUMfE5MzcZ8CSzu7Vo3YO_MjEh8mxSzICgvz-gnIUs6ezMhTCxxSp8SXuta7SZbTcgqDDFzx1BovCKvVgxlvOOD0hNneBq3C0yPBhVAB5mcNInZhjfhWYshXmEJUPZDUiHFXRmMzeCLmoRzUU0DzE2oasezhmYktkb4aRq9XzSkE2d8b9DILg4wWP3skCXG6syozRvTQwnu6z9tZMi96CvFm6RmyKiRebM-Vro_=w922-h548-no\" alt=\"單向數據流模型\" title=\"單向數據流模型\"></p>\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd\">Redux Devtools</a> 幫助開發者進行狀態的監控與偵錯</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/7957859/48663602-3aac4900-ea9b-11e8-921f-97059cbb599c.png\" alt=\"Redux Devtools\" title=\"Redux Devtools\"></p>\n<h2 id=\"Redux-Flow\"><a href=\"#Redux-Flow\" class=\"headerlink\" title=\"Redux Flow\"></a>Redux Flow</h2><p>Redux Flow 有個儲存所有狀態 (State) 的倉庫 (Store)，頁面會依據這些狀態 (State) 產生對應的介面 (UI)。當使用者對介面 (UI) 觸發動作 (Actions) 時，動作 (Actions) 會把使用者所做的事情 (payload) 傳輸給處理器 (Reducer) 做運算， 處理器 (Reducer) 處理完後變會把倉庫 (Store) 裡的狀態 (State) 更新，所以頁面就會再依據狀態 (State) 的改變產生對應的新介面 (UI)。</p>\n<p><img src=\"https://lh3.googleusercontent.com/4fNoEoelX9xGuY9ujaqlV5bkoRzFWVJ12urnnBAs17FYumoFnC31TKe4hTzfpNBzG0Rde55vjURuPCCh7JiRYcl66xMZdgiijutv6ld2sRCwNBevGcfHj5sSUmCBmU3YrVGsagAVIpmmqGiZlI4wIGniBspsMA1CtGFA7f2punGbnfQLE_NhcPU8u_3VAxc3wmJJ1hxhaf_wO_FViTMzHx43-Lk3dmT3H219W4AAUPoPFMwWiiPyzNBtRZVzIyhLb6bGGLZPojsdaf5COQNN4NqfXnwgU0dNFX44tdM-10gYftyOBzsXwiCXu0aoPCei0nRvCp_cRlCClGYC6n9rp-4aNZ8GcaelZqN5nIf0jUYqegcGDoXeruwiy8g0x8_tlX5gAayXencALfp6LjfRTrM9Yry4z_VfgQuws0Y1-zvNdERmcZcFi3xfIPAfWuSxgdn5LeTxsm3fJ9eSCWobTf8n8KLW9rEXiwkBMiIqy4k7gYF6AnLzb9jssIp_huq0gStGif0pQdC-zjk144oSFkqmh9WtQGMGwSXTMfSL0g0NWKk9MehbxzFhRVKA-UrsN961N6dJXvs91IDJk3kT2Pb4ba_rx9yRnTu1mbPEvKp0hB73vro_RC94REWLrlzgkG6i_N9ezftI2z7TciZqnyMlGvCbwLIA=w1340-h932-no\" alt=\"Redux Flow\" title=\"Redux Flow\"></p>\n<h2 id=\"安裝\"><a href=\"#安裝\" class=\"headerlink\" title=\"安裝\"></a>安裝</h2><p>打下列指令安裝 React App。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npx create-react-app redux-tutorial</span><br></pre></td></tr></table></figure>\n\n<p>誒？為什麼是 npx 呢？那是什麼？<br>所以我去搜尋了<a href=\"https://www.ruanyifeng.com/blog/2019/02/npx.html\">npx 使用教程</a>如下。</p>\n<blockquote>\n<p>除了調用項目內部模塊，npx 還能避免全局安裝的模塊。比如，create-react-app 這個模塊是全局安裝，npx 可以運行它，而且不進行全局安裝。上面代碼運行時，npx 將create-react-app下載到一個臨時目錄，使用以後再刪除。所以，以後再次執行上面的命令，會重新下載create-react-app。</p>\n</blockquote>\n<p>意思就是他不會在你電腦安裝 create-react-app 這個項目呦～幫你產生好專案後，就會自動移除不佔空間。</p>\n<p>接下來進入專案，安裝 Redux。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd redux-tutorial</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add redux react-redux</span><br></pre></td></tr></table></figure>\n\n<p>將專案啟動檢查有沒有安裝成功。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn start</span><br></pre></td></tr></table></figure>\n\n<p>起成功的話會看到瀏覽器自動開啟頁面如下圖。頁面上會提示去修改 src&#x2F;App.js 就會自動 reload 畫面。</p>\n<p><img src=\"https://lh3.googleusercontent.com/0eGc8PAV_LPbfRoLNBV1BkkTQD37TUEjNij_RlVgxSEuYZNY4DKF8uGzrLBHVf2AE4TBM8x9rWyyKuJVMinEABsb-JvpT9bkwb0NNTSKNjYcBbNBmdnZ6W_kg54n3dGO5Nn4z3ODEQeiLYYKsdOj5jwyrsb1o8hgfX6PiirzQaKCa-Nn7uyHM22VNhwKD8ycZsBYICwXla6-z_C-y7a8ycYR1zN7oa0TaMHidHVS74tcBOumyuO5ZZISjlDhYjajvV5ERdTi6ypNQbBq79zXlwjRmjq9UyATG39FOn5Dk3byoatX_sEfevfBxTxDTEgukeEz2anjaoIIzDzEwJJS0MLXZxkAGhtSAwBkU9LCGRh9IPc4IgShJuqA2B8-9qqSBznAukDaKrdbkjotC6gbbv2wsm_ogOhB68qf9fWHap_Jh_32gF-znppLcU-kP9cyGAF1hEBSDdeOngarYU6uSaIuuVlqJFjakf3CgBFdZVspwHQbdYGOmSyxPN_NU_nrZg7dgjYJeI_FkPzR8lY4qETFKPYyfWTCArWuzry2GwQ36VIrcc4lmp5SlhLnyW2WNZmaf-MMkVpjYMmzkNbRymIFamQzA2GO49BmecALKJXy4z_tSkYqsa8pDyRECxa1RGspkoog9YUvthBasLtLTForiwJN0iez=w2560-h1446-no\" alt=\"專案啟動頁面\" title=\"專案啟動頁面\"></p>\n<h2 id=\"創建-Store\"><a href=\"#創建-Store\" class=\"headerlink\" title=\"創建 Store\"></a>創建 Store</h2><h3 id=\"createStore\"><a href=\"#createStore\" class=\"headerlink\" title=\"createStore\"></a>createStore</h3><p>教程在 index.js 先創建了簡易的 store。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V1\">Git#1</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">reducer</span>(<span class=\"params\">state, action</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 當 action type 為 _changeState 時，將 state 更改為 action 帶過來的 payload 值</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (action.<span class=\"property\">type</span> === <span class=\"string\">&#x27;_changeState&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> action.<span class=\"property\">payload</span>.<span class=\"property\">newState</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 預設沒有動作時的值</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;state&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 創建 sotre</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(reducer);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 印出初始的 state 值</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(store.<span class=\"title function_\">getState</span>());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 設定動作屬性所帶的 payload 值</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> action = &#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;_changeState&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">newState</span>: <span class=\"string\">&#x27;New State&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將動作帶入 reducer 中，進而更新 store 中的 state</span></span><br><span class=\"line\">store.<span class=\"title function_\">dispatch</span>(action);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 印出經過動作後的 state 值</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(store.<span class=\"title function_\">getState</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"combineReducers\"><a href=\"#combineReducers\" class=\"headerlink\" title=\"combineReducers\"></a>combineReducers</h3><p>當有兩個以上的 Reducers 時，在 index.js 做合併。 <a href=\"https://github.com/Annilla/react-redux-practice/tree/V2\">Git#2</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; createStore, combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Reducer 分成專門處理產品和使用者資訊兩種</span></span><br><span class=\"line\"><span class=\"comment\">// 專門處理產品的 Reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">productsReducer</span>(<span class=\"params\">state = [], action</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 專門處理使用者的 Reducer</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"string\">&#x27;updateUser&#x27;</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 將兩種 Reducer 合起來放在 store 用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> allReducers = <span class=\"title function_\">combineReducers</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">products</span>: productsReducer,</span><br><span class=\"line\">  <span class=\"attr\">user</span>: userReducer</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(</span><br><span class=\"line\">  allReducers,</span><br><span class=\"line\">  <span class=\"comment\">// 放入起始值</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">products</span>: [&#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;iPhone&#x27;</span> &#125;],</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;Anny Chang&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 開啟 devTool</span></span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">__REDUX_DEVTOOLS_EXTENSION__</span> &amp;&amp; <span class=\"variable language_\">window</span>.<span class=\"title function_\">__REDUX_DEVTOOLS_EXTENSION__</span>()</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 定義動作</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> updateUserAction = &#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;updateUser&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;John&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將動作帶入 reducer 中，進而更新 store 中的 state</span></span><br><span class=\"line\">store.<span class=\"title function_\">dispatch</span>(updateUserAction);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">ReactDOM</span>.<span class=\"title function_\">render</span>(<span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">Provider</span> <span class=\"attr\">store</span>=<span class=\"string\">&#123;store&#125;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">App</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Provider</span>&gt;</span></span>, <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;root&#x27;</span>));</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Reducers-and-Actions\"><a href=\"#Reducers-and-Actions\" class=\"headerlink\" title=\"Reducers and Actions\"></a>Reducers and Actions</h2><p>將 Reducers 和 Actions 從 index.js 中抽離。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V3\">Git#3</a></p>\n<h3 id=\"Actions\"><a href=\"#Actions\" class=\"headerlink\" title=\"Actions\"></a>Actions</h3><p>在 <code>src/acitons/</code> 新增 <code>user-actions.js</code> 和 <code>products-actions.js</code>。</p>\n<p>user-actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 將 type 名稱輸出供 Reducer 共用</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">UPDATE_USER</span> = <span class=\"string\">&#x27;users:updateUser&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">updateUser</span> (newUser) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"variable constant_\">UPDATE_USER</span>,</span><br><span class=\"line\">    <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">user</span>: newUser</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reducers\"><a href=\"#Reducers\" class=\"headerlink\" title=\"Reducers\"></a>Reducers</h3><p>在 <code>src/reducers/</code> 新增 <code>user-reducer.js</code> 和 <code>products-reducer.js</code>。</p>\n<p>user-reducer.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 從 Action 那裡取得動作名稱</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">UPDATE_USER</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">UPDATE_USER</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"attr\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"View\"><a href=\"#View\" class=\"headerlink\" title=\"View\"></a>View</h3><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">React</span>, &#123; <span class=\"title class_\">Component</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> logo <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./logo.svg&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;./App.css&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; connect &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react-redux&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateUser &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">App</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Component</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">props</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Using super in classes</span></span><br><span class=\"line\">    <span class=\"comment\">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super#Using_super_in_classes</span></span><br><span class=\"line\">    <span class=\"comment\">// super() 將父類的構建項目傳到子項目</span></span><br><span class=\"line\">    <span class=\"variable language_\">super</span>(props);</span><br><span class=\"line\">    <span class=\"comment\">// 將 onUpdateUser(event) 綁定 component 本身 = this</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">onUpdateUser</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">onUpdateUser</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">onUpdateUser</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// this = component 本身</span></span><br><span class=\"line\">    <span class=\"comment\">// 將輸入框的文字丟給 Redux Action</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">props</span>.<span class=\"title function_\">onUpdateUser</span>(event.<span class=\"property\">target</span>.<span class=\"property\">value</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;<span class=\"name\">header</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-header&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&#123;logo&#125;</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-logo&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            Edit <span class=\"tag\">&lt;<span class=\"name\">code</span>&gt;</span>src/App.js<span class=\"tag\">&lt;/<span class=\"name\">code</span>&gt;</span> and save to reload.</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Practice by Anny Chang<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">a</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">className</span>=<span class=\"string\">&quot;App-link&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://reactjs.org&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">            <span class=\"attr\">rel</span>=<span class=\"string\">&quot;noopener noreferrer&quot;</span></span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"language-xml\">          &gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            Learn React</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.onUpdateUser&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">            &#123;this.props.user&#125;</span></span><br><span class=\"line\"><span class=\"language-xml\">          <span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">        <span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Redux State 丟到此 component 的 prop</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">mapStateToProps</span> = state =&gt; (&#123;</span><br><span class=\"line\">  <span class=\"attr\">products</span>: state.<span class=\"property\">products</span>,</span><br><span class=\"line\">  <span class=\"attr\">user</span>: state.<span class=\"property\">user</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 Redux Action 丟到此 component 的 prop</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mapActionsToProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">onUpdateUser</span>: updateUser</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">connect</span>(mapStateToProps, mapActionsToProps)(<span class=\"title class_\">App</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Redux-thunk\"><a href=\"#Redux-thunk\" class=\"headerlink\" title=\"Redux-thunk\"></a>Redux-thunk</h2><p>當我們在接取 API 非同步的請求時，就需要 Redux-thunk 這個 middleware，幫助 Promise 回傳過後可以在 dispatch 其他的 Action。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V4\">Git#4</a></p>\n<p>安裝 redux-thunk。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add redux-thunk</span><br></pre></td></tr></table></figure>\n\n<p>在 index.js 引用 thunk。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> thunk <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux-thunk&#x27;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; applyMiddleware, compose, createStore, combineReducers &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;redux&#x27;</span>;</span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 applyMiddleware 將 thunk 帶進去改變原生 dispatch 行為</span></span><br><span class=\"line\"><span class=\"comment\">// Thunk 是一個以 action 為本的包裹器</span></span><br><span class=\"line\"><span class=\"comment\">// 在 Redux 中藉由 Redux-Thunk 這個 Redux Middleware 讓我們可以在使用時不去區分 pure action creator 還是 thunk action creator</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> allStoreEnhancers = compose (</span><br><span class=\"line\">  <span class=\"title function_\">applyMiddleware</span>(thunk),</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">__REDUX_DEVTOOLS_EXTENSION__</span> &amp;&amp; <span class=\"variable language_\">window</span>.<span class=\"title function_\">__REDUX_DEVTOOLS_EXTENSION__</span>()</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"title function_\">createStore</span>(</span><br><span class=\"line\">  allReducers,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">products</span>: [&#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;iPhone&#x27;</span> &#125;],</span><br><span class=\"line\">    <span class=\"attr\">user</span>: <span class=\"string\">&#x27;Anny Chang&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  allStoreEnhancers</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Actions-1\"><a href=\"#Actions-1\" class=\"headerlink\" title=\"Actions\"></a>Actions</h3><p>user-actions.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">&#x27;axios&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"variable constant_\">SHOW_ERROR</span> = <span class=\"string\">&#x27;users:showError&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">showError</span> () &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"variable constant_\">SHOW_ERROR</span>,</span><br><span class=\"line\">    <span class=\"attr\">payload</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">user</span>: <span class=\"string\">&#x27;ERROR!!&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">apiRequest</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"params\">dispatch</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 使用 axios 接取 API Promise</span></span><br><span class=\"line\">    <span class=\"comment\">// 這邊網址因為有 CORS，所以必定 ERROR</span></span><br><span class=\"line\">    <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: <span class=\"string\">&#x27;GET&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;http://google.com&#x27;</span></span><br><span class=\"line\">    &#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 成功的話會 dispatch updateUser Action</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;SUCCESS&#x27;</span>);</span><br><span class=\"line\">      <span class=\"title function_\">dispatch</span>(<span class=\"title function_\">updateUser</span>(response.<span class=\"property\">newUser</span>));</span><br><span class=\"line\">    &#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">response</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 失敗的話會 dispatch showError Action</span></span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;ERROR&#x27;</span>);</span><br><span class=\"line\">      <span class=\"title function_\">dispatch</span>(<span class=\"title function_\">showError</span>());</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Reducers-1\"><a href=\"#Reducers-1\" class=\"headerlink\" title=\"Reducers\"></a>Reducers</h3><p>user-reducer.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">UPDATE_USER</span>, <span class=\"variable constant_\">SHOW_ERROR</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">userReducer</span>(<span class=\"params\">state = <span class=\"string\">&#x27;&#x27;</span>, &#123;type, payload&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (type) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">UPDATE_USER</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"attr\">SHOW_ERROR</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> payload.<span class=\"property\">user</span>;</span><br><span class=\"line\">    <span class=\"attr\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> state;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"View-1\"><a href=\"#View-1\" class=\"headerlink\" title=\"View\"></a>View</h3><p>App.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; updateUser, apiRequest &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./actions/user-actions&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">App</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Component</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">props</span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 在 component 出現的時候進行 API request</span></span><br><span class=\"line\">  componentDidMount () &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">props</span>.<span class=\"title function_\">onApiRequest</span>();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">render</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 將 apiRequest 放到此 component 的 props</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> mapActionsToProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">onUpdateUser</span>: updateUser,</span><br><span class=\"line\">  <span class=\"attr\">onApiRequest</span>: apiRequest</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">connect</span>(mapStateToProps, mapActionsToProps)(<span class=\"title class_\">App</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Reselect\"><a href=\"#Reselect\" class=\"headerlink\" title=\"Reselect\"></a>Reselect</h2><p>使用者每次都會透過 action 去做 dispatch 進而改變 state 的值。那麼，問題來了，如果需要的計算量比較大，每次更新的重新計算就會造成性能的問題。為了避免不必要的計算，Reselect 就是來解決此問題。<a href=\"https://github.com/Annilla/react-redux-practice/tree/V5\">Git#5</a></p>\n<blockquote>\n<p>如果有用過 Vue 的話，就類似 computed 的功能。</p>\n</blockquote>\n<p>Selectors 的特點為：</p>\n<ul>\n<li><p>Selectors 可以用來計算延伸的資料，允許 Redux 去儲存最低限度的 state。也就是說，state 只儲存原始的基本資料，中間延伸的計算透過 Selector 呈現即可。</p>\n</li>\n<li><p>Selectors 很有效率。一個 selector 只會在與他相關的變數有改變的時候才會重新計算。</p>\n</li>\n<li><p>Selectors 可以多個組合。可被其他的 selectors 當作變數來運用。</p>\n</li>\n</ul>\n<p>這邊解釋就不用影片中的範例，因為我覺得官方提供的 example 解釋更為貼切。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createSelector &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;reselect&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 把 shop 裡面的 items 抓出來</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">shopItemsSelector</span> = state =&gt; state.<span class=\"property\">shop</span>.<span class=\"property\">items</span></span><br><span class=\"line\"><span class=\"comment\">// 把 shop 裡面的 taxPercent 抓出來</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">taxPercentSelector</span> = state =&gt; state.<span class=\"property\">shop</span>.<span class=\"property\">taxPercent</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 把 items 的 value 做總和</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> subtotalSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  shopItemsSelector,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"params\">items</span> =&gt;</span> items.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">acc, item</span>) =&gt;</span> acc + item.<span class=\"property\">value</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 用 subtotal 和 taxPercent 計算總稅額</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> taxSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  subtotalSelector,</span><br><span class=\"line\">  taxPercentSelector,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">subtotal, taxPercent</span>) =&gt;</span> subtotal * (taxPercent / <span class=\"number\">100</span>)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 用 subtotal 和 tax 計算加稅後的總金額</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> totalSelector = <span class=\"title function_\">createSelector</span>(</span><br><span class=\"line\">  subtotalSelector,</span><br><span class=\"line\">  taxSelector,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">subtotal, tax</span>) =&gt;</span> (&#123; <span class=\"attr\">total</span>: subtotal + tax &#125;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> exampleState = &#123;</span><br><span class=\"line\">  <span class=\"attr\">shop</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">taxPercent</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">    <span class=\"attr\">items</span>: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;apple&#x27;</span>, <span class=\"attr\">value</span>: <span class=\"number\">1.20</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;orange&#x27;</span>, <span class=\"attr\">value</span>: <span class=\"number\">0.95</span> &#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">subtotalSelector</span>(exampleState)) <span class=\"comment\">// 2.15</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">taxSelector</span>(exampleState))      <span class=\"comment\">// 0.172</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">totalSelector</span>(exampleState))    <span class=\"comment\">// &#123; total: 2.322 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Smart-VS-Dumb-Component\"><a href=\"#Smart-VS-Dumb-Component\" class=\"headerlink\" title=\"Smart VS Dumb Component\"></a>Smart VS Dumb Component</h2><p>你不可能把每個子 component 都跟 Store 做聯繫，這樣很累且是過度使用。所以我們就會有一個專門和 Store 做聯繫的 Component，也就是 Smart Component。他接到資料後會往下傳給只吃 prop 的 Dumb Component。如此一來我們就能保持只有少數 Smart Component 控制 Store，而底下的 Dumb Component 因為只吃 prop 傳進來的值，所以也可安心的重複使用。</p>\n<blockquote>\n<p>Smart VS Dumb Component 的概念是通用的理論，並不是 React 獨有。所以同樣的概念也適用在 Vue 和 Angular 等框架上。</p>\n</blockquote>\n<p><img src=\"https://huzidaha.github.io/static/assets/img/posts/25608378-BE07-4050-88B1-72025085875A.png\" alt=\"Smart VS Dumb Component\" title=\"Smart VS Dumb Component\"></p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://medium.com/@WendellLiu/redux-middleware%E5%A4%A7%E7%95%A5%E6%9E%B6%E6%A7%8B-ace7e646c929\">Redux Middleware大略架構</a></li>\n<li><a href=\"https://medium.com/frochu/%E9%80%81%E8%AE%93%E4%BD%A0%E7%9A%84action%E8%83%BD%E4%BD%9C%E6%9B%B4%E5%A4%9A-redux-thunk-c07bc5488e48\">讓你的Action能作更多 — Redux-Thunk</a></li>\n<li><a href=\"https://www.jianshu.com/p/1fcef4c892ba\">react-redux性能优化之reselect</a></li>\n<li><a href=\"http://huziketang.mangojuice.top/books/react/lesson43\">Smart 组件 vs Dumb 组件</a></li>\n</ul>"},{"title":"SVG JS Animation","thumbnailImage":"https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png","thumbnailImagePosition":"left","coverImage":"https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png","coverMeta":"out","date":"2022-02-13T16:00:00.000Z","updated":"2022-02-13T16:00:00.000Z","_content":"\nSVG 通常會搭配 CSS Animation 做動畫，效能很不錯。但問題來了，如果設計師給一張很複雜的 SVG Banner 圖，需要只動裡面其中幾個物件，那使用 JS 會比較方便，就不用每張切圖對 x,y 位置，且 JS 能撰寫比較多使用者互動。這次就來測試使用 [SVG.js](https://github.com/svgdotjs/svg.js) 做動畫。\n\n<!--more-->\n\n查看動畫結果點[這裡](https://annilla.github.io/svg-animate-js-test/svg-playground/dist/index.html)。\n\n# 步驟一：找一張大的 SVG Banner 圖片\n\n從 https://www.vecteezy.com/ 找一張可以測試的圖片。\n\n把下載的檔案用 Illustrator 開啟，將想要做動畫的群組取名，如此一來以拉輸出後的 svg 檔案會自動在 html tag 加上 id 的屬性。\n\n![用以拉將想要做動畫的群組取名](https://lh3.googleusercontent.com/pw/AM-JKLXnWoVOa7uTtIkkGUJfUAHbcmf3PUmTTE1yKqdaWG0-r6Pd9rAEr-DYqYOqsnFLbjgHIpNo0kvKTRKNYE9pGC5XAjj1oWOZLDiTKj5yLAjxUqjzFmGI1Oyuo-kiTCItxnC1sxCIU_Wpc6iPY-dse5ZhzA=w2206-h1378-no?authuser=0)\n\n# 步驟二：開始做動畫\n\n安裝套件。\n\n```\nnpm install @svgdotjs/svg.js\n```\n\n引入套件使用。\n\n```js\nimport { SVG } from \"@svgdotjs/svg.js\";\n```\n\n以氣球和氣球旁邊的愛心為例。會先用 SVG selector 把物件選取起來，在針對個別物件做 animate 的串連。若 animate 只有一次的話，可以用 loop 函數做重複即可，不需要另外寫 function。\n\n先用愛心一次 animate 來說明。\n\n```js\nconst BalloonLove = SVG(\"#svgjs #BalloonLove\"); // 選取物件\nBalloonLove.opacity(0.5); // 先讓愛心透明度 50%\nBalloonLove.animate(1000, 0, 'now').translate(-10, -30).opacity(1).loop(true, true); // animate 動畫(duration, delay, 什麼時候開始), translate 移動位置, opacity 透明度 100%, loop 重複\n```\n\n若 animate 分多段的話，以氣球為例需要寫一個函數重複執行。\n\n```js\nconst Balloon = SVG(\"#svgjs #Balloon\"); // 選取物件\n// Balloon\nfunction BalloonLoop() {\n  Balloon.animate(1000)\n    .ease(\"<>\")\n    .translate(-30, 10)\n    .animate(1000)\n    .ease(\"<>\")\n    .translate(70, 10)\n    .animate(1000)\n    .ease(\"<>\")\n    .translate(-40, -20)\n    .after(BalloonLoop); // 在動畫之後重新執行函數\n}\nBalloonLoop(); // 觸發函數執行\n```\n\n# 步驟三：和使用者做互動\n\n這邊做了一個小互動是當 Happy Valentine's Day 動畫結束後，會感應使用者的滑鼠位置，做文字群組的相對位置移動。\n\n先在 html 設定 mousemove 監聽事件，這裡搭配 vue cli 做測試。\n\n```html\n<template>\n  <svg ... @mousemove=\"moveTxt\">...</svg>\n</template>\n```\n\n接著在 js 設定變數，讓 svg 動畫結束後，才偵測使用者滑鼠，做文字群組的位移。\n\n```js\nimport { SVG } from \"@svgdotjs/svg.js\";\n\nexport default {\n  data() {\n    return {\n      initTxtX: null, // 紀錄 svg 內文字群組的 x 位置\n      initTxtY: null, // 紀錄 svg 內文字群組的 y 位置\n      canMoveTxt: false, // 設立是否可以移動文字的 flag，要等動畫結束才能變 true\n    };\n  },\n  mounted() {\n    this.startSVGjs(); // 觸發動畫\n  },\n  methods: {\n    startSVGjs() {\n      ...\n      TxtLove.animate(1000, 5000).transform({translateY: 0}).opacity(1).after(this.setTxtMove); // 在最後一個動畫結束後，開啟互動 flag\n    },\n    setTxtMove() {\n      // Can move txt\n      const TxtGroup = SVG(\"#svgjs #TxtGroup\");\n      this.initTxtX = TxtGroup.x(); // 儲存文字群組初始 x 座標（單位從 svg 畫布，非視窗大小）\n      this.initTxtY = TxtGroup.y(); // 儲存文字群組初始 y 座標（單位從 svg 畫布，非視窗大小）\n      this.canMoveTxt = true; // 開啟 user 互動 flag\n    },\n    moveTxt(e) {\n      if(!this.canMoveTxt) return; // 若 flag 沒開則不執行下面程式\n      const range = 100; // 文字群組移動的最大範圍界線\n      const eventX = e.clientX; // 滑鼠的 x 座標（單位為視窗大小）\n      const eventY = e.clientY; // 滑鼠的 y 座標（單位為視窗大小）\n      const TxtGroup = SVG(\"#svgjs #TxtGroup\");\n      const ratio = window.innerWidth / 2500; // svg 被視窗縮放的比例\n      const gapX = eventX - this.initTxtX * ratio; // 滑鼠和文字群組 x 的距離\n      const gapY = eventY - this.initTxtY * ratio; // 滑鼠和文字群組 y 的距離\n      let moveX, moveY; // 文字群組最後要移動的位置\n      if(gapX < 0) { // 計算 x 位移，若超過 range 範圍，則最多只移動 range 所設定的距離\n        moveX = Math.abs(gapX) > range ? range * (-1) : gapX;\n      } else {\n        moveX = Math.abs(gapX) > range ? range : gapX;\n      }\n      if(gapY < 0) { // 計算 y 位移，若超過 range 範圍，則最多只移動 range 所設定的距離｀\n        moveY = Math.abs(gapY) > range ? range * (-1) : gapY;\n      } else {\n        moveY = Math.abs(gapY) > range ? range : gapY;\n      }\n      TxtGroup.transform({translateX: moveX, translateY: moveY}); // 做文字群組的位移\n    },\n  },\n};\n```\n\n如此一來就能操作複雜的大張 svg 圖和使用者互動囉～所有原始碼在[Github](https://github.com/Annilla/svg-animate-js-test)，下次見～","source":"_posts/JS/SVG-JS-Animation.md","raw":"---\ntitle: SVG JS Animation\ncategories:\n  - JS\nthumbnailImage: https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png\nthumbnailImagePosition: left\ncoverImage: https://cdn-images-1.medium.com/max/1200/1*H-25KB7EbSHjv70HXrdl6w.png\ncoverMeta: out\ntags: [JS, SVG]\ndate: 2022/02/14\nupdated: 2022/02/14\n---\n\nSVG 通常會搭配 CSS Animation 做動畫，效能很不錯。但問題來了，如果設計師給一張很複雜的 SVG Banner 圖，需要只動裡面其中幾個物件，那使用 JS 會比較方便，就不用每張切圖對 x,y 位置，且 JS 能撰寫比較多使用者互動。這次就來測試使用 [SVG.js](https://github.com/svgdotjs/svg.js) 做動畫。\n\n<!--more-->\n\n查看動畫結果點[這裡](https://annilla.github.io/svg-animate-js-test/svg-playground/dist/index.html)。\n\n# 步驟一：找一張大的 SVG Banner 圖片\n\n從 https://www.vecteezy.com/ 找一張可以測試的圖片。\n\n把下載的檔案用 Illustrator 開啟，將想要做動畫的群組取名，如此一來以拉輸出後的 svg 檔案會自動在 html tag 加上 id 的屬性。\n\n![用以拉將想要做動畫的群組取名](https://lh3.googleusercontent.com/pw/AM-JKLXnWoVOa7uTtIkkGUJfUAHbcmf3PUmTTE1yKqdaWG0-r6Pd9rAEr-DYqYOqsnFLbjgHIpNo0kvKTRKNYE9pGC5XAjj1oWOZLDiTKj5yLAjxUqjzFmGI1Oyuo-kiTCItxnC1sxCIU_Wpc6iPY-dse5ZhzA=w2206-h1378-no?authuser=0)\n\n# 步驟二：開始做動畫\n\n安裝套件。\n\n```\nnpm install @svgdotjs/svg.js\n```\n\n引入套件使用。\n\n```js\nimport { SVG } from \"@svgdotjs/svg.js\";\n```\n\n以氣球和氣球旁邊的愛心為例。會先用 SVG selector 把物件選取起來，在針對個別物件做 animate 的串連。若 animate 只有一次的話，可以用 loop 函數做重複即可，不需要另外寫 function。\n\n先用愛心一次 animate 來說明。\n\n```js\nconst BalloonLove = SVG(\"#svgjs #BalloonLove\"); // 選取物件\nBalloonLove.opacity(0.5); // 先讓愛心透明度 50%\nBalloonLove.animate(1000, 0, 'now').translate(-10, -30).opacity(1).loop(true, true); // animate 動畫(duration, delay, 什麼時候開始), translate 移動位置, opacity 透明度 100%, loop 重複\n```\n\n若 animate 分多段的話，以氣球為例需要寫一個函數重複執行。\n\n```js\nconst Balloon = SVG(\"#svgjs #Balloon\"); // 選取物件\n// Balloon\nfunction BalloonLoop() {\n  Balloon.animate(1000)\n    .ease(\"<>\")\n    .translate(-30, 10)\n    .animate(1000)\n    .ease(\"<>\")\n    .translate(70, 10)\n    .animate(1000)\n    .ease(\"<>\")\n    .translate(-40, -20)\n    .after(BalloonLoop); // 在動畫之後重新執行函數\n}\nBalloonLoop(); // 觸發函數執行\n```\n\n# 步驟三：和使用者做互動\n\n這邊做了一個小互動是當 Happy Valentine's Day 動畫結束後，會感應使用者的滑鼠位置，做文字群組的相對位置移動。\n\n先在 html 設定 mousemove 監聽事件，這裡搭配 vue cli 做測試。\n\n```html\n<template>\n  <svg ... @mousemove=\"moveTxt\">...</svg>\n</template>\n```\n\n接著在 js 設定變數，讓 svg 動畫結束後，才偵測使用者滑鼠，做文字群組的位移。\n\n```js\nimport { SVG } from \"@svgdotjs/svg.js\";\n\nexport default {\n  data() {\n    return {\n      initTxtX: null, // 紀錄 svg 內文字群組的 x 位置\n      initTxtY: null, // 紀錄 svg 內文字群組的 y 位置\n      canMoveTxt: false, // 設立是否可以移動文字的 flag，要等動畫結束才能變 true\n    };\n  },\n  mounted() {\n    this.startSVGjs(); // 觸發動畫\n  },\n  methods: {\n    startSVGjs() {\n      ...\n      TxtLove.animate(1000, 5000).transform({translateY: 0}).opacity(1).after(this.setTxtMove); // 在最後一個動畫結束後，開啟互動 flag\n    },\n    setTxtMove() {\n      // Can move txt\n      const TxtGroup = SVG(\"#svgjs #TxtGroup\");\n      this.initTxtX = TxtGroup.x(); // 儲存文字群組初始 x 座標（單位從 svg 畫布，非視窗大小）\n      this.initTxtY = TxtGroup.y(); // 儲存文字群組初始 y 座標（單位從 svg 畫布，非視窗大小）\n      this.canMoveTxt = true; // 開啟 user 互動 flag\n    },\n    moveTxt(e) {\n      if(!this.canMoveTxt) return; // 若 flag 沒開則不執行下面程式\n      const range = 100; // 文字群組移動的最大範圍界線\n      const eventX = e.clientX; // 滑鼠的 x 座標（單位為視窗大小）\n      const eventY = e.clientY; // 滑鼠的 y 座標（單位為視窗大小）\n      const TxtGroup = SVG(\"#svgjs #TxtGroup\");\n      const ratio = window.innerWidth / 2500; // svg 被視窗縮放的比例\n      const gapX = eventX - this.initTxtX * ratio; // 滑鼠和文字群組 x 的距離\n      const gapY = eventY - this.initTxtY * ratio; // 滑鼠和文字群組 y 的距離\n      let moveX, moveY; // 文字群組最後要移動的位置\n      if(gapX < 0) { // 計算 x 位移，若超過 range 範圍，則最多只移動 range 所設定的距離\n        moveX = Math.abs(gapX) > range ? range * (-1) : gapX;\n      } else {\n        moveX = Math.abs(gapX) > range ? range : gapX;\n      }\n      if(gapY < 0) { // 計算 y 位移，若超過 range 範圍，則最多只移動 range 所設定的距離｀\n        moveY = Math.abs(gapY) > range ? range * (-1) : gapY;\n      } else {\n        moveY = Math.abs(gapY) > range ? range : gapY;\n      }\n      TxtGroup.transform({translateX: moveX, translateY: moveY}); // 做文字群組的位移\n    },\n  },\n};\n```\n\n如此一來就能操作複雜的大張 svg 圖和使用者互動囉～所有原始碼在[Github](https://github.com/Annilla/svg-animate-js-test)，下次見～","slug":"JS/SVG-JS-Animation","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9q80016r3y7hsp3hgx5","content":"<p>SVG 通常會搭配 CSS Animation 做動畫，效能很不錯。但問題來了，如果設計師給一張很複雜的 SVG Banner 圖，需要只動裡面其中幾個物件，那使用 JS 會比較方便，就不用每張切圖對 x,y 位置，且 JS 能撰寫比較多使用者互動。這次就來測試使用 <a href=\"https://github.com/svgdotjs/svg.js\">SVG.js</a> 做動畫。</p>\n<span id=\"more\"></span>\n\n<p>查看動畫結果點<a href=\"https://annilla.github.io/svg-animate-js-test/svg-playground/dist/index.html\">這裡</a>。</p>\n<h1 id=\"步驟一：找一張大的-SVG-Banner-圖片\"><a href=\"#步驟一：找一張大的-SVG-Banner-圖片\" class=\"headerlink\" title=\"步驟一：找一張大的 SVG Banner 圖片\"></a>步驟一：找一張大的 SVG Banner 圖片</h1><p>從 <a href=\"https://www.vecteezy.com/\">https://www.vecteezy.com/</a> 找一張可以測試的圖片。</p>\n<p>把下載的檔案用 Illustrator 開啟，將想要做動畫的群組取名，如此一來以拉輸出後的 svg 檔案會自動在 html tag 加上 id 的屬性。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXnWoVOa7uTtIkkGUJfUAHbcmf3PUmTTE1yKqdaWG0-r6Pd9rAEr-DYqYOqsnFLbjgHIpNo0kvKTRKNYE9pGC5XAjj1oWOZLDiTKj5yLAjxUqjzFmGI1Oyuo-kiTCItxnC1sxCIU_Wpc6iPY-dse5ZhzA=w2206-h1378-no?authuser=0\" alt=\"用以拉將想要做動畫的群組取名\"></p>\n<h1 id=\"步驟二：開始做動畫\"><a href=\"#步驟二：開始做動畫\" class=\"headerlink\" title=\"步驟二：開始做動畫\"></a>步驟二：開始做動畫</h1><p>安裝套件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @svgdotjs/svg.js</span><br></pre></td></tr></table></figure>\n\n<p>引入套件使用。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">SVG</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@svgdotjs/svg.js&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<p>以氣球和氣球旁邊的愛心為例。會先用 SVG selector 把物件選取起來，在針對個別物件做 animate 的串連。若 animate 只有一次的話，可以用 loop 函數做重複即可，不需要另外寫 function。</p>\n<p>先用愛心一次 animate 來說明。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BalloonLove</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #BalloonLove&quot;</span>); <span class=\"comment\">// 選取物件</span></span><br><span class=\"line\"><span class=\"title class_\">BalloonLove</span>.<span class=\"title function_\">opacity</span>(<span class=\"number\">0.5</span>); <span class=\"comment\">// 先讓愛心透明度 50%</span></span><br><span class=\"line\"><span class=\"title class_\">BalloonLove</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;now&#x27;</span>).<span class=\"title function_\">translate</span>(-<span class=\"number\">10</span>, -<span class=\"number\">30</span>).<span class=\"title function_\">opacity</span>(<span class=\"number\">1</span>).<span class=\"title function_\">loop</span>(<span class=\"literal\">true</span>, <span class=\"literal\">true</span>); <span class=\"comment\">// animate 動畫(duration, delay, 什麼時候開始), translate 移動位置, opacity 透明度 100%, loop 重複</span></span><br></pre></td></tr></table></figure>\n\n<p>若 animate 分多段的話，以氣球為例需要寫一個函數重複執行。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Balloon</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #Balloon&quot;</span>); <span class=\"comment\">// 選取物件</span></span><br><span class=\"line\"><span class=\"comment\">// Balloon</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">BalloonLoop</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Balloon</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(-<span class=\"number\">30</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(<span class=\"number\">70</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(-<span class=\"number\">40</span>, -<span class=\"number\">20</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">after</span>(<span class=\"title class_\">BalloonLoop</span>); <span class=\"comment\">// 在動畫之後重新執行函數</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">BalloonLoop</span>(); <span class=\"comment\">// 觸發函數執行</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"步驟三：和使用者做互動\"><a href=\"#步驟三：和使用者做互動\" class=\"headerlink\" title=\"步驟三：和使用者做互動\"></a>步驟三：和使用者做互動</h1><p>這邊做了一個小互動是當 Happy Valentine’s Day 動畫結束後，會感應使用者的滑鼠位置，做文字群組的相對位置移動。</p>\n<p>先在 html 設定 mousemove 監聽事件，這裡搭配 vue cli 做測試。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">...</span> @<span class=\"attr\">mousemove</span>=<span class=\"string\">&quot;moveTxt&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接著在 js 設定變數，讓 svg 動畫結束後，才偵測使用者滑鼠，做文字群組的位移。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">SVG</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@svgdotjs/svg.js&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">initTxtX</span>: <span class=\"literal\">null</span>, <span class=\"comment\">// 紀錄 svg 內文字群組的 x 位置</span></span><br><span class=\"line\">      <span class=\"attr\">initTxtY</span>: <span class=\"literal\">null</span>, <span class=\"comment\">// 紀錄 svg 內文字群組的 y 位置</span></span><br><span class=\"line\">      <span class=\"attr\">canMoveTxt</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 設立是否可以移動文字的 flag，要等動畫結束才能變 true</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">startSVGjs</span>(); <span class=\"comment\">// 觸發動畫</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">startSVGjs</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"title class_\">TxtLove</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>, <span class=\"number\">5000</span>).<span class=\"title function_\">transform</span>(&#123;<span class=\"attr\">translateY</span>: <span class=\"number\">0</span>&#125;).<span class=\"title function_\">opacity</span>(<span class=\"number\">1</span>).<span class=\"title function_\">after</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">setTxtMove</span>); <span class=\"comment\">// 在最後一個動畫結束後，開啟互動 flag</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">setTxtMove</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Can move txt</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"title class_\">TxtGroup</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #TxtGroup&quot;</span>);</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtX</span> = <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">x</span>(); <span class=\"comment\">// 儲存文字群組初始 x 座標（單位從 svg 畫布，非視窗大小）</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtY</span> = <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">y</span>(); <span class=\"comment\">// 儲存文字群組初始 y 座標（單位從 svg 畫布，非視窗大小）</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">canMoveTxt</span> = <span class=\"literal\">true</span>; <span class=\"comment\">// 開啟 user 互動 flag</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">moveTxt</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(!<span class=\"variable language_\">this</span>.<span class=\"property\">canMoveTxt</span>) <span class=\"keyword\">return</span>; <span class=\"comment\">// 若 flag 沒開則不執行下面程式</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> range = <span class=\"number\">100</span>; <span class=\"comment\">// 文字群組移動的最大範圍界線</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> eventX = e.<span class=\"property\">clientX</span>; <span class=\"comment\">// 滑鼠的 x 座標（單位為視窗大小）</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> eventY = e.<span class=\"property\">clientY</span>; <span class=\"comment\">// 滑鼠的 y 座標（單位為視窗大小）</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"title class_\">TxtGroup</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #TxtGroup&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> ratio = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> / <span class=\"number\">2500</span>; <span class=\"comment\">// svg 被視窗縮放的比例</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> gapX = eventX - <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtX</span> * ratio; <span class=\"comment\">// 滑鼠和文字群組 x 的距離</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> gapY = eventY - <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtY</span> * ratio; <span class=\"comment\">// 滑鼠和文字群組 y 的距離</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> moveX, moveY; <span class=\"comment\">// 文字群組最後要移動的位置</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(gapX &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 計算 x 位移，若超過 range 範圍，則最多只移動 range 所設定的距離</span></span><br><span class=\"line\">        moveX = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapX) &gt; range ? range * (-<span class=\"number\">1</span>) : gapX;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        moveX = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapX) &gt; range ? range : gapX;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(gapY &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 計算 y 位移，若超過 range 範圍，則最多只移動 range 所設定的距離｀</span></span><br><span class=\"line\">        moveY = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapY) &gt; range ? range * (-<span class=\"number\">1</span>) : gapY;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        moveY = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapY) &gt; range ? range : gapY;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">transform</span>(&#123;<span class=\"attr\">translateX</span>: moveX, <span class=\"attr\">translateY</span>: moveY&#125;); <span class=\"comment\">// 做文字群組的位移</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來就能操作複雜的大張 svg 圖和使用者互動囉～所有原始碼在<a href=\"https://github.com/Annilla/svg-animate-js-test\">Github</a>，下次見～</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://cdn-images-1.medium.com/max/1600/1*HP8l7LMMt7Sh5UoO1T-yLQ.png","excerpt":"<p>SVG 通常會搭配 CSS Animation 做動畫，效能很不錯。但問題來了，如果設計師給一張很複雜的 SVG Banner 圖，需要只動裡面其中幾個物件，那使用 JS 會比較方便，就不用每張切圖對 x,y 位置，且 JS 能撰寫比較多使用者互動。這次就來測試使用 <a href=\"https://github.com/svgdotjs/svg.js\">SVG.js</a> 做動畫。</p>","more":"<p>查看動畫結果點<a href=\"https://annilla.github.io/svg-animate-js-test/svg-playground/dist/index.html\">這裡</a>。</p>\n<h1 id=\"步驟一：找一張大的-SVG-Banner-圖片\"><a href=\"#步驟一：找一張大的-SVG-Banner-圖片\" class=\"headerlink\" title=\"步驟一：找一張大的 SVG Banner 圖片\"></a>步驟一：找一張大的 SVG Banner 圖片</h1><p>從 <a href=\"https://www.vecteezy.com/\">https://www.vecteezy.com/</a> 找一張可以測試的圖片。</p>\n<p>把下載的檔案用 Illustrator 開啟，將想要做動畫的群組取名，如此一來以拉輸出後的 svg 檔案會自動在 html tag 加上 id 的屬性。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXnWoVOa7uTtIkkGUJfUAHbcmf3PUmTTE1yKqdaWG0-r6Pd9rAEr-DYqYOqsnFLbjgHIpNo0kvKTRKNYE9pGC5XAjj1oWOZLDiTKj5yLAjxUqjzFmGI1Oyuo-kiTCItxnC1sxCIU_Wpc6iPY-dse5ZhzA=w2206-h1378-no?authuser=0\" alt=\"用以拉將想要做動畫的群組取名\"></p>\n<h1 id=\"步驟二：開始做動畫\"><a href=\"#步驟二：開始做動畫\" class=\"headerlink\" title=\"步驟二：開始做動畫\"></a>步驟二：開始做動畫</h1><p>安裝套件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @svgdotjs/svg.js</span><br></pre></td></tr></table></figure>\n\n<p>引入套件使用。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">SVG</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@svgdotjs/svg.js&quot;</span>;</span><br></pre></td></tr></table></figure>\n\n<p>以氣球和氣球旁邊的愛心為例。會先用 SVG selector 把物件選取起來，在針對個別物件做 animate 的串連。若 animate 只有一次的話，可以用 loop 函數做重複即可，不需要另外寫 function。</p>\n<p>先用愛心一次 animate 來說明。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">BalloonLove</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #BalloonLove&quot;</span>); <span class=\"comment\">// 選取物件</span></span><br><span class=\"line\"><span class=\"title class_\">BalloonLove</span>.<span class=\"title function_\">opacity</span>(<span class=\"number\">0.5</span>); <span class=\"comment\">// 先讓愛心透明度 50%</span></span><br><span class=\"line\"><span class=\"title class_\">BalloonLove</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;now&#x27;</span>).<span class=\"title function_\">translate</span>(-<span class=\"number\">10</span>, -<span class=\"number\">30</span>).<span class=\"title function_\">opacity</span>(<span class=\"number\">1</span>).<span class=\"title function_\">loop</span>(<span class=\"literal\">true</span>, <span class=\"literal\">true</span>); <span class=\"comment\">// animate 動畫(duration, delay, 什麼時候開始), translate 移動位置, opacity 透明度 100%, loop 重複</span></span><br></pre></td></tr></table></figure>\n\n<p>若 animate 分多段的話，以氣球為例需要寫一個函數重複執行。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Balloon</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #Balloon&quot;</span>); <span class=\"comment\">// 選取物件</span></span><br><span class=\"line\"><span class=\"comment\">// Balloon</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">BalloonLoop</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Balloon</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(-<span class=\"number\">30</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(<span class=\"number\">70</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">ease</span>(<span class=\"string\">&quot;&lt;&gt;&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">translate</span>(-<span class=\"number\">40</span>, -<span class=\"number\">20</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">after</span>(<span class=\"title class_\">BalloonLoop</span>); <span class=\"comment\">// 在動畫之後重新執行函數</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">BalloonLoop</span>(); <span class=\"comment\">// 觸發函數執行</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"步驟三：和使用者做互動\"><a href=\"#步驟三：和使用者做互動\" class=\"headerlink\" title=\"步驟三：和使用者做互動\"></a>步驟三：和使用者做互動</h1><p>這邊做了一個小互動是當 Happy Valentine’s Day 動畫結束後，會感應使用者的滑鼠位置，做文字群組的相對位置移動。</p>\n<p>先在 html 設定 mousemove 監聽事件，這裡搭配 vue cli 做測試。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">...</span> @<span class=\"attr\">mousemove</span>=<span class=\"string\">&quot;moveTxt&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>接著在 js 設定變數，讓 svg 動畫結束後，才偵測使用者滑鼠，做文字群組的位移。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"variable constant_\">SVG</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@svgdotjs/svg.js&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">initTxtX</span>: <span class=\"literal\">null</span>, <span class=\"comment\">// 紀錄 svg 內文字群組的 x 位置</span></span><br><span class=\"line\">      <span class=\"attr\">initTxtY</span>: <span class=\"literal\">null</span>, <span class=\"comment\">// 紀錄 svg 內文字群組的 y 位置</span></span><br><span class=\"line\">      <span class=\"attr\">canMoveTxt</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// 設立是否可以移動文字的 flag，要等動畫結束才能變 true</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">startSVGjs</span>(); <span class=\"comment\">// 觸發動畫</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">startSVGjs</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      <span class=\"title class_\">TxtLove</span>.<span class=\"title function_\">animate</span>(<span class=\"number\">1000</span>, <span class=\"number\">5000</span>).<span class=\"title function_\">transform</span>(&#123;<span class=\"attr\">translateY</span>: <span class=\"number\">0</span>&#125;).<span class=\"title function_\">opacity</span>(<span class=\"number\">1</span>).<span class=\"title function_\">after</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">setTxtMove</span>); <span class=\"comment\">// 在最後一個動畫結束後，開啟互動 flag</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">setTxtMove</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Can move txt</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"title class_\">TxtGroup</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #TxtGroup&quot;</span>);</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtX</span> = <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">x</span>(); <span class=\"comment\">// 儲存文字群組初始 x 座標（單位從 svg 畫布，非視窗大小）</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtY</span> = <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">y</span>(); <span class=\"comment\">// 儲存文字群組初始 y 座標（單位從 svg 畫布，非視窗大小）</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"property\">canMoveTxt</span> = <span class=\"literal\">true</span>; <span class=\"comment\">// 開啟 user 互動 flag</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">moveTxt</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(!<span class=\"variable language_\">this</span>.<span class=\"property\">canMoveTxt</span>) <span class=\"keyword\">return</span>; <span class=\"comment\">// 若 flag 沒開則不執行下面程式</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> range = <span class=\"number\">100</span>; <span class=\"comment\">// 文字群組移動的最大範圍界線</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> eventX = e.<span class=\"property\">clientX</span>; <span class=\"comment\">// 滑鼠的 x 座標（單位為視窗大小）</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> eventY = e.<span class=\"property\">clientY</span>; <span class=\"comment\">// 滑鼠的 y 座標（單位為視窗大小）</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"title class_\">TxtGroup</span> = <span class=\"title function_\">SVG</span>(<span class=\"string\">&quot;#svgjs #TxtGroup&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> ratio = <span class=\"variable language_\">window</span>.<span class=\"property\">innerWidth</span> / <span class=\"number\">2500</span>; <span class=\"comment\">// svg 被視窗縮放的比例</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> gapX = eventX - <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtX</span> * ratio; <span class=\"comment\">// 滑鼠和文字群組 x 的距離</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> gapY = eventY - <span class=\"variable language_\">this</span>.<span class=\"property\">initTxtY</span> * ratio; <span class=\"comment\">// 滑鼠和文字群組 y 的距離</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> moveX, moveY; <span class=\"comment\">// 文字群組最後要移動的位置</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span>(gapX &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 計算 x 位移，若超過 range 範圍，則最多只移動 range 所設定的距離</span></span><br><span class=\"line\">        moveX = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapX) &gt; range ? range * (-<span class=\"number\">1</span>) : gapX;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        moveX = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapX) &gt; range ? range : gapX;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(gapY &lt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// 計算 y 位移，若超過 range 範圍，則最多只移動 range 所設定的距離｀</span></span><br><span class=\"line\">        moveY = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapY) &gt; range ? range * (-<span class=\"number\">1</span>) : gapY;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        moveY = <span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(gapY) &gt; range ? range : gapY;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"title class_\">TxtGroup</span>.<span class=\"title function_\">transform</span>(&#123;<span class=\"attr\">translateX</span>: moveX, <span class=\"attr\">translateY</span>: moveY&#125;); <span class=\"comment\">// 做文字群組的位移</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來就能操作複雜的大張 svg 圖和使用者互動囉～所有原始碼在<a href=\"https://github.com/Annilla/svg-animate-js-test\">Github</a>，下次見～</p>"},{"title":".NET Core 2.0 Debug with VScode","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2017-12-24T16:00:00.000Z","updated":"2017-12-24T16:00:00.000Z","_content":"\n這次要教大家如何使用 `VScode` debug `.Net Core` 的專案喔～\n<!--more-->\n\n## 安裝套件 `C#`\n\n前往擴充套件頁籤安裝 `C#` plugin。\n\n![安裝擴充套件](https://lh3.googleusercontent.com/WoyeazFGIwdMoBiISJaBDnAHV4aKF4SkSH_oySq-Qj9wrlGGhdBWegq17YOCQ3Cidk_8Ti0myrj3GuOkt_xzbucZmOvqIlocY6Xx9zlUCicvOLty7wXLDLjn_HaLm2VEVy-6pO9aRvil_LTLl2AGqGY8ZJzPaxg8CqifgRztmr6XIr5XCGLa6IJuBeRomWhfQkEGE1ln-3Q6xo9GrHn6aREQD4mOjfXMezWz7b4SbUPGzNfL7JyLWSJGO3PM_UC-QE4aRdZX-iHSw26x4JBjWfixr_LLnze82bPWnyZzN7IeL0QAUk966Y0qskJ-tun7xO9xn4AVjjB6fiTyCBAqkY4T1ubUpKChSey2VydPDJ8ywR0n2_vmtMTy45kE3Re07tGrcakl0Jynwzqj-qHDM2OkD3yYfB5rJKwAeHf74CM0nF-53r2SAoznYHjdbgx7mhufwv1-UpSqnBjHz1kl0i4tjVwoOnXpYAaVGcmkDmvSJgIqeKs2h9DHcTaCyFoEPaOVFaRmfhzA1fPG1bdYvaQbNS2tjAdTA1A0GEeBSbYZhutKQtnZt1MDchm5FLIPE6tOMmbBYAKoa6iFszZwb0JgHe_9RIad0mom412TgqEDo5KiChdc1Ol_lO_AtxhuRx2_YAsGQJMgLxHiFjklfYk_QxlfyfUV=w1024-h640-no \"VScode\")\n\n安裝完成重新啟動後，`VScode` 會自動安裝符合目前作業系統的 `OmniSharp`。\n\n![重啟後 OmniSharp 自動安裝](https://lh3.googleusercontent.com/RI4MQD-Lt5ciaUzQyRIdE0DsHoaVS-E0J3j-iXlezl6ib5c1LXFF6n2vGT2ZIdAbSsaVtdjQCvZ5BVhoDhL6JqaHnn7bJ92Jlhe7FIigiX1lhz95heSOQ7wQJ2jvctRIMUzYx1qJ9me5CAZDRBDb7MZzaAP6Jh1cp4n4BJThfnvdaoaBJeeWV_Bo7KtUhTXxgp5JbrvITua-LYR_qgiWlyEyTEftCU8NPMJwXTzm4jiDvxZFEhOo06mI3t93t5a0ubjsh6tBUBcdxi6GM__E_9x4RO29ms4WB6dwcFgE1tG_uvuHt7hv7zWeuyxA7b-gOT0Rge847HMGiMaunr6WJ3jOcDzc_fQw5NYwc1wuVEHjyI2BLDfuJ8Uctnvm-8ygoDnXdyoT3UWrvoxxyZdV38PFQm9nvSGOBJ-kMlM_nnnPYGOWC6KAH4Qk7rBk_e9w3-ybeKIItJXnmUxe14fGhlPWonfUa8OaMiHmY1J_pujCcl_6f6VpRPViXjcnKwcTdLFArr7EabWrA8Q2zd7xifIU9zQL540qvRQnmaxiaU98LmISI_DTUqQPNxyepGtLx_dn_HqJGdypTLeAj5MlquIVia3vHSNTUqTmCJzw6gw5hLJmbnlnVAtQ8ehZN-E2iTzKjJYMv4JPn2IGII_ppRIPRj1LxdDE=w1024-h640-no \"VScode\")\n\n## 加入偵錯設定\n\n打開 `Program.cs` ，`VScode` 會提示使用者進行資產建置及偵錯您的應用程式。選取 `Yes`。\n\n![提示使用者進行資產建置及偵錯您的應用程式](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/media/with-visual-studio-code/missing-assets.png \"VScode\")\n\n選取 `Yes` 之後，系統會自動產生 `.vscode` 的資料夾，放置工作任務設定檔。\n\n![系統會自動產生 .vscode 的資料夾](https://lh3.googleusercontent.com/QKxHuk0-14c5yFlk0j01dWnrdTtygpjp5vjUh7lI22U-DHTm_hjfzjm1Wep3OkCcyY3j6I5saAtacWAw2oYDH37ndXbzs2z-hR6FROq_LP2N-KgU0S7ZmpUa-cj3RNwBN9AYnApjxZUOCKfSqRjdX5Yhpz9tv2grCIFqugRF7rWGY9ZQAXbgkTpo6k9QrFb0GFN07UH2UwG5jxDbTBpE7CN0z2LAOn_4SUEgRIYOeG1b7paoyZj4h0cyxm8aWt8V0XLC-cZcbcU7LDAhQI-oBa-Ti3hE1Wkbr1v1a1W4H6yVYNYTf3Zgsuvs-O7Dzf57AV5dzQz2HY9PfiSpC0RlrT-eYY51ZBHWibmme2rK_VX2fm1kDWxVhI9uz3CoHCeh7GvMfZRsHn1FyH6pKBB3gk86LT9mVAqTFv3XUZGyJbY8a9ONbkU49x1p_xWcNoX-9ZZ53hMmIIuOzU5I-cgV7vb4hYTkMMRydRxxzAJjbofdFjRQKSaM85Dfxulvls0Sqx_yhmitwjYoEySOuYbr-UIvIePmF-By0uK4RMU8WvVGdRMHnOBrdkTNY7vH5d9gZGZuVmywjmrkGXpOc7jBmmG-rwU72Y5SDEN9WUMtGiWR5yIU4LBUA8MkO-S-o5ZWRNNWxq70KFvwrmQ_PfBRPNpJ48hZ-tPJ=w1024-h359-no \"VScode\")\n\n## 測試偵錯\n\n1. 確定環境選項是 `.Net Core Launch (Web)`。\n2. 開啟 `HomeController.cs` 下中斷點。\n3. 快捷鍵 `F5` 或點 `綠色箭號按鈕` 啟動偵錯。\n\n![測試偵錯](https://lh3.googleusercontent.com/3Lsi1A49C7GBVkjve6ddsy4306z6SRmaTDDFDiw663yeWMpkjyymxMroq4j1OvLmDjgViAdBYZpcKl6_cxFgL41ATW4gUwrvQW9iqA3EWSpYClATSOD4BScyynCPp-dJeOnNVkXwtIN8oCu8JlXDNRsS9FeWHFTu1s8wB3Mes7dHsaZNE54kFHRtzMpNp2ByzXByxl2H9nvVGzvO6DhYTBHrRgpGUW5xskcbVxq6MwmaqLRBrjM7PUXVu-QJVYxs6AC59YM1gr7hoCR0PbK-jt1x3FFSphImhlscS4qYMM_46CYEPOY9Wz91oD5AJSdiSfjaXAK3AUFhgyyLn6jRRtey-Qa7sQvwfU7mwZ-18Pv-9LoFB_3RZ-2izOQ8t7LBPOnrD3XjdmQxyaB2rTDDCQUURBNOI_TD6gge-h0X2umE1eXCv6QI4yVsiy2Fyy_vjnrvRZsd8GlgG8zH85DTjG1XgWGPMjzmteUmgrqlBvmiu9xT-d8IPOSNIQD8v7C3bKTTyPfg6Kg6E-KY-b4j-6Zk6HGG5Zkn-2HfJ9iP1NV3jnKXzSvCB17sAoFeq53sqYOH56ym_fp9FCgnd2UPla23mgp7s0OKhi1G0XpQS8k5gaZcM8HqGO4opel214CwuxMs9RRr2X5irEVGZHsDSCiGAG9dUif6=w1024-h640-no \"VScode\")\n\n當偵錯程式到達中斷點時，它會停止執行程式。可以看到即時的變數狀態。\n\n![偵錯程式到達中斷點](https://lh3.googleusercontent.com/PHfyaHbm9eQO9FbCwSAle7gnDIc8lQBV_xy8DcsHJhjXVxrlOIpy545RRPLhqrxFCVk8b-NJRHPsk_m6Q_ZD4ay2pmc9f-euzOb0MP4-LjsZZAQLub3ZIEhegPXdk080UlGsBCsWGsQqKSAwWiKUObRgciqhK_OwMaWntRj3N6KqStHynWbE3scX4ulzPXDvc8RTltvVy0oNa_PwA4Cl8fPNrwBP5-enzAekmvHxgUC4TaiDKzbx-umezU0thwPRb1eW2c-e2-2gRfP5FwLdyMU9csTKp5pPNH8HEY9NWetKXG5Ts5PPsBCBE0sCTNrFkOfAdbLuX_VfN0_P5cq5lp74HvnLiNZR2I6huZAEsrKyQ9cEZEHauchsR-ltukUMdj9pJ5fyKVGXvqfx--QRSBH_3yUCzr9GWXvmaHH58dUiFXscDecY8dVEzezD2eRxeSxfwcha8Kjk6uNuP1JQgajFutVNAC4K7kTUKamY7hz7otxMh6DaLcbkrkyS4skYoiwP13VrniujSM7NxDwo50FDlsw-mc77o99BcSSeysEzkGUx7Q-nlDC0UA6N5u8QyQBXna-F4tVJvxpolM9ZW6_6e5T1kAH1Tfp_mB5kOayoi3CYIRC8IdWkpGhjEiG2WSSSh6-EKUItY8KupELRogG0-gg8qp6v=w1024-h640-no \"VScode\")\n\n選取頂端的綠色箭頭以繼續偵錯，或者選取頂端的紅色正方形以停止偵錯。\n\n如此一來，`.Net Core` 專案就能完全使用 `VScode` 來開發和偵錯囉，不用怕電腦卡卡，也能夠快速唰唰的專心寫程式囉～\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.1.0)，下回見～\n\n## 參考資料\n\n* [C# 與 Visual Studio Code 使用者入門 - 偵錯](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/with-visual-studio-code#debug)\n","source":"_posts/Dotnet/NET-Core-2-0-Debug-with-VScode.md","raw":"---\ntitle: .NET Core 2.0 Debug with VScode\ncategories:\n  - .NET Core\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET Core, dotnet, Vue, Webpack, SPA, MVC, VScode]\ndate: 2017/12/25\nupdated: 2017/12/25\n---\n\n這次要教大家如何使用 `VScode` debug `.Net Core` 的專案喔～\n<!--more-->\n\n## 安裝套件 `C#`\n\n前往擴充套件頁籤安裝 `C#` plugin。\n\n![安裝擴充套件](https://lh3.googleusercontent.com/WoyeazFGIwdMoBiISJaBDnAHV4aKF4SkSH_oySq-Qj9wrlGGhdBWegq17YOCQ3Cidk_8Ti0myrj3GuOkt_xzbucZmOvqIlocY6Xx9zlUCicvOLty7wXLDLjn_HaLm2VEVy-6pO9aRvil_LTLl2AGqGY8ZJzPaxg8CqifgRztmr6XIr5XCGLa6IJuBeRomWhfQkEGE1ln-3Q6xo9GrHn6aREQD4mOjfXMezWz7b4SbUPGzNfL7JyLWSJGO3PM_UC-QE4aRdZX-iHSw26x4JBjWfixr_LLnze82bPWnyZzN7IeL0QAUk966Y0qskJ-tun7xO9xn4AVjjB6fiTyCBAqkY4T1ubUpKChSey2VydPDJ8ywR0n2_vmtMTy45kE3Re07tGrcakl0Jynwzqj-qHDM2OkD3yYfB5rJKwAeHf74CM0nF-53r2SAoznYHjdbgx7mhufwv1-UpSqnBjHz1kl0i4tjVwoOnXpYAaVGcmkDmvSJgIqeKs2h9DHcTaCyFoEPaOVFaRmfhzA1fPG1bdYvaQbNS2tjAdTA1A0GEeBSbYZhutKQtnZt1MDchm5FLIPE6tOMmbBYAKoa6iFszZwb0JgHe_9RIad0mom412TgqEDo5KiChdc1Ol_lO_AtxhuRx2_YAsGQJMgLxHiFjklfYk_QxlfyfUV=w1024-h640-no \"VScode\")\n\n安裝完成重新啟動後，`VScode` 會自動安裝符合目前作業系統的 `OmniSharp`。\n\n![重啟後 OmniSharp 自動安裝](https://lh3.googleusercontent.com/RI4MQD-Lt5ciaUzQyRIdE0DsHoaVS-E0J3j-iXlezl6ib5c1LXFF6n2vGT2ZIdAbSsaVtdjQCvZ5BVhoDhL6JqaHnn7bJ92Jlhe7FIigiX1lhz95heSOQ7wQJ2jvctRIMUzYx1qJ9me5CAZDRBDb7MZzaAP6Jh1cp4n4BJThfnvdaoaBJeeWV_Bo7KtUhTXxgp5JbrvITua-LYR_qgiWlyEyTEftCU8NPMJwXTzm4jiDvxZFEhOo06mI3t93t5a0ubjsh6tBUBcdxi6GM__E_9x4RO29ms4WB6dwcFgE1tG_uvuHt7hv7zWeuyxA7b-gOT0Rge847HMGiMaunr6WJ3jOcDzc_fQw5NYwc1wuVEHjyI2BLDfuJ8Uctnvm-8ygoDnXdyoT3UWrvoxxyZdV38PFQm9nvSGOBJ-kMlM_nnnPYGOWC6KAH4Qk7rBk_e9w3-ybeKIItJXnmUxe14fGhlPWonfUa8OaMiHmY1J_pujCcl_6f6VpRPViXjcnKwcTdLFArr7EabWrA8Q2zd7xifIU9zQL540qvRQnmaxiaU98LmISI_DTUqQPNxyepGtLx_dn_HqJGdypTLeAj5MlquIVia3vHSNTUqTmCJzw6gw5hLJmbnlnVAtQ8ehZN-E2iTzKjJYMv4JPn2IGII_ppRIPRj1LxdDE=w1024-h640-no \"VScode\")\n\n## 加入偵錯設定\n\n打開 `Program.cs` ，`VScode` 會提示使用者進行資產建置及偵錯您的應用程式。選取 `Yes`。\n\n![提示使用者進行資產建置及偵錯您的應用程式](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/media/with-visual-studio-code/missing-assets.png \"VScode\")\n\n選取 `Yes` 之後，系統會自動產生 `.vscode` 的資料夾，放置工作任務設定檔。\n\n![系統會自動產生 .vscode 的資料夾](https://lh3.googleusercontent.com/QKxHuk0-14c5yFlk0j01dWnrdTtygpjp5vjUh7lI22U-DHTm_hjfzjm1Wep3OkCcyY3j6I5saAtacWAw2oYDH37ndXbzs2z-hR6FROq_LP2N-KgU0S7ZmpUa-cj3RNwBN9AYnApjxZUOCKfSqRjdX5Yhpz9tv2grCIFqugRF7rWGY9ZQAXbgkTpo6k9QrFb0GFN07UH2UwG5jxDbTBpE7CN0z2LAOn_4SUEgRIYOeG1b7paoyZj4h0cyxm8aWt8V0XLC-cZcbcU7LDAhQI-oBa-Ti3hE1Wkbr1v1a1W4H6yVYNYTf3Zgsuvs-O7Dzf57AV5dzQz2HY9PfiSpC0RlrT-eYY51ZBHWibmme2rK_VX2fm1kDWxVhI9uz3CoHCeh7GvMfZRsHn1FyH6pKBB3gk86LT9mVAqTFv3XUZGyJbY8a9ONbkU49x1p_xWcNoX-9ZZ53hMmIIuOzU5I-cgV7vb4hYTkMMRydRxxzAJjbofdFjRQKSaM85Dfxulvls0Sqx_yhmitwjYoEySOuYbr-UIvIePmF-By0uK4RMU8WvVGdRMHnOBrdkTNY7vH5d9gZGZuVmywjmrkGXpOc7jBmmG-rwU72Y5SDEN9WUMtGiWR5yIU4LBUA8MkO-S-o5ZWRNNWxq70KFvwrmQ_PfBRPNpJ48hZ-tPJ=w1024-h359-no \"VScode\")\n\n## 測試偵錯\n\n1. 確定環境選項是 `.Net Core Launch (Web)`。\n2. 開啟 `HomeController.cs` 下中斷點。\n3. 快捷鍵 `F5` 或點 `綠色箭號按鈕` 啟動偵錯。\n\n![測試偵錯](https://lh3.googleusercontent.com/3Lsi1A49C7GBVkjve6ddsy4306z6SRmaTDDFDiw663yeWMpkjyymxMroq4j1OvLmDjgViAdBYZpcKl6_cxFgL41ATW4gUwrvQW9iqA3EWSpYClATSOD4BScyynCPp-dJeOnNVkXwtIN8oCu8JlXDNRsS9FeWHFTu1s8wB3Mes7dHsaZNE54kFHRtzMpNp2ByzXByxl2H9nvVGzvO6DhYTBHrRgpGUW5xskcbVxq6MwmaqLRBrjM7PUXVu-QJVYxs6AC59YM1gr7hoCR0PbK-jt1x3FFSphImhlscS4qYMM_46CYEPOY9Wz91oD5AJSdiSfjaXAK3AUFhgyyLn6jRRtey-Qa7sQvwfU7mwZ-18Pv-9LoFB_3RZ-2izOQ8t7LBPOnrD3XjdmQxyaB2rTDDCQUURBNOI_TD6gge-h0X2umE1eXCv6QI4yVsiy2Fyy_vjnrvRZsd8GlgG8zH85DTjG1XgWGPMjzmteUmgrqlBvmiu9xT-d8IPOSNIQD8v7C3bKTTyPfg6Kg6E-KY-b4j-6Zk6HGG5Zkn-2HfJ9iP1NV3jnKXzSvCB17sAoFeq53sqYOH56ym_fp9FCgnd2UPla23mgp7s0OKhi1G0XpQS8k5gaZcM8HqGO4opel214CwuxMs9RRr2X5irEVGZHsDSCiGAG9dUif6=w1024-h640-no \"VScode\")\n\n當偵錯程式到達中斷點時，它會停止執行程式。可以看到即時的變數狀態。\n\n![偵錯程式到達中斷點](https://lh3.googleusercontent.com/PHfyaHbm9eQO9FbCwSAle7gnDIc8lQBV_xy8DcsHJhjXVxrlOIpy545RRPLhqrxFCVk8b-NJRHPsk_m6Q_ZD4ay2pmc9f-euzOb0MP4-LjsZZAQLub3ZIEhegPXdk080UlGsBCsWGsQqKSAwWiKUObRgciqhK_OwMaWntRj3N6KqStHynWbE3scX4ulzPXDvc8RTltvVy0oNa_PwA4Cl8fPNrwBP5-enzAekmvHxgUC4TaiDKzbx-umezU0thwPRb1eW2c-e2-2gRfP5FwLdyMU9csTKp5pPNH8HEY9NWetKXG5Ts5PPsBCBE0sCTNrFkOfAdbLuX_VfN0_P5cq5lp74HvnLiNZR2I6huZAEsrKyQ9cEZEHauchsR-ltukUMdj9pJ5fyKVGXvqfx--QRSBH_3yUCzr9GWXvmaHH58dUiFXscDecY8dVEzezD2eRxeSxfwcha8Kjk6uNuP1JQgajFutVNAC4K7kTUKamY7hz7otxMh6DaLcbkrkyS4skYoiwP13VrniujSM7NxDwo50FDlsw-mc77o99BcSSeysEzkGUx7Q-nlDC0UA6N5u8QyQBXna-F4tVJvxpolM9ZW6_6e5T1kAH1Tfp_mB5kOayoi3CYIRC8IdWkpGhjEiG2WSSSh6-EKUItY8KupELRogG0-gg8qp6v=w1024-h640-no \"VScode\")\n\n選取頂端的綠色箭頭以繼續偵錯，或者選取頂端的紅色正方形以停止偵錯。\n\n如此一來，`.Net Core` 專案就能完全使用 `VScode` 來開發和偵錯囉，不用怕電腦卡卡，也能夠快速唰唰的專心寫程式囉～\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.1.0)，下回見～\n\n## 參考資料\n\n* [C# 與 Visual Studio Code 使用者入門 - 偵錯](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/with-visual-studio-code#debug)\n","slug":"Dotnet/NET-Core-2-0-Debug-with-VScode","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qa001ar3y7g6nsdonk","content":"<p>這次要教大家如何使用 <code>VScode</code> debug <code>.Net Core</code> 的專案喔～</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝套件-C\"><a href=\"#安裝套件-C\" class=\"headerlink\" title=\"安裝套件 C#\"></a>安裝套件 <code>C#</code></h2><p>前往擴充套件頁籤安裝 <code>C#</code> plugin。</p>\n<p><img src=\"https://lh3.googleusercontent.com/WoyeazFGIwdMoBiISJaBDnAHV4aKF4SkSH_oySq-Qj9wrlGGhdBWegq17YOCQ3Cidk_8Ti0myrj3GuOkt_xzbucZmOvqIlocY6Xx9zlUCicvOLty7wXLDLjn_HaLm2VEVy-6pO9aRvil_LTLl2AGqGY8ZJzPaxg8CqifgRztmr6XIr5XCGLa6IJuBeRomWhfQkEGE1ln-3Q6xo9GrHn6aREQD4mOjfXMezWz7b4SbUPGzNfL7JyLWSJGO3PM_UC-QE4aRdZX-iHSw26x4JBjWfixr_LLnze82bPWnyZzN7IeL0QAUk966Y0qskJ-tun7xO9xn4AVjjB6fiTyCBAqkY4T1ubUpKChSey2VydPDJ8ywR0n2_vmtMTy45kE3Re07tGrcakl0Jynwzqj-qHDM2OkD3yYfB5rJKwAeHf74CM0nF-53r2SAoznYHjdbgx7mhufwv1-UpSqnBjHz1kl0i4tjVwoOnXpYAaVGcmkDmvSJgIqeKs2h9DHcTaCyFoEPaOVFaRmfhzA1fPG1bdYvaQbNS2tjAdTA1A0GEeBSbYZhutKQtnZt1MDchm5FLIPE6tOMmbBYAKoa6iFszZwb0JgHe_9RIad0mom412TgqEDo5KiChdc1Ol_lO_AtxhuRx2_YAsGQJMgLxHiFjklfYk_QxlfyfUV=w1024-h640-no\" alt=\"安裝擴充套件\" title=\"VScode\"></p>\n<p>安裝完成重新啟動後，<code>VScode</code> 會自動安裝符合目前作業系統的 <code>OmniSharp</code>。</p>\n<p><img src=\"https://lh3.googleusercontent.com/RI4MQD-Lt5ciaUzQyRIdE0DsHoaVS-E0J3j-iXlezl6ib5c1LXFF6n2vGT2ZIdAbSsaVtdjQCvZ5BVhoDhL6JqaHnn7bJ92Jlhe7FIigiX1lhz95heSOQ7wQJ2jvctRIMUzYx1qJ9me5CAZDRBDb7MZzaAP6Jh1cp4n4BJThfnvdaoaBJeeWV_Bo7KtUhTXxgp5JbrvITua-LYR_qgiWlyEyTEftCU8NPMJwXTzm4jiDvxZFEhOo06mI3t93t5a0ubjsh6tBUBcdxi6GM__E_9x4RO29ms4WB6dwcFgE1tG_uvuHt7hv7zWeuyxA7b-gOT0Rge847HMGiMaunr6WJ3jOcDzc_fQw5NYwc1wuVEHjyI2BLDfuJ8Uctnvm-8ygoDnXdyoT3UWrvoxxyZdV38PFQm9nvSGOBJ-kMlM_nnnPYGOWC6KAH4Qk7rBk_e9w3-ybeKIItJXnmUxe14fGhlPWonfUa8OaMiHmY1J_pujCcl_6f6VpRPViXjcnKwcTdLFArr7EabWrA8Q2zd7xifIU9zQL540qvRQnmaxiaU98LmISI_DTUqQPNxyepGtLx_dn_HqJGdypTLeAj5MlquIVia3vHSNTUqTmCJzw6gw5hLJmbnlnVAtQ8ehZN-E2iTzKjJYMv4JPn2IGII_ppRIPRj1LxdDE=w1024-h640-no\" alt=\"重啟後 OmniSharp 自動安裝\" title=\"VScode\"></p>\n<h2 id=\"加入偵錯設定\"><a href=\"#加入偵錯設定\" class=\"headerlink\" title=\"加入偵錯設定\"></a>加入偵錯設定</h2><p>打開 <code>Program.cs</code> ，<code>VScode</code> 會提示使用者進行資產建置及偵錯您的應用程式。選取 <code>Yes</code>。</p>\n<p><img src=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/media/with-visual-studio-code/missing-assets.png\" alt=\"提示使用者進行資產建置及偵錯您的應用程式\" title=\"VScode\"></p>\n<p>選取 <code>Yes</code> 之後，系統會自動產生 <code>.vscode</code> 的資料夾，放置工作任務設定檔。</p>\n<p><img src=\"https://lh3.googleusercontent.com/QKxHuk0-14c5yFlk0j01dWnrdTtygpjp5vjUh7lI22U-DHTm_hjfzjm1Wep3OkCcyY3j6I5saAtacWAw2oYDH37ndXbzs2z-hR6FROq_LP2N-KgU0S7ZmpUa-cj3RNwBN9AYnApjxZUOCKfSqRjdX5Yhpz9tv2grCIFqugRF7rWGY9ZQAXbgkTpo6k9QrFb0GFN07UH2UwG5jxDbTBpE7CN0z2LAOn_4SUEgRIYOeG1b7paoyZj4h0cyxm8aWt8V0XLC-cZcbcU7LDAhQI-oBa-Ti3hE1Wkbr1v1a1W4H6yVYNYTf3Zgsuvs-O7Dzf57AV5dzQz2HY9PfiSpC0RlrT-eYY51ZBHWibmme2rK_VX2fm1kDWxVhI9uz3CoHCeh7GvMfZRsHn1FyH6pKBB3gk86LT9mVAqTFv3XUZGyJbY8a9ONbkU49x1p_xWcNoX-9ZZ53hMmIIuOzU5I-cgV7vb4hYTkMMRydRxxzAJjbofdFjRQKSaM85Dfxulvls0Sqx_yhmitwjYoEySOuYbr-UIvIePmF-By0uK4RMU8WvVGdRMHnOBrdkTNY7vH5d9gZGZuVmywjmrkGXpOc7jBmmG-rwU72Y5SDEN9WUMtGiWR5yIU4LBUA8MkO-S-o5ZWRNNWxq70KFvwrmQ_PfBRPNpJ48hZ-tPJ=w1024-h359-no\" alt=\"系統會自動產生 .vscode 的資料夾\" title=\"VScode\"></p>\n<h2 id=\"測試偵錯\"><a href=\"#測試偵錯\" class=\"headerlink\" title=\"測試偵錯\"></a>測試偵錯</h2><ol>\n<li>確定環境選項是 <code>.Net Core Launch (Web)</code>。</li>\n<li>開啟 <code>HomeController.cs</code> 下中斷點。</li>\n<li>快捷鍵 <code>F5</code> 或點 <code>綠色箭號按鈕</code> 啟動偵錯。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/3Lsi1A49C7GBVkjve6ddsy4306z6SRmaTDDFDiw663yeWMpkjyymxMroq4j1OvLmDjgViAdBYZpcKl6_cxFgL41ATW4gUwrvQW9iqA3EWSpYClATSOD4BScyynCPp-dJeOnNVkXwtIN8oCu8JlXDNRsS9FeWHFTu1s8wB3Mes7dHsaZNE54kFHRtzMpNp2ByzXByxl2H9nvVGzvO6DhYTBHrRgpGUW5xskcbVxq6MwmaqLRBrjM7PUXVu-QJVYxs6AC59YM1gr7hoCR0PbK-jt1x3FFSphImhlscS4qYMM_46CYEPOY9Wz91oD5AJSdiSfjaXAK3AUFhgyyLn6jRRtey-Qa7sQvwfU7mwZ-18Pv-9LoFB_3RZ-2izOQ8t7LBPOnrD3XjdmQxyaB2rTDDCQUURBNOI_TD6gge-h0X2umE1eXCv6QI4yVsiy2Fyy_vjnrvRZsd8GlgG8zH85DTjG1XgWGPMjzmteUmgrqlBvmiu9xT-d8IPOSNIQD8v7C3bKTTyPfg6Kg6E-KY-b4j-6Zk6HGG5Zkn-2HfJ9iP1NV3jnKXzSvCB17sAoFeq53sqYOH56ym_fp9FCgnd2UPla23mgp7s0OKhi1G0XpQS8k5gaZcM8HqGO4opel214CwuxMs9RRr2X5irEVGZHsDSCiGAG9dUif6=w1024-h640-no\" alt=\"測試偵錯\" title=\"VScode\"></p>\n<p>當偵錯程式到達中斷點時，它會停止執行程式。可以看到即時的變數狀態。</p>\n<p><img src=\"https://lh3.googleusercontent.com/PHfyaHbm9eQO9FbCwSAle7gnDIc8lQBV_xy8DcsHJhjXVxrlOIpy545RRPLhqrxFCVk8b-NJRHPsk_m6Q_ZD4ay2pmc9f-euzOb0MP4-LjsZZAQLub3ZIEhegPXdk080UlGsBCsWGsQqKSAwWiKUObRgciqhK_OwMaWntRj3N6KqStHynWbE3scX4ulzPXDvc8RTltvVy0oNa_PwA4Cl8fPNrwBP5-enzAekmvHxgUC4TaiDKzbx-umezU0thwPRb1eW2c-e2-2gRfP5FwLdyMU9csTKp5pPNH8HEY9NWetKXG5Ts5PPsBCBE0sCTNrFkOfAdbLuX_VfN0_P5cq5lp74HvnLiNZR2I6huZAEsrKyQ9cEZEHauchsR-ltukUMdj9pJ5fyKVGXvqfx--QRSBH_3yUCzr9GWXvmaHH58dUiFXscDecY8dVEzezD2eRxeSxfwcha8Kjk6uNuP1JQgajFutVNAC4K7kTUKamY7hz7otxMh6DaLcbkrkyS4skYoiwP13VrniujSM7NxDwo50FDlsw-mc77o99BcSSeysEzkGUx7Q-nlDC0UA6N5u8QyQBXna-F4tVJvxpolM9ZW6_6e5T1kAH1Tfp_mB5kOayoi3CYIRC8IdWkpGhjEiG2WSSSh6-EKUItY8KupELRogG0-gg8qp6v=w1024-h640-no\" alt=\"偵錯程式到達中斷點\" title=\"VScode\"></p>\n<p>選取頂端的綠色箭頭以繼續偵錯，或者選取頂端的紅色正方形以停止偵錯。</p>\n<p>如此一來，<code>.Net Core</code> 專案就能完全使用 <code>VScode</code> 來開發和偵錯囉，不用怕電腦卡卡，也能夠快速唰唰的專心寫程式囉～</p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/with-visual-studio-code#debug\">C# 與 Visual Studio Code 使用者入門 - 偵錯</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p>這次要教大家如何使用 <code>VScode</code> debug <code>.Net Core</code> 的專案喔～</p>","more":"<h2 id=\"安裝套件-C\"><a href=\"#安裝套件-C\" class=\"headerlink\" title=\"安裝套件 C#\"></a>安裝套件 <code>C#</code></h2><p>前往擴充套件頁籤安裝 <code>C#</code> plugin。</p>\n<p><img src=\"https://lh3.googleusercontent.com/WoyeazFGIwdMoBiISJaBDnAHV4aKF4SkSH_oySq-Qj9wrlGGhdBWegq17YOCQ3Cidk_8Ti0myrj3GuOkt_xzbucZmOvqIlocY6Xx9zlUCicvOLty7wXLDLjn_HaLm2VEVy-6pO9aRvil_LTLl2AGqGY8ZJzPaxg8CqifgRztmr6XIr5XCGLa6IJuBeRomWhfQkEGE1ln-3Q6xo9GrHn6aREQD4mOjfXMezWz7b4SbUPGzNfL7JyLWSJGO3PM_UC-QE4aRdZX-iHSw26x4JBjWfixr_LLnze82bPWnyZzN7IeL0QAUk966Y0qskJ-tun7xO9xn4AVjjB6fiTyCBAqkY4T1ubUpKChSey2VydPDJ8ywR0n2_vmtMTy45kE3Re07tGrcakl0Jynwzqj-qHDM2OkD3yYfB5rJKwAeHf74CM0nF-53r2SAoznYHjdbgx7mhufwv1-UpSqnBjHz1kl0i4tjVwoOnXpYAaVGcmkDmvSJgIqeKs2h9DHcTaCyFoEPaOVFaRmfhzA1fPG1bdYvaQbNS2tjAdTA1A0GEeBSbYZhutKQtnZt1MDchm5FLIPE6tOMmbBYAKoa6iFszZwb0JgHe_9RIad0mom412TgqEDo5KiChdc1Ol_lO_AtxhuRx2_YAsGQJMgLxHiFjklfYk_QxlfyfUV=w1024-h640-no\" alt=\"安裝擴充套件\" title=\"VScode\"></p>\n<p>安裝完成重新啟動後，<code>VScode</code> 會自動安裝符合目前作業系統的 <code>OmniSharp</code>。</p>\n<p><img src=\"https://lh3.googleusercontent.com/RI4MQD-Lt5ciaUzQyRIdE0DsHoaVS-E0J3j-iXlezl6ib5c1LXFF6n2vGT2ZIdAbSsaVtdjQCvZ5BVhoDhL6JqaHnn7bJ92Jlhe7FIigiX1lhz95heSOQ7wQJ2jvctRIMUzYx1qJ9me5CAZDRBDb7MZzaAP6Jh1cp4n4BJThfnvdaoaBJeeWV_Bo7KtUhTXxgp5JbrvITua-LYR_qgiWlyEyTEftCU8NPMJwXTzm4jiDvxZFEhOo06mI3t93t5a0ubjsh6tBUBcdxi6GM__E_9x4RO29ms4WB6dwcFgE1tG_uvuHt7hv7zWeuyxA7b-gOT0Rge847HMGiMaunr6WJ3jOcDzc_fQw5NYwc1wuVEHjyI2BLDfuJ8Uctnvm-8ygoDnXdyoT3UWrvoxxyZdV38PFQm9nvSGOBJ-kMlM_nnnPYGOWC6KAH4Qk7rBk_e9w3-ybeKIItJXnmUxe14fGhlPWonfUa8OaMiHmY1J_pujCcl_6f6VpRPViXjcnKwcTdLFArr7EabWrA8Q2zd7xifIU9zQL540qvRQnmaxiaU98LmISI_DTUqQPNxyepGtLx_dn_HqJGdypTLeAj5MlquIVia3vHSNTUqTmCJzw6gw5hLJmbnlnVAtQ8ehZN-E2iTzKjJYMv4JPn2IGII_ppRIPRj1LxdDE=w1024-h640-no\" alt=\"重啟後 OmniSharp 自動安裝\" title=\"VScode\"></p>\n<h2 id=\"加入偵錯設定\"><a href=\"#加入偵錯設定\" class=\"headerlink\" title=\"加入偵錯設定\"></a>加入偵錯設定</h2><p>打開 <code>Program.cs</code> ，<code>VScode</code> 會提示使用者進行資產建置及偵錯您的應用程式。選取 <code>Yes</code>。</p>\n<p><img src=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/media/with-visual-studio-code/missing-assets.png\" alt=\"提示使用者進行資產建置及偵錯您的應用程式\" title=\"VScode\"></p>\n<p>選取 <code>Yes</code> 之後，系統會自動產生 <code>.vscode</code> 的資料夾，放置工作任務設定檔。</p>\n<p><img src=\"https://lh3.googleusercontent.com/QKxHuk0-14c5yFlk0j01dWnrdTtygpjp5vjUh7lI22U-DHTm_hjfzjm1Wep3OkCcyY3j6I5saAtacWAw2oYDH37ndXbzs2z-hR6FROq_LP2N-KgU0S7ZmpUa-cj3RNwBN9AYnApjxZUOCKfSqRjdX5Yhpz9tv2grCIFqugRF7rWGY9ZQAXbgkTpo6k9QrFb0GFN07UH2UwG5jxDbTBpE7CN0z2LAOn_4SUEgRIYOeG1b7paoyZj4h0cyxm8aWt8V0XLC-cZcbcU7LDAhQI-oBa-Ti3hE1Wkbr1v1a1W4H6yVYNYTf3Zgsuvs-O7Dzf57AV5dzQz2HY9PfiSpC0RlrT-eYY51ZBHWibmme2rK_VX2fm1kDWxVhI9uz3CoHCeh7GvMfZRsHn1FyH6pKBB3gk86LT9mVAqTFv3XUZGyJbY8a9ONbkU49x1p_xWcNoX-9ZZ53hMmIIuOzU5I-cgV7vb4hYTkMMRydRxxzAJjbofdFjRQKSaM85Dfxulvls0Sqx_yhmitwjYoEySOuYbr-UIvIePmF-By0uK4RMU8WvVGdRMHnOBrdkTNY7vH5d9gZGZuVmywjmrkGXpOc7jBmmG-rwU72Y5SDEN9WUMtGiWR5yIU4LBUA8MkO-S-o5ZWRNNWxq70KFvwrmQ_PfBRPNpJ48hZ-tPJ=w1024-h359-no\" alt=\"系統會自動產生 .vscode 的資料夾\" title=\"VScode\"></p>\n<h2 id=\"測試偵錯\"><a href=\"#測試偵錯\" class=\"headerlink\" title=\"測試偵錯\"></a>測試偵錯</h2><ol>\n<li>確定環境選項是 <code>.Net Core Launch (Web)</code>。</li>\n<li>開啟 <code>HomeController.cs</code> 下中斷點。</li>\n<li>快捷鍵 <code>F5</code> 或點 <code>綠色箭號按鈕</code> 啟動偵錯。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/3Lsi1A49C7GBVkjve6ddsy4306z6SRmaTDDFDiw663yeWMpkjyymxMroq4j1OvLmDjgViAdBYZpcKl6_cxFgL41ATW4gUwrvQW9iqA3EWSpYClATSOD4BScyynCPp-dJeOnNVkXwtIN8oCu8JlXDNRsS9FeWHFTu1s8wB3Mes7dHsaZNE54kFHRtzMpNp2ByzXByxl2H9nvVGzvO6DhYTBHrRgpGUW5xskcbVxq6MwmaqLRBrjM7PUXVu-QJVYxs6AC59YM1gr7hoCR0PbK-jt1x3FFSphImhlscS4qYMM_46CYEPOY9Wz91oD5AJSdiSfjaXAK3AUFhgyyLn6jRRtey-Qa7sQvwfU7mwZ-18Pv-9LoFB_3RZ-2izOQ8t7LBPOnrD3XjdmQxyaB2rTDDCQUURBNOI_TD6gge-h0X2umE1eXCv6QI4yVsiy2Fyy_vjnrvRZsd8GlgG8zH85DTjG1XgWGPMjzmteUmgrqlBvmiu9xT-d8IPOSNIQD8v7C3bKTTyPfg6Kg6E-KY-b4j-6Zk6HGG5Zkn-2HfJ9iP1NV3jnKXzSvCB17sAoFeq53sqYOH56ym_fp9FCgnd2UPla23mgp7s0OKhi1G0XpQS8k5gaZcM8HqGO4opel214CwuxMs9RRr2X5irEVGZHsDSCiGAG9dUif6=w1024-h640-no\" alt=\"測試偵錯\" title=\"VScode\"></p>\n<p>當偵錯程式到達中斷點時，它會停止執行程式。可以看到即時的變數狀態。</p>\n<p><img src=\"https://lh3.googleusercontent.com/PHfyaHbm9eQO9FbCwSAle7gnDIc8lQBV_xy8DcsHJhjXVxrlOIpy545RRPLhqrxFCVk8b-NJRHPsk_m6Q_ZD4ay2pmc9f-euzOb0MP4-LjsZZAQLub3ZIEhegPXdk080UlGsBCsWGsQqKSAwWiKUObRgciqhK_OwMaWntRj3N6KqStHynWbE3scX4ulzPXDvc8RTltvVy0oNa_PwA4Cl8fPNrwBP5-enzAekmvHxgUC4TaiDKzbx-umezU0thwPRb1eW2c-e2-2gRfP5FwLdyMU9csTKp5pPNH8HEY9NWetKXG5Ts5PPsBCBE0sCTNrFkOfAdbLuX_VfN0_P5cq5lp74HvnLiNZR2I6huZAEsrKyQ9cEZEHauchsR-ltukUMdj9pJ5fyKVGXvqfx--QRSBH_3yUCzr9GWXvmaHH58dUiFXscDecY8dVEzezD2eRxeSxfwcha8Kjk6uNuP1JQgajFutVNAC4K7kTUKamY7hz7otxMh6DaLcbkrkyS4skYoiwP13VrniujSM7NxDwo50FDlsw-mc77o99BcSSeysEzkGUx7Q-nlDC0UA6N5u8QyQBXna-F4tVJvxpolM9ZW6_6e5T1kAH1Tfp_mB5kOayoi3CYIRC8IdWkpGhjEiG2WSSSh6-EKUItY8KupELRogG0-gg8qp6v=w1024-h640-no\" alt=\"偵錯程式到達中斷點\" title=\"VScode\"></p>\n<p>選取頂端的綠色箭頭以繼續偵錯，或者選取頂端的紅色正方形以停止偵錯。</p>\n<p>如此一來，<code>.Net Core</code> 專案就能完全使用 <code>VScode</code> 來開發和偵錯囉，不用怕電腦卡卡，也能夠快速唰唰的專心寫程式囉～</p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/with-visual-studio-code#debug\">C# 與 Visual Studio Code 使用者入門 - 偵錯</a></li>\n</ul>"},{"title":".NET 6 SPA with Vue-Cli Webpack Base - Start New Project","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2022-03-03T16:00:00.000Z","updated":"2022-03-03T16:00:00.000Z","_content":"\n.NET 出到 6 之後，原本官方的 SPA [套件被棄用](https://github.com/dotnet/aspnetcore/issues/12890)，新版改成使用 Vue-CLI + SPA Proxy。我們就從零開始建立新的 .NET6 + Vue-CLI (Webpack base) + Vuetify 專案吧～\n\n<!--more-->\n\n# 安裝 .NET 6 & Node.js\n\n要先安裝 [.NET 6](https://dotnet.microsoft.com/en-us/download) & [Node.js](https://nodejs.org/en/)，並確認版本是否正確。\n\n```\ndotnet --version\n```\n\n此篇 dotnet 使用 6.0.200\n\n```\nnode --version\n```\n\n此篇 node 使用 v16.4.0\n\n# 起始 dotnet template\n\n這次我們先起始一個 react 官方的模板，再從裡面修改檔案。\n\n```\ndotnet new react\n```\n\n會看到起始專案長這樣。\n\n![dotnet new react](https://lh3.googleusercontent.com/pw/AM-JKLX2z5Nz_ErmoEcxAEgHX_rn68Ifr-8J1v_8NidUaMWUF3pUZviECReYXYcSG248yXZX4zB4STTJKtCSLZovNcX4hnBEqHazkJUI3fv8BOBlu_9U_mI-GYhO4xnVX7ZAqvpVQBV-PNjZsIFZT8Hcrt7c1g=w828-h868-no?authuser=0)\n\n主要 SPA 放置的地方就在 ClientApp 裡面，所以我們只要用 Vue-CLI 建立新的 Vue 專案，把對應的資料夾和設定值替換掉即可。\n\n# Vue-CLI 建立專案\n\n先安裝 Vue-CLI，並確認版本。\n\n```\nnpm install -g @vue/cli\n```\n\n```\nvue --version\n```\n\n此篇 Vue-CLI 使用 v5.0.1\n\n接著用 Vue-CLI 建立新專案，但因為 Vue-CLI 不允許使用字母大寫，所以我們把資料夾取名 `client-app`。\n\n```\nvue create client-app\n```\n\n接著選擇要的 preset，因為 Vuetify 還沒有用到 Vue 3 ，所以這邊就選擇 Vue 2 的選項。也可以依自己的喜好選 Manual 的方式組合。\n\n接著進入 client-app 裡面，安裝 Vuetify。\n\n```\ncd client-app\n```\n\n```\nvue add vuetify\n```\n\nVuetify 的模板就先選擇 recommended 即可。\n\nVue 模板都安裝完後，可以先試跑看有沒有成功。\n\n```\nnpm run serve\n```\n\n可以看到在 8080 port 有跑出建置好的 Vue + Vuetify 專案。\n\n![Vue + Vuetify 專案](https://lh3.googleusercontent.com/pw/AM-JKLXx7Ju-EayPyEeh39b-fJieuM1K7S4ZAA20t5msauhI9baNCBCUXcgkuDXYOwVNIq-lCteGP4Coul2nMF2HEz14wIkrCxiszBHyPjexr8ovkpU6oq-JRjml797zAQu0n-vQxcS0PaRFNbNxIvWxg0W9zQ=w2206-h1378-no?authuser=0)\n\n確認安裝成功，就可以把舊的 ClientApp 刪掉。\n\n# 設定 config\n\n接著我們把一些 proxy config 設定上去，讓 dotnet 可以和 Vue-CLI 銜接起來。\n\n打開 csproj 檔案。把 `SpaRoot` 的部分改成新建的資料夾 `client-app\\`，並注意這裡的 `SpaProxyServerUrl` port 是 `44405` 且 `SpaProxyLaunchCommand` 是 `npm start`。所以我們要把 Vue-CLI 的設定改成對應的 port 和npm 指令。\n\n> 注意！若 SpaProxyServerUrl 若是 https 要改成 http。\n\n> PS. 每次 dotnet 模板起始的 port 都不一樣，請以當次建立的 port 為準。\n\n```xml\n...\n  <PropertyGroup>\n    ...\n    <SpaRoot>client-app\\</SpaRoot>\n    ...\n    <SpaProxyServerUrl>http://localhost:44405</SpaProxyServerUrl>\n    <SpaProxyLaunchCommand>npm start</SpaProxyLaunchCommand>\n    <RootNamespace>dotnet_core_vue_cli</RootNamespace>\n    <ImplicitUsings>enable</ImplicitUsings>\n  </PropertyGroup>\n  ...\n```\n\n打開 package.json，把 \"serve\" 改成 \"start\" 。\n\n```js\n\"scripts\": {\n  \"start\": \"vue-cli-service serve\",\n  \"build\": \"vue-cli-service build\",\n  \"lint\": \"vue-cli-service lint\"\n},\n```\n\n打開 vue.config.js，將 devServer port 換成 44405。\n\n```js\nconst { defineConfig } = require('@vue/cli-service')\nmodule.exports = defineConfig({\n  devServer: {\n    port: 44405,\n  },\n  transpileDependencies: [\n    'vuetify'\n  ]\n})\n```\n\n# Run~\n\n開啟 csproj 檔案，vscode 會問你是否要建立 debug file，選擇 Yes，vscode 就會建立一個 .vscode 的資料夾。\n\n![vscode debug files](https://lh3.googleusercontent.com/pw/AM-JKLW5gDiNQt5ournrdZGTd0Agbja7hRSJkN5lxzUZvyYdB0NHov4H36TB9-9hPGlvLuGdoDNhtpop1FKXeOEeb9PCMar2hpW23SFqnnWMnngsmvYaU5_c5H1SdhjoM4uxbsUQbnaS1aIuzTmobaYxfpCeqg=w2206-h1378-no?authuser=0)\n\n接著去 Debug 按 Run 的按鈕，我們就大功告成囉～\n\n![Run](https://lh3.googleusercontent.com/pw/AM-JKLVicP5nFFOEVCRg9q5YgzfD5ouyqWZhs191vd8zayFgn-fHTkqcRurbx8nd8LduRBA88Z5ndDsrGbkfEYGVyYOXYAmA-zCyrfXM6YxOHK2pw8ITPnN28Ko7Rza5pSxUWwh9TBWIFc0SFlIVzu6XKbsgGA=w2206-h1378-no?authuser=0)\n\n![Done](https://lh3.googleusercontent.com/pw/AM-JKLXNAiYrBco8XyOW95fbUADTtz7GyAt0MwSky7U0Oncxo5MqCwNTxJLG9RnIZCgqieqMV_Ieuppnn3m89u1pQeEdrOJfPtZrL9PtoMUOfIPVsB0UHqJUMx5rbCLXEutn4rJwtZ3Z5jIjDZ0W2uy5KjJrSA=w2206-h1378-no?authuser=0)\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v6.0.2)，下回見～","source":"_posts/Dotnet/NET-6-SPA-with-Vue-Cli-Webpack-Base.md","raw":"---\ntitle: .NET 6 SPA with Vue-Cli Webpack Base - Start New Project\ncategories:\n  - .NET\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET, dotnet, Vue, Webpack, SPA, VScode]\ndate: 2022/03/04\nupdated: 2022/03/04\n---\n\n.NET 出到 6 之後，原本官方的 SPA [套件被棄用](https://github.com/dotnet/aspnetcore/issues/12890)，新版改成使用 Vue-CLI + SPA Proxy。我們就從零開始建立新的 .NET6 + Vue-CLI (Webpack base) + Vuetify 專案吧～\n\n<!--more-->\n\n# 安裝 .NET 6 & Node.js\n\n要先安裝 [.NET 6](https://dotnet.microsoft.com/en-us/download) & [Node.js](https://nodejs.org/en/)，並確認版本是否正確。\n\n```\ndotnet --version\n```\n\n此篇 dotnet 使用 6.0.200\n\n```\nnode --version\n```\n\n此篇 node 使用 v16.4.0\n\n# 起始 dotnet template\n\n這次我們先起始一個 react 官方的模板，再從裡面修改檔案。\n\n```\ndotnet new react\n```\n\n會看到起始專案長這樣。\n\n![dotnet new react](https://lh3.googleusercontent.com/pw/AM-JKLX2z5Nz_ErmoEcxAEgHX_rn68Ifr-8J1v_8NidUaMWUF3pUZviECReYXYcSG248yXZX4zB4STTJKtCSLZovNcX4hnBEqHazkJUI3fv8BOBlu_9U_mI-GYhO4xnVX7ZAqvpVQBV-PNjZsIFZT8Hcrt7c1g=w828-h868-no?authuser=0)\n\n主要 SPA 放置的地方就在 ClientApp 裡面，所以我們只要用 Vue-CLI 建立新的 Vue 專案，把對應的資料夾和設定值替換掉即可。\n\n# Vue-CLI 建立專案\n\n先安裝 Vue-CLI，並確認版本。\n\n```\nnpm install -g @vue/cli\n```\n\n```\nvue --version\n```\n\n此篇 Vue-CLI 使用 v5.0.1\n\n接著用 Vue-CLI 建立新專案，但因為 Vue-CLI 不允許使用字母大寫，所以我們把資料夾取名 `client-app`。\n\n```\nvue create client-app\n```\n\n接著選擇要的 preset，因為 Vuetify 還沒有用到 Vue 3 ，所以這邊就選擇 Vue 2 的選項。也可以依自己的喜好選 Manual 的方式組合。\n\n接著進入 client-app 裡面，安裝 Vuetify。\n\n```\ncd client-app\n```\n\n```\nvue add vuetify\n```\n\nVuetify 的模板就先選擇 recommended 即可。\n\nVue 模板都安裝完後，可以先試跑看有沒有成功。\n\n```\nnpm run serve\n```\n\n可以看到在 8080 port 有跑出建置好的 Vue + Vuetify 專案。\n\n![Vue + Vuetify 專案](https://lh3.googleusercontent.com/pw/AM-JKLXx7Ju-EayPyEeh39b-fJieuM1K7S4ZAA20t5msauhI9baNCBCUXcgkuDXYOwVNIq-lCteGP4Coul2nMF2HEz14wIkrCxiszBHyPjexr8ovkpU6oq-JRjml797zAQu0n-vQxcS0PaRFNbNxIvWxg0W9zQ=w2206-h1378-no?authuser=0)\n\n確認安裝成功，就可以把舊的 ClientApp 刪掉。\n\n# 設定 config\n\n接著我們把一些 proxy config 設定上去，讓 dotnet 可以和 Vue-CLI 銜接起來。\n\n打開 csproj 檔案。把 `SpaRoot` 的部分改成新建的資料夾 `client-app\\`，並注意這裡的 `SpaProxyServerUrl` port 是 `44405` 且 `SpaProxyLaunchCommand` 是 `npm start`。所以我們要把 Vue-CLI 的設定改成對應的 port 和npm 指令。\n\n> 注意！若 SpaProxyServerUrl 若是 https 要改成 http。\n\n> PS. 每次 dotnet 模板起始的 port 都不一樣，請以當次建立的 port 為準。\n\n```xml\n...\n  <PropertyGroup>\n    ...\n    <SpaRoot>client-app\\</SpaRoot>\n    ...\n    <SpaProxyServerUrl>http://localhost:44405</SpaProxyServerUrl>\n    <SpaProxyLaunchCommand>npm start</SpaProxyLaunchCommand>\n    <RootNamespace>dotnet_core_vue_cli</RootNamespace>\n    <ImplicitUsings>enable</ImplicitUsings>\n  </PropertyGroup>\n  ...\n```\n\n打開 package.json，把 \"serve\" 改成 \"start\" 。\n\n```js\n\"scripts\": {\n  \"start\": \"vue-cli-service serve\",\n  \"build\": \"vue-cli-service build\",\n  \"lint\": \"vue-cli-service lint\"\n},\n```\n\n打開 vue.config.js，將 devServer port 換成 44405。\n\n```js\nconst { defineConfig } = require('@vue/cli-service')\nmodule.exports = defineConfig({\n  devServer: {\n    port: 44405,\n  },\n  transpileDependencies: [\n    'vuetify'\n  ]\n})\n```\n\n# Run~\n\n開啟 csproj 檔案，vscode 會問你是否要建立 debug file，選擇 Yes，vscode 就會建立一個 .vscode 的資料夾。\n\n![vscode debug files](https://lh3.googleusercontent.com/pw/AM-JKLW5gDiNQt5ournrdZGTd0Agbja7hRSJkN5lxzUZvyYdB0NHov4H36TB9-9hPGlvLuGdoDNhtpop1FKXeOEeb9PCMar2hpW23SFqnnWMnngsmvYaU5_c5H1SdhjoM4uxbsUQbnaS1aIuzTmobaYxfpCeqg=w2206-h1378-no?authuser=0)\n\n接著去 Debug 按 Run 的按鈕，我們就大功告成囉～\n\n![Run](https://lh3.googleusercontent.com/pw/AM-JKLVicP5nFFOEVCRg9q5YgzfD5ouyqWZhs191vd8zayFgn-fHTkqcRurbx8nd8LduRBA88Z5ndDsrGbkfEYGVyYOXYAmA-zCyrfXM6YxOHK2pw8ITPnN28Ko7Rza5pSxUWwh9TBWIFc0SFlIVzu6XKbsgGA=w2206-h1378-no?authuser=0)\n\n![Done](https://lh3.googleusercontent.com/pw/AM-JKLXNAiYrBco8XyOW95fbUADTtz7GyAt0MwSky7U0Oncxo5MqCwNTxJLG9RnIZCgqieqMV_Ieuppnn3m89u1pQeEdrOJfPtZrL9PtoMUOfIPVsB0UHqJUMx5rbCLXEutn4rJwtZ3Z5jIjDZ0W2uy5KjJrSA=w2206-h1378-no?authuser=0)\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v6.0.2)，下回見～","slug":"Dotnet/NET-6-SPA-with-Vue-Cli-Webpack-Base","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qb001dr3y7aviv6u6b","content":"<p>.NET 出到 6 之後，原本官方的 SPA <a href=\"https://github.com/dotnet/aspnetcore/issues/12890\">套件被棄用</a>，新版改成使用 Vue-CLI + SPA Proxy。我們就從零開始建立新的 .NET6 + Vue-CLI (Webpack base) + Vuetify 專案吧～</p>\n<span id=\"more\"></span>\n\n<h1 id=\"安裝-NET-6-amp-Node-js\"><a href=\"#安裝-NET-6-amp-Node-js\" class=\"headerlink\" title=\"安裝 .NET 6 &amp; Node.js\"></a>安裝 .NET 6 &amp; Node.js</h1><p>要先安裝 <a href=\"https://dotnet.microsoft.com/en-us/download\">.NET 6</a> &amp; <a href=\"https://nodejs.org/en/\">Node.js</a>，並確認版本是否正確。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 dotnet 使用 6.0.200</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 node 使用 v16.4.0</p>\n<h1 id=\"起始-dotnet-template\"><a href=\"#起始-dotnet-template\" class=\"headerlink\" title=\"起始 dotnet template\"></a>起始 dotnet template</h1><p>這次我們先起始一個 react 官方的模板，再從裡面修改檔案。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new react</span><br></pre></td></tr></table></figure>\n\n<p>會看到起始專案長這樣。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLX2z5Nz_ErmoEcxAEgHX_rn68Ifr-8J1v_8NidUaMWUF3pUZviECReYXYcSG248yXZX4zB4STTJKtCSLZovNcX4hnBEqHazkJUI3fv8BOBlu_9U_mI-GYhO4xnVX7ZAqvpVQBV-PNjZsIFZT8Hcrt7c1g=w828-h868-no?authuser=0\" alt=\"dotnet new react\"></p>\n<p>主要 SPA 放置的地方就在 ClientApp 裡面，所以我們只要用 Vue-CLI 建立新的 Vue 專案，把對應的資料夾和設定值替換掉即可。</p>\n<h1 id=\"Vue-CLI-建立專案\"><a href=\"#Vue-CLI-建立專案\" class=\"headerlink\" title=\"Vue-CLI 建立專案\"></a>Vue-CLI 建立專案</h1><p>先安裝 Vue-CLI，並確認版本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 Vue-CLI 使用 v5.0.1</p>\n<p>接著用 Vue-CLI 建立新專案，但因為 Vue-CLI 不允許使用字母大寫，所以我們把資料夾取名 <code>client-app</code>。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create client-app</span><br></pre></td></tr></table></figure>\n\n<p>接著選擇要的 preset，因為 Vuetify 還沒有用到 Vue 3 ，所以這邊就選擇 Vue 2 的選項。也可以依自己的喜好選 Manual 的方式組合。</p>\n<p>接著進入 client-app 裡面，安裝 Vuetify。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd client-app</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue add vuetify</span><br></pre></td></tr></table></figure>\n\n<p>Vuetify 的模板就先選擇 recommended 即可。</p>\n<p>Vue 模板都安裝完後，可以先試跑看有沒有成功。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n\n<p>可以看到在 8080 port 有跑出建置好的 Vue + Vuetify 專案。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXx7Ju-EayPyEeh39b-fJieuM1K7S4ZAA20t5msauhI9baNCBCUXcgkuDXYOwVNIq-lCteGP4Coul2nMF2HEz14wIkrCxiszBHyPjexr8ovkpU6oq-JRjml797zAQu0n-vQxcS0PaRFNbNxIvWxg0W9zQ=w2206-h1378-no?authuser=0\" alt=\"Vue + Vuetify 專案\"></p>\n<p>確認安裝成功，就可以把舊的 ClientApp 刪掉。</p>\n<h1 id=\"設定-config\"><a href=\"#設定-config\" class=\"headerlink\" title=\"設定 config\"></a>設定 config</h1><p>接著我們把一些 proxy config 設定上去，讓 dotnet 可以和 Vue-CLI 銜接起來。</p>\n<p>打開 csproj 檔案。把 <code>SpaRoot</code> 的部分改成新建的資料夾 <code>client-app\\</code>，並注意這裡的 <code>SpaProxyServerUrl</code> port 是 <code>44405</code> 且 <code>SpaProxyLaunchCommand</code> 是 <code>npm start</code>。所以我們要把 Vue-CLI 的設定改成對應的 port 和npm 指令。</p>\n<blockquote>\n<p>注意！若 SpaProxyServerUrl 若是 https 要改成 http。</p>\n</blockquote>\n<blockquote>\n<p>PS. 每次 dotnet 模板起始的 port 都不一樣，請以當次建立的 port 為準。</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaRoot</span>&gt;</span>client-app\\<span class=\"tag\">&lt;/<span class=\"name\">SpaRoot</span>&gt;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaProxyServerUrl</span>&gt;</span>http://localhost:44405<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyServerUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span>npm start<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">RootNamespace</span>&gt;</span>dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">RootNamespace</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ImplicitUsings</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">ImplicitUsings</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  ...</span><br></pre></td></tr></table></figure>\n\n<p>打開 package.json，把 “serve” 改成 “start” 。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;vue-cli-service serve&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;vue-cli-service build&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;lint&quot;</span>: <span class=\"string\">&quot;vue-cli-service lint&quot;</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>打開 vue.config.js，將 devServer port 換成 44405。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; defineConfig &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">44405</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">transpileDependencies</span>: [</span><br><span class=\"line\">    <span class=\"string\">&#x27;vuetify&#x27;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Run\"><a href=\"#Run\" class=\"headerlink\" title=\"Run~\"></a>Run~</h1><p>開啟 csproj 檔案，vscode 會問你是否要建立 debug file，選擇 Yes，vscode 就會建立一個 .vscode 的資料夾。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLW5gDiNQt5ournrdZGTd0Agbja7hRSJkN5lxzUZvyYdB0NHov4H36TB9-9hPGlvLuGdoDNhtpop1FKXeOEeb9PCMar2hpW23SFqnnWMnngsmvYaU5_c5H1SdhjoM4uxbsUQbnaS1aIuzTmobaYxfpCeqg=w2206-h1378-no?authuser=0\" alt=\"vscode debug files\"></p>\n<p>接著去 Debug 按 Run 的按鈕，我們就大功告成囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVicP5nFFOEVCRg9q5YgzfD5ouyqWZhs191vd8zayFgn-fHTkqcRurbx8nd8LduRBA88Z5ndDsrGbkfEYGVyYOXYAmA-zCyrfXM6YxOHK2pw8ITPnN28Ko7Rza5pSxUWwh9TBWIFc0SFlIVzu6XKbsgGA=w2206-h1378-no?authuser=0\" alt=\"Run\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXNAiYrBco8XyOW95fbUADTtz7GyAt0MwSky7U0Oncxo5MqCwNTxJLG9RnIZCgqieqMV_Ieuppnn3m89u1pQeEdrOJfPtZrL9PtoMUOfIPVsB0UHqJUMx5rbCLXEutn4rJwtZ3Z5jIjDZ0W2uy5KjJrSA=w2206-h1378-no?authuser=0\" alt=\"Done\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v6.0.2\">github</a>，下回見～</p>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p>.NET 出到 6 之後，原本官方的 SPA <a href=\"https://github.com/dotnet/aspnetcore/issues/12890\">套件被棄用</a>，新版改成使用 Vue-CLI + SPA Proxy。我們就從零開始建立新的 .NET6 + Vue-CLI (Webpack base) + Vuetify 專案吧～</p>","more":"<h1 id=\"安裝-NET-6-amp-Node-js\"><a href=\"#安裝-NET-6-amp-Node-js\" class=\"headerlink\" title=\"安裝 .NET 6 &amp; Node.js\"></a>安裝 .NET 6 &amp; Node.js</h1><p>要先安裝 <a href=\"https://dotnet.microsoft.com/en-us/download\">.NET 6</a> &amp; <a href=\"https://nodejs.org/en/\">Node.js</a>，並確認版本是否正確。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 dotnet 使用 6.0.200</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 node 使用 v16.4.0</p>\n<h1 id=\"起始-dotnet-template\"><a href=\"#起始-dotnet-template\" class=\"headerlink\" title=\"起始 dotnet template\"></a>起始 dotnet template</h1><p>這次我們先起始一個 react 官方的模板，再從裡面修改檔案。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new react</span><br></pre></td></tr></table></figure>\n\n<p>會看到起始專案長這樣。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLX2z5Nz_ErmoEcxAEgHX_rn68Ifr-8J1v_8NidUaMWUF3pUZviECReYXYcSG248yXZX4zB4STTJKtCSLZovNcX4hnBEqHazkJUI3fv8BOBlu_9U_mI-GYhO4xnVX7ZAqvpVQBV-PNjZsIFZT8Hcrt7c1g=w828-h868-no?authuser=0\" alt=\"dotnet new react\"></p>\n<p>主要 SPA 放置的地方就在 ClientApp 裡面，所以我們只要用 Vue-CLI 建立新的 Vue 專案，把對應的資料夾和設定值替換掉即可。</p>\n<h1 id=\"Vue-CLI-建立專案\"><a href=\"#Vue-CLI-建立專案\" class=\"headerlink\" title=\"Vue-CLI 建立專案\"></a>Vue-CLI 建立專案</h1><p>先安裝 Vue-CLI，並確認版本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue --version</span><br></pre></td></tr></table></figure>\n\n<p>此篇 Vue-CLI 使用 v5.0.1</p>\n<p>接著用 Vue-CLI 建立新專案，但因為 Vue-CLI 不允許使用字母大寫，所以我們把資料夾取名 <code>client-app</code>。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create client-app</span><br></pre></td></tr></table></figure>\n\n<p>接著選擇要的 preset，因為 Vuetify 還沒有用到 Vue 3 ，所以這邊就選擇 Vue 2 的選項。也可以依自己的喜好選 Manual 的方式組合。</p>\n<p>接著進入 client-app 裡面，安裝 Vuetify。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd client-app</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue add vuetify</span><br></pre></td></tr></table></figure>\n\n<p>Vuetify 的模板就先選擇 recommended 即可。</p>\n<p>Vue 模板都安裝完後，可以先試跑看有沒有成功。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n\n<p>可以看到在 8080 port 有跑出建置好的 Vue + Vuetify 專案。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXx7Ju-EayPyEeh39b-fJieuM1K7S4ZAA20t5msauhI9baNCBCUXcgkuDXYOwVNIq-lCteGP4Coul2nMF2HEz14wIkrCxiszBHyPjexr8ovkpU6oq-JRjml797zAQu0n-vQxcS0PaRFNbNxIvWxg0W9zQ=w2206-h1378-no?authuser=0\" alt=\"Vue + Vuetify 專案\"></p>\n<p>確認安裝成功，就可以把舊的 ClientApp 刪掉。</p>\n<h1 id=\"設定-config\"><a href=\"#設定-config\" class=\"headerlink\" title=\"設定 config\"></a>設定 config</h1><p>接著我們把一些 proxy config 設定上去，讓 dotnet 可以和 Vue-CLI 銜接起來。</p>\n<p>打開 csproj 檔案。把 <code>SpaRoot</code> 的部分改成新建的資料夾 <code>client-app\\</code>，並注意這裡的 <code>SpaProxyServerUrl</code> port 是 <code>44405</code> 且 <code>SpaProxyLaunchCommand</code> 是 <code>npm start</code>。所以我們要把 Vue-CLI 的設定改成對應的 port 和npm 指令。</p>\n<blockquote>\n<p>注意！若 SpaProxyServerUrl 若是 https 要改成 http。</p>\n</blockquote>\n<blockquote>\n<p>PS. 每次 dotnet 模板起始的 port 都不一樣，請以當次建立的 port 為準。</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaRoot</span>&gt;</span>client-app\\<span class=\"tag\">&lt;/<span class=\"name\">SpaRoot</span>&gt;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaProxyServerUrl</span>&gt;</span>http://localhost:44405<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyServerUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span>npm start<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">RootNamespace</span>&gt;</span>dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">RootNamespace</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ImplicitUsings</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">ImplicitUsings</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  ...</span><br></pre></td></tr></table></figure>\n\n<p>打開 package.json，把 “serve” 改成 “start” 。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;vue-cli-service serve&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;vue-cli-service build&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;lint&quot;</span>: <span class=\"string\">&quot;vue-cli-service lint&quot;</span></span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>打開 vue.config.js，將 devServer port 換成 44405。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; defineConfig &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">44405</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">transpileDependencies</span>: [</span><br><span class=\"line\">    <span class=\"string\">&#x27;vuetify&#x27;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Run\"><a href=\"#Run\" class=\"headerlink\" title=\"Run~\"></a>Run~</h1><p>開啟 csproj 檔案，vscode 會問你是否要建立 debug file，選擇 Yes，vscode 就會建立一個 .vscode 的資料夾。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLW5gDiNQt5ournrdZGTd0Agbja7hRSJkN5lxzUZvyYdB0NHov4H36TB9-9hPGlvLuGdoDNhtpop1FKXeOEeb9PCMar2hpW23SFqnnWMnngsmvYaU5_c5H1SdhjoM4uxbsUQbnaS1aIuzTmobaYxfpCeqg=w2206-h1378-no?authuser=0\" alt=\"vscode debug files\"></p>\n<p>接著去 Debug 按 Run 的按鈕，我們就大功告成囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVicP5nFFOEVCRg9q5YgzfD5ouyqWZhs191vd8zayFgn-fHTkqcRurbx8nd8LduRBA88Z5ndDsrGbkfEYGVyYOXYAmA-zCyrfXM6YxOHK2pw8ITPnN28Ko7Rza5pSxUWwh9TBWIFc0SFlIVzu6XKbsgGA=w2206-h1378-no?authuser=0\" alt=\"Run\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXNAiYrBco8XyOW95fbUADTtz7GyAt0MwSky7U0Oncxo5MqCwNTxJLG9RnIZCgqieqMV_Ieuppnn3m89u1pQeEdrOJfPtZrL9PtoMUOfIPVsB0UHqJUMx5rbCLXEutn4rJwtZ3Z5jIjDZ0W2uy5KjJrSA=w2206-h1378-no?authuser=0\" alt=\"Done\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v6.0.2\">github</a>，下回見～</p>"},{"title":".NET Core 2.0 SPA with Vue-Cli - Start New Project","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2017-12-01T16:00:00.000Z","updated":"2017-12-01T16:00:00.000Z","_content":"\n`.Net Core` 可以不用開啟慢吞吞的 `IDE`，即可快速建立專案。本篇全程使用 `VScode`，手把手教你如何用 `.NET Core 2.0 MVC` + `vue-cli` 起始一個 `SPA` 專案。當然， `HMR` (Hot Module Replacement) 神器也會一併附上啦。\n<!--more-->\n\n> 首先，這裡先澄清一點，就是 `.NET Core` 的 `template` 內建有 `ASP.NET Core with Vue.js`。因為是套裝，裡面還包含 `Bootstrap`, `Typescript` 等等，畢竟不是每個專案都會用到這些，所以本篇專注在如何結合 `.NET Core` 和 `Vue` ，那些依專案選用的項目就不會在這裡提到。\n\n## 起始 `.NET Core 2.0 MVC` 專案\n\n1. 安裝 [.NET Command Line Interface](https://github.com/dotnet/cli)\n\n2. 新增一個 Core MVC 專案\n\n```dotnet\ndotnet new 'ASP.NET Core Web App (Model-View-Controller)'\n```\n\n3. 刪除不必要的檔案\n\n因為我們是 `SPA` 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。\n\n![刪除多餘頁面和樣式後的檔案](https://lh3.googleusercontent.com/SS8p9bPMBScLwOK1WgnN62PV1W2Tzw2B7KHNgVD9hs2BNQdweBgEZ2ryH8b_X24hUSPNbY52hcdlEeblEfWOjKdXFbZW_ZnZ44yftNz9fbfcuhy8BF8BrlMmmF_PBFJhB7AcOXA4o36r24UcqHbMZQcoAnkCxflijNMA7bZhNhWPXTgqXl4N_ePy8CghldoBBFzDgxtrRgPFS5Xm4cjxl69szT3g1yCmQs0goeNWTFOR12nIsnkbUQN1Cru5V6d6Emfbv9zJE8vsMzde_uFU0VyV0OgGd994-sQs-jORDQ1qijU1O3O3Ycb1Ns8ZM6In9ibZmukZ4GBtNV6SW6dj83Ley2Xo4J_4L-jt__9kRBsVvANhIEonZ-R68GcPqE0KhstaAbvu30u4qtWJJBmuRmfbcEA_1w4qdEkDJ4WJlA4PIbqketu_tLSswyN0U5MDSi0DF0PGHjQA8mXsuYhktGhoJzwEZ8HLa0ENNsIkqgKR4enL2EZWJJVcH-Zc5nqus7A-VYiNfIBv90xzV_DXyN9JVtyEuvpY0H85v65J-uRgTnkJv3JE1Oy2c3nwNcbDWVt67WYwmgr_jNheePATkguwF8zRzmp6Y5vbIGcv4O02vqVBobVZmdtycobJ9E_OT_fFwkUxzA9YCJvuwf7zJFibPpyONXOd=w492-h1024-no \"資料夾結構\")\n\n* `HomeController.cs` 刪除多餘的 Controller，只保留 `Index` 和 `Error`\n\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing dotnet_core_vue_cli.Models;\n\nnamespace dotnet_core_vue_cli.Controllers\n{\n  public class HomeController : Controller\n  {\n    public IActionResult Index()\n    {\n      return View();\n    }\n\n    public IActionResult Error()\n    {\n      return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });\n    }\n  }\n}\n```\n\n* `Index.cshtml` 多餘的 HTML 刪除\n\n```html\n@{\n    ViewData[\"Title\"] = \"Home Page\";\n}\n<h1>TEST</h1>\n```\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>@ViewData[\"Title\"] - dotnet_core_vue_cli</title>\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 CSS -->\n        <!-- <link rel=\"stylesheet\" href=\"~/css/xxx.css\" asp-append-version=\"true\"/> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 CSS -->\n    </environment>\n</head>\n<body>\n    @RenderBody()\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 JS -->\n        <!-- <script src=\"~/js/xxx.js\" asp-append-version=\"true\"></script> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 JS -->\n    </environment>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n\b現在來測試跑看看專案有沒有成功～\n\n執行\n\n```dotnet\ndotnet run\n```\n\n用瀏覽器看 `http://localhost:5000` 就會跑出剛剛在 `Index.cshtml` 改寫的 TEST 字樣囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/jx-O61iOA94K7jY7sjjT1cnBGOG5cuJGlUIqGe96uJOEjZr4gbqFXfb3aD_NWUjP-fsO0pQT8FyHi_WfqN8OvYAijsFrPKfz1eZewo5RDj10Cey0BaWbcPx-fINI8QOSESlq_s-7_NLbC6P5K4n75NztGHc3k1PQybqcZTr7ECKIdjnHvZ7tUgtp0YBOblYyEyUX88rTpLHw40Lhh7LPuSIuQZAXIvUE0q6o0_u7AdfR5wBEfBPMf7TdRVb62uHJzsATQQ9BsAupE4uGj0azfDSiMgassf92umZymj9oLTO7hqZpYT526HkbUSxp8fPkahFvk64wSrClyNFrUltLA0oVXa_YCe1sZ-rS1S5cHxRNNgLDQeUHm8pMWwylXEFTGkszYXe5FVgdxJ-ShYNCOTfj1GU2aAKADKocU_Q2h4jcrX0YyRM8sOiiyI84nEG4ojOS5cAY54IXdT5d_RuAtgZNwh3qnk8MUefgImbnQZQIJnZb45xagVaHqaY3E8L4g7uVBIISo76khvDEW0mgAaCJCmUY-opy5RyFeDFEXJNPbyMfcSgfnMlpzkA_xCJhyhpIqtepveU_QIQqFepAXThCbOGbFX8JP30-seCSQMwFYpFzuTtD6QTwVfHRCDSv9r71dEM-I-EN7MUylDXaRX7MpNKj4UH3=w1024-h670-no \"首頁\")\n\n## 安裝 `vue-cli` 模板\n\n1. 安裝全域 `vue-cli`\n\n```npm\nnpm install -g vue-cli\n```\n\n2. 起始一個簡易的 `vue` + `webpack` 專案\n\n```npm\nvue init webpack-simple\n```\n\n按照 `vue-cli` 的指示回覆操作如下圖。\n\n![vue-cli](https://lh3.googleusercontent.com/7ZcKoLrotMFeNr2e41u_n_BRCQaMGoBjMQdX5_c1QH0kZycDBNJxLMz0JbnP4SU7Gb70QFSzVcNFWT4EO2qW5ThZCO1lDUhIW_2-4wPR2t02qbBHdlqYaOwAjuJhPioCY_rAFy6y9u9kPZ5rt8hEqfvHYYc76puVmwrv7r-KV9rT6RN5tdQfJzMhwnCCwMZEfysY_g-zWr49MtT2uf3q5jEKpmR3xbQ2P4QajWQ1g5lEjA-hiOQnbJXkfKl9z6tqzBxyNBQTZISlV0C7DIf4pzFTRk0IFLPW9CfnNtDNDIdT3VyTvONjMoxH6tql-qYwb59Qmg4ExG53WKIrw4YlUfVgR0jtNKnpkxQULSzRPG9xeuOdN0KLyDQ8v_Dvy4JsZLrKSPZVhWHmMyge_Kg_BHITk7Rkfu3g4wNWtZXo2keGXtTlX0_0hXdrAfQtX2lWB92lzc7TknYtrT3WwnEs5-2xKyHUh195Re2x-GdrkzbhsctuIFlw4fHHZIIq8NniKT84GZpTRXVPww9n3AqKcy9dOEdkDy_JvmEhOiLuAM3f5HRUp-8qWpo6bue5ItlRI51PgU4LuuralE9R8SgbnynfBHmkI4a_bdFXWTIUj4BJgEEvExRFhjqwpsbDlQT6MK8xd7-D1H7K6fYamrAaVdP8QYzXQwCu=w1024-h579-no \"vue-cli\")\n\n執行\n\n```npm\nnpm install\n```\n\n測試 `Node` 有沒有安裝成功 `Vue` 專案\n\n```npm\nnpm run dev\n```\n\n用瀏覽器看 `http://localhost:8080` 如果有成功出現如下面畫面就是安裝成功 `vue` 的專案囉～\n\n![http://localhost:8080](https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no \"首頁\")\n\n> 誒～你有沒有注意到奇怪的地方啊?!我們跑 `vue` 的時候是用 `node server` 執行，但是真正專案要在 `.NET server` 執行。所以怎麼把這兩者結合呢？主要原理就是：在 `Development` 時把 `node server` 當作是前端產生靜態資源 (`JS`, `Css`, `images`...) 的工具; `Production` 的部分就把產出過後的靜態資源給 `.NET server` 使用。廢話不多說，我們就來趕緊試試看吧。\n\n## 結合 `.NET Core` 和 `Vue`\n\n1. 修改 `webpack.config.js`，將靜態檔案產生在 `wwwroot` 資料夾中\n\n```js\n......\nmodule.exports = {\n  entry: {\n    main: './src/main.js'\n  },\n  output: {\n    path: path.resolve(__dirname, './wwwroot'),\n    publicPath: '/wwwroot/',\n    filename: 'js/build.js'\n  },\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          publicPath: '/',\n          outputPath: 'imgs/',\n          name: '[name].[ext]?[hash]'\n        }\n      }\n    ]\n  },\n  ......\n}\n......\n```\n\n2. 修改 `cshtml` 加入對應的 `js` 和 `html`\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>@ViewData[\"Title\"] - dotnet_core_vue_cli</title>\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 CSS -->\n        <!-- <link rel=\"stylesheet\" href=\"~/css/xxx.css\" asp-append-version=\"true\"/> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 CSS -->\n    </environment>\n</head>\n<body>\n    @RenderBody()\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 JS -->\n        <script src=\"~/js/build.js\" asp-append-version=\"true\"></script>\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 JS -->\n        <script src=\"~/js/build.js\" asp-append-version=\"true\"></script>\n    </environment>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n* 接著修改 `Index.cshtml`\n\n```html\n@{\n    ViewData[\"Title\"] = \"Home Page\";\n}\n<div id=\"app\"></div>\n```\n\n測試跑跑看 `.NET server` 有沒有成功？\n\n先產生靜態檔案\n\n```npm\nnpm run build\n```\n\n再啟動伺服器\n\n```dotnet\ndotnet run\n```\n\n成功就會出現之前一樣的畫面囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no \"首頁\")\n\n## 設定 `HMR` 和 `vue router` 的 fallback\n\n接著才是重頭戲～如魔法般的 `HMR` 功能登場!!!\n\n如果還不太知道什麼是 `HMR` 的，就 google 一下囉～\n\n1. 安裝 `aspnet-webpack`, `webpack-hot-middleware`\n\n```npm\nnpm i -D aspnet-webpack\n```\n\n```npm\nnpm i -D webpack-hot-middleware\n```\n\n2. 新增 `ASP.NET Core SPA Services`\n\n```npm\ndotnet add package Microsoft.AspNetCore.SpaServices --version 2.0.1 \n```\n\n3. 修改 `Startup.cs`\n\n```C#\nusing Microsoft.AspNetCore.SpaServices.Webpack;\n\n......\n  // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n  public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n  {\n    // [HMR] http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/\n    if (env.IsDevelopment())\n    {\n      app.UseDeveloperExceptionPage();\n      app.UseWebpackDevMiddleware(new WebpackDevMiddlewareOptions\n      {\n        HotModuleReplacement = true\n      });\n    }\n    ......\n    app.UseMvc(routes =>\n    {\n      routes.MapRoute(\n        name: \"default\",\n        template: \"{controller=Home}/{action=Index}/{id?}\");\n\n      // Use Vue Router must add fallback route\n      // Help to navigate directly\n      // https://stu.ratcliffe.io/2017/07/20/vuejs-serverside-rendering-with-aspnet-core\n      routes.MapSpaFallbackRoute(\"spa-fallback\", new { controller = \"Home\", action = \"Index\" });\n    });\n  }\n......\n```\n\n4. `package.json` 指令加上 HMR\n\n```json\n{\n  ......\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    \"dev\": \"cross-env NODE_ENV=development webpack-dev-server --open --hot\",\n    \"build\": \"cross-env NODE_ENV=production webpack --progress --hide-modules\"\n  },\n  ......\n}\n```\n\n執行\n\n```npm\nnpm run hmr\n```\n\n成功的話就會從 `Chrome` 開發者工具看到 `HMR` 連結成功囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/teS4z4xS0BE6CsIMEuUgrFU5cEQE_naAsDJb_O-6aYc-WeCvmduiHEyRQJPaBzbMQmOImdXcfv1E9VmDRitocPemHDsPCuk-njpIeDdPItuP4kdMfI_cqaJNnrSO9k8NpJC_0NwQj5L8NgHSIH7amFlGYZwNk9JsyxhgMkOCc67_dbYE48P8gTTr0qbqutjyrm14fdsNJjyUJsAPn8xji47-Asj55hOQv8ilN3-3pNNeXAMybVAdNRoCKZk8MnMJea_qTuoiEMzltk_LHP07K6jbamM7--uqYimHhmW2ZtZ89z9GrW5mc9zR4G9X2oosIEByxrB7tlrHPyDm_JDPQ30cVBaqaed0XwYLwYyemd9IDDQb3e5UvfAbih1KB9UK6poAkEuwAaEXvFlkZRC5_rN16EVSzUoHFH5sTQ2_7xVo4YAP0U_gpP4K1gQdVUVM2yFvOBWpf8V0bJQWIv5QV9vxihQ5nZp5Mk58dK8XhAQPMxCQKDc6VdVBQ-5B5VT1_s_OATXA6masol_u--aruB29iWQPemdwa-iGpYdkWmGkAVVXTcyPqqUZ_uZDkoVo5EPhQ-fYZtlrupwtNXy84xiVmbSQSDUr7kFb4ns7e7RQ2oZChZO7bC72UuvqyMTKWH91j1htEDPQJzjHNFJKaKYmd0xg-9R6=w1024-h670-no \"首頁\")\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.0.0)，下回見～\n\n## 參考資料\n\n* [Modern Web Development using ASP.NET Core template, Vue.js and Webpack](http://www.dotnetcurry.com/aspnet/1383/modern-web-dev-aspnet-core-webpack-vuejs)\n* [Using Hot Module Replacement Feature Of Webpack In ASP.NET Core](http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/)\n* [Microsoft.AspNetCore.SpaServices](https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices/)","source":"_posts/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli.md","raw":"---\ntitle: .NET Core 2.0 SPA with Vue-Cli - Start New Project\ncategories:\n  - .NET Core\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET Core, dotnet, Vue, Webpack, SPA, MVC, VScode]\ndate: 2017/12/02\nupdated: 2017/12/02\n---\n\n`.Net Core` 可以不用開啟慢吞吞的 `IDE`，即可快速建立專案。本篇全程使用 `VScode`，手把手教你如何用 `.NET Core 2.0 MVC` + `vue-cli` 起始一個 `SPA` 專案。當然， `HMR` (Hot Module Replacement) 神器也會一併附上啦。\n<!--more-->\n\n> 首先，這裡先澄清一點，就是 `.NET Core` 的 `template` 內建有 `ASP.NET Core with Vue.js`。因為是套裝，裡面還包含 `Bootstrap`, `Typescript` 等等，畢竟不是每個專案都會用到這些，所以本篇專注在如何結合 `.NET Core` 和 `Vue` ，那些依專案選用的項目就不會在這裡提到。\n\n## 起始 `.NET Core 2.0 MVC` 專案\n\n1. 安裝 [.NET Command Line Interface](https://github.com/dotnet/cli)\n\n2. 新增一個 Core MVC 專案\n\n```dotnet\ndotnet new 'ASP.NET Core Web App (Model-View-Controller)'\n```\n\n3. 刪除不必要的檔案\n\n因為我們是 `SPA` 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。\n\n![刪除多餘頁面和樣式後的檔案](https://lh3.googleusercontent.com/SS8p9bPMBScLwOK1WgnN62PV1W2Tzw2B7KHNgVD9hs2BNQdweBgEZ2ryH8b_X24hUSPNbY52hcdlEeblEfWOjKdXFbZW_ZnZ44yftNz9fbfcuhy8BF8BrlMmmF_PBFJhB7AcOXA4o36r24UcqHbMZQcoAnkCxflijNMA7bZhNhWPXTgqXl4N_ePy8CghldoBBFzDgxtrRgPFS5Xm4cjxl69szT3g1yCmQs0goeNWTFOR12nIsnkbUQN1Cru5V6d6Emfbv9zJE8vsMzde_uFU0VyV0OgGd994-sQs-jORDQ1qijU1O3O3Ycb1Ns8ZM6In9ibZmukZ4GBtNV6SW6dj83Ley2Xo4J_4L-jt__9kRBsVvANhIEonZ-R68GcPqE0KhstaAbvu30u4qtWJJBmuRmfbcEA_1w4qdEkDJ4WJlA4PIbqketu_tLSswyN0U5MDSi0DF0PGHjQA8mXsuYhktGhoJzwEZ8HLa0ENNsIkqgKR4enL2EZWJJVcH-Zc5nqus7A-VYiNfIBv90xzV_DXyN9JVtyEuvpY0H85v65J-uRgTnkJv3JE1Oy2c3nwNcbDWVt67WYwmgr_jNheePATkguwF8zRzmp6Y5vbIGcv4O02vqVBobVZmdtycobJ9E_OT_fFwkUxzA9YCJvuwf7zJFibPpyONXOd=w492-h1024-no \"資料夾結構\")\n\n* `HomeController.cs` 刪除多餘的 Controller，只保留 `Index` 和 `Error`\n\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing dotnet_core_vue_cli.Models;\n\nnamespace dotnet_core_vue_cli.Controllers\n{\n  public class HomeController : Controller\n  {\n    public IActionResult Index()\n    {\n      return View();\n    }\n\n    public IActionResult Error()\n    {\n      return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });\n    }\n  }\n}\n```\n\n* `Index.cshtml` 多餘的 HTML 刪除\n\n```html\n@{\n    ViewData[\"Title\"] = \"Home Page\";\n}\n<h1>TEST</h1>\n```\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>@ViewData[\"Title\"] - dotnet_core_vue_cli</title>\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 CSS -->\n        <!-- <link rel=\"stylesheet\" href=\"~/css/xxx.css\" asp-append-version=\"true\"/> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 CSS -->\n    </environment>\n</head>\n<body>\n    @RenderBody()\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 JS -->\n        <!-- <script src=\"~/js/xxx.js\" asp-append-version=\"true\"></script> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 JS -->\n    </environment>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n\b現在來測試跑看看專案有沒有成功～\n\n執行\n\n```dotnet\ndotnet run\n```\n\n用瀏覽器看 `http://localhost:5000` 就會跑出剛剛在 `Index.cshtml` 改寫的 TEST 字樣囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/jx-O61iOA94K7jY7sjjT1cnBGOG5cuJGlUIqGe96uJOEjZr4gbqFXfb3aD_NWUjP-fsO0pQT8FyHi_WfqN8OvYAijsFrPKfz1eZewo5RDj10Cey0BaWbcPx-fINI8QOSESlq_s-7_NLbC6P5K4n75NztGHc3k1PQybqcZTr7ECKIdjnHvZ7tUgtp0YBOblYyEyUX88rTpLHw40Lhh7LPuSIuQZAXIvUE0q6o0_u7AdfR5wBEfBPMf7TdRVb62uHJzsATQQ9BsAupE4uGj0azfDSiMgassf92umZymj9oLTO7hqZpYT526HkbUSxp8fPkahFvk64wSrClyNFrUltLA0oVXa_YCe1sZ-rS1S5cHxRNNgLDQeUHm8pMWwylXEFTGkszYXe5FVgdxJ-ShYNCOTfj1GU2aAKADKocU_Q2h4jcrX0YyRM8sOiiyI84nEG4ojOS5cAY54IXdT5d_RuAtgZNwh3qnk8MUefgImbnQZQIJnZb45xagVaHqaY3E8L4g7uVBIISo76khvDEW0mgAaCJCmUY-opy5RyFeDFEXJNPbyMfcSgfnMlpzkA_xCJhyhpIqtepveU_QIQqFepAXThCbOGbFX8JP30-seCSQMwFYpFzuTtD6QTwVfHRCDSv9r71dEM-I-EN7MUylDXaRX7MpNKj4UH3=w1024-h670-no \"首頁\")\n\n## 安裝 `vue-cli` 模板\n\n1. 安裝全域 `vue-cli`\n\n```npm\nnpm install -g vue-cli\n```\n\n2. 起始一個簡易的 `vue` + `webpack` 專案\n\n```npm\nvue init webpack-simple\n```\n\n按照 `vue-cli` 的指示回覆操作如下圖。\n\n![vue-cli](https://lh3.googleusercontent.com/7ZcKoLrotMFeNr2e41u_n_BRCQaMGoBjMQdX5_c1QH0kZycDBNJxLMz0JbnP4SU7Gb70QFSzVcNFWT4EO2qW5ThZCO1lDUhIW_2-4wPR2t02qbBHdlqYaOwAjuJhPioCY_rAFy6y9u9kPZ5rt8hEqfvHYYc76puVmwrv7r-KV9rT6RN5tdQfJzMhwnCCwMZEfysY_g-zWr49MtT2uf3q5jEKpmR3xbQ2P4QajWQ1g5lEjA-hiOQnbJXkfKl9z6tqzBxyNBQTZISlV0C7DIf4pzFTRk0IFLPW9CfnNtDNDIdT3VyTvONjMoxH6tql-qYwb59Qmg4ExG53WKIrw4YlUfVgR0jtNKnpkxQULSzRPG9xeuOdN0KLyDQ8v_Dvy4JsZLrKSPZVhWHmMyge_Kg_BHITk7Rkfu3g4wNWtZXo2keGXtTlX0_0hXdrAfQtX2lWB92lzc7TknYtrT3WwnEs5-2xKyHUh195Re2x-GdrkzbhsctuIFlw4fHHZIIq8NniKT84GZpTRXVPww9n3AqKcy9dOEdkDy_JvmEhOiLuAM3f5HRUp-8qWpo6bue5ItlRI51PgU4LuuralE9R8SgbnynfBHmkI4a_bdFXWTIUj4BJgEEvExRFhjqwpsbDlQT6MK8xd7-D1H7K6fYamrAaVdP8QYzXQwCu=w1024-h579-no \"vue-cli\")\n\n執行\n\n```npm\nnpm install\n```\n\n測試 `Node` 有沒有安裝成功 `Vue` 專案\n\n```npm\nnpm run dev\n```\n\n用瀏覽器看 `http://localhost:8080` 如果有成功出現如下面畫面就是安裝成功 `vue` 的專案囉～\n\n![http://localhost:8080](https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no \"首頁\")\n\n> 誒～你有沒有注意到奇怪的地方啊?!我們跑 `vue` 的時候是用 `node server` 執行，但是真正專案要在 `.NET server` 執行。所以怎麼把這兩者結合呢？主要原理就是：在 `Development` 時把 `node server` 當作是前端產生靜態資源 (`JS`, `Css`, `images`...) 的工具; `Production` 的部分就把產出過後的靜態資源給 `.NET server` 使用。廢話不多說，我們就來趕緊試試看吧。\n\n## 結合 `.NET Core` 和 `Vue`\n\n1. 修改 `webpack.config.js`，將靜態檔案產生在 `wwwroot` 資料夾中\n\n```js\n......\nmodule.exports = {\n  entry: {\n    main: './src/main.js'\n  },\n  output: {\n    path: path.resolve(__dirname, './wwwroot'),\n    publicPath: '/wwwroot/',\n    filename: 'js/build.js'\n  },\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          publicPath: '/',\n          outputPath: 'imgs/',\n          name: '[name].[ext]?[hash]'\n        }\n      }\n    ]\n  },\n  ......\n}\n......\n```\n\n2. 修改 `cshtml` 加入對應的 `js` 和 `html`\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>@ViewData[\"Title\"] - dotnet_core_vue_cli</title>\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 CSS -->\n        <!-- <link rel=\"stylesheet\" href=\"~/css/xxx.css\" asp-append-version=\"true\"/> -->\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 CSS -->\n    </environment>\n</head>\n<body>\n    @RenderBody()\n\n    <environment include=\"Development\">\n        <!-- 這邊放 Development 的 JS -->\n        <script src=\"~/js/build.js\" asp-append-version=\"true\"></script>\n    </environment>\n    <environment exclude=\"Development\">\n        <!-- 這邊放 Production 的 JS -->\n        <script src=\"~/js/build.js\" asp-append-version=\"true\"></script>\n    </environment>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n* 接著修改 `Index.cshtml`\n\n```html\n@{\n    ViewData[\"Title\"] = \"Home Page\";\n}\n<div id=\"app\"></div>\n```\n\n測試跑跑看 `.NET server` 有沒有成功？\n\n先產生靜態檔案\n\n```npm\nnpm run build\n```\n\n再啟動伺服器\n\n```dotnet\ndotnet run\n```\n\n成功就會出現之前一樣的畫面囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no \"首頁\")\n\n## 設定 `HMR` 和 `vue router` 的 fallback\n\n接著才是重頭戲～如魔法般的 `HMR` 功能登場!!!\n\n如果還不太知道什麼是 `HMR` 的，就 google 一下囉～\n\n1. 安裝 `aspnet-webpack`, `webpack-hot-middleware`\n\n```npm\nnpm i -D aspnet-webpack\n```\n\n```npm\nnpm i -D webpack-hot-middleware\n```\n\n2. 新增 `ASP.NET Core SPA Services`\n\n```npm\ndotnet add package Microsoft.AspNetCore.SpaServices --version 2.0.1 \n```\n\n3. 修改 `Startup.cs`\n\n```C#\nusing Microsoft.AspNetCore.SpaServices.Webpack;\n\n......\n  // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n  public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n  {\n    // [HMR] http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/\n    if (env.IsDevelopment())\n    {\n      app.UseDeveloperExceptionPage();\n      app.UseWebpackDevMiddleware(new WebpackDevMiddlewareOptions\n      {\n        HotModuleReplacement = true\n      });\n    }\n    ......\n    app.UseMvc(routes =>\n    {\n      routes.MapRoute(\n        name: \"default\",\n        template: \"{controller=Home}/{action=Index}/{id?}\");\n\n      // Use Vue Router must add fallback route\n      // Help to navigate directly\n      // https://stu.ratcliffe.io/2017/07/20/vuejs-serverside-rendering-with-aspnet-core\n      routes.MapSpaFallbackRoute(\"spa-fallback\", new { controller = \"Home\", action = \"Index\" });\n    });\n  }\n......\n```\n\n4. `package.json` 指令加上 HMR\n\n```json\n{\n  ......\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    \"dev\": \"cross-env NODE_ENV=development webpack-dev-server --open --hot\",\n    \"build\": \"cross-env NODE_ENV=production webpack --progress --hide-modules\"\n  },\n  ......\n}\n```\n\n執行\n\n```npm\nnpm run hmr\n```\n\n成功的話就會從 `Chrome` 開發者工具看到 `HMR` 連結成功囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/teS4z4xS0BE6CsIMEuUgrFU5cEQE_naAsDJb_O-6aYc-WeCvmduiHEyRQJPaBzbMQmOImdXcfv1E9VmDRitocPemHDsPCuk-njpIeDdPItuP4kdMfI_cqaJNnrSO9k8NpJC_0NwQj5L8NgHSIH7amFlGYZwNk9JsyxhgMkOCc67_dbYE48P8gTTr0qbqutjyrm14fdsNJjyUJsAPn8xji47-Asj55hOQv8ilN3-3pNNeXAMybVAdNRoCKZk8MnMJea_qTuoiEMzltk_LHP07K6jbamM7--uqYimHhmW2ZtZ89z9GrW5mc9zR4G9X2oosIEByxrB7tlrHPyDm_JDPQ30cVBaqaed0XwYLwYyemd9IDDQb3e5UvfAbih1KB9UK6poAkEuwAaEXvFlkZRC5_rN16EVSzUoHFH5sTQ2_7xVo4YAP0U_gpP4K1gQdVUVM2yFvOBWpf8V0bJQWIv5QV9vxihQ5nZp5Mk58dK8XhAQPMxCQKDc6VdVBQ-5B5VT1_s_OATXA6masol_u--aruB29iWQPemdwa-iGpYdkWmGkAVVXTcyPqqUZ_uZDkoVo5EPhQ-fYZtlrupwtNXy84xiVmbSQSDUr7kFb4ns7e7RQ2oZChZO7bC72UuvqyMTKWH91j1htEDPQJzjHNFJKaKYmd0xg-9R6=w1024-h670-no \"首頁\")\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.0.0)，下回見～\n\n## 參考資料\n\n* [Modern Web Development using ASP.NET Core template, Vue.js and Webpack](http://www.dotnetcurry.com/aspnet/1383/modern-web-dev-aspnet-core-webpack-vuejs)\n* [Using Hot Module Replacement Feature Of Webpack In ASP.NET Core](http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/)\n* [Microsoft.AspNetCore.SpaServices](https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices/)","slug":"Dotnet/NET-Core-2-0-SPA-with-Vue-Cli","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qe001gr3y7c4nzbpv6","content":"<p><code>.Net Core</code> 可以不用開啟慢吞吞的 <code>IDE</code>，即可快速建立專案。本篇全程使用 <code>VScode</code>，手把手教你如何用 <code>.NET Core 2.0 MVC</code> + <code>vue-cli</code> 起始一個 <code>SPA</code> 專案。當然， <code>HMR</code> (Hot Module Replacement) 神器也會一併附上啦。</p>\n<span id=\"more\"></span>\n\n<blockquote>\n<p>首先，這裡先澄清一點，就是 <code>.NET Core</code> 的 <code>template</code> 內建有 <code>ASP.NET Core with Vue.js</code>。因為是套裝，裡面還包含 <code>Bootstrap</code>, <code>Typescript</code> 等等，畢竟不是每個專案都會用到這些，所以本篇專注在如何結合 <code>.NET Core</code> 和 <code>Vue</code> ，那些依專案選用的項目就不會在這裡提到。</p>\n</blockquote>\n<h2 id=\"起始-NET-Core-2-0-MVC-專案\"><a href=\"#起始-NET-Core-2-0-MVC-專案\" class=\"headerlink\" title=\"起始 .NET Core 2.0 MVC 專案\"></a>起始 <code>.NET Core 2.0 MVC</code> 專案</h2><ol>\n<li><p>安裝 <a href=\"https://github.com/dotnet/cli\">.NET Command Line Interface</a></p>\n</li>\n<li><p>新增一個 Core MVC 專案</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new &#x27;ASP.NET Core Web App (Model-View-Controller)&#x27;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>刪除不必要的檔案</li>\n</ol>\n<p>因為我們是 <code>SPA</code> 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。</p>\n<p><img src=\"https://lh3.googleusercontent.com/SS8p9bPMBScLwOK1WgnN62PV1W2Tzw2B7KHNgVD9hs2BNQdweBgEZ2ryH8b_X24hUSPNbY52hcdlEeblEfWOjKdXFbZW_ZnZ44yftNz9fbfcuhy8BF8BrlMmmF_PBFJhB7AcOXA4o36r24UcqHbMZQcoAnkCxflijNMA7bZhNhWPXTgqXl4N_ePy8CghldoBBFzDgxtrRgPFS5Xm4cjxl69szT3g1yCmQs0goeNWTFOR12nIsnkbUQN1Cru5V6d6Emfbv9zJE8vsMzde_uFU0VyV0OgGd994-sQs-jORDQ1qijU1O3O3Ycb1Ns8ZM6In9ibZmukZ4GBtNV6SW6dj83Ley2Xo4J_4L-jt__9kRBsVvANhIEonZ-R68GcPqE0KhstaAbvu30u4qtWJJBmuRmfbcEA_1w4qdEkDJ4WJlA4PIbqketu_tLSswyN0U5MDSi0DF0PGHjQA8mXsuYhktGhoJzwEZ8HLa0ENNsIkqgKR4enL2EZWJJVcH-Zc5nqus7A-VYiNfIBv90xzV_DXyN9JVtyEuvpY0H85v65J-uRgTnkJv3JE1Oy2c3nwNcbDWVt67WYwmgr_jNheePATkguwF8zRzmp6Y5vbIGcv4O02vqVBobVZmdtycobJ9E_OT_fFwkUxzA9YCJvuwf7zJFibPpyONXOd=w492-h1024-no\" alt=\"刪除多餘頁面和樣式後的檔案\" title=\"資料夾結構\"></p>\n<ul>\n<li><code>HomeController.cs</code> 刪除多餘的 Controller，只保留 <code>Index</code> 和 <code>Error</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class=\"line\"><span class=\"keyword\">using</span> dotnet_core_vue_cli.Models;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli.Controllers</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Error</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> View(<span class=\"keyword\">new</span> ErrorViewModel &#123; RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>Index.cshtml</code> 多餘的 HTML 刪除</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@&#123;</span><br><span class=\"line\">    ViewData[&quot;Title&quot;] = &quot;Home Page&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>TEST<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>@ViewData[&quot;Title&quot;] - dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 CSS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;~/css/xxx.css&quot; asp-append-version=&quot;true&quot;/&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 CSS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;script src=&quot;~/js/xxx.js&quot; asp-append-version=&quot;true&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 JS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>\b現在來測試跑看看專案有沒有成功～</p>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:5000</code> 就會跑出剛剛在 <code>Index.cshtml</code> 改寫的 TEST 字樣囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/jx-O61iOA94K7jY7sjjT1cnBGOG5cuJGlUIqGe96uJOEjZr4gbqFXfb3aD_NWUjP-fsO0pQT8FyHi_WfqN8OvYAijsFrPKfz1eZewo5RDj10Cey0BaWbcPx-fINI8QOSESlq_s-7_NLbC6P5K4n75NztGHc3k1PQybqcZTr7ECKIdjnHvZ7tUgtp0YBOblYyEyUX88rTpLHw40Lhh7LPuSIuQZAXIvUE0q6o0_u7AdfR5wBEfBPMf7TdRVb62uHJzsATQQ9BsAupE4uGj0azfDSiMgassf92umZymj9oLTO7hqZpYT526HkbUSxp8fPkahFvk64wSrClyNFrUltLA0oVXa_YCe1sZ-rS1S5cHxRNNgLDQeUHm8pMWwylXEFTGkszYXe5FVgdxJ-ShYNCOTfj1GU2aAKADKocU_Q2h4jcrX0YyRM8sOiiyI84nEG4ojOS5cAY54IXdT5d_RuAtgZNwh3qnk8MUefgImbnQZQIJnZb45xagVaHqaY3E8L4g7uVBIISo76khvDEW0mgAaCJCmUY-opy5RyFeDFEXJNPbyMfcSgfnMlpzkA_xCJhyhpIqtepveU_QIQqFepAXThCbOGbFX8JP30-seCSQMwFYpFzuTtD6QTwVfHRCDSv9r71dEM-I-EN7MUylDXaRX7MpNKj4UH3=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<h2 id=\"安裝-vue-cli-模板\"><a href=\"#安裝-vue-cli-模板\" class=\"headerlink\" title=\"安裝 vue-cli 模板\"></a>安裝 <code>vue-cli</code> 模板</h2><ol>\n<li>安裝全域 <code>vue-cli</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g vue-cli</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>起始一個簡易的 <code>vue</code> + <code>webpack</code> 專案</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue init webpack-simple</span><br></pre></td></tr></table></figure>\n\n<p>按照 <code>vue-cli</code> 的指示回覆操作如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/7ZcKoLrotMFeNr2e41u_n_BRCQaMGoBjMQdX5_c1QH0kZycDBNJxLMz0JbnP4SU7Gb70QFSzVcNFWT4EO2qW5ThZCO1lDUhIW_2-4wPR2t02qbBHdlqYaOwAjuJhPioCY_rAFy6y9u9kPZ5rt8hEqfvHYYc76puVmwrv7r-KV9rT6RN5tdQfJzMhwnCCwMZEfysY_g-zWr49MtT2uf3q5jEKpmR3xbQ2P4QajWQ1g5lEjA-hiOQnbJXkfKl9z6tqzBxyNBQTZISlV0C7DIf4pzFTRk0IFLPW9CfnNtDNDIdT3VyTvONjMoxH6tql-qYwb59Qmg4ExG53WKIrw4YlUfVgR0jtNKnpkxQULSzRPG9xeuOdN0KLyDQ8v_Dvy4JsZLrKSPZVhWHmMyge_Kg_BHITk7Rkfu3g4wNWtZXo2keGXtTlX0_0hXdrAfQtX2lWB92lzc7TknYtrT3WwnEs5-2xKyHUh195Re2x-GdrkzbhsctuIFlw4fHHZIIq8NniKT84GZpTRXVPww9n3AqKcy9dOEdkDy_JvmEhOiLuAM3f5HRUp-8qWpo6bue5ItlRI51PgU4LuuralE9R8SgbnynfBHmkI4a_bdFXWTIUj4BJgEEvExRFhjqwpsbDlQT6MK8xd7-D1H7K6fYamrAaVdP8QYzXQwCu=w1024-h579-no\" alt=\"vue-cli\" title=\"vue-cli\"></p>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<p>測試 <code>Node</code> 有沒有安裝成功 <code>Vue</code> 專案</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:8080</code> 如果有成功出現如下面畫面就是安裝成功 <code>vue</code> 的專案囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no\" alt=\"http://localhost:8080\" title=\"首頁\"></p>\n<blockquote>\n<p>誒～你有沒有注意到奇怪的地方啊?!我們跑 <code>vue</code> 的時候是用 <code>node server</code> 執行，但是真正專案要在 <code>.NET server</code> 執行。所以怎麼把這兩者結合呢？主要原理就是：在 <code>Development</code> 時把 <code>node server</code> 當作是前端產生靜態資源 (<code>JS</code>, <code>Css</code>, <code>images</code>…) 的工具; <code>Production</code> 的部分就把產出過後的靜態資源給 <code>.NET server</code> 使用。廢話不多說，我們就來趕緊試試看吧。</p>\n</blockquote>\n<h2 id=\"結合-NET-Core-和-Vue\"><a href=\"#結合-NET-Core-和-Vue\" class=\"headerlink\" title=\"結合 .NET Core 和 Vue\"></a>結合 <code>.NET Core</code> 和 <code>Vue</code></h2><ol>\n<li>修改 <code>webpack.config.js</code>，將靜態檔案產生在 <code>wwwroot</code> 資料夾中</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">main</span>: <span class=\"string\">&#x27;./src/main.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;./wwwroot&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/wwwroot/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;js/build.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|gif|svg)$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;file-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">outputPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name].[ext]?[hash]&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>修改 <code>cshtml</code> 加入對應的 <code>js</code> 和 <code>html</code></li>\n</ol>\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>@ViewData[&quot;Title&quot;] - dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 CSS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;~/css/xxx.css&quot; asp-append-version=&quot;true&quot;/&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 CSS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/build.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/build.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>接著修改 <code>Index.cshtml</code></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@&#123;</span><br><span class=\"line\">    ViewData[&quot;Title&quot;] = &quot;Home Page&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>測試跑跑看 <code>.NET server</code> 有沒有成功？</p>\n<p>先產生靜態檔案</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n\n<p>再啟動伺服器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n\n<p>成功就會出現之前一樣的畫面囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<h2 id=\"設定-HMR-和-vue-router-的-fallback\"><a href=\"#設定-HMR-和-vue-router-的-fallback\" class=\"headerlink\" title=\"設定 HMR 和 vue router 的 fallback\"></a>設定 <code>HMR</code> 和 <code>vue router</code> 的 fallback</h2><p>接著才是重頭戲～如魔法般的 <code>HMR</code> 功能登場!!!</p>\n<p>如果還不太知道什麼是 <code>HMR</code> 的，就 google 一下囉～</p>\n<ol>\n<li>安裝 <code>aspnet-webpack</code>, <code>webpack-hot-middleware</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D aspnet-webpack</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack-hot-middleware</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>新增 <code>ASP.NET Core SPA Services</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet add package Microsoft.AspNetCore.SpaServices --version 2.0.1 </span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>修改 <code>Startup.cs</code></li>\n</ol>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.Webpack;</span><br><span class=\"line\"></span><br><span class=\"line\">......</span><br><span class=\"line\">  <span class=\"comment\">// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env</span>)</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// [HMR] http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      app.UseDeveloperExceptionPage();</span><br><span class=\"line\">      app.UseWebpackDevMiddleware(<span class=\"keyword\">new</span> WebpackDevMiddlewareOptions</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        HotModuleReplacement = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      routes.MapRoute(</span><br><span class=\"line\">        name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">        template: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Use Vue Router must add fallback route</span></span><br><span class=\"line\">      <span class=\"comment\">// Help to navigate directly</span></span><br><span class=\"line\">      <span class=\"comment\">// https://stu.ratcliffe.io/2017/07/20/vuejs-serverside-rendering-with-aspnet-core</span></span><br><span class=\"line\">      routes.MapSpaFallbackRoute(<span class=\"string\">&quot;spa-fallback&quot;</span>, <span class=\"keyword\">new</span> &#123; controller = <span class=\"string\">&quot;Home&quot;</span>, action = <span class=\"string\">&quot;Index&quot;</span> &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li><code>package.json</code> 指令加上 HMR</li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development webpack-dev-server --open --hot&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=production webpack --progress --hide-modules&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run hmr</span><br></pre></td></tr></table></figure>\n\n<p>成功的話就會從 <code>Chrome</code> 開發者工具看到 <code>HMR</code> 連結成功囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/teS4z4xS0BE6CsIMEuUgrFU5cEQE_naAsDJb_O-6aYc-WeCvmduiHEyRQJPaBzbMQmOImdXcfv1E9VmDRitocPemHDsPCuk-njpIeDdPItuP4kdMfI_cqaJNnrSO9k8NpJC_0NwQj5L8NgHSIH7amFlGYZwNk9JsyxhgMkOCc67_dbYE48P8gTTr0qbqutjyrm14fdsNJjyUJsAPn8xji47-Asj55hOQv8ilN3-3pNNeXAMybVAdNRoCKZk8MnMJea_qTuoiEMzltk_LHP07K6jbamM7--uqYimHhmW2ZtZ89z9GrW5mc9zR4G9X2oosIEByxrB7tlrHPyDm_JDPQ30cVBaqaed0XwYLwYyemd9IDDQb3e5UvfAbih1KB9UK6poAkEuwAaEXvFlkZRC5_rN16EVSzUoHFH5sTQ2_7xVo4YAP0U_gpP4K1gQdVUVM2yFvOBWpf8V0bJQWIv5QV9vxihQ5nZp5Mk58dK8XhAQPMxCQKDc6VdVBQ-5B5VT1_s_OATXA6masol_u--aruB29iWQPemdwa-iGpYdkWmGkAVVXTcyPqqUZ_uZDkoVo5EPhQ-fYZtlrupwtNXy84xiVmbSQSDUr7kFb4ns7e7RQ2oZChZO7bC72UuvqyMTKWH91j1htEDPQJzjHNFJKaKYmd0xg-9R6=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.0.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"http://www.dotnetcurry.com/aspnet/1383/modern-web-dev-aspnet-core-webpack-vuejs\">Modern Web Development using ASP.NET Core template, Vue.js and Webpack</a></li>\n<li><a href=\"http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/\">Using Hot Module Replacement Feature Of Webpack In ASP.NET Core</a></li>\n<li><a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices/\">Microsoft.AspNetCore.SpaServices</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p><code>.Net Core</code> 可以不用開啟慢吞吞的 <code>IDE</code>，即可快速建立專案。本篇全程使用 <code>VScode</code>，手把手教你如何用 <code>.NET Core 2.0 MVC</code> + <code>vue-cli</code> 起始一個 <code>SPA</code> 專案。當然， <code>HMR</code> (Hot Module Replacement) 神器也會一併附上啦。</p>","more":"<blockquote>\n<p>首先，這裡先澄清一點，就是 <code>.NET Core</code> 的 <code>template</code> 內建有 <code>ASP.NET Core with Vue.js</code>。因為是套裝，裡面還包含 <code>Bootstrap</code>, <code>Typescript</code> 等等，畢竟不是每個專案都會用到這些，所以本篇專注在如何結合 <code>.NET Core</code> 和 <code>Vue</code> ，那些依專案選用的項目就不會在這裡提到。</p>\n</blockquote>\n<h2 id=\"起始-NET-Core-2-0-MVC-專案\"><a href=\"#起始-NET-Core-2-0-MVC-專案\" class=\"headerlink\" title=\"起始 .NET Core 2.0 MVC 專案\"></a>起始 <code>.NET Core 2.0 MVC</code> 專案</h2><ol>\n<li><p>安裝 <a href=\"https://github.com/dotnet/cli\">.NET Command Line Interface</a></p>\n</li>\n<li><p>新增一個 Core MVC 專案</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new &#x27;ASP.NET Core Web App (Model-View-Controller)&#x27;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>刪除不必要的檔案</li>\n</ol>\n<p>因為我們是 <code>SPA</code> 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。</p>\n<p><img src=\"https://lh3.googleusercontent.com/SS8p9bPMBScLwOK1WgnN62PV1W2Tzw2B7KHNgVD9hs2BNQdweBgEZ2ryH8b_X24hUSPNbY52hcdlEeblEfWOjKdXFbZW_ZnZ44yftNz9fbfcuhy8BF8BrlMmmF_PBFJhB7AcOXA4o36r24UcqHbMZQcoAnkCxflijNMA7bZhNhWPXTgqXl4N_ePy8CghldoBBFzDgxtrRgPFS5Xm4cjxl69szT3g1yCmQs0goeNWTFOR12nIsnkbUQN1Cru5V6d6Emfbv9zJE8vsMzde_uFU0VyV0OgGd994-sQs-jORDQ1qijU1O3O3Ycb1Ns8ZM6In9ibZmukZ4GBtNV6SW6dj83Ley2Xo4J_4L-jt__9kRBsVvANhIEonZ-R68GcPqE0KhstaAbvu30u4qtWJJBmuRmfbcEA_1w4qdEkDJ4WJlA4PIbqketu_tLSswyN0U5MDSi0DF0PGHjQA8mXsuYhktGhoJzwEZ8HLa0ENNsIkqgKR4enL2EZWJJVcH-Zc5nqus7A-VYiNfIBv90xzV_DXyN9JVtyEuvpY0H85v65J-uRgTnkJv3JE1Oy2c3nwNcbDWVt67WYwmgr_jNheePATkguwF8zRzmp6Y5vbIGcv4O02vqVBobVZmdtycobJ9E_OT_fFwkUxzA9YCJvuwf7zJFibPpyONXOd=w492-h1024-no\" alt=\"刪除多餘頁面和樣式後的檔案\" title=\"資料夾結構\"></p>\n<ul>\n<li><code>HomeController.cs</code> 刪除多餘的 Controller，只保留 <code>Index</code> 和 <code>Error</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class=\"line\"><span class=\"keyword\">using</span> dotnet_core_vue_cli.Models;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli.Controllers</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Error</span>()</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> View(<span class=\"keyword\">new</span> ErrorViewModel &#123; RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>Index.cshtml</code> 多餘的 HTML 刪除</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@&#123;</span><br><span class=\"line\">    ViewData[&quot;Title&quot;] = &quot;Home Page&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>TEST<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>@ViewData[&quot;Title&quot;] - dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 CSS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;~/css/xxx.css&quot; asp-append-version=&quot;true&quot;/&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 CSS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;script src=&quot;~/js/xxx.js&quot; asp-append-version=&quot;true&quot;&gt;&lt;/script&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 JS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>\b現在來測試跑看看專案有沒有成功～</p>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:5000</code> 就會跑出剛剛在 <code>Index.cshtml</code> 改寫的 TEST 字樣囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/jx-O61iOA94K7jY7sjjT1cnBGOG5cuJGlUIqGe96uJOEjZr4gbqFXfb3aD_NWUjP-fsO0pQT8FyHi_WfqN8OvYAijsFrPKfz1eZewo5RDj10Cey0BaWbcPx-fINI8QOSESlq_s-7_NLbC6P5K4n75NztGHc3k1PQybqcZTr7ECKIdjnHvZ7tUgtp0YBOblYyEyUX88rTpLHw40Lhh7LPuSIuQZAXIvUE0q6o0_u7AdfR5wBEfBPMf7TdRVb62uHJzsATQQ9BsAupE4uGj0azfDSiMgassf92umZymj9oLTO7hqZpYT526HkbUSxp8fPkahFvk64wSrClyNFrUltLA0oVXa_YCe1sZ-rS1S5cHxRNNgLDQeUHm8pMWwylXEFTGkszYXe5FVgdxJ-ShYNCOTfj1GU2aAKADKocU_Q2h4jcrX0YyRM8sOiiyI84nEG4ojOS5cAY54IXdT5d_RuAtgZNwh3qnk8MUefgImbnQZQIJnZb45xagVaHqaY3E8L4g7uVBIISo76khvDEW0mgAaCJCmUY-opy5RyFeDFEXJNPbyMfcSgfnMlpzkA_xCJhyhpIqtepveU_QIQqFepAXThCbOGbFX8JP30-seCSQMwFYpFzuTtD6QTwVfHRCDSv9r71dEM-I-EN7MUylDXaRX7MpNKj4UH3=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<h2 id=\"安裝-vue-cli-模板\"><a href=\"#安裝-vue-cli-模板\" class=\"headerlink\" title=\"安裝 vue-cli 模板\"></a>安裝 <code>vue-cli</code> 模板</h2><ol>\n<li>安裝全域 <code>vue-cli</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g vue-cli</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>起始一個簡易的 <code>vue</code> + <code>webpack</code> 專案</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue init webpack-simple</span><br></pre></td></tr></table></figure>\n\n<p>按照 <code>vue-cli</code> 的指示回覆操作如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/7ZcKoLrotMFeNr2e41u_n_BRCQaMGoBjMQdX5_c1QH0kZycDBNJxLMz0JbnP4SU7Gb70QFSzVcNFWT4EO2qW5ThZCO1lDUhIW_2-4wPR2t02qbBHdlqYaOwAjuJhPioCY_rAFy6y9u9kPZ5rt8hEqfvHYYc76puVmwrv7r-KV9rT6RN5tdQfJzMhwnCCwMZEfysY_g-zWr49MtT2uf3q5jEKpmR3xbQ2P4QajWQ1g5lEjA-hiOQnbJXkfKl9z6tqzBxyNBQTZISlV0C7DIf4pzFTRk0IFLPW9CfnNtDNDIdT3VyTvONjMoxH6tql-qYwb59Qmg4ExG53WKIrw4YlUfVgR0jtNKnpkxQULSzRPG9xeuOdN0KLyDQ8v_Dvy4JsZLrKSPZVhWHmMyge_Kg_BHITk7Rkfu3g4wNWtZXo2keGXtTlX0_0hXdrAfQtX2lWB92lzc7TknYtrT3WwnEs5-2xKyHUh195Re2x-GdrkzbhsctuIFlw4fHHZIIq8NniKT84GZpTRXVPww9n3AqKcy9dOEdkDy_JvmEhOiLuAM3f5HRUp-8qWpo6bue5ItlRI51PgU4LuuralE9R8SgbnynfBHmkI4a_bdFXWTIUj4BJgEEvExRFhjqwpsbDlQT6MK8xd7-D1H7K6fYamrAaVdP8QYzXQwCu=w1024-h579-no\" alt=\"vue-cli\" title=\"vue-cli\"></p>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<p>測試 <code>Node</code> 有沒有安裝成功 <code>Vue</code> 專案</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:8080</code> 如果有成功出現如下面畫面就是安裝成功 <code>vue</code> 的專案囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no\" alt=\"http://localhost:8080\" title=\"首頁\"></p>\n<blockquote>\n<p>誒～你有沒有注意到奇怪的地方啊?!我們跑 <code>vue</code> 的時候是用 <code>node server</code> 執行，但是真正專案要在 <code>.NET server</code> 執行。所以怎麼把這兩者結合呢？主要原理就是：在 <code>Development</code> 時把 <code>node server</code> 當作是前端產生靜態資源 (<code>JS</code>, <code>Css</code>, <code>images</code>…) 的工具; <code>Production</code> 的部分就把產出過後的靜態資源給 <code>.NET server</code> 使用。廢話不多說，我們就來趕緊試試看吧。</p>\n</blockquote>\n<h2 id=\"結合-NET-Core-和-Vue\"><a href=\"#結合-NET-Core-和-Vue\" class=\"headerlink\" title=\"結合 .NET Core 和 Vue\"></a>結合 <code>.NET Core</code> 和 <code>Vue</code></h2><ol>\n<li>修改 <code>webpack.config.js</code>，將靜態檔案產生在 <code>wwwroot</code> 資料夾中</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">main</span>: <span class=\"string\">&#x27;./src/main.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;./wwwroot&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/wwwroot/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;js/build.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|gif|svg)$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;file-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">outputPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name].[ext]?[hash]&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>修改 <code>cshtml</code> 加入對應的 <code>js</code> 和 <code>html</code></li>\n</ol>\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>@ViewData[&quot;Title&quot;] - dotnet_core_vue_cli<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 CSS --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- &lt;link rel=&quot;stylesheet&quot; href=&quot;~/css/xxx.css&quot; asp-append-version=&quot;true&quot;/&gt; --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 CSS --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Development 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/build.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;Development&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 這邊放 Production 的 JS --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/build.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>接著修改 <code>Index.cshtml</code></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@&#123;</span><br><span class=\"line\">    ViewData[&quot;Title&quot;] = &quot;Home Page&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>測試跑跑看 <code>.NET server</code> 有沒有成功？</p>\n<p>先產生靜態檔案</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n\n<p>再啟動伺服器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n\n<p>成功就會出現之前一樣的畫面囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTK7IxK_nr3qmzCqevVgFhFZQXnkW0t4QPpng4VkfYOWOQSvFL7eHZbDEvfPqDwEjAazw49geCW3opNOVcz45uRoDcIKjPFmnoL8lL8v5Jppc2MrkEF5OvuDb912EfiapEkmNpw-DxzLcb_S3NKzsjnGs3wiuhUaMep1iSiz2Ctt6Nie9pYoV4ucqhvwJ_J4G9IOZ809FBWn7rcr7yit7K-vGQ3__3mJEv4npj123wb6RhkNcXvAswKA4VeCuaRehdCn13U94F5R0WRFFOJam5VNM_klgKWATfZsPcXMgGbQ2-M9KXmXmbZsQRBok5-qDxi9MNtKS5iEBSwgEVZipKafLl-5eqUxe5jiNSyLrHae7KeYsueMDrodFSQdnCjpPaCBjs6rUIrpsncyZGs3G56E3uMYNAfEpIYD9bzpm77m7_SBNcq8WkxbRYhDgpLsiCjiNFLl9FOXMi7ALPM5pWP5QoTi07vUJJFFU6V-pvwRoFUaOjVWb7B9o3j7RXm9hvRWo35lQ1dIQv-q0Wv-KYgrLySLS_WJtVmkdjs6T8iPAxUl0wTuMx1d99q7tgH_W3gFjuFqNL5mpd9b0T8QMMzDimpsEVCjUmzeza_HddnzVLW08caAEISY8IDdSq6CmO0q_msw-qEgUzRMhry4Bs6fzPmxFIVd=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<h2 id=\"設定-HMR-和-vue-router-的-fallback\"><a href=\"#設定-HMR-和-vue-router-的-fallback\" class=\"headerlink\" title=\"設定 HMR 和 vue router 的 fallback\"></a>設定 <code>HMR</code> 和 <code>vue router</code> 的 fallback</h2><p>接著才是重頭戲～如魔法般的 <code>HMR</code> 功能登場!!!</p>\n<p>如果還不太知道什麼是 <code>HMR</code> 的，就 google 一下囉～</p>\n<ol>\n<li>安裝 <code>aspnet-webpack</code>, <code>webpack-hot-middleware</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D aspnet-webpack</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack-hot-middleware</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>新增 <code>ASP.NET Core SPA Services</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet add package Microsoft.AspNetCore.SpaServices --version 2.0.1 </span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>修改 <code>Startup.cs</code></li>\n</ol>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.Webpack;</span><br><span class=\"line\"></span><br><span class=\"line\">......</span><br><span class=\"line\">  <span class=\"comment\">// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env</span>)</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"comment\">// [HMR] http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      app.UseDeveloperExceptionPage();</span><br><span class=\"line\">      app.UseWebpackDevMiddleware(<span class=\"keyword\">new</span> WebpackDevMiddlewareOptions</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        HotModuleReplacement = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      routes.MapRoute(</span><br><span class=\"line\">        name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">        template: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Use Vue Router must add fallback route</span></span><br><span class=\"line\">      <span class=\"comment\">// Help to navigate directly</span></span><br><span class=\"line\">      <span class=\"comment\">// https://stu.ratcliffe.io/2017/07/20/vuejs-serverside-rendering-with-aspnet-core</span></span><br><span class=\"line\">      routes.MapSpaFallbackRoute(<span class=\"string\">&quot;spa-fallback&quot;</span>, <span class=\"keyword\">new</span> &#123; controller = <span class=\"string\">&quot;Home&quot;</span>, action = <span class=\"string\">&quot;Index&quot;</span> &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li><code>package.json</code> 指令加上 HMR</li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=development webpack-dev-server --open --hot&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env NODE_ENV=production webpack --progress --hide-modules&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run hmr</span><br></pre></td></tr></table></figure>\n\n<p>成功的話就會從 <code>Chrome</code> 開發者工具看到 <code>HMR</code> 連結成功囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/teS4z4xS0BE6CsIMEuUgrFU5cEQE_naAsDJb_O-6aYc-WeCvmduiHEyRQJPaBzbMQmOImdXcfv1E9VmDRitocPemHDsPCuk-njpIeDdPItuP4kdMfI_cqaJNnrSO9k8NpJC_0NwQj5L8NgHSIH7amFlGYZwNk9JsyxhgMkOCc67_dbYE48P8gTTr0qbqutjyrm14fdsNJjyUJsAPn8xji47-Asj55hOQv8ilN3-3pNNeXAMybVAdNRoCKZk8MnMJea_qTuoiEMzltk_LHP07K6jbamM7--uqYimHhmW2ZtZ89z9GrW5mc9zR4G9X2oosIEByxrB7tlrHPyDm_JDPQ30cVBaqaed0XwYLwYyemd9IDDQb3e5UvfAbih1KB9UK6poAkEuwAaEXvFlkZRC5_rN16EVSzUoHFH5sTQ2_7xVo4YAP0U_gpP4K1gQdVUVM2yFvOBWpf8V0bJQWIv5QV9vxihQ5nZp5Mk58dK8XhAQPMxCQKDc6VdVBQ-5B5VT1_s_OATXA6masol_u--aruB29iWQPemdwa-iGpYdkWmGkAVVXTcyPqqUZ_uZDkoVo5EPhQ-fYZtlrupwtNXy84xiVmbSQSDUr7kFb4ns7e7RQ2oZChZO7bC72UuvqyMTKWH91j1htEDPQJzjHNFJKaKYmd0xg-9R6=w1024-h670-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v1.0.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"http://www.dotnetcurry.com/aspnet/1383/modern-web-dev-aspnet-core-webpack-vuejs\">Modern Web Development using ASP.NET Core template, Vue.js and Webpack</a></li>\n<li><a href=\"http://www.c-sharpcorner.com/article/using-hot-module-replacement-feature-of-webpack-in-asp-net-core/\">Using Hot Module Replacement Feature Of Webpack In ASP.NET Core</a></li>\n<li><a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices/\">Microsoft.AspNetCore.SpaServices</a></li>\n</ul>"},{"title":".NET Core 3.0 SPA with Vue-Cli 3 - Make Nuget Template","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2019-12-06T16:00:00.000Z","updated":"2019-12-06T16:00:00.000Z","_content":"\n上一篇寫過 [.NET core 3 + Vue-cli 3 的起手式](../../../../../2019/12/07/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template/)，這次我們要把做好的專案寫成 dotnet new 的範本，這樣以後就不用做這麼多繁瑣的步驟啦！\n\n<!--more-->\n\n# 製作範本\n\n## Step1. 將內容放到 Content 資料夾\n\n新增 `Content` 資料夾，把原本專案的檔案放到 Content 底下。\n\n![將內容放到 Content 資料夾](https://lh3.googleusercontent.com/DM0FGhjan-_q6Kldvpdse7NxiCwGNlimwMYeakJ-kS-P5jyKz01UeewDUCCNVj-P81V9dssVgwmszQlwwBi40pZuFMI-EFnoREY6RmVcToZZTAx6zi29PEbH7d2eKEQcFSIM7CharolWbPK_UC1HngzN6u1PVKfYu4qhIETIUPccN9zRjGUfBwCOexzAMB_JWzoCy1nhR09B8n3x8zVdcQ8KHQL8UkjlJT7EECU7JE4hvWjNKbalwzROwjGlJHR8Rm_8Arje9iN3v3d4hvewzRtCWx8zpzjxMyPgWYYX-jofabaeM6rcAOhCId0BqCTjQ_ObVpRUK_lE1Vf1O2jqFRjOvas1Ll9Z5dXjuis_KXDsMyvcogE-Q6HzzzmcI5qyDK9FrB93N-JBCJD33fsfIeYbwIvevNOejtO-UNUvRces2Xxmj4RzjKVxBPiYBayAILx4PEqEY9VwKlBuDFVJZXAO1rF9RVPzVlmARhNG7_ezALQSlDXVIG1nAEA3uwXV4Ry3vxsb4N662yy2OufzZ-6W8z_C69WvDmPHCZb_J2eaQX6zQ_3KNlO1AwjrTlGNEGRw3eUudGQAwND2PkC0Lj-HeCZWNkPZwY8ToMQ2dKDrrow3px3qjqB6hbU8nCkkdO6j2C8qqFZnR0ETIH-7V7OyJE0jLu1c-exfR0bUmm1e__deylIbqI8yFG3uP3c-bXoXec0pMyU7TqUMshAaQAhslIAZ4m1hquCsOkls1hKIKnzQyQ=w636-h1324-no \"將內容放到 Content 資料夾\")\n\n## Step2. 設定 template.json, .nuspec\n\n\b* 在 Content 資料夾內新增 `.template.config` 資料夾，新增 `template.json`\n\nContent/.template.config/template.json\n\n```json\n{\n  \"$schema\": \"http://json.schemastore.org/template\",\n  \"author\": \"Anny Chang\",\n  \"classifications\": [ \"Web\", \"MVC\", \"SPA\" ],\n  \"identity\": \"Anny.DotnetCore.VueCli\",\n  \"name\": \"Anny Dotnet Core 3 With Vue Cli 3\",\n  \"shortName\": \"annydotnetvuecli\", \n  \"tags\": {\n    \"language\": \"C#\",\n    \"type\": \"item\"\n  },\n  \"sourceName\": \"dotnet_core_with_vue_cli3\",\n  \"preferNameDirectory\": true\n}\n```\n\n| 屬性 | 說明 |\n| --- | --- |\n| $schema | 使用 template schema |\n| author | 作者名 |\n| classifications | dotnet new 列表顯示的分類 |\n| identity | 辨識此 Template 的唯一 ID |\n| name | Template 顯示名稱 |\n| shortName | dotnet new 使用此 Template 的簡寫 |\n| tags | dotnet new 列表顯示的語言 |\n| sourceName | 這個是到時候使用 template 時，可以將專案名稱替代成要的 |\n| preferNameDirectory | dotnet new 沒有指定專案名稱時，他會自動命專案名為所在資料夾的名稱 |\n\n\n* 在最外層新增 .nuspec 檔案。\n\nAnny.DotnetCore.Template.nuspec\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<package>\n  <metadata>\n    <id>Anny.DotnetCore.Template</id>\n    <version>1.0.3</version>\n    <title>Anny DotnetCore Template Example</title>\n    <description>\n      Anny's DotnetCore Template for example.\n    </description>\n    <authors>Anny Chang</authors>\n    <summary>\n      ASP.NET Core Teamplate for Vue Cli.\n    </summary>\n    <packageTypes>\n      <packageType name=\"Template\" />\n    </packageTypes>\n  </metadata>\n  <files>\n    <file\n      src=\"Content/**/*\"\n      exclude=\"**/node_modules/**;**/package-lock.json;**/bin/**;**/obj/**;**/.vs/**;**/.vscode/**;**/wwwroot/**\"\n      target=\"Content\" />\n  </files>\n</package>\n```\n\n| metadata 屬性 | 說明 |\n| --- | --- |\n| id | dotnet new 安裝 nuget template 識別唯一ID |\n| version | nuget package version |\n| title | nuget 官網上對於 package 的標題 |\n| description | nuget 官網上對於 package 的描述 |\n| authors | nuget 官網上對於 package 的作者名 |\n| summary | nuget 官網上對於 package 的摘要 |\n| packageType | 告知 nuget package 類行為 Template |\n\n| files 屬性 | 說明 |\n| --- | --- |\n| src | 指定來源資料夾位置 |\n| exclude | 排除特定檔案 |\n| target | 指定生成資料夾位置 |\n\n## Step3. 上傳 nuget package\n\n執行 nuget cli 指令，若還沒有安裝請連[這裡](https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli)。\n\n執行下列 nuget 指令打包 package。\n\n```\nnuget pack\n```\n\n將產生出來的 .nupkg 檔案上傳至官網。等待官網審核成功後就可以使用 Template 囉～\n\n![nuget package 審核成功](https://lh3.googleusercontent.com/yLk0gObRHknv2ngdI8O11NeDcMkR29sCTV7ppUmQ-IEKBunro_4vpsh-TcIlpQYXj1ujWf_cZ6_lp-vl6oBui1KJYT59C4BT2GNvkv8qg0CMC93NWgio63OTuHf_344IVhUuX_CAgdMrE153QPu4soqcBaUlF0Ax3dYF0x6sHyyyGP8x8YjslbFdMVrMxTus7AfcC0h0b3Mzz19iUmzCu5OvB_5iVjNYnMNrMCHwURSvQP0J1w9PVBiJykWluB73IMh-EGcTIxH_6eyvArkdz_-pz-_Am3ZNdWiUXQml86aAJb7Tm6OJqcRlxNuO_nQpFW6JtUQVRWlkA85Xb32_uG9JymE_zrG47g6p982LlXTUv3kJC5RfjebKnbwlVDxoO7J501XO1abfjTKWzbSx6ERhyVjJE0CzJg2qiEKtOmXsJbAew0tJiSjH2H_ri-adgAudtsPS-Rair5WVtpB0AHaRjLcmZG4L1beOmWOcK1_0RejtWgE_Lwx19ngM1D8fuXsNd3uX_EGua57gR-0DlUpDwfknu14k9YuG9Wdz_TMmacAdfPFcR38vjLuGCzcHZ3RtSv-vmy-42x4KN5mKARKYKbmYptqVijJYN2yuI_W7LlVA9ruHKkLaBXKW8tHRyiWTx4nOvGvuLlNw6Qv9PaVp3ch7Ml8_lOnmChtNaCoknd4wE_txHXjegvpypmHrxE-RDGEw9LCGjn-Ny8R5p0yLSI8OoSho5ZcfdSkYyP-fNllqew=w2560-h1376-no \"nuget package 審核成功\")\n\n# 使用範本\n\n執行下列指令安裝範本。\n\n```\ndotnet new --install Anny.DotnetCore.Template::1.0.3\n```\n\n成功會看到列表出現安裝的範本名稱。\n\n![安裝範本成功](https://lh3.googleusercontent.com/bEIRs1iYDfjJPgiOMe5tbywr7VZZh_RY9rw8mRHrA4BiWNwSzDO98dQrZ4CNe6QONzhdr1DQOrLJRw_OjjGie1lbOkCwlyTMqYb-5bV-3kL0McGF2mzzsbCJBuKRBxG2J4_7D3StYlRJoNbwb9GkOxDiB_uV0E2jY10ZNc5Uh0W7aaAx56zcLz7J7aWZCpLJfSBPBHXtXEDn6N3vnYwj2W81s_UHv95Zy78tJrRPrpWfk-FvLQM4LLnfKmTL0Ta0bv3eTBGYyzBXZKRuWIpkXeIjgmHh6eWXECGrM1LQ47tCYFTQ5vxJ4_eG0J75qOOYuZNmEl2fWHXYjlDjrr2e03lIPC5SFcgcymDvRViA9ZKtWooNCpirpA4xmWwHuMCr2-krpuudLCnOD0JmgYG2vfJ5yYjUvOc7IPuvrpHHMGZHNmOlVt6KRgd-B4n1D3C1QrFQ_l-hi_GyBXQNiHOj8roiW4vAh0WWmh2TjevORVh43ZOQ6WNWU8kLta63wAkWRCpBRcOP3_4f69fy3Wpkjex9T025guk11itdMNRkdDLNR8DUuz7-fLJmy1fI_6_urs9-lodG7NtKAxAtaxh5RKf2ZuW0ZA7MITnXFX28BMazKheqQEnn5F3fuaWoJVipRkawc8xTwN9AHh5o7NYRqcp_Rto3KP9NPAwy_sPPY2-SaDexOvRsZHpM9ib7LebSDb7iA7YLcAjOYOhJOZnFWls8Q56Wtl7VxrZC_1gPSF9aRGcPEw=w2310-h1354-no \"安裝範本成功\")\n\n請去一個新資料夾來測試範本。\n不指定名稱執行的話，專案名稱會自動取名為當前位置的資料夾名稱，如下指令。\n\n```\ndotnet new annydotnetvuecli\n```\n\n若要在當下位置建立自己命名的專案名稱，可傳入參數如下指令。 (XXX 請替換成你要的專案名稱)\n\n```\ndotnet new annydotnetvuecli -n XXX\n```\n\n若要安裝新版本的範本，記得解除舊的版本，解安裝請執行下列指令。\n\n```\ndotnet new -u Anny.DotnetCore.Template\n```\n\n這樣就完成我們的模板測試囉～今天的 code 放在 [github](https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v2.0)。\n\n## 參考資料\n\n* [How to create your own templates for dotnet new](https://devblogs.microsoft.com/dotnet/how-to-create-your-own-templates-for-dotnet-new/)\n* [安裝 NuGet 用戶端工具](https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli)\n","source":"_posts/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template.md","raw":"---\ntitle: .NET Core 3.0 SPA with Vue-Cli 3 - Make Nuget Template\ncategories:\n  - .NET Core\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET Core, dotnet, Vue, Webpack, SPA, MVC, VScode, Nuget, Template]\ndate: 2019/12/07\nupdated: 2019/12/07\n---\n\n上一篇寫過 [.NET core 3 + Vue-cli 3 的起手式](../../../../../2019/12/07/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template/)，這次我們要把做好的專案寫成 dotnet new 的範本，這樣以後就不用做這麼多繁瑣的步驟啦！\n\n<!--more-->\n\n# 製作範本\n\n## Step1. 將內容放到 Content 資料夾\n\n新增 `Content` 資料夾，把原本專案的檔案放到 Content 底下。\n\n![將內容放到 Content 資料夾](https://lh3.googleusercontent.com/DM0FGhjan-_q6Kldvpdse7NxiCwGNlimwMYeakJ-kS-P5jyKz01UeewDUCCNVj-P81V9dssVgwmszQlwwBi40pZuFMI-EFnoREY6RmVcToZZTAx6zi29PEbH7d2eKEQcFSIM7CharolWbPK_UC1HngzN6u1PVKfYu4qhIETIUPccN9zRjGUfBwCOexzAMB_JWzoCy1nhR09B8n3x8zVdcQ8KHQL8UkjlJT7EECU7JE4hvWjNKbalwzROwjGlJHR8Rm_8Arje9iN3v3d4hvewzRtCWx8zpzjxMyPgWYYX-jofabaeM6rcAOhCId0BqCTjQ_ObVpRUK_lE1Vf1O2jqFRjOvas1Ll9Z5dXjuis_KXDsMyvcogE-Q6HzzzmcI5qyDK9FrB93N-JBCJD33fsfIeYbwIvevNOejtO-UNUvRces2Xxmj4RzjKVxBPiYBayAILx4PEqEY9VwKlBuDFVJZXAO1rF9RVPzVlmARhNG7_ezALQSlDXVIG1nAEA3uwXV4Ry3vxsb4N662yy2OufzZ-6W8z_C69WvDmPHCZb_J2eaQX6zQ_3KNlO1AwjrTlGNEGRw3eUudGQAwND2PkC0Lj-HeCZWNkPZwY8ToMQ2dKDrrow3px3qjqB6hbU8nCkkdO6j2C8qqFZnR0ETIH-7V7OyJE0jLu1c-exfR0bUmm1e__deylIbqI8yFG3uP3c-bXoXec0pMyU7TqUMshAaQAhslIAZ4m1hquCsOkls1hKIKnzQyQ=w636-h1324-no \"將內容放到 Content 資料夾\")\n\n## Step2. 設定 template.json, .nuspec\n\n\b* 在 Content 資料夾內新增 `.template.config` 資料夾，新增 `template.json`\n\nContent/.template.config/template.json\n\n```json\n{\n  \"$schema\": \"http://json.schemastore.org/template\",\n  \"author\": \"Anny Chang\",\n  \"classifications\": [ \"Web\", \"MVC\", \"SPA\" ],\n  \"identity\": \"Anny.DotnetCore.VueCli\",\n  \"name\": \"Anny Dotnet Core 3 With Vue Cli 3\",\n  \"shortName\": \"annydotnetvuecli\", \n  \"tags\": {\n    \"language\": \"C#\",\n    \"type\": \"item\"\n  },\n  \"sourceName\": \"dotnet_core_with_vue_cli3\",\n  \"preferNameDirectory\": true\n}\n```\n\n| 屬性 | 說明 |\n| --- | --- |\n| $schema | 使用 template schema |\n| author | 作者名 |\n| classifications | dotnet new 列表顯示的分類 |\n| identity | 辨識此 Template 的唯一 ID |\n| name | Template 顯示名稱 |\n| shortName | dotnet new 使用此 Template 的簡寫 |\n| tags | dotnet new 列表顯示的語言 |\n| sourceName | 這個是到時候使用 template 時，可以將專案名稱替代成要的 |\n| preferNameDirectory | dotnet new 沒有指定專案名稱時，他會自動命專案名為所在資料夾的名稱 |\n\n\n* 在最外層新增 .nuspec 檔案。\n\nAnny.DotnetCore.Template.nuspec\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<package>\n  <metadata>\n    <id>Anny.DotnetCore.Template</id>\n    <version>1.0.3</version>\n    <title>Anny DotnetCore Template Example</title>\n    <description>\n      Anny's DotnetCore Template for example.\n    </description>\n    <authors>Anny Chang</authors>\n    <summary>\n      ASP.NET Core Teamplate for Vue Cli.\n    </summary>\n    <packageTypes>\n      <packageType name=\"Template\" />\n    </packageTypes>\n  </metadata>\n  <files>\n    <file\n      src=\"Content/**/*\"\n      exclude=\"**/node_modules/**;**/package-lock.json;**/bin/**;**/obj/**;**/.vs/**;**/.vscode/**;**/wwwroot/**\"\n      target=\"Content\" />\n  </files>\n</package>\n```\n\n| metadata 屬性 | 說明 |\n| --- | --- |\n| id | dotnet new 安裝 nuget template 識別唯一ID |\n| version | nuget package version |\n| title | nuget 官網上對於 package 的標題 |\n| description | nuget 官網上對於 package 的描述 |\n| authors | nuget 官網上對於 package 的作者名 |\n| summary | nuget 官網上對於 package 的摘要 |\n| packageType | 告知 nuget package 類行為 Template |\n\n| files 屬性 | 說明 |\n| --- | --- |\n| src | 指定來源資料夾位置 |\n| exclude | 排除特定檔案 |\n| target | 指定生成資料夾位置 |\n\n## Step3. 上傳 nuget package\n\n執行 nuget cli 指令，若還沒有安裝請連[這裡](https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli)。\n\n執行下列 nuget 指令打包 package。\n\n```\nnuget pack\n```\n\n將產生出來的 .nupkg 檔案上傳至官網。等待官網審核成功後就可以使用 Template 囉～\n\n![nuget package 審核成功](https://lh3.googleusercontent.com/yLk0gObRHknv2ngdI8O11NeDcMkR29sCTV7ppUmQ-IEKBunro_4vpsh-TcIlpQYXj1ujWf_cZ6_lp-vl6oBui1KJYT59C4BT2GNvkv8qg0CMC93NWgio63OTuHf_344IVhUuX_CAgdMrE153QPu4soqcBaUlF0Ax3dYF0x6sHyyyGP8x8YjslbFdMVrMxTus7AfcC0h0b3Mzz19iUmzCu5OvB_5iVjNYnMNrMCHwURSvQP0J1w9PVBiJykWluB73IMh-EGcTIxH_6eyvArkdz_-pz-_Am3ZNdWiUXQml86aAJb7Tm6OJqcRlxNuO_nQpFW6JtUQVRWlkA85Xb32_uG9JymE_zrG47g6p982LlXTUv3kJC5RfjebKnbwlVDxoO7J501XO1abfjTKWzbSx6ERhyVjJE0CzJg2qiEKtOmXsJbAew0tJiSjH2H_ri-adgAudtsPS-Rair5WVtpB0AHaRjLcmZG4L1beOmWOcK1_0RejtWgE_Lwx19ngM1D8fuXsNd3uX_EGua57gR-0DlUpDwfknu14k9YuG9Wdz_TMmacAdfPFcR38vjLuGCzcHZ3RtSv-vmy-42x4KN5mKARKYKbmYptqVijJYN2yuI_W7LlVA9ruHKkLaBXKW8tHRyiWTx4nOvGvuLlNw6Qv9PaVp3ch7Ml8_lOnmChtNaCoknd4wE_txHXjegvpypmHrxE-RDGEw9LCGjn-Ny8R5p0yLSI8OoSho5ZcfdSkYyP-fNllqew=w2560-h1376-no \"nuget package 審核成功\")\n\n# 使用範本\n\n執行下列指令安裝範本。\n\n```\ndotnet new --install Anny.DotnetCore.Template::1.0.3\n```\n\n成功會看到列表出現安裝的範本名稱。\n\n![安裝範本成功](https://lh3.googleusercontent.com/bEIRs1iYDfjJPgiOMe5tbywr7VZZh_RY9rw8mRHrA4BiWNwSzDO98dQrZ4CNe6QONzhdr1DQOrLJRw_OjjGie1lbOkCwlyTMqYb-5bV-3kL0McGF2mzzsbCJBuKRBxG2J4_7D3StYlRJoNbwb9GkOxDiB_uV0E2jY10ZNc5Uh0W7aaAx56zcLz7J7aWZCpLJfSBPBHXtXEDn6N3vnYwj2W81s_UHv95Zy78tJrRPrpWfk-FvLQM4LLnfKmTL0Ta0bv3eTBGYyzBXZKRuWIpkXeIjgmHh6eWXECGrM1LQ47tCYFTQ5vxJ4_eG0J75qOOYuZNmEl2fWHXYjlDjrr2e03lIPC5SFcgcymDvRViA9ZKtWooNCpirpA4xmWwHuMCr2-krpuudLCnOD0JmgYG2vfJ5yYjUvOc7IPuvrpHHMGZHNmOlVt6KRgd-B4n1D3C1QrFQ_l-hi_GyBXQNiHOj8roiW4vAh0WWmh2TjevORVh43ZOQ6WNWU8kLta63wAkWRCpBRcOP3_4f69fy3Wpkjex9T025guk11itdMNRkdDLNR8DUuz7-fLJmy1fI_6_urs9-lodG7NtKAxAtaxh5RKf2ZuW0ZA7MITnXFX28BMazKheqQEnn5F3fuaWoJVipRkawc8xTwN9AHh5o7NYRqcp_Rto3KP9NPAwy_sPPY2-SaDexOvRsZHpM9ib7LebSDb7iA7YLcAjOYOhJOZnFWls8Q56Wtl7VxrZC_1gPSF9aRGcPEw=w2310-h1354-no \"安裝範本成功\")\n\n請去一個新資料夾來測試範本。\n不指定名稱執行的話，專案名稱會自動取名為當前位置的資料夾名稱，如下指令。\n\n```\ndotnet new annydotnetvuecli\n```\n\n若要在當下位置建立自己命名的專案名稱，可傳入參數如下指令。 (XXX 請替換成你要的專案名稱)\n\n```\ndotnet new annydotnetvuecli -n XXX\n```\n\n若要安裝新版本的範本，記得解除舊的版本，解安裝請執行下列指令。\n\n```\ndotnet new -u Anny.DotnetCore.Template\n```\n\n這樣就完成我們的模板測試囉～今天的 code 放在 [github](https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v2.0)。\n\n## 參考資料\n\n* [How to create your own templates for dotnet new](https://devblogs.microsoft.com/dotnet/how-to-create-your-own-templates-for-dotnet-new/)\n* [安裝 NuGet 用戶端工具](https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli)\n","slug":"Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qg001jr3y7gt96fool","content":"<p>上一篇寫過 <a href=\"../../../../../2019/12/07/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template/\">.NET core 3 + Vue-cli 3 的起手式</a>，這次我們要把做好的專案寫成 dotnet new 的範本，這樣以後就不用做這麼多繁瑣的步驟啦！</p>\n<span id=\"more\"></span>\n\n<h1 id=\"製作範本\"><a href=\"#製作範本\" class=\"headerlink\" title=\"製作範本\"></a>製作範本</h1><h2 id=\"Step1-將內容放到-Content-資料夾\"><a href=\"#Step1-將內容放到-Content-資料夾\" class=\"headerlink\" title=\"Step1. 將內容放到 Content 資料夾\"></a>Step1. 將內容放到 Content 資料夾</h2><p>新增 <code>Content</code> 資料夾，把原本專案的檔案放到 Content 底下。</p>\n<p><img src=\"https://lh3.googleusercontent.com/DM0FGhjan-_q6Kldvpdse7NxiCwGNlimwMYeakJ-kS-P5jyKz01UeewDUCCNVj-P81V9dssVgwmszQlwwBi40pZuFMI-EFnoREY6RmVcToZZTAx6zi29PEbH7d2eKEQcFSIM7CharolWbPK_UC1HngzN6u1PVKfYu4qhIETIUPccN9zRjGUfBwCOexzAMB_JWzoCy1nhR09B8n3x8zVdcQ8KHQL8UkjlJT7EECU7JE4hvWjNKbalwzROwjGlJHR8Rm_8Arje9iN3v3d4hvewzRtCWx8zpzjxMyPgWYYX-jofabaeM6rcAOhCId0BqCTjQ_ObVpRUK_lE1Vf1O2jqFRjOvas1Ll9Z5dXjuis_KXDsMyvcogE-Q6HzzzmcI5qyDK9FrB93N-JBCJD33fsfIeYbwIvevNOejtO-UNUvRces2Xxmj4RzjKVxBPiYBayAILx4PEqEY9VwKlBuDFVJZXAO1rF9RVPzVlmARhNG7_ezALQSlDXVIG1nAEA3uwXV4Ry3vxsb4N662yy2OufzZ-6W8z_C69WvDmPHCZb_J2eaQX6zQ_3KNlO1AwjrTlGNEGRw3eUudGQAwND2PkC0Lj-HeCZWNkPZwY8ToMQ2dKDrrow3px3qjqB6hbU8nCkkdO6j2C8qqFZnR0ETIH-7V7OyJE0jLu1c-exfR0bUmm1e__deylIbqI8yFG3uP3c-bXoXec0pMyU7TqUMshAaQAhslIAZ4m1hquCsOkls1hKIKnzQyQ=w636-h1324-no\" alt=\"將內容放到 Content 資料夾\" title=\"將內容放到 Content 資料夾\"></p>\n<h2 id=\"Step2-設定-template-json-nuspec\"><a href=\"#Step2-設定-template-json-nuspec\" class=\"headerlink\" title=\"Step2. 設定 template.json, .nuspec\"></a>Step2. 設定 template.json, .nuspec</h2><p>\b* 在 Content 資料夾內新增 <code>.template.config</code> 資料夾，新增 <code>template.json</code></p>\n<p>Content&#x2F;.template.config&#x2F;template.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;$schema&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://json.schemastore.org/template&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;author&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny Chang&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;classifications&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span> <span class=\"string\">&quot;Web&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;MVC&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;SPA&quot;</span> <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;identity&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny.DotnetCore.VueCli&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny Dotnet Core 3 With Vue Cli 3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;shortName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;annydotnetvuecli&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  <span class=\"attr\">&quot;tags&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;language&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;C#&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;item&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;sourceName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet_core_with_vue_cli3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;preferNameDirectory&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>$schema</td>\n<td>使用 template schema</td>\n</tr>\n<tr>\n<td>author</td>\n<td>作者名</td>\n</tr>\n<tr>\n<td>classifications</td>\n<td>dotnet new 列表顯示的分類</td>\n</tr>\n<tr>\n<td>identity</td>\n<td>辨識此 Template 的唯一 ID</td>\n</tr>\n<tr>\n<td>name</td>\n<td>Template 顯示名稱</td>\n</tr>\n<tr>\n<td>shortName</td>\n<td>dotnet new 使用此 Template 的簡寫</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>dotnet new 列表顯示的語言</td>\n</tr>\n<tr>\n<td>sourceName</td>\n<td>這個是到時候使用 template 時，可以將專案名稱替代成要的</td>\n</tr>\n<tr>\n<td>preferNameDirectory</td>\n<td>dotnet new 沒有指定專案名稱時，他會自動命專案名為所在資料夾的名稱</td>\n</tr>\n</tbody></table>\n<ul>\n<li>在最外層新增 .nuspec 檔案。</li>\n</ul>\n<p>Anny.DotnetCore.Template.nuspec</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">package</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>Anny.DotnetCore.Template<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Anny DotnetCore Template Example<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">      Anny&#x27;s DotnetCore Template for example.</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">authors</span>&gt;</span>Anny Chang<span class=\"tag\">&lt;/<span class=\"name\">authors</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">summary</span>&gt;</span></span><br><span class=\"line\">      ASP.NET Core Teamplate for Vue Cli.</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">summary</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">packageTypes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">packageType</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Template&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">packageTypes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">files</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">file</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">src</span>=<span class=\"string\">&quot;Content/**/*&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;**/node_modules/**;**/package-lock.json;**/bin/**;**/obj/**;**/.vs/**;**/.vscode/**;**/wwwroot/**&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">target</span>=<span class=\"string\">&quot;Content&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">files</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">package</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>metadata 屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>id</td>\n<td>dotnet new 安裝 nuget template 識別唯一ID</td>\n</tr>\n<tr>\n<td>version</td>\n<td>nuget package version</td>\n</tr>\n<tr>\n<td>title</td>\n<td>nuget 官網上對於 package 的標題</td>\n</tr>\n<tr>\n<td>description</td>\n<td>nuget 官網上對於 package 的描述</td>\n</tr>\n<tr>\n<td>authors</td>\n<td>nuget 官網上對於 package 的作者名</td>\n</tr>\n<tr>\n<td>summary</td>\n<td>nuget 官網上對於 package 的摘要</td>\n</tr>\n<tr>\n<td>packageType</td>\n<td>告知 nuget package 類行為 Template</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>files 屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>src</td>\n<td>指定來源資料夾位置</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>排除特定檔案</td>\n</tr>\n<tr>\n<td>target</td>\n<td>指定生成資料夾位置</td>\n</tr>\n</tbody></table>\n<h2 id=\"Step3-上傳-nuget-package\"><a href=\"#Step3-上傳-nuget-package\" class=\"headerlink\" title=\"Step3. 上傳 nuget package\"></a>Step3. 上傳 nuget package</h2><p>執行 nuget cli 指令，若還沒有安裝請連<a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli\">這裡</a>。</p>\n<p>執行下列 nuget 指令打包 package。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget pack</span><br></pre></td></tr></table></figure>\n\n<p>將產生出來的 .nupkg 檔案上傳至官網。等待官網審核成功後就可以使用 Template 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/yLk0gObRHknv2ngdI8O11NeDcMkR29sCTV7ppUmQ-IEKBunro_4vpsh-TcIlpQYXj1ujWf_cZ6_lp-vl6oBui1KJYT59C4BT2GNvkv8qg0CMC93NWgio63OTuHf_344IVhUuX_CAgdMrE153QPu4soqcBaUlF0Ax3dYF0x6sHyyyGP8x8YjslbFdMVrMxTus7AfcC0h0b3Mzz19iUmzCu5OvB_5iVjNYnMNrMCHwURSvQP0J1w9PVBiJykWluB73IMh-EGcTIxH_6eyvArkdz_-pz-_Am3ZNdWiUXQml86aAJb7Tm6OJqcRlxNuO_nQpFW6JtUQVRWlkA85Xb32_uG9JymE_zrG47g6p982LlXTUv3kJC5RfjebKnbwlVDxoO7J501XO1abfjTKWzbSx6ERhyVjJE0CzJg2qiEKtOmXsJbAew0tJiSjH2H_ri-adgAudtsPS-Rair5WVtpB0AHaRjLcmZG4L1beOmWOcK1_0RejtWgE_Lwx19ngM1D8fuXsNd3uX_EGua57gR-0DlUpDwfknu14k9YuG9Wdz_TMmacAdfPFcR38vjLuGCzcHZ3RtSv-vmy-42x4KN5mKARKYKbmYptqVijJYN2yuI_W7LlVA9ruHKkLaBXKW8tHRyiWTx4nOvGvuLlNw6Qv9PaVp3ch7Ml8_lOnmChtNaCoknd4wE_txHXjegvpypmHrxE-RDGEw9LCGjn-Ny8R5p0yLSI8OoSho5ZcfdSkYyP-fNllqew=w2560-h1376-no\" alt=\"nuget package 審核成功\" title=\"nuget package 審核成功\"></p>\n<h1 id=\"使用範本\"><a href=\"#使用範本\" class=\"headerlink\" title=\"使用範本\"></a>使用範本</h1><p>執行下列指令安裝範本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new --install Anny.DotnetCore.Template::1.0.3</span><br></pre></td></tr></table></figure>\n\n<p>成功會看到列表出現安裝的範本名稱。</p>\n<p><img src=\"https://lh3.googleusercontent.com/bEIRs1iYDfjJPgiOMe5tbywr7VZZh_RY9rw8mRHrA4BiWNwSzDO98dQrZ4CNe6QONzhdr1DQOrLJRw_OjjGie1lbOkCwlyTMqYb-5bV-3kL0McGF2mzzsbCJBuKRBxG2J4_7D3StYlRJoNbwb9GkOxDiB_uV0E2jY10ZNc5Uh0W7aaAx56zcLz7J7aWZCpLJfSBPBHXtXEDn6N3vnYwj2W81s_UHv95Zy78tJrRPrpWfk-FvLQM4LLnfKmTL0Ta0bv3eTBGYyzBXZKRuWIpkXeIjgmHh6eWXECGrM1LQ47tCYFTQ5vxJ4_eG0J75qOOYuZNmEl2fWHXYjlDjrr2e03lIPC5SFcgcymDvRViA9ZKtWooNCpirpA4xmWwHuMCr2-krpuudLCnOD0JmgYG2vfJ5yYjUvOc7IPuvrpHHMGZHNmOlVt6KRgd-B4n1D3C1QrFQ_l-hi_GyBXQNiHOj8roiW4vAh0WWmh2TjevORVh43ZOQ6WNWU8kLta63wAkWRCpBRcOP3_4f69fy3Wpkjex9T025guk11itdMNRkdDLNR8DUuz7-fLJmy1fI_6_urs9-lodG7NtKAxAtaxh5RKf2ZuW0ZA7MITnXFX28BMazKheqQEnn5F3fuaWoJVipRkawc8xTwN9AHh5o7NYRqcp_Rto3KP9NPAwy_sPPY2-SaDexOvRsZHpM9ib7LebSDb7iA7YLcAjOYOhJOZnFWls8Q56Wtl7VxrZC_1gPSF9aRGcPEw=w2310-h1354-no\" alt=\"安裝範本成功\" title=\"安裝範本成功\"></p>\n<p>請去一個新資料夾來測試範本。<br>不指定名稱執行的話，專案名稱會自動取名為當前位置的資料夾名稱，如下指令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new annydotnetvuecli</span><br></pre></td></tr></table></figure>\n\n<p>若要在當下位置建立自己命名的專案名稱，可傳入參數如下指令。 (XXX 請替換成你要的專案名稱)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new annydotnetvuecli -n XXX</span><br></pre></td></tr></table></figure>\n\n<p>若要安裝新版本的範本，記得解除舊的版本，解安裝請執行下列指令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new -u Anny.DotnetCore.Template</span><br></pre></td></tr></table></figure>\n\n<p>這樣就完成我們的模板測試囉～今天的 code 放在 <a href=\"https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v2.0\">github</a>。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://devblogs.microsoft.com/dotnet/how-to-create-your-own-templates-for-dotnet-new/\">How to create your own templates for dotnet new</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli\">安裝 NuGet 用戶端工具</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p>上一篇寫過 <a href=\"../../../../../2019/12/07/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3-make-nuget-template/\">.NET core 3 + Vue-cli 3 的起手式</a>，這次我們要把做好的專案寫成 dotnet new 的範本，這樣以後就不用做這麼多繁瑣的步驟啦！</p>","more":"<h1 id=\"製作範本\"><a href=\"#製作範本\" class=\"headerlink\" title=\"製作範本\"></a>製作範本</h1><h2 id=\"Step1-將內容放到-Content-資料夾\"><a href=\"#Step1-將內容放到-Content-資料夾\" class=\"headerlink\" title=\"Step1. 將內容放到 Content 資料夾\"></a>Step1. 將內容放到 Content 資料夾</h2><p>新增 <code>Content</code> 資料夾，把原本專案的檔案放到 Content 底下。</p>\n<p><img src=\"https://lh3.googleusercontent.com/DM0FGhjan-_q6Kldvpdse7NxiCwGNlimwMYeakJ-kS-P5jyKz01UeewDUCCNVj-P81V9dssVgwmszQlwwBi40pZuFMI-EFnoREY6RmVcToZZTAx6zi29PEbH7d2eKEQcFSIM7CharolWbPK_UC1HngzN6u1PVKfYu4qhIETIUPccN9zRjGUfBwCOexzAMB_JWzoCy1nhR09B8n3x8zVdcQ8KHQL8UkjlJT7EECU7JE4hvWjNKbalwzROwjGlJHR8Rm_8Arje9iN3v3d4hvewzRtCWx8zpzjxMyPgWYYX-jofabaeM6rcAOhCId0BqCTjQ_ObVpRUK_lE1Vf1O2jqFRjOvas1Ll9Z5dXjuis_KXDsMyvcogE-Q6HzzzmcI5qyDK9FrB93N-JBCJD33fsfIeYbwIvevNOejtO-UNUvRces2Xxmj4RzjKVxBPiYBayAILx4PEqEY9VwKlBuDFVJZXAO1rF9RVPzVlmARhNG7_ezALQSlDXVIG1nAEA3uwXV4Ry3vxsb4N662yy2OufzZ-6W8z_C69WvDmPHCZb_J2eaQX6zQ_3KNlO1AwjrTlGNEGRw3eUudGQAwND2PkC0Lj-HeCZWNkPZwY8ToMQ2dKDrrow3px3qjqB6hbU8nCkkdO6j2C8qqFZnR0ETIH-7V7OyJE0jLu1c-exfR0bUmm1e__deylIbqI8yFG3uP3c-bXoXec0pMyU7TqUMshAaQAhslIAZ4m1hquCsOkls1hKIKnzQyQ=w636-h1324-no\" alt=\"將內容放到 Content 資料夾\" title=\"將內容放到 Content 資料夾\"></p>\n<h2 id=\"Step2-設定-template-json-nuspec\"><a href=\"#Step2-設定-template-json-nuspec\" class=\"headerlink\" title=\"Step2. 設定 template.json, .nuspec\"></a>Step2. 設定 template.json, .nuspec</h2><p>\b* 在 Content 資料夾內新增 <code>.template.config</code> 資料夾，新增 <code>template.json</code></p>\n<p>Content&#x2F;.template.config&#x2F;template.json</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;$schema&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://json.schemastore.org/template&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;author&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny Chang&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;classifications&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span> <span class=\"string\">&quot;Web&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;MVC&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;SPA&quot;</span> <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;identity&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny.DotnetCore.VueCli&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Anny Dotnet Core 3 With Vue Cli 3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;shortName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;annydotnetvuecli&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  <span class=\"attr\">&quot;tags&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;language&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;C#&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;item&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;sourceName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet_core_with_vue_cli3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;preferNameDirectory&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>$schema</td>\n<td>使用 template schema</td>\n</tr>\n<tr>\n<td>author</td>\n<td>作者名</td>\n</tr>\n<tr>\n<td>classifications</td>\n<td>dotnet new 列表顯示的分類</td>\n</tr>\n<tr>\n<td>identity</td>\n<td>辨識此 Template 的唯一 ID</td>\n</tr>\n<tr>\n<td>name</td>\n<td>Template 顯示名稱</td>\n</tr>\n<tr>\n<td>shortName</td>\n<td>dotnet new 使用此 Template 的簡寫</td>\n</tr>\n<tr>\n<td>tags</td>\n<td>dotnet new 列表顯示的語言</td>\n</tr>\n<tr>\n<td>sourceName</td>\n<td>這個是到時候使用 template 時，可以將專案名稱替代成要的</td>\n</tr>\n<tr>\n<td>preferNameDirectory</td>\n<td>dotnet new 沒有指定專案名稱時，他會自動命專案名為所在資料夾的名稱</td>\n</tr>\n</tbody></table>\n<ul>\n<li>在最外層新增 .nuspec 檔案。</li>\n</ul>\n<p>Anny.DotnetCore.Template.nuspec</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">package</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>Anny.DotnetCore.Template<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Anny DotnetCore Template Example<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">      Anny&#x27;s DotnetCore Template for example.</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">authors</span>&gt;</span>Anny Chang<span class=\"tag\">&lt;/<span class=\"name\">authors</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">summary</span>&gt;</span></span><br><span class=\"line\">      ASP.NET Core Teamplate for Vue Cli.</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">summary</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">packageTypes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">packageType</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Template&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">packageTypes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">files</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">file</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">src</span>=<span class=\"string\">&quot;Content/**/*&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;**/node_modules/**;**/package-lock.json;**/bin/**;**/obj/**;**/.vs/**;**/.vscode/**;**/wwwroot/**&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">      <span class=\"attr\">target</span>=<span class=\"string\">&quot;Content&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">files</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">package</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>metadata 屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>id</td>\n<td>dotnet new 安裝 nuget template 識別唯一ID</td>\n</tr>\n<tr>\n<td>version</td>\n<td>nuget package version</td>\n</tr>\n<tr>\n<td>title</td>\n<td>nuget 官網上對於 package 的標題</td>\n</tr>\n<tr>\n<td>description</td>\n<td>nuget 官網上對於 package 的描述</td>\n</tr>\n<tr>\n<td>authors</td>\n<td>nuget 官網上對於 package 的作者名</td>\n</tr>\n<tr>\n<td>summary</td>\n<td>nuget 官網上對於 package 的摘要</td>\n</tr>\n<tr>\n<td>packageType</td>\n<td>告知 nuget package 類行為 Template</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>files 屬性</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>src</td>\n<td>指定來源資料夾位置</td>\n</tr>\n<tr>\n<td>exclude</td>\n<td>排除特定檔案</td>\n</tr>\n<tr>\n<td>target</td>\n<td>指定生成資料夾位置</td>\n</tr>\n</tbody></table>\n<h2 id=\"Step3-上傳-nuget-package\"><a href=\"#Step3-上傳-nuget-package\" class=\"headerlink\" title=\"Step3. 上傳 nuget package\"></a>Step3. 上傳 nuget package</h2><p>執行 nuget cli 指令，若還沒有安裝請連<a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli\">這裡</a>。</p>\n<p>執行下列 nuget 指令打包 package。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget pack</span><br></pre></td></tr></table></figure>\n\n<p>將產生出來的 .nupkg 檔案上傳至官網。等待官網審核成功後就可以使用 Template 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/yLk0gObRHknv2ngdI8O11NeDcMkR29sCTV7ppUmQ-IEKBunro_4vpsh-TcIlpQYXj1ujWf_cZ6_lp-vl6oBui1KJYT59C4BT2GNvkv8qg0CMC93NWgio63OTuHf_344IVhUuX_CAgdMrE153QPu4soqcBaUlF0Ax3dYF0x6sHyyyGP8x8YjslbFdMVrMxTus7AfcC0h0b3Mzz19iUmzCu5OvB_5iVjNYnMNrMCHwURSvQP0J1w9PVBiJykWluB73IMh-EGcTIxH_6eyvArkdz_-pz-_Am3ZNdWiUXQml86aAJb7Tm6OJqcRlxNuO_nQpFW6JtUQVRWlkA85Xb32_uG9JymE_zrG47g6p982LlXTUv3kJC5RfjebKnbwlVDxoO7J501XO1abfjTKWzbSx6ERhyVjJE0CzJg2qiEKtOmXsJbAew0tJiSjH2H_ri-adgAudtsPS-Rair5WVtpB0AHaRjLcmZG4L1beOmWOcK1_0RejtWgE_Lwx19ngM1D8fuXsNd3uX_EGua57gR-0DlUpDwfknu14k9YuG9Wdz_TMmacAdfPFcR38vjLuGCzcHZ3RtSv-vmy-42x4KN5mKARKYKbmYptqVijJYN2yuI_W7LlVA9ruHKkLaBXKW8tHRyiWTx4nOvGvuLlNw6Qv9PaVp3ch7Ml8_lOnmChtNaCoknd4wE_txHXjegvpypmHrxE-RDGEw9LCGjn-Ny8R5p0yLSI8OoSho5ZcfdSkYyP-fNllqew=w2560-h1376-no\" alt=\"nuget package 審核成功\" title=\"nuget package 審核成功\"></p>\n<h1 id=\"使用範本\"><a href=\"#使用範本\" class=\"headerlink\" title=\"使用範本\"></a>使用範本</h1><p>執行下列指令安裝範本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new --install Anny.DotnetCore.Template::1.0.3</span><br></pre></td></tr></table></figure>\n\n<p>成功會看到列表出現安裝的範本名稱。</p>\n<p><img src=\"https://lh3.googleusercontent.com/bEIRs1iYDfjJPgiOMe5tbywr7VZZh_RY9rw8mRHrA4BiWNwSzDO98dQrZ4CNe6QONzhdr1DQOrLJRw_OjjGie1lbOkCwlyTMqYb-5bV-3kL0McGF2mzzsbCJBuKRBxG2J4_7D3StYlRJoNbwb9GkOxDiB_uV0E2jY10ZNc5Uh0W7aaAx56zcLz7J7aWZCpLJfSBPBHXtXEDn6N3vnYwj2W81s_UHv95Zy78tJrRPrpWfk-FvLQM4LLnfKmTL0Ta0bv3eTBGYyzBXZKRuWIpkXeIjgmHh6eWXECGrM1LQ47tCYFTQ5vxJ4_eG0J75qOOYuZNmEl2fWHXYjlDjrr2e03lIPC5SFcgcymDvRViA9ZKtWooNCpirpA4xmWwHuMCr2-krpuudLCnOD0JmgYG2vfJ5yYjUvOc7IPuvrpHHMGZHNmOlVt6KRgd-B4n1D3C1QrFQ_l-hi_GyBXQNiHOj8roiW4vAh0WWmh2TjevORVh43ZOQ6WNWU8kLta63wAkWRCpBRcOP3_4f69fy3Wpkjex9T025guk11itdMNRkdDLNR8DUuz7-fLJmy1fI_6_urs9-lodG7NtKAxAtaxh5RKf2ZuW0ZA7MITnXFX28BMazKheqQEnn5F3fuaWoJVipRkawc8xTwN9AHh5o7NYRqcp_Rto3KP9NPAwy_sPPY2-SaDexOvRsZHpM9ib7LebSDb7iA7YLcAjOYOhJOZnFWls8Q56Wtl7VxrZC_1gPSF9aRGcPEw=w2310-h1354-no\" alt=\"安裝範本成功\" title=\"安裝範本成功\"></p>\n<p>請去一個新資料夾來測試範本。<br>不指定名稱執行的話，專案名稱會自動取名為當前位置的資料夾名稱，如下指令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new annydotnetvuecli</span><br></pre></td></tr></table></figure>\n\n<p>若要在當下位置建立自己命名的專案名稱，可傳入參數如下指令。 (XXX 請替換成你要的專案名稱)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new annydotnetvuecli -n XXX</span><br></pre></td></tr></table></figure>\n\n<p>若要安裝新版本的範本，記得解除舊的版本，解安裝請執行下列指令。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new -u Anny.DotnetCore.Template</span><br></pre></td></tr></table></figure>\n\n<p>這樣就完成我們的模板測試囉～今天的 code 放在 <a href=\"https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v2.0\">github</a>。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://devblogs.microsoft.com/dotnet/how-to-create-your-own-templates-for-dotnet-new/\">How to create your own templates for dotnet new</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools#nugetexe-cli\">安裝 NuGet 用戶端工具</a></li>\n</ul>"},{"title":".NET Core 3.0 SPA with Vue-Cli 3 - Start New Project","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2019-10-09T16:00:00.000Z","updated":"2019-10-09T16:00:00.000Z","_content":"\n之前有寫過一篇 [.NET core 2 + Vue-cli 2 的起手式](../../../../../2017/12/02/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli/)，到了2019，兩者也紛紛出版本3。這次，我們將說明如何用 .NET Core 3 + Vue-cli 3 起一個新專案，附贈最新 [Vuetify 2](https://vuetifyjs.com/en/) 的 Material Design 框架。\n\n<!--more-->\n\n## 安裝 `vue-cli` 模板\n\n> 注意： vue-cli 需要 Node.js 版本 > v8.9\n\n<br />\n\n* 安裝全域 `vue-cli`\n\n```npm\nnpm install -g @vue/cli\n```\n\n* 起始一個 vue 專案 `my-app`\n\n```npm\nvue create my-app\n```\n\n按照 `vue-cli` 的指示選擇預設 (`default`) 即可。\n\n安裝完後，可以把專案從 `my-app` 資料夾中移出來，如下圖。\n\n![專案目錄](https://lh3.googleusercontent.com/mg4HgncLJ66AZ4wnPznFb1X55drWjTCgDy-22BLolsQRlBTYghwQg8kDxWkCaneH4eoyns8JS9Xi42b74lk4ATinxc19-ka7voTtH8ySKcfZZ4j9nRsj_X0FQvBCzIIsk9ZHBv159X0piGmlaJKvLm2q6V-Rpmzbpl6pvd9M1zNtO5Cu01hFRED2G0Zoh9y5ELB6u_vU1uqoCFfNM-eDDjFMQrqTZ0vd3PxmjciMwdQ8hjMxMGoo9pVci3V3z-K0NlFqfuX5O7Skg1Qhk0OgCa7DYqfmL-QrdZ-PcJOK0sMBCY2LfW3cOjFK9AkQTCTYnbn4xMLLAX8dR1jRgFXBGIsDJl_FiE-HCNrT71O1wrA1yd751rABO2w8ghElsJgteqvSBBoukRrgYwX4z8Efuu1BReVfX3hfdPAsfJKSHsZZuM-C5G3GzT58GHQpXpVHyAQME344dX0zqaZmDrWb0PKcD77G0lsYmZcpXAuczuhWADSAPMUGCuswMgan3q35GRrpN9SJwekmzHXs1J818eOptpn0jTO3x--I6bhsvB9OpmchFI8ZoFtE21LDPa1Jfrss_-HZ4ZpzdNslDdNeOL33kHLu00zXne8AwMCCmD1KKp4aLwniW3-n7tVuQFTKLYRb3sNfKOgbdYwNHK4urpo1IaBLazDwcjnhESmz-fJEzyZ2mH-121t3_VfSDcwsmSOKlZKs6pXbA_uK_YFIIBHF5IozC1vv6QUQ40WIe9aiUnLTqg=w618-h934-no \"專案目錄\")\n\n* 執行套件安裝\n\n```\nnpm install\n```\n\n* 安裝 Vuetify 框架\n\n> 如果不想要安裝樣式框架可以直接跳過這個步驟\n\n```\nvue add vuetify\n```\n\n* 測試 vue 專案是否安裝成功\n\n```\nnpm run serve\n```\n\n用瀏覽器看 `http://localhost:8080` 如果有成功出現如下面畫面就是安裝成功 `vue` + `vuetify` 的專案囉～\n\n![http://localhost:8080](https://lh3.googleusercontent.com/WTI7SZCavIJAmLRqZNbCMMRHxPwSm6yD_EkBf-DHV8Rn_96Sa39daK1aYjxFd34c_XAjiC8yDZVwspgn2arZdo-_ptFvduN4CQ0cNnJC5_xohUq10ggkuzHrdn7m9KezmU-8E4FZMBD3PzRMeWPYlwJCj-JjSfkNpQZGLRn37RyoGNvpJECdgnBsEEQx5AZHx-E4ZJDOTujyDBGEkqvp8lI3oW--jDOoCIMaFUuLu-vHxKvWtFprE_mBzwI7KIkkeC9D0rWhUsX93hJT4x46Elmj1TOYSDRMiNogHG0P5cZ5JSUIUsdM_T9XKQ-U0oTDeD3iHipDBmBfJH5KgmpXGh3e8cBlyHqpkqu5DVXe468cWfNT9nRqCB3IQOPtPcJg5tB0bKe68fQTjaIwwiqEngW1aB-8gXZgt5OCDeAyOZJB0rvXvr9uoL69sUrHCamSGT0ppGLenX7yFeP-uNVPXgi899gQj9siNlqWbQWnjjdrhsTAvrx5-3rFS43GIssEkwwB_MiQT411oAdd_g9ds_BgCDSohxD2NOWZAWJ3NmvrSupIsvckps0p7jLJ-4Mqb82J5KvJ0GdIT8wIjqF8hZmhFeAWxFgmwE10axr7eClFsN4CjIqhnFdO_v86vyYDx2S60EVqUPW8t1PorW0jbXJG3TGjEeWlHYLEme8d7mQaIT1001f174oEY9twCvgAd5YxmLFCZyaGrqvleFOveUc221DTKkgYdC9k9oAjr2qAyV4J7A=w2206-h1378-no \"首頁\")\n\n\n## 起始 `.NET Core 3.0 MVC` 專案\n\n* 安裝 [.NET Command Line Interface](https://github.com/dotnet/cli)\n\n* 新增一個 Core MVC 專案\n\n```dotnet\ndotnet new mvc\n```\n\n把產生的檔案都移到最外層 (跟 Vue 同一層)，如下圖。\n\n![專案目錄](https://lh3.googleusercontent.com/W203GfdGjLI_7ZhUUZjmE4LYVKs6AFGNMcVohuF2E5_eQqKQrXc_ZV58HCPvQPjwBuxBPZEplhsJ_-WrPJ_nH_5OgjijEFAcZsStz2-ckatWBngIvgpo4p1pWPt_o613hObxX2CS9jz7g9zuRqIyQH5CAwrF8pnQAvls9fHvsnL3Zzuy6mqCNjzy9H6C1KJTmA7mdNbSJhtUr6JqNjFuw1hWgEAyVGiDCJNcNnGFK0zi3f74byGEMh_K7ymwRv6iJUhXN74GwTRMpV7r_jZIOrs7AOv10UhezxHhKFvkCe_ZZ0YbhohieE4LmwiAzL-urryjpLE95apTMTf6xRIRB8Gv-0lX4UNjC4MN9CI7jwdGklQ2djXDnmfys7rbsk0p6a5gr3dPsD-98pwTC3I--LmngPdBjOR6QED59piLeKbeQ4N3QG0L19JW6hcF0liPvdEwToC3psjUiC-jYimsUK6jvxU2xlyMqAIAtjm9fLCmnFp5kfMH_qbihmO9dQGnpmsYx_rCQqTXrfmODYvTL1LwiMBRe-Hp_twIBHB1S6K5XtCCk19SLYHD7VEKKK6sfAcawo5V4Ohe_yJ8Phxkod0rhXv4KSvlYdD3iJbCLCFhMhWgyAIGhZTcST0lDzUhxz5L8TKZRa5hbHA8kjw7hNlnjhYm5b92HFetGcwPbTi-3t57nL9C0H2drgjwqOBh8m8Zwh5l0QDdBrdToOQg-PKII9XK0eMh5oriRCvgjjaP_H14vg=w614-h1208-no \"專案目錄\")\n\n* 刪除不必要的檔案\n\n因為我們是 `SPA` 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。\n\n![刪除多餘頁面和樣式後的檔案](https://lh3.googleusercontent.com/_6YDysh2v7AoOk4y82teBx4qsEXdrEvO5y6LKda2Vt87eLX1RCRfXOIaFhHK5Iy7OsBCkzdRehhB7-VsvrRSUWZsPO9tONVNw-c1pwcsrsA6wOAMn-D22zI0gQa2DrEDmBYttUore2G0kNtZkGaLwt2LQMuK3Zs-8cOEyHUPy1nnWD66GVUNozqty6tNTGmyIK20sN8kZpCLEikfEYunKI3gVlT0G5UfEmVAJ25VlKUbkziTEPwTDtwxvBmz6qlPbcEKXNSOLAe-zAeYR6b4-yTPFifwmiNrwdHEebD3kkZrYdfCPO9KFw4FOFQpNHkrGP-LxbeXCnatvDzMA0k9A81iHtVD0t8_9vkfb0lBvm40S0sFTvXXI_kUW-ncr639iMkXZ66v55ZXWOMAUL3trWESyUZ6FPMtiCzUVZRNlR0kfKV_CmgLivBugJxl696Vh6MPbUWcAwr3dxBnU9Iwvd5wHad4lpGbDEF2GTSzL8ZV1Hh8HnwLiGbqqGfJzFs9O8sgsa4dDJAnQpwCuCTrJJbk5KmMNPLR5tbiSyY9MGz1nbkCYtrtSNNPro_OsqiG3uMNXm-tCbtUkTjGG953ULeTY45NQqPwVqugKu3T0t4DMKjEJvoky0IBUOd7hdoTMgyRb9bMMJMedWyAuoFLZwM5Ar4qOZ3Um-nmQ2HA-lp4GDG1wO9rbxk4Sh2Ng8WR_rzH9Hnwy1DR8qFrXWv4E58WrzfK79A01VcCgBkAyR74bl9vUg=w620-h1248-no \"資料夾結構\")\n\n* `HomeController.cs` 刪除多餘的 Controller，只保留 `Index` 和 `Error`\n\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Logging;\nusing dotnet_core_with_vue_cli3.Models;\n\nnamespace dotnet_core_with_vue_cli3.Controllers\n{\n    public class HomeController : Controller\n    {\n        private readonly ILogger<HomeController> _logger;\n\n        public HomeController(ILogger<HomeController> logger)\n        {\n            _logger = logger;\n        }\n\n        public IActionResult Index()\n        {\n            return View();\n        }\n\n        [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]\n        public IActionResult Error()\n        {\n            return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });\n        }\n    }\n}\n```\n\n* `Index.cshtml` 多餘的 HTML 刪除\n\n```html\n<div id=\"app\"></div>\n```\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link rel=\"icon\" href=\"~/favicon.ico\">\n    <title>dotnet_core_with_vue_cli3</title>\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/@@mdi/font@latest/css/materialdesignicons.min.css\">\n</head>\n<body>\n    <noscript>\n      <strong>We're sorry but my-app doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>\n    </noscript>\n\n    @RenderBody()\n\n    <script src=\"~/js/app.js\" asp-append-version=\"true\"></script>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n> 誒～你有沒有覺得明明我們把 `wwwroot` 裡面的靜態資源都殺光光，卻在 `_Layout.cshtml` 上面放 `app.js`？因為這邊是留給 Vue-cli 去產生靜態資源，所以我們接下來就要說明如何設定讓 `.NET Core` 和 `Vue` 做連動。\n\n## 設定 `HMR` 和 `vue router` 的 fallback\n\n接著才是重頭戲～如魔法般的 `HMR` 功能登場!!!\n\n如果還不太知道什麼是 `HMR` 的，就 google 一下囉～\n\n* 安裝 `aspnet-webpack`, `webpack-hot-middleware`, `webpack-dev-middleware`\n\n```\nnpm i -D aspnet-webpack webpack-hot-middleware webpack-dev-middleware\n```\n\n* 新增 `Microsoft.AspNetCore.SpaServices.Extensions`\n\n```\ndotnet add package Microsoft.AspNetCore.SpaServices.Extensions --version 3.0.0\n```\n\n* 修改 `Startup.cs`\n\n```C#\n...\nusing Microsoft.AspNetCore.SpaServices.Webpack;\n\n......\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n                app.UseWebpackDevMiddleware(new WebpackDevMiddlewareOptions\n                {\n                    HotModuleReplacement = true,\n                    ConfigFile = @\"./node_modules/@vue/cli-service/webpack.config.js\"\n                });\n            }\n            else\n            {\n                ...\n            }\n            ...\n\n            app.UseEndpoints(endpoints =>\n            {\n                endpoints.MapControllerRoute(\n                    name: \"default\",\n                    pattern: \"{controller=Home}/{action=Index}/{id?}\");\n                endpoints.MapFallbackToController(\"Index\", \"Home\");\n            });\n        }\n......\n```\n\n* 新增 `vue.config.js` 在最外層\n\n> 這邊就是設定 `Vue-cli` 將產生的靜態檔案放在 `wwwroot` 讓 `.Net Core` 去吃。\n\n```js\nmodule.exports = {\n  outputDir: 'wwwroot',\n  publicPath: \"/\",\n  chainWebpack: config => {\n    // https://github.com/vuejs/vue-cli/issues/3603#issuecomment-483913563\n    // remove vue-cli-service's progress output\n    config.plugins.delete('progress')\n    // https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/\n    // aspnet uses the other hmr so remove this one\n    config.plugins.delete('hmr');\n  }\n}\n```\n\n* 若要使用 vscode 跑專案：修改 `Properties/launchSettings.json`\n\n修改 `Properties/launchSettings.json`\n\n```json\n{\n  \"iisSettings\": {\n    ...\n  },\n  \"profiles\": {\n    \"IIS Express\": {\n      \"commandName\": \"IISExpress\",\n      \"launchBrowser\": true,\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n        \"NODE_ENV\": \"development\"\n      }\n    },\n    \"dotnet_core_with_vue_cli3\": {\n      \"commandName\": \"Project\",\n      \"launchBrowser\": true,\n      \"applicationUrl\": \"http://localhost:5000\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  }\n}\n```\n\n* 若要使用 npm 跑專案：`package.json` 指令加上 HMR\n\n安裝 cross-env\n\n```\nnpm install -D cross-env\n```\n\n`package.json`\n\n```json\n{\n  ......\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    ...\n  },\n  ......\n}\n```\n\n執行如下 npm 指令或使用之前寫的另一篇文章方式 [vscode task](../../../../../2017/12/25/Dotnet/NET-Core-2-0-Debug-with-VScode/) 來啟動專案。\n\n```npm\nnpm run hmr\n```\n\n\n成功的話就會從 `Chrome` 開發者工具看到 `HMR` 連結成功囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/iwyqGKY3x0PNLHZvmRMQxAG53ta1MNkplE5rDHIwfr884IxIPhOlHaZwUzMdPS4B5MvWrK-BzP1afJMnZkHfuwAGJ8szM1VJmqo3BkZZs9GN92uP-zTk3oS7spcGo8DinPhbi9M7TZJkku95nzIxh1UIebtussfopG1byaWLQOna9wt9_CK8tiSyugr1A6x0bPG20SsAO6--hwmNa4SiODAyeTeADmMs1dtrI8d-6gDvtULip1yljjzKfnDm2iECcreinLfD3mUyUkAaW25-jzyXpa3dQ5EokLdx9JNVVLWM1kKmeadHGdcPNXEKJIaWK8TMFuxjRL6YiiwPeRpEMXSHGZI7Czbaqxh1GJmdBCejLIbWaOy-NKuqKJ37_Xf5FVFTnXlEyBZs3yAfr2pNtBgbk9SsZJvB1ljszKOE-CwhXmJJinfBpJ-kGd2Lh2gsQwo2JC6_frvi3uv3gl9LVhBQC6iZdawwvwTveTr_E4X7Z5-P-EenyBMKUV6IRoFUE_b_dfPZlPYMBCD8UBSau-F3Y1HZNAIihor6R1o4c2RSKF01GWXq62HBdnlQgX-94mNkj4noSm9dHaErDzTOm0WUwJVw_SxfdFB3_2aP6ddi5ce2mxHiiau5ajes_rvFBuMlLAmwIOhiXR1KwdBdS5hqjTB4rdGTGEA3IYqlyLXtLdFNzM8iuMhZvlFra90dpXFlLvYBGCitsQ8VTQFc4ukw1Di0HvdY4cZFsLulfcTv9FhEAA=w1780-h1112-no \"首頁\")\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v1.0)，下回見～\n\n## 參考資料\n\n* [Microsoft.AspNetCore.SpaServices.Extensions](https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices.Extensions/3.0.0)\n* [Quickly Configure ASP.NET Core API to work with Vue CLI 3!](https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/)\n* [從 ASP.NET Core 2.2 遷移至3](https://docs.microsoft.com/zh-tw/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&tabs=visual-studio-code)","source":"_posts/Dotnet/NET-Core-3-SPA-with-Vue-Cli-3.md","raw":"---\ntitle: .NET Core 3.0 SPA with Vue-Cli 3 - Start New Project\ncategories:\n  - .NET Core\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET Core, dotnet, Vue, Webpack, SPA, MVC, VScode]\ndate: 2019/10/10\nupdated: 2019/10/10\n---\n\n之前有寫過一篇 [.NET core 2 + Vue-cli 2 的起手式](../../../../../2017/12/02/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli/)，到了2019，兩者也紛紛出版本3。這次，我們將說明如何用 .NET Core 3 + Vue-cli 3 起一個新專案，附贈最新 [Vuetify 2](https://vuetifyjs.com/en/) 的 Material Design 框架。\n\n<!--more-->\n\n## 安裝 `vue-cli` 模板\n\n> 注意： vue-cli 需要 Node.js 版本 > v8.9\n\n<br />\n\n* 安裝全域 `vue-cli`\n\n```npm\nnpm install -g @vue/cli\n```\n\n* 起始一個 vue 專案 `my-app`\n\n```npm\nvue create my-app\n```\n\n按照 `vue-cli` 的指示選擇預設 (`default`) 即可。\n\n安裝完後，可以把專案從 `my-app` 資料夾中移出來，如下圖。\n\n![專案目錄](https://lh3.googleusercontent.com/mg4HgncLJ66AZ4wnPznFb1X55drWjTCgDy-22BLolsQRlBTYghwQg8kDxWkCaneH4eoyns8JS9Xi42b74lk4ATinxc19-ka7voTtH8ySKcfZZ4j9nRsj_X0FQvBCzIIsk9ZHBv159X0piGmlaJKvLm2q6V-Rpmzbpl6pvd9M1zNtO5Cu01hFRED2G0Zoh9y5ELB6u_vU1uqoCFfNM-eDDjFMQrqTZ0vd3PxmjciMwdQ8hjMxMGoo9pVci3V3z-K0NlFqfuX5O7Skg1Qhk0OgCa7DYqfmL-QrdZ-PcJOK0sMBCY2LfW3cOjFK9AkQTCTYnbn4xMLLAX8dR1jRgFXBGIsDJl_FiE-HCNrT71O1wrA1yd751rABO2w8ghElsJgteqvSBBoukRrgYwX4z8Efuu1BReVfX3hfdPAsfJKSHsZZuM-C5G3GzT58GHQpXpVHyAQME344dX0zqaZmDrWb0PKcD77G0lsYmZcpXAuczuhWADSAPMUGCuswMgan3q35GRrpN9SJwekmzHXs1J818eOptpn0jTO3x--I6bhsvB9OpmchFI8ZoFtE21LDPa1Jfrss_-HZ4ZpzdNslDdNeOL33kHLu00zXne8AwMCCmD1KKp4aLwniW3-n7tVuQFTKLYRb3sNfKOgbdYwNHK4urpo1IaBLazDwcjnhESmz-fJEzyZ2mH-121t3_VfSDcwsmSOKlZKs6pXbA_uK_YFIIBHF5IozC1vv6QUQ40WIe9aiUnLTqg=w618-h934-no \"專案目錄\")\n\n* 執行套件安裝\n\n```\nnpm install\n```\n\n* 安裝 Vuetify 框架\n\n> 如果不想要安裝樣式框架可以直接跳過這個步驟\n\n```\nvue add vuetify\n```\n\n* 測試 vue 專案是否安裝成功\n\n```\nnpm run serve\n```\n\n用瀏覽器看 `http://localhost:8080` 如果有成功出現如下面畫面就是安裝成功 `vue` + `vuetify` 的專案囉～\n\n![http://localhost:8080](https://lh3.googleusercontent.com/WTI7SZCavIJAmLRqZNbCMMRHxPwSm6yD_EkBf-DHV8Rn_96Sa39daK1aYjxFd34c_XAjiC8yDZVwspgn2arZdo-_ptFvduN4CQ0cNnJC5_xohUq10ggkuzHrdn7m9KezmU-8E4FZMBD3PzRMeWPYlwJCj-JjSfkNpQZGLRn37RyoGNvpJECdgnBsEEQx5AZHx-E4ZJDOTujyDBGEkqvp8lI3oW--jDOoCIMaFUuLu-vHxKvWtFprE_mBzwI7KIkkeC9D0rWhUsX93hJT4x46Elmj1TOYSDRMiNogHG0P5cZ5JSUIUsdM_T9XKQ-U0oTDeD3iHipDBmBfJH5KgmpXGh3e8cBlyHqpkqu5DVXe468cWfNT9nRqCB3IQOPtPcJg5tB0bKe68fQTjaIwwiqEngW1aB-8gXZgt5OCDeAyOZJB0rvXvr9uoL69sUrHCamSGT0ppGLenX7yFeP-uNVPXgi899gQj9siNlqWbQWnjjdrhsTAvrx5-3rFS43GIssEkwwB_MiQT411oAdd_g9ds_BgCDSohxD2NOWZAWJ3NmvrSupIsvckps0p7jLJ-4Mqb82J5KvJ0GdIT8wIjqF8hZmhFeAWxFgmwE10axr7eClFsN4CjIqhnFdO_v86vyYDx2S60EVqUPW8t1PorW0jbXJG3TGjEeWlHYLEme8d7mQaIT1001f174oEY9twCvgAd5YxmLFCZyaGrqvleFOveUc221DTKkgYdC9k9oAjr2qAyV4J7A=w2206-h1378-no \"首頁\")\n\n\n## 起始 `.NET Core 3.0 MVC` 專案\n\n* 安裝 [.NET Command Line Interface](https://github.com/dotnet/cli)\n\n* 新增一個 Core MVC 專案\n\n```dotnet\ndotnet new mvc\n```\n\n把產生的檔案都移到最外層 (跟 Vue 同一層)，如下圖。\n\n![專案目錄](https://lh3.googleusercontent.com/W203GfdGjLI_7ZhUUZjmE4LYVKs6AFGNMcVohuF2E5_eQqKQrXc_ZV58HCPvQPjwBuxBPZEplhsJ_-WrPJ_nH_5OgjijEFAcZsStz2-ckatWBngIvgpo4p1pWPt_o613hObxX2CS9jz7g9zuRqIyQH5CAwrF8pnQAvls9fHvsnL3Zzuy6mqCNjzy9H6C1KJTmA7mdNbSJhtUr6JqNjFuw1hWgEAyVGiDCJNcNnGFK0zi3f74byGEMh_K7ymwRv6iJUhXN74GwTRMpV7r_jZIOrs7AOv10UhezxHhKFvkCe_ZZ0YbhohieE4LmwiAzL-urryjpLE95apTMTf6xRIRB8Gv-0lX4UNjC4MN9CI7jwdGklQ2djXDnmfys7rbsk0p6a5gr3dPsD-98pwTC3I--LmngPdBjOR6QED59piLeKbeQ4N3QG0L19JW6hcF0liPvdEwToC3psjUiC-jYimsUK6jvxU2xlyMqAIAtjm9fLCmnFp5kfMH_qbihmO9dQGnpmsYx_rCQqTXrfmODYvTL1LwiMBRe-Hp_twIBHB1S6K5XtCCk19SLYHD7VEKKK6sfAcawo5V4Ohe_yJ8Phxkod0rhXv4KSvlYdD3iJbCLCFhMhWgyAIGhZTcST0lDzUhxz5L8TKZRa5hbHA8kjw7hNlnjhYm5b92HFetGcwPbTi-3t57nL9C0H2drgjwqOBh8m8Zwh5l0QDdBrdToOQg-PKII9XK0eMh5oriRCvgjjaP_H14vg=w614-h1208-no \"專案目錄\")\n\n* 刪除不必要的檔案\n\n因為我們是 `SPA` 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。\n\n![刪除多餘頁面和樣式後的檔案](https://lh3.googleusercontent.com/_6YDysh2v7AoOk4y82teBx4qsEXdrEvO5y6LKda2Vt87eLX1RCRfXOIaFhHK5Iy7OsBCkzdRehhB7-VsvrRSUWZsPO9tONVNw-c1pwcsrsA6wOAMn-D22zI0gQa2DrEDmBYttUore2G0kNtZkGaLwt2LQMuK3Zs-8cOEyHUPy1nnWD66GVUNozqty6tNTGmyIK20sN8kZpCLEikfEYunKI3gVlT0G5UfEmVAJ25VlKUbkziTEPwTDtwxvBmz6qlPbcEKXNSOLAe-zAeYR6b4-yTPFifwmiNrwdHEebD3kkZrYdfCPO9KFw4FOFQpNHkrGP-LxbeXCnatvDzMA0k9A81iHtVD0t8_9vkfb0lBvm40S0sFTvXXI_kUW-ncr639iMkXZ66v55ZXWOMAUL3trWESyUZ6FPMtiCzUVZRNlR0kfKV_CmgLivBugJxl696Vh6MPbUWcAwr3dxBnU9Iwvd5wHad4lpGbDEF2GTSzL8ZV1Hh8HnwLiGbqqGfJzFs9O8sgsa4dDJAnQpwCuCTrJJbk5KmMNPLR5tbiSyY9MGz1nbkCYtrtSNNPro_OsqiG3uMNXm-tCbtUkTjGG953ULeTY45NQqPwVqugKu3T0t4DMKjEJvoky0IBUOd7hdoTMgyRb9bMMJMedWyAuoFLZwM5Ar4qOZ3Um-nmQ2HA-lp4GDG1wO9rbxk4Sh2Ng8WR_rzH9Hnwy1DR8qFrXWv4E58WrzfK79A01VcCgBkAyR74bl9vUg=w620-h1248-no \"資料夾結構\")\n\n* `HomeController.cs` 刪除多餘的 Controller，只保留 `Index` 和 `Error`\n\n```C#\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Logging;\nusing dotnet_core_with_vue_cli3.Models;\n\nnamespace dotnet_core_with_vue_cli3.Controllers\n{\n    public class HomeController : Controller\n    {\n        private readonly ILogger<HomeController> _logger;\n\n        public HomeController(ILogger<HomeController> logger)\n        {\n            _logger = logger;\n        }\n\n        public IActionResult Index()\n        {\n            return View();\n        }\n\n        [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]\n        public IActionResult Error()\n        {\n            return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });\n        }\n    }\n}\n```\n\n* `Index.cshtml` 多餘的 HTML 刪除\n\n```html\n<div id=\"app\"></div>\n```\n\n* `_Layout.cshtml` 修改內容如下\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link rel=\"icon\" href=\"~/favicon.ico\">\n    <title>dotnet_core_with_vue_cli3</title>\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/@@mdi/font@latest/css/materialdesignicons.min.css\">\n</head>\n<body>\n    <noscript>\n      <strong>We're sorry but my-app doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>\n    </noscript>\n\n    @RenderBody()\n\n    <script src=\"~/js/app.js\" asp-append-version=\"true\"></script>\n\n    @RenderSection(\"Scripts\", required: false)\n</body>\n</html>\n```\n\n> 誒～你有沒有覺得明明我們把 `wwwroot` 裡面的靜態資源都殺光光，卻在 `_Layout.cshtml` 上面放 `app.js`？因為這邊是留給 Vue-cli 去產生靜態資源，所以我們接下來就要說明如何設定讓 `.NET Core` 和 `Vue` 做連動。\n\n## 設定 `HMR` 和 `vue router` 的 fallback\n\n接著才是重頭戲～如魔法般的 `HMR` 功能登場!!!\n\n如果還不太知道什麼是 `HMR` 的，就 google 一下囉～\n\n* 安裝 `aspnet-webpack`, `webpack-hot-middleware`, `webpack-dev-middleware`\n\n```\nnpm i -D aspnet-webpack webpack-hot-middleware webpack-dev-middleware\n```\n\n* 新增 `Microsoft.AspNetCore.SpaServices.Extensions`\n\n```\ndotnet add package Microsoft.AspNetCore.SpaServices.Extensions --version 3.0.0\n```\n\n* 修改 `Startup.cs`\n\n```C#\n...\nusing Microsoft.AspNetCore.SpaServices.Webpack;\n\n......\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n                app.UseWebpackDevMiddleware(new WebpackDevMiddlewareOptions\n                {\n                    HotModuleReplacement = true,\n                    ConfigFile = @\"./node_modules/@vue/cli-service/webpack.config.js\"\n                });\n            }\n            else\n            {\n                ...\n            }\n            ...\n\n            app.UseEndpoints(endpoints =>\n            {\n                endpoints.MapControllerRoute(\n                    name: \"default\",\n                    pattern: \"{controller=Home}/{action=Index}/{id?}\");\n                endpoints.MapFallbackToController(\"Index\", \"Home\");\n            });\n        }\n......\n```\n\n* 新增 `vue.config.js` 在最外層\n\n> 這邊就是設定 `Vue-cli` 將產生的靜態檔案放在 `wwwroot` 讓 `.Net Core` 去吃。\n\n```js\nmodule.exports = {\n  outputDir: 'wwwroot',\n  publicPath: \"/\",\n  chainWebpack: config => {\n    // https://github.com/vuejs/vue-cli/issues/3603#issuecomment-483913563\n    // remove vue-cli-service's progress output\n    config.plugins.delete('progress')\n    // https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/\n    // aspnet uses the other hmr so remove this one\n    config.plugins.delete('hmr');\n  }\n}\n```\n\n* 若要使用 vscode 跑專案：修改 `Properties/launchSettings.json`\n\n修改 `Properties/launchSettings.json`\n\n```json\n{\n  \"iisSettings\": {\n    ...\n  },\n  \"profiles\": {\n    \"IIS Express\": {\n      \"commandName\": \"IISExpress\",\n      \"launchBrowser\": true,\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n        \"NODE_ENV\": \"development\"\n      }\n    },\n    \"dotnet_core_with_vue_cli3\": {\n      \"commandName\": \"Project\",\n      \"launchBrowser\": true,\n      \"applicationUrl\": \"http://localhost:5000\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n        \"NODE_ENV\": \"development\"\n      }\n    }\n  }\n}\n```\n\n* 若要使用 npm 跑專案：`package.json` 指令加上 HMR\n\n安裝 cross-env\n\n```\nnpm install -D cross-env\n```\n\n`package.json`\n\n```json\n{\n  ......\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    ...\n  },\n  ......\n}\n```\n\n執行如下 npm 指令或使用之前寫的另一篇文章方式 [vscode task](../../../../../2017/12/25/Dotnet/NET-Core-2-0-Debug-with-VScode/) 來啟動專案。\n\n```npm\nnpm run hmr\n```\n\n\n成功的話就會從 `Chrome` 開發者工具看到 `HMR` 連結成功囉～\n\n![http://localhost:5000](https://lh3.googleusercontent.com/iwyqGKY3x0PNLHZvmRMQxAG53ta1MNkplE5rDHIwfr884IxIPhOlHaZwUzMdPS4B5MvWrK-BzP1afJMnZkHfuwAGJ8szM1VJmqo3BkZZs9GN92uP-zTk3oS7spcGo8DinPhbi9M7TZJkku95nzIxh1UIebtussfopG1byaWLQOna9wt9_CK8tiSyugr1A6x0bPG20SsAO6--hwmNa4SiODAyeTeADmMs1dtrI8d-6gDvtULip1yljjzKfnDm2iECcreinLfD3mUyUkAaW25-jzyXpa3dQ5EokLdx9JNVVLWM1kKmeadHGdcPNXEKJIaWK8TMFuxjRL6YiiwPeRpEMXSHGZI7Czbaqxh1GJmdBCejLIbWaOy-NKuqKJ37_Xf5FVFTnXlEyBZs3yAfr2pNtBgbk9SsZJvB1ljszKOE-CwhXmJJinfBpJ-kGd2Lh2gsQwo2JC6_frvi3uv3gl9LVhBQC6iZdawwvwTveTr_E4X7Z5-P-EenyBMKUV6IRoFUE_b_dfPZlPYMBCD8UBSau-F3Y1HZNAIihor6R1o4c2RSKF01GWXq62HBdnlQgX-94mNkj4noSm9dHaErDzTOm0WUwJVw_SxfdFB3_2aP6ddi5ce2mxHiiau5ajes_rvFBuMlLAmwIOhiXR1KwdBdS5hqjTB4rdGTGEA3IYqlyLXtLdFNzM8iuMhZvlFra90dpXFlLvYBGCitsQ8VTQFc4ukw1Di0HvdY4cZFsLulfcTv9FhEAA=w1780-h1112-no \"首頁\")\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v1.0)，下回見～\n\n## 參考資料\n\n* [Microsoft.AspNetCore.SpaServices.Extensions](https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices.Extensions/3.0.0)\n* [Quickly Configure ASP.NET Core API to work with Vue CLI 3!](https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/)\n* [從 ASP.NET Core 2.2 遷移至3](https://docs.microsoft.com/zh-tw/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&tabs=visual-studio-code)","slug":"Dotnet/NET-Core-3-SPA-with-Vue-Cli-3","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qi001mr3y7hpuha46o","content":"<p>之前有寫過一篇 <a href=\"../../../../../2017/12/02/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli/\">.NET core 2 + Vue-cli 2 的起手式</a>，到了2019，兩者也紛紛出版本3。這次，我們將說明如何用 .NET Core 3 + Vue-cli 3 起一個新專案，附贈最新 <a href=\"https://vuetifyjs.com/en/\">Vuetify 2</a> 的 Material Design 框架。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-vue-cli-模板\"><a href=\"#安裝-vue-cli-模板\" class=\"headerlink\" title=\"安裝 vue-cli 模板\"></a>安裝 <code>vue-cli</code> 模板</h2><blockquote>\n<p>注意： vue-cli 需要 Node.js 版本 &gt; v8.9</p>\n</blockquote>\n<br />\n\n<ul>\n<li>安裝全域 <code>vue-cli</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>起始一個 vue 專案 <code>my-app</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create my-app</span><br></pre></td></tr></table></figure>\n\n<p>按照 <code>vue-cli</code> 的指示選擇預設 (<code>default</code>) 即可。</p>\n<p>安裝完後，可以把專案從 <code>my-app</code> 資料夾中移出來，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/mg4HgncLJ66AZ4wnPznFb1X55drWjTCgDy-22BLolsQRlBTYghwQg8kDxWkCaneH4eoyns8JS9Xi42b74lk4ATinxc19-ka7voTtH8ySKcfZZ4j9nRsj_X0FQvBCzIIsk9ZHBv159X0piGmlaJKvLm2q6V-Rpmzbpl6pvd9M1zNtO5Cu01hFRED2G0Zoh9y5ELB6u_vU1uqoCFfNM-eDDjFMQrqTZ0vd3PxmjciMwdQ8hjMxMGoo9pVci3V3z-K0NlFqfuX5O7Skg1Qhk0OgCa7DYqfmL-QrdZ-PcJOK0sMBCY2LfW3cOjFK9AkQTCTYnbn4xMLLAX8dR1jRgFXBGIsDJl_FiE-HCNrT71O1wrA1yd751rABO2w8ghElsJgteqvSBBoukRrgYwX4z8Efuu1BReVfX3hfdPAsfJKSHsZZuM-C5G3GzT58GHQpXpVHyAQME344dX0zqaZmDrWb0PKcD77G0lsYmZcpXAuczuhWADSAPMUGCuswMgan3q35GRrpN9SJwekmzHXs1J818eOptpn0jTO3x--I6bhsvB9OpmchFI8ZoFtE21LDPa1Jfrss_-HZ4ZpzdNslDdNeOL33kHLu00zXne8AwMCCmD1KKp4aLwniW3-n7tVuQFTKLYRb3sNfKOgbdYwNHK4urpo1IaBLazDwcjnhESmz-fJEzyZ2mH-121t3_VfSDcwsmSOKlZKs6pXbA_uK_YFIIBHF5IozC1vv6QUQ40WIe9aiUnLTqg=w618-h934-no\" alt=\"專案目錄\" title=\"專案目錄\"></p>\n<ul>\n<li>執行套件安裝</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>安裝 Vuetify 框架</li>\n</ul>\n<blockquote>\n<p>如果不想要安裝樣式框架可以直接跳過這個步驟</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue add vuetify</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>測試 vue 專案是否安裝成功</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:8080</code> 如果有成功出現如下面畫面就是安裝成功 <code>vue</code> + <code>vuetify</code> 的專案囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTI7SZCavIJAmLRqZNbCMMRHxPwSm6yD_EkBf-DHV8Rn_96Sa39daK1aYjxFd34c_XAjiC8yDZVwspgn2arZdo-_ptFvduN4CQ0cNnJC5_xohUq10ggkuzHrdn7m9KezmU-8E4FZMBD3PzRMeWPYlwJCj-JjSfkNpQZGLRn37RyoGNvpJECdgnBsEEQx5AZHx-E4ZJDOTujyDBGEkqvp8lI3oW--jDOoCIMaFUuLu-vHxKvWtFprE_mBzwI7KIkkeC9D0rWhUsX93hJT4x46Elmj1TOYSDRMiNogHG0P5cZ5JSUIUsdM_T9XKQ-U0oTDeD3iHipDBmBfJH5KgmpXGh3e8cBlyHqpkqu5DVXe468cWfNT9nRqCB3IQOPtPcJg5tB0bKe68fQTjaIwwiqEngW1aB-8gXZgt5OCDeAyOZJB0rvXvr9uoL69sUrHCamSGT0ppGLenX7yFeP-uNVPXgi899gQj9siNlqWbQWnjjdrhsTAvrx5-3rFS43GIssEkwwB_MiQT411oAdd_g9ds_BgCDSohxD2NOWZAWJ3NmvrSupIsvckps0p7jLJ-4Mqb82J5KvJ0GdIT8wIjqF8hZmhFeAWxFgmwE10axr7eClFsN4CjIqhnFdO_v86vyYDx2S60EVqUPW8t1PorW0jbXJG3TGjEeWlHYLEme8d7mQaIT1001f174oEY9twCvgAd5YxmLFCZyaGrqvleFOveUc221DTKkgYdC9k9oAjr2qAyV4J7A=w2206-h1378-no\" alt=\"http://localhost:8080\" title=\"首頁\"></p>\n<h2 id=\"起始-NET-Core-3-0-MVC-專案\"><a href=\"#起始-NET-Core-3-0-MVC-專案\" class=\"headerlink\" title=\"起始 .NET Core 3.0 MVC 專案\"></a>起始 <code>.NET Core 3.0 MVC</code> 專案</h2><ul>\n<li><p>安裝 <a href=\"https://github.com/dotnet/cli\">.NET Command Line Interface</a></p>\n</li>\n<li><p>新增一個 Core MVC 專案</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new mvc</span><br></pre></td></tr></table></figure>\n\n<p>把產生的檔案都移到最外層 (跟 Vue 同一層)，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/W203GfdGjLI_7ZhUUZjmE4LYVKs6AFGNMcVohuF2E5_eQqKQrXc_ZV58HCPvQPjwBuxBPZEplhsJ_-WrPJ_nH_5OgjijEFAcZsStz2-ckatWBngIvgpo4p1pWPt_o613hObxX2CS9jz7g9zuRqIyQH5CAwrF8pnQAvls9fHvsnL3Zzuy6mqCNjzy9H6C1KJTmA7mdNbSJhtUr6JqNjFuw1hWgEAyVGiDCJNcNnGFK0zi3f74byGEMh_K7ymwRv6iJUhXN74GwTRMpV7r_jZIOrs7AOv10UhezxHhKFvkCe_ZZ0YbhohieE4LmwiAzL-urryjpLE95apTMTf6xRIRB8Gv-0lX4UNjC4MN9CI7jwdGklQ2djXDnmfys7rbsk0p6a5gr3dPsD-98pwTC3I--LmngPdBjOR6QED59piLeKbeQ4N3QG0L19JW6hcF0liPvdEwToC3psjUiC-jYimsUK6jvxU2xlyMqAIAtjm9fLCmnFp5kfMH_qbihmO9dQGnpmsYx_rCQqTXrfmODYvTL1LwiMBRe-Hp_twIBHB1S6K5XtCCk19SLYHD7VEKKK6sfAcawo5V4Ohe_yJ8Phxkod0rhXv4KSvlYdD3iJbCLCFhMhWgyAIGhZTcST0lDzUhxz5L8TKZRa5hbHA8kjw7hNlnjhYm5b92HFetGcwPbTi-3t57nL9C0H2drgjwqOBh8m8Zwh5l0QDdBrdToOQg-PKII9XK0eMh5oriRCvgjjaP_H14vg=w614-h1208-no\" alt=\"專案目錄\" title=\"專案目錄\"></p>\n<ul>\n<li>刪除不必要的檔案</li>\n</ul>\n<p>因為我們是 <code>SPA</code> 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。</p>\n<p><img src=\"https://lh3.googleusercontent.com/_6YDysh2v7AoOk4y82teBx4qsEXdrEvO5y6LKda2Vt87eLX1RCRfXOIaFhHK5Iy7OsBCkzdRehhB7-VsvrRSUWZsPO9tONVNw-c1pwcsrsA6wOAMn-D22zI0gQa2DrEDmBYttUore2G0kNtZkGaLwt2LQMuK3Zs-8cOEyHUPy1nnWD66GVUNozqty6tNTGmyIK20sN8kZpCLEikfEYunKI3gVlT0G5UfEmVAJ25VlKUbkziTEPwTDtwxvBmz6qlPbcEKXNSOLAe-zAeYR6b4-yTPFifwmiNrwdHEebD3kkZrYdfCPO9KFw4FOFQpNHkrGP-LxbeXCnatvDzMA0k9A81iHtVD0t8_9vkfb0lBvm40S0sFTvXXI_kUW-ncr639iMkXZ66v55ZXWOMAUL3trWESyUZ6FPMtiCzUVZRNlR0kfKV_CmgLivBugJxl696Vh6MPbUWcAwr3dxBnU9Iwvd5wHad4lpGbDEF2GTSzL8ZV1Hh8HnwLiGbqqGfJzFs9O8sgsa4dDJAnQpwCuCTrJJbk5KmMNPLR5tbiSyY9MGz1nbkCYtrtSNNPro_OsqiG3uMNXm-tCbtUkTjGG953ULeTY45NQqPwVqugKu3T0t4DMKjEJvoky0IBUOd7hdoTMgyRb9bMMJMedWyAuoFLZwM5Ar4qOZ3Um-nmQ2HA-lp4GDG1wO9rbxk4Sh2Ng8WR_rzH9Hnwy1DR8qFrXWv4E58WrzfK79A01VcCgBkAyR74bl9vUg=w620-h1248-no\" alt=\"刪除多餘頁面和樣式後的檔案\" title=\"資料夾結構\"></p>\n<ul>\n<li><code>HomeController.cs</code> 刪除多餘的 Controller，只保留 <code>Index</code> 和 <code>Error</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Logging;</span><br><span class=\"line\"><span class=\"keyword\">using</span> dotnet_core_with_vue_cli3.Models;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_with_vue_cli3.Controllers</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> ILogger&lt;HomeController&gt; _logger;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            _logger = logger;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        [<span class=\"meta\">ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)</span>]</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Error</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> View(<span class=\"keyword\">new</span> ErrorViewModel &#123; RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>Index.cshtml</code> 多餘的 HTML 刪除</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;~/favicon.ico&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>dotnet_core_with_vue_cli3<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/@@mdi/font@latest/css/materialdesignicons.min.css&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>We&#x27;re sorry but my-app doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/app.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>誒～你有沒有覺得明明我們把 <code>wwwroot</code> 裡面的靜態資源都殺光光，卻在 <code>_Layout.cshtml</code> 上面放 <code>app.js</code>？因為這邊是留給 Vue-cli 去產生靜態資源，所以我們接下來就要說明如何設定讓 <code>.NET Core</code> 和 <code>Vue</code> 做連動。</p>\n</blockquote>\n<h2 id=\"設定-HMR-和-vue-router-的-fallback\"><a href=\"#設定-HMR-和-vue-router-的-fallback\" class=\"headerlink\" title=\"設定 HMR 和 vue router 的 fallback\"></a>設定 <code>HMR</code> 和 <code>vue router</code> 的 fallback</h2><p>接著才是重頭戲～如魔法般的 <code>HMR</code> 功能登場!!!</p>\n<p>如果還不太知道什麼是 <code>HMR</code> 的，就 google 一下囉～</p>\n<ul>\n<li>安裝 <code>aspnet-webpack</code>, <code>webpack-hot-middleware</code>, <code>webpack-dev-middleware</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D aspnet-webpack webpack-hot-middleware webpack-dev-middleware</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>新增 <code>Microsoft.AspNetCore.SpaServices.Extensions</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet add package Microsoft.AspNetCore.SpaServices.Extensions --version 3.0.0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>修改 <code>Startup.cs</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.Webpack;</span><br><span class=\"line\"></span><br><span class=\"line\">......</span><br><span class=\"line\">        <span class=\"comment\">// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IWebHostEnvironment env</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseDeveloperExceptionPage();</span><br><span class=\"line\">                app.UseWebpackDevMiddleware(<span class=\"keyword\">new</span> WebpackDevMiddlewareOptions</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    HotModuleReplacement = <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    ConfigFile = <span class=\"string\">@&quot;./node_modules/@vue/cli-service/webpack.config.js&quot;</span></span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                ...</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ...</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseEndpoints(endpoints =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                endpoints.MapControllerRoute(</span><br><span class=\"line\">                    name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">                    pattern: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\">                endpoints.MapFallbackToController(<span class=\"string\">&quot;Index&quot;</span>, <span class=\"string\">&quot;Home&quot;</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>新增 <code>vue.config.js</code> 在最外層</li>\n</ul>\n<blockquote>\n<p>這邊就是設定 <code>Vue-cli</code> 將產生的靜態檔案放在 <code>wwwroot</code> 讓 <code>.Net Core</code> 去吃。</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">outputDir</span>: <span class=\"string\">&#x27;wwwroot&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// https://github.com/vuejs/vue-cli/issues/3603#issuecomment-483913563</span></span><br><span class=\"line\">    <span class=\"comment\">// remove vue-cli-service&#x27;s progress output</span></span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;progress&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/</span></span><br><span class=\"line\">    <span class=\"comment\">// aspnet uses the other hmr so remove this one</span></span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;hmr&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>若要使用 vscode 跑專案：修改 <code>Properties/launchSettings.json</code></li>\n</ul>\n<p>修改 <code>Properties/launchSettings.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;iisSettings&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;profiles&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;IIS Express&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;commandName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;IISExpress&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;launchBrowser&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;dotnet_core_with_vue_cli3&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;commandName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Project&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;launchBrowser&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;applicationUrl&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://localhost:5000&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>若要使用 npm 跑專案：<code>package.json</code> 指令加上 HMR</li>\n</ul>\n<p>安裝 cross-env</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -D cross-env</span><br></pre></td></tr></table></figure>\n\n<p><code>package.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>執行如下 npm 指令或使用之前寫的另一篇文章方式 <a href=\"../../../../../2017/12/25/Dotnet/NET-Core-2-0-Debug-with-VScode/\">vscode task</a> 來啟動專案。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run hmr</span><br></pre></td></tr></table></figure>\n\n\n<p>成功的話就會從 <code>Chrome</code> 開發者工具看到 <code>HMR</code> 連結成功囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/iwyqGKY3x0PNLHZvmRMQxAG53ta1MNkplE5rDHIwfr884IxIPhOlHaZwUzMdPS4B5MvWrK-BzP1afJMnZkHfuwAGJ8szM1VJmqo3BkZZs9GN92uP-zTk3oS7spcGo8DinPhbi9M7TZJkku95nzIxh1UIebtussfopG1byaWLQOna9wt9_CK8tiSyugr1A6x0bPG20SsAO6--hwmNa4SiODAyeTeADmMs1dtrI8d-6gDvtULip1yljjzKfnDm2iECcreinLfD3mUyUkAaW25-jzyXpa3dQ5EokLdx9JNVVLWM1kKmeadHGdcPNXEKJIaWK8TMFuxjRL6YiiwPeRpEMXSHGZI7Czbaqxh1GJmdBCejLIbWaOy-NKuqKJ37_Xf5FVFTnXlEyBZs3yAfr2pNtBgbk9SsZJvB1ljszKOE-CwhXmJJinfBpJ-kGd2Lh2gsQwo2JC6_frvi3uv3gl9LVhBQC6iZdawwvwTveTr_E4X7Z5-P-EenyBMKUV6IRoFUE_b_dfPZlPYMBCD8UBSau-F3Y1HZNAIihor6R1o4c2RSKF01GWXq62HBdnlQgX-94mNkj4noSm9dHaErDzTOm0WUwJVw_SxfdFB3_2aP6ddi5ce2mxHiiau5ajes_rvFBuMlLAmwIOhiXR1KwdBdS5hqjTB4rdGTGEA3IYqlyLXtLdFNzM8iuMhZvlFra90dpXFlLvYBGCitsQ8VTQFc4ukw1Di0HvdY4cZFsLulfcTv9FhEAA=w1780-h1112-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices.Extensions/3.0.0\">Microsoft.AspNetCore.SpaServices.Extensions</a></li>\n<li><a href=\"https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/\">Quickly Configure ASP.NET Core API to work with Vue CLI 3!</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&tabs=visual-studio-code\">從 ASP.NET Core 2.2 遷移至3</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p>之前有寫過一篇 <a href=\"../../../../../2017/12/02/Dotnet/NET-Core-2-0-SPA-with-Vue-Cli/\">.NET core 2 + Vue-cli 2 的起手式</a>，到了2019，兩者也紛紛出版本3。這次，我們將說明如何用 .NET Core 3 + Vue-cli 3 起一個新專案，附贈最新 <a href=\"https://vuetifyjs.com/en/\">Vuetify 2</a> 的 Material Design 框架。</p>","more":"<h2 id=\"安裝-vue-cli-模板\"><a href=\"#安裝-vue-cli-模板\" class=\"headerlink\" title=\"安裝 vue-cli 模板\"></a>安裝 <code>vue-cli</code> 模板</h2><blockquote>\n<p>注意： vue-cli 需要 Node.js 版本 &gt; v8.9</p>\n</blockquote>\n<br />\n\n<ul>\n<li>安裝全域 <code>vue-cli</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>起始一個 vue 專案 <code>my-app</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create my-app</span><br></pre></td></tr></table></figure>\n\n<p>按照 <code>vue-cli</code> 的指示選擇預設 (<code>default</code>) 即可。</p>\n<p>安裝完後，可以把專案從 <code>my-app</code> 資料夾中移出來，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/mg4HgncLJ66AZ4wnPznFb1X55drWjTCgDy-22BLolsQRlBTYghwQg8kDxWkCaneH4eoyns8JS9Xi42b74lk4ATinxc19-ka7voTtH8ySKcfZZ4j9nRsj_X0FQvBCzIIsk9ZHBv159X0piGmlaJKvLm2q6V-Rpmzbpl6pvd9M1zNtO5Cu01hFRED2G0Zoh9y5ELB6u_vU1uqoCFfNM-eDDjFMQrqTZ0vd3PxmjciMwdQ8hjMxMGoo9pVci3V3z-K0NlFqfuX5O7Skg1Qhk0OgCa7DYqfmL-QrdZ-PcJOK0sMBCY2LfW3cOjFK9AkQTCTYnbn4xMLLAX8dR1jRgFXBGIsDJl_FiE-HCNrT71O1wrA1yd751rABO2w8ghElsJgteqvSBBoukRrgYwX4z8Efuu1BReVfX3hfdPAsfJKSHsZZuM-C5G3GzT58GHQpXpVHyAQME344dX0zqaZmDrWb0PKcD77G0lsYmZcpXAuczuhWADSAPMUGCuswMgan3q35GRrpN9SJwekmzHXs1J818eOptpn0jTO3x--I6bhsvB9OpmchFI8ZoFtE21LDPa1Jfrss_-HZ4ZpzdNslDdNeOL33kHLu00zXne8AwMCCmD1KKp4aLwniW3-n7tVuQFTKLYRb3sNfKOgbdYwNHK4urpo1IaBLazDwcjnhESmz-fJEzyZ2mH-121t3_VfSDcwsmSOKlZKs6pXbA_uK_YFIIBHF5IozC1vv6QUQ40WIe9aiUnLTqg=w618-h934-no\" alt=\"專案目錄\" title=\"專案目錄\"></p>\n<ul>\n<li>執行套件安裝</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>安裝 Vuetify 框架</li>\n</ul>\n<blockquote>\n<p>如果不想要安裝樣式框架可以直接跳過這個步驟</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue add vuetify</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>測試 vue 專案是否安裝成功</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run serve</span><br></pre></td></tr></table></figure>\n\n<p>用瀏覽器看 <code>http://localhost:8080</code> 如果有成功出現如下面畫面就是安裝成功 <code>vue</code> + <code>vuetify</code> 的專案囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/WTI7SZCavIJAmLRqZNbCMMRHxPwSm6yD_EkBf-DHV8Rn_96Sa39daK1aYjxFd34c_XAjiC8yDZVwspgn2arZdo-_ptFvduN4CQ0cNnJC5_xohUq10ggkuzHrdn7m9KezmU-8E4FZMBD3PzRMeWPYlwJCj-JjSfkNpQZGLRn37RyoGNvpJECdgnBsEEQx5AZHx-E4ZJDOTujyDBGEkqvp8lI3oW--jDOoCIMaFUuLu-vHxKvWtFprE_mBzwI7KIkkeC9D0rWhUsX93hJT4x46Elmj1TOYSDRMiNogHG0P5cZ5JSUIUsdM_T9XKQ-U0oTDeD3iHipDBmBfJH5KgmpXGh3e8cBlyHqpkqu5DVXe468cWfNT9nRqCB3IQOPtPcJg5tB0bKe68fQTjaIwwiqEngW1aB-8gXZgt5OCDeAyOZJB0rvXvr9uoL69sUrHCamSGT0ppGLenX7yFeP-uNVPXgi899gQj9siNlqWbQWnjjdrhsTAvrx5-3rFS43GIssEkwwB_MiQT411oAdd_g9ds_BgCDSohxD2NOWZAWJ3NmvrSupIsvckps0p7jLJ-4Mqb82J5KvJ0GdIT8wIjqF8hZmhFeAWxFgmwE10axr7eClFsN4CjIqhnFdO_v86vyYDx2S60EVqUPW8t1PorW0jbXJG3TGjEeWlHYLEme8d7mQaIT1001f174oEY9twCvgAd5YxmLFCZyaGrqvleFOveUc221DTKkgYdC9k9oAjr2qAyV4J7A=w2206-h1378-no\" alt=\"http://localhost:8080\" title=\"首頁\"></p>\n<h2 id=\"起始-NET-Core-3-0-MVC-專案\"><a href=\"#起始-NET-Core-3-0-MVC-專案\" class=\"headerlink\" title=\"起始 .NET Core 3.0 MVC 專案\"></a>起始 <code>.NET Core 3.0 MVC</code> 專案</h2><ul>\n<li><p>安裝 <a href=\"https://github.com/dotnet/cli\">.NET Command Line Interface</a></p>\n</li>\n<li><p>新增一個 Core MVC 專案</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new mvc</span><br></pre></td></tr></table></figure>\n\n<p>把產生的檔案都移到最外層 (跟 Vue 同一層)，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/W203GfdGjLI_7ZhUUZjmE4LYVKs6AFGNMcVohuF2E5_eQqKQrXc_ZV58HCPvQPjwBuxBPZEplhsJ_-WrPJ_nH_5OgjijEFAcZsStz2-ckatWBngIvgpo4p1pWPt_o613hObxX2CS9jz7g9zuRqIyQH5CAwrF8pnQAvls9fHvsnL3Zzuy6mqCNjzy9H6C1KJTmA7mdNbSJhtUr6JqNjFuw1hWgEAyVGiDCJNcNnGFK0zi3f74byGEMh_K7ymwRv6iJUhXN74GwTRMpV7r_jZIOrs7AOv10UhezxHhKFvkCe_ZZ0YbhohieE4LmwiAzL-urryjpLE95apTMTf6xRIRB8Gv-0lX4UNjC4MN9CI7jwdGklQ2djXDnmfys7rbsk0p6a5gr3dPsD-98pwTC3I--LmngPdBjOR6QED59piLeKbeQ4N3QG0L19JW6hcF0liPvdEwToC3psjUiC-jYimsUK6jvxU2xlyMqAIAtjm9fLCmnFp5kfMH_qbihmO9dQGnpmsYx_rCQqTXrfmODYvTL1LwiMBRe-Hp_twIBHB1S6K5XtCCk19SLYHD7VEKKK6sfAcawo5V4Ohe_yJ8Phxkod0rhXv4KSvlYdD3iJbCLCFhMhWgyAIGhZTcST0lDzUhxz5L8TKZRa5hbHA8kjw7hNlnjhYm5b92HFetGcwPbTi-3t57nL9C0H2drgjwqOBh8m8Zwh5l0QDdBrdToOQg-PKII9XK0eMh5oriRCvgjjaP_H14vg=w614-h1208-no\" alt=\"專案目錄\" title=\"專案目錄\"></p>\n<ul>\n<li>刪除不必要的檔案</li>\n</ul>\n<p>因為我們是 <code>SPA</code> 不需要用到 MVC 其他頁面的功能，所以將多餘的頁面和樣式去除。參考如下的資料夾結構。</p>\n<p><img src=\"https://lh3.googleusercontent.com/_6YDysh2v7AoOk4y82teBx4qsEXdrEvO5y6LKda2Vt87eLX1RCRfXOIaFhHK5Iy7OsBCkzdRehhB7-VsvrRSUWZsPO9tONVNw-c1pwcsrsA6wOAMn-D22zI0gQa2DrEDmBYttUore2G0kNtZkGaLwt2LQMuK3Zs-8cOEyHUPy1nnWD66GVUNozqty6tNTGmyIK20sN8kZpCLEikfEYunKI3gVlT0G5UfEmVAJ25VlKUbkziTEPwTDtwxvBmz6qlPbcEKXNSOLAe-zAeYR6b4-yTPFifwmiNrwdHEebD3kkZrYdfCPO9KFw4FOFQpNHkrGP-LxbeXCnatvDzMA0k9A81iHtVD0t8_9vkfb0lBvm40S0sFTvXXI_kUW-ncr639iMkXZ66v55ZXWOMAUL3trWESyUZ6FPMtiCzUVZRNlR0kfKV_CmgLivBugJxl696Vh6MPbUWcAwr3dxBnU9Iwvd5wHad4lpGbDEF2GTSzL8ZV1Hh8HnwLiGbqqGfJzFs9O8sgsa4dDJAnQpwCuCTrJJbk5KmMNPLR5tbiSyY9MGz1nbkCYtrtSNNPro_OsqiG3uMNXm-tCbtUkTjGG953ULeTY45NQqPwVqugKu3T0t4DMKjEJvoky0IBUOd7hdoTMgyRb9bMMJMedWyAuoFLZwM5Ar4qOZ3Um-nmQ2HA-lp4GDG1wO9rbxk4Sh2Ng8WR_rzH9Hnwy1DR8qFrXWv4E58WrzfK79A01VcCgBkAyR74bl9vUg=w620-h1248-no\" alt=\"刪除多餘頁面和樣式後的檔案\" title=\"資料夾結構\"></p>\n<ul>\n<li><code>HomeController.cs</code> 刪除多餘的 Controller，只保留 <code>Index</code> 和 <code>Error</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Collections.Generic;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Linq;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Threading.Tasks;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Logging;</span><br><span class=\"line\"><span class=\"keyword\">using</span> dotnet_core_with_vue_cli3.Models;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_with_vue_cli3.Controllers</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> ILogger&lt;HomeController&gt; _logger;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            _logger = logger;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        [<span class=\"meta\">ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)</span>]</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Error</span>()</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> View(<span class=\"keyword\">new</span> ErrorViewModel &#123; RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>Index.cshtml</code> 多餘的 HTML 刪除</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>_Layout.cshtml</code> 修改內容如下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;icon&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;~/favicon.ico&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>dotnet_core_with_vue_cli3<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/@@mdi/font@latest/css/materialdesignicons.min.css&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">strong</span>&gt;</span>We&#x27;re sorry but my-app doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class=\"tag\">&lt;/<span class=\"name\">strong</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">noscript</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderBody()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;~/js/app.js&quot;</span> <span class=\"attr\">asp-append-version</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    @RenderSection(&quot;Scripts&quot;, required: false)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>誒～你有沒有覺得明明我們把 <code>wwwroot</code> 裡面的靜態資源都殺光光，卻在 <code>_Layout.cshtml</code> 上面放 <code>app.js</code>？因為這邊是留給 Vue-cli 去產生靜態資源，所以我們接下來就要說明如何設定讓 <code>.NET Core</code> 和 <code>Vue</code> 做連動。</p>\n</blockquote>\n<h2 id=\"設定-HMR-和-vue-router-的-fallback\"><a href=\"#設定-HMR-和-vue-router-的-fallback\" class=\"headerlink\" title=\"設定 HMR 和 vue router 的 fallback\"></a>設定 <code>HMR</code> 和 <code>vue router</code> 的 fallback</h2><p>接著才是重頭戲～如魔法般的 <code>HMR</code> 功能登場!!!</p>\n<p>如果還不太知道什麼是 <code>HMR</code> 的，就 google 一下囉～</p>\n<ul>\n<li>安裝 <code>aspnet-webpack</code>, <code>webpack-hot-middleware</code>, <code>webpack-dev-middleware</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D aspnet-webpack webpack-hot-middleware webpack-dev-middleware</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>新增 <code>Microsoft.AspNetCore.SpaServices.Extensions</code></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet add package Microsoft.AspNetCore.SpaServices.Extensions --version 3.0.0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>修改 <code>Startup.cs</code></li>\n</ul>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.Webpack;</span><br><span class=\"line\"></span><br><span class=\"line\">......</span><br><span class=\"line\">        <span class=\"comment\">// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IWebHostEnvironment env</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseDeveloperExceptionPage();</span><br><span class=\"line\">                app.UseWebpackDevMiddleware(<span class=\"keyword\">new</span> WebpackDevMiddlewareOptions</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    HotModuleReplacement = <span class=\"literal\">true</span>,</span><br><span class=\"line\">                    ConfigFile = <span class=\"string\">@&quot;./node_modules/@vue/cli-service/webpack.config.js&quot;</span></span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                ...</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ...</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseEndpoints(endpoints =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                endpoints.MapControllerRoute(</span><br><span class=\"line\">                    name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">                    pattern: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\">                endpoints.MapFallbackToController(<span class=\"string\">&quot;Index&quot;</span>, <span class=\"string\">&quot;Home&quot;</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">......</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>新增 <code>vue.config.js</code> 在最外層</li>\n</ul>\n<blockquote>\n<p>這邊就是設定 <code>Vue-cli</code> 將產生的靜態檔案放在 <code>wwwroot</code> 讓 <code>.Net Core</code> 去吃。</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">outputDir</span>: <span class=\"string\">&#x27;wwwroot&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// https://github.com/vuejs/vue-cli/issues/3603#issuecomment-483913563</span></span><br><span class=\"line\">    <span class=\"comment\">// remove vue-cli-service&#x27;s progress output</span></span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;progress&#x27;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/</span></span><br><span class=\"line\">    <span class=\"comment\">// aspnet uses the other hmr so remove this one</span></span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;hmr&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>若要使用 vscode 跑專案：修改 <code>Properties/launchSettings.json</code></li>\n</ul>\n<p>修改 <code>Properties/launchSettings.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;iisSettings&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;profiles&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;IIS Express&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;commandName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;IISExpress&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;launchBrowser&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;dotnet_core_with_vue_cli3&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;commandName&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Project&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;launchBrowser&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;applicationUrl&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://localhost:5000&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>若要使用 npm 跑專案：<code>package.json</code> 指令加上 HMR</li>\n</ul>\n<p>安裝 cross-env</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -D cross-env</span><br></pre></td></tr></table></figure>\n\n<p><code>package.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ......</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>執行如下 npm 指令或使用之前寫的另一篇文章方式 <a href=\"../../../../../2017/12/25/Dotnet/NET-Core-2-0-Debug-with-VScode/\">vscode task</a> 來啟動專案。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run hmr</span><br></pre></td></tr></table></figure>\n\n\n<p>成功的話就會從 <code>Chrome</code> 開發者工具看到 <code>HMR</code> 連結成功囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/iwyqGKY3x0PNLHZvmRMQxAG53ta1MNkplE5rDHIwfr884IxIPhOlHaZwUzMdPS4B5MvWrK-BzP1afJMnZkHfuwAGJ8szM1VJmqo3BkZZs9GN92uP-zTk3oS7spcGo8DinPhbi9M7TZJkku95nzIxh1UIebtussfopG1byaWLQOna9wt9_CK8tiSyugr1A6x0bPG20SsAO6--hwmNa4SiODAyeTeADmMs1dtrI8d-6gDvtULip1yljjzKfnDm2iECcreinLfD3mUyUkAaW25-jzyXpa3dQ5EokLdx9JNVVLWM1kKmeadHGdcPNXEKJIaWK8TMFuxjRL6YiiwPeRpEMXSHGZI7Czbaqxh1GJmdBCejLIbWaOy-NKuqKJ37_Xf5FVFTnXlEyBZs3yAfr2pNtBgbk9SsZJvB1ljszKOE-CwhXmJJinfBpJ-kGd2Lh2gsQwo2JC6_frvi3uv3gl9LVhBQC6iZdawwvwTveTr_E4X7Z5-P-EenyBMKUV6IRoFUE_b_dfPZlPYMBCD8UBSau-F3Y1HZNAIihor6R1o4c2RSKF01GWXq62HBdnlQgX-94mNkj4noSm9dHaErDzTOm0WUwJVw_SxfdFB3_2aP6ddi5ce2mxHiiau5ajes_rvFBuMlLAmwIOhiXR1KwdBdS5hqjTB4rdGTGEA3IYqlyLXtLdFNzM8iuMhZvlFra90dpXFlLvYBGCitsQ8VTQFc4ukw1Di0HvdY4cZFsLulfcTv9FhEAA=w1780-h1112-no\" alt=\"http://localhost:5000\" title=\"首頁\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-with-vue-cli3/tree/v1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.SpaServices.Extensions/3.0.0\">Microsoft.AspNetCore.SpaServices.Extensions</a></li>\n<li><a href=\"https://intellitect.com/quickly-configure-asp-net-core-api-to-work-with-vue-cli-3/\">Quickly Configure ASP.NET Core API to work with Vue CLI 3!</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&tabs=visual-studio-code\">從 ASP.NET Core 2.2 遷移至3</a></li>\n</ul>"},{"title":".NET Core Upgrade 2.2 with Webpack4 & Vue","thumbnailImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","thumbnailImagePosition":"left","coverImage":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","coverMeta":"out","date":"2018-12-31T16:00:00.000Z","updated":"2018-12-31T16:00:00.000Z","_content":"\n紀錄 .NET Core 升級到 2.2 和 Webpack 升到 4 要注意的地方～\n\n<!--more-->\n\n---\n## .NET Core 2.2 設定\n\n### csproj 專案檔\n\n`TargetFramework` 版本要改成 2.2, `PackageReference` 改成單一個 `Microsoft.AspNetCore.App`，就可以囉～\n\n``` XML\n<Project Sdk=\"Microsoft.NET.Sdk.Web\">\n  <PropertyGroup>\n    <TargetFramework>netcoreapp2.2</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Microsoft.AspNetCore.App\" />\n  </ItemGroup>\n</Project>\n```\n\n### Program.cs\n\n修改 `Program.cs` 中 `class` 內的程式，參考如下程式片段。\n\n``` C#\nnamespace dotnet_core_vue_cli\n{\n  public class Program\n  {\n      public static void Main(string[] args)\n      {\n        CreateWebHostBuilder(args).Build().Run();\n      }\n\n      public static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n        WebHost.CreateDefaultBuilder(args)\n          .UseStartup<Startup>();\n  }\n}\n```\n\n---\n## VScode / VS2017 launch 設定\n\n為了在 webpack 上可以依據環境變數判斷不同的 bundle 內容，所以分別在 VScode / VS2017 的 launch 檔案設定環境變數。\n\n### .vscode/launch.json (for VScode)\n\n`.vscode/launch.json` 在環境變數加上 `\"NODE_ENV=development\": \"\"` 。這邊有個小技巧，就是 `=development` 是放在前面，而不是在後面的雙引號，這部分應該是一個小 Bug，但目前先用這個方式解決。\n\n``` json\n...\n  \"env\": {\n    \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n    \"NODE_ENV=development\": \"\"\n  },\n...\n```\n\n### Properties/launchSettings.json (for VS2017)\n\n`Properties/launchSettings.json` 則直接加上環境變數即可。\n\n``` json\n...\n  \"environmentVariables\": {\n    \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n    \"NODE_ENV\": \"development\"\n  }\n...\n```\n\n---\n## Webpack4 設定\n\n### package.json\n\n更新所有 package 並執行 npm install，參考如下設定。\n\n``` json\n{\n  \"name\": \"dotnet-core-vue-cli\",\n  ...\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    \"build\": \"webpack --config webpack.pro.js\"\n  },\n  \"dependencies\": {\n    \"vue\": \"^2.5.21\"\n  },\n  ...\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.2.2\",\n    \"@babel/preset-env\": \"^7.2.0\",\n    \"aspnet-webpack\": \"^3.0.0\",\n    \"babel-loader\": \"^8.0.4\",\n    \"cross-env\": \"^5.2.0\",\n    \"css-loader\": \"^2.1.0\",\n    \"cssnano\": \"^4.1.8\",\n    \"file-loader\": \"^3.0.1\",\n    \"mini-css-extract-plugin\": \"^0.5.0\",\n    \"node-sass\": \"^4.11.0\",\n    \"postcss-loader\": \"^3.0.0\",\n    \"postcss-preset-env\": \"^6.5.0\",\n    \"sass-loader\": \"^7.1.0\",\n    \"uglifyjs-webpack-plugin\": \"^2.1.1\",\n    \"vue-loader\": \"^15.4.2\",\n    \"vue-style-loader\": \"^4.1.2\",\n    \"vue-template-compiler\": \"^2.5.21\",\n    \"webpack\": \"^4.28.2\",\n    \"webpack-cli\": \"^3.1.2\",\n    \"webpack-dev-middleware\": \"^3.4.0\",\n    \"webpack-hot-middleware\": \"^2.24.3\",\n    \"webpack-merge\": \"^4.1.5\"\n  }\n}\n```\n\n### .babelrc\n\n因為升到 `babel` 7 之後套件會整個改成 `@` 開頭的，所以舊的同名 package 就可以刪掉了。所以 `babelrc` 設定檔也要改成如下片段。\n\n```\n{\n  \"presets\": [\n    [\n      \"@babel/preset-env\",\n      {\n        \"modules\": false\n      }\n    ]\n  ]\n}\n```\n\n### postcss.config.js\n\n升級 `Vue-loader` 相容 `Webpack` 4 後就不會有自動 `autoprefixer` 的功能，需要自行引入 `postCSS` 來做這件事情。所以 `postcss.config.js` 設定檔要新增如下片段。\n\n``` js\nmodule.exports = {\n  plugins: {\n    'postcss-preset-env': {},\n    'cssnano': {},\n  }\n}\n```\n\n### webpack.base|config|pro.js\n\n> 這邊升級後沒有用最新 `vue-cli` 3 的原因是因為 `aspnet-webpack` HMR 預設吃的 `webpack` 設定是最外層的 `webpack.config.js`，但最新 `Vue-cli` 3 已經把 `webpack.config.js` 藏起來了，改成 `vue.config.js` 做後續加工處理，且我們不使用 `node server` ，而是用 `dotnet server` 做 `HMR`，所以其實已經不需要 `vue-cli` 3 了。\n\n因為我們需要分成 `develop` 和 `production` 的 `webpack` 設定，所以就可以把 `webpack` 的結構拆成一個共用的基底 `webpack.base.js`，然後 `develop` 就透過 `webpack-merge` 將 `base` 結合 `webpack.config.js`，而 `production` 則是將 `base` 結合 `webpack.pro.js`。\n\n以下擷取部分比較重要的地方跟大家分享。\n\n* webpack.base.js\n\n``` js\nconst path = require('path')\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\")\nconst VueLoaderPlugin = require('vue-loader/lib/plugin')\nconst devMode = process.env.NODE_ENV === 'development'\n\nmodule.exports = {\n  ...\n  module: {\n    rules: [\n      { // vue-loader 已經沒有預設 autoprefixer，所以 CSS 的部分要加上 postCSS\n        test: /\\.vue$/,\n        use: 'vue-loader'\n      },\n      {\n        test: /\\.js$/,\n        use: 'babel-loader',\n        exclude: /node_modules/\n      },\n      { // MiniCssExtractPlugin 目前在 HMR 模式沒辦法打包成獨立的 CSS 檔案，所以在開發模式的時候，必須使用 vue-style-loader 替代，變成 meta 內的 style。\n        test: /\\.scss?$/,\n        use: [\n          devMode ? 'vue-style-loader' : MiniCssExtractPlugin.loader,\n          {\n            loader: 'css-loader',\n            options: {\n              importLoaders: 2\n            }\n          },\n          'postcss-loader', // for autoprefix\n          'sass-loader'\n        ]\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          publicPath: 'imgs/',\n          outputPath: 'imgs/',\n          name: '[name].[ext]?[hash]'\n        }\n      }\n    ]\n  },\n  plugins: [\n    // Webpack4 需使用 MiniCssExtractPlugin 打包 CSS 成獨立的 CSS\n    new MiniCssExtractPlugin({\n      filename: \"css/main.css\"\n    }),\n    // Webpack4 需使用 VueLoaderPlugin 才能正確讀取 .vue\n    new VueLoaderPlugin()\n  ]\n}\n```\n\n* webpack.config.js\n\n```js\nconst merge = require('webpack-merge')\nconst base = require('./webpack.base')\n\n// 使用 webpack-merge 將 base 和 config 結合\nmodule.exports = merge(base, {\n  /* mode 替換掉以前的 process.env\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"development\"'\n      }\n    }),\n  */\n  mode: 'development',\n  devServer: {\n    historyApiFallback: true,\n    noInfo: false,\n  },\n  devtool: '#eval-source-map',\n})\n```\n\n* webpack.pro.js\n\n``` js\nconst merge = require('webpack-merge')\nconst base = require('./webpack.base')\nconst UglifyJsPlugin = require('uglifyjs-webpack-plugin')\n\n// 使用 webpack-merge 將 base 和 pro 結合\nmodule.exports = merge(base, {\n  /* mode 替換掉以前的 process.env\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"production\"'\n      }\n    }),\n  */\n  mode: 'production',\n  devtool: '#source-map',\n  // 新的 Webpack 4 把優化的部份都移到 optimization 設定\n  // 所以 UglifyJsPlugin 替代掉之前的 webpack.optimize.UglifyJsPlugin\n  optimization: {\n    minimizer: [new UglifyJsPlugin()]\n  }\n})\n```\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v2.2.0)，下回見～","source":"_posts/Dotnet/NET-Core-Upgrade-2-2-with-Webpack4-Vue.md","raw":"---\ntitle: .NET Core Upgrade 2.2 with Webpack4 & Vue\ncategories:\n  - .NET Core\nthumbnailImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\nthumbnailImagePosition: left\ncoverImage: http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png\ncoverMeta: out\ntags: [.NET Core, dotnet, Vue, Webpack, SPA, MVC, VScode]\ndate: 2019/01/01\nupdated: 2019/01/01\n---\n\n紀錄 .NET Core 升級到 2.2 和 Webpack 升到 4 要注意的地方～\n\n<!--more-->\n\n---\n## .NET Core 2.2 設定\n\n### csproj 專案檔\n\n`TargetFramework` 版本要改成 2.2, `PackageReference` 改成單一個 `Microsoft.AspNetCore.App`，就可以囉～\n\n``` XML\n<Project Sdk=\"Microsoft.NET.Sdk.Web\">\n  <PropertyGroup>\n    <TargetFramework>netcoreapp2.2</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Microsoft.AspNetCore.App\" />\n  </ItemGroup>\n</Project>\n```\n\n### Program.cs\n\n修改 `Program.cs` 中 `class` 內的程式，參考如下程式片段。\n\n``` C#\nnamespace dotnet_core_vue_cli\n{\n  public class Program\n  {\n      public static void Main(string[] args)\n      {\n        CreateWebHostBuilder(args).Build().Run();\n      }\n\n      public static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n        WebHost.CreateDefaultBuilder(args)\n          .UseStartup<Startup>();\n  }\n}\n```\n\n---\n## VScode / VS2017 launch 設定\n\n為了在 webpack 上可以依據環境變數判斷不同的 bundle 內容，所以分別在 VScode / VS2017 的 launch 檔案設定環境變數。\n\n### .vscode/launch.json (for VScode)\n\n`.vscode/launch.json` 在環境變數加上 `\"NODE_ENV=development\": \"\"` 。這邊有個小技巧，就是 `=development` 是放在前面，而不是在後面的雙引號，這部分應該是一個小 Bug，但目前先用這個方式解決。\n\n``` json\n...\n  \"env\": {\n    \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n    \"NODE_ENV=development\": \"\"\n  },\n...\n```\n\n### Properties/launchSettings.json (for VS2017)\n\n`Properties/launchSettings.json` 則直接加上環境變數即可。\n\n``` json\n...\n  \"environmentVariables\": {\n    \"ASPNETCORE_ENVIRONMENT\": \"Development\",\n    \"NODE_ENV\": \"development\"\n  }\n...\n```\n\n---\n## Webpack4 設定\n\n### package.json\n\n更新所有 package 並執行 npm install，參考如下設定。\n\n``` json\n{\n  \"name\": \"dotnet-core-vue-cli\",\n  ...\n  \"scripts\": {\n    \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n    \"build\": \"webpack --config webpack.pro.js\"\n  },\n  \"dependencies\": {\n    \"vue\": \"^2.5.21\"\n  },\n  ...\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.2.2\",\n    \"@babel/preset-env\": \"^7.2.0\",\n    \"aspnet-webpack\": \"^3.0.0\",\n    \"babel-loader\": \"^8.0.4\",\n    \"cross-env\": \"^5.2.0\",\n    \"css-loader\": \"^2.1.0\",\n    \"cssnano\": \"^4.1.8\",\n    \"file-loader\": \"^3.0.1\",\n    \"mini-css-extract-plugin\": \"^0.5.0\",\n    \"node-sass\": \"^4.11.0\",\n    \"postcss-loader\": \"^3.0.0\",\n    \"postcss-preset-env\": \"^6.5.0\",\n    \"sass-loader\": \"^7.1.0\",\n    \"uglifyjs-webpack-plugin\": \"^2.1.1\",\n    \"vue-loader\": \"^15.4.2\",\n    \"vue-style-loader\": \"^4.1.2\",\n    \"vue-template-compiler\": \"^2.5.21\",\n    \"webpack\": \"^4.28.2\",\n    \"webpack-cli\": \"^3.1.2\",\n    \"webpack-dev-middleware\": \"^3.4.0\",\n    \"webpack-hot-middleware\": \"^2.24.3\",\n    \"webpack-merge\": \"^4.1.5\"\n  }\n}\n```\n\n### .babelrc\n\n因為升到 `babel` 7 之後套件會整個改成 `@` 開頭的，所以舊的同名 package 就可以刪掉了。所以 `babelrc` 設定檔也要改成如下片段。\n\n```\n{\n  \"presets\": [\n    [\n      \"@babel/preset-env\",\n      {\n        \"modules\": false\n      }\n    ]\n  ]\n}\n```\n\n### postcss.config.js\n\n升級 `Vue-loader` 相容 `Webpack` 4 後就不會有自動 `autoprefixer` 的功能，需要自行引入 `postCSS` 來做這件事情。所以 `postcss.config.js` 設定檔要新增如下片段。\n\n``` js\nmodule.exports = {\n  plugins: {\n    'postcss-preset-env': {},\n    'cssnano': {},\n  }\n}\n```\n\n### webpack.base|config|pro.js\n\n> 這邊升級後沒有用最新 `vue-cli` 3 的原因是因為 `aspnet-webpack` HMR 預設吃的 `webpack` 設定是最外層的 `webpack.config.js`，但最新 `Vue-cli` 3 已經把 `webpack.config.js` 藏起來了，改成 `vue.config.js` 做後續加工處理，且我們不使用 `node server` ，而是用 `dotnet server` 做 `HMR`，所以其實已經不需要 `vue-cli` 3 了。\n\n因為我們需要分成 `develop` 和 `production` 的 `webpack` 設定，所以就可以把 `webpack` 的結構拆成一個共用的基底 `webpack.base.js`，然後 `develop` 就透過 `webpack-merge` 將 `base` 結合 `webpack.config.js`，而 `production` 則是將 `base` 結合 `webpack.pro.js`。\n\n以下擷取部分比較重要的地方跟大家分享。\n\n* webpack.base.js\n\n``` js\nconst path = require('path')\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\")\nconst VueLoaderPlugin = require('vue-loader/lib/plugin')\nconst devMode = process.env.NODE_ENV === 'development'\n\nmodule.exports = {\n  ...\n  module: {\n    rules: [\n      { // vue-loader 已經沒有預設 autoprefixer，所以 CSS 的部分要加上 postCSS\n        test: /\\.vue$/,\n        use: 'vue-loader'\n      },\n      {\n        test: /\\.js$/,\n        use: 'babel-loader',\n        exclude: /node_modules/\n      },\n      { // MiniCssExtractPlugin 目前在 HMR 模式沒辦法打包成獨立的 CSS 檔案，所以在開發模式的時候，必須使用 vue-style-loader 替代，變成 meta 內的 style。\n        test: /\\.scss?$/,\n        use: [\n          devMode ? 'vue-style-loader' : MiniCssExtractPlugin.loader,\n          {\n            loader: 'css-loader',\n            options: {\n              importLoaders: 2\n            }\n          },\n          'postcss-loader', // for autoprefix\n          'sass-loader'\n        ]\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          publicPath: 'imgs/',\n          outputPath: 'imgs/',\n          name: '[name].[ext]?[hash]'\n        }\n      }\n    ]\n  },\n  plugins: [\n    // Webpack4 需使用 MiniCssExtractPlugin 打包 CSS 成獨立的 CSS\n    new MiniCssExtractPlugin({\n      filename: \"css/main.css\"\n    }),\n    // Webpack4 需使用 VueLoaderPlugin 才能正確讀取 .vue\n    new VueLoaderPlugin()\n  ]\n}\n```\n\n* webpack.config.js\n\n```js\nconst merge = require('webpack-merge')\nconst base = require('./webpack.base')\n\n// 使用 webpack-merge 將 base 和 config 結合\nmodule.exports = merge(base, {\n  /* mode 替換掉以前的 process.env\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"development\"'\n      }\n    }),\n  */\n  mode: 'development',\n  devServer: {\n    historyApiFallback: true,\n    noInfo: false,\n  },\n  devtool: '#eval-source-map',\n})\n```\n\n* webpack.pro.js\n\n``` js\nconst merge = require('webpack-merge')\nconst base = require('./webpack.base')\nconst UglifyJsPlugin = require('uglifyjs-webpack-plugin')\n\n// 使用 webpack-merge 將 base 和 pro 結合\nmodule.exports = merge(base, {\n  /* mode 替換掉以前的 process.env\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"production\"'\n      }\n    }),\n  */\n  mode: 'production',\n  devtool: '#source-map',\n  // 新的 Webpack 4 把優化的部份都移到 optimization 設定\n  // 所以 UglifyJsPlugin 替代掉之前的 webpack.optimize.UglifyJsPlugin\n  optimization: {\n    minimizer: [new UglifyJsPlugin()]\n  }\n})\n```\n\n今天的範例在 [github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v2.2.0)，下回見～","slug":"Dotnet/NET-Core-Upgrade-2-2-with-Webpack4-Vue","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qj001qr3y77lud6jd7","content":"<p>紀錄 .NET Core 升級到 2.2 和 Webpack 升到 4 要注意的地方～</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"NET-Core-2-2-設定\"><a href=\"#NET-Core-2-2-設定\" class=\"headerlink\" title=\".NET Core 2.2 設定\"></a>.NET Core 2.2 設定</h2><h3 id=\"csproj-專案檔\"><a href=\"#csproj-專案檔\" class=\"headerlink\" title=\"csproj 專案檔\"></a>csproj 專案檔</h3><p><code>TargetFramework</code> 版本要改成 2.2, <code>PackageReference</code> 改成單一個 <code>Microsoft.AspNetCore.App</code>，就可以囉～</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">Sdk</span>=<span class=\"string\">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>netcoreapp2.2<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PackageReference</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;Microsoft.AspNetCore.App&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Program-cs\"><a href=\"#Program-cs\" class=\"headerlink\" title=\"Program.cs\"></a>Program.cs</h3><p>修改 <code>Program.cs</code> 中 <code>class</code> 內的程式，參考如下程式片段。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        CreateWebHostBuilder(args).Build().Run();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span> =&gt;</span><br><span class=\"line\">        WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">          .UseStartup&lt;Startup&gt;();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"VScode-x2F-VS2017-launch-設定\"><a href=\"#VScode-x2F-VS2017-launch-設定\" class=\"headerlink\" title=\"VScode &#x2F; VS2017 launch 設定\"></a>VScode &#x2F; VS2017 launch 設定</h2><p>為了在 webpack 上可以依據環境變數判斷不同的 bundle 內容，所以分別在 VScode &#x2F; VS2017 的 launch 檔案設定環境變數。</p>\n<h3 id=\"vscode-x2F-launch-json-for-VScode\"><a href=\"#vscode-x2F-launch-json-for-VScode\" class=\"headerlink\" title=\".vscode&#x2F;launch.json (for VScode)\"></a>.vscode&#x2F;launch.json (for VScode)</h3><p><code>.vscode/launch.json</code> 在環境變數加上 <code>&quot;NODE_ENV=development&quot;: &quot;&quot;</code> 。這邊有個小技巧，就是 <code>=development</code> 是放在前面，而不是在後面的雙引號，這部分應該是一個小 Bug，但目前先用這個方式解決。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"attr\">&quot;env&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;NODE_ENV=development&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Properties-x2F-launchSettings-json-for-VS2017\"><a href=\"#Properties-x2F-launchSettings-json-for-VS2017\" class=\"headerlink\" title=\"Properties&#x2F;launchSettings.json (for VS2017)\"></a>Properties&#x2F;launchSettings.json (for VS2017)</h3><p><code>Properties/launchSettings.json</code> 則直接加上環境變數即可。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Webpack4-設定\"><a href=\"#Webpack4-設定\" class=\"headerlink\" title=\"Webpack4 設定\"></a>Webpack4 設定</h2><h3 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h3><p>更新所有 package 並執行 npm install，參考如下設定。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet-core-vue-cli&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack --config webpack.pro.js&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;dependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.5.21&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;devDependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;@babel/core&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.2.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;@babel/preset-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.2.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;aspnet-webpack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;babel-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^8.0.4&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cross-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^5.2.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;css-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cssnano&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;file-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;mini-css-extract-plugin&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^0.5.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;node-sass&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.11.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;postcss-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;postcss-preset-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^6.5.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;sass-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;uglifyjs-webpack-plugin&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.1.1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^15.4.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-style-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-template-compiler&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.5.21&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.28.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-cli&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.1.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-dev-middleware&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.4.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-hot-middleware&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.24.3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-merge&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.5&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"babelrc\"><a href=\"#babelrc\" class=\"headerlink\" title=\".babelrc\"></a>.babelrc</h3><p>因為升到 <code>babel</code> 7 之後套件會整個改成 <code>@</code> 開頭的，所以舊的同名 package 就可以刪掉了。所以 <code>babelrc</code> 設定檔也要改成如下片段。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;presets&quot;: [</span><br><span class=\"line\">    [</span><br><span class=\"line\">      &quot;@babel/preset-env&quot;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        &quot;modules&quot;: false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"postcss-config-js\"><a href=\"#postcss-config-js\" class=\"headerlink\" title=\"postcss.config.js\"></a>postcss.config.js</h3><p>升級 <code>Vue-loader</code> 相容 <code>Webpack</code> 4 後就不會有自動 <code>autoprefixer</code> 的功能，需要自行引入 <code>postCSS</code> 來做這件事情。所以 <code>postcss.config.js</code> 設定檔要新增如下片段。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;postcss-preset-env&#x27;</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;cssnano&#x27;</span>: &#123;&#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webpack-base-config-pro-js\"><a href=\"#webpack-base-config-pro-js\" class=\"headerlink\" title=\"webpack.base|config|pro.js\"></a>webpack.base|config|pro.js</h3><blockquote>\n<p>這邊升級後沒有用最新 <code>vue-cli</code> 3 的原因是因為 <code>aspnet-webpack</code> HMR 預設吃的 <code>webpack</code> 設定是最外層的 <code>webpack.config.js</code>，但最新 <code>Vue-cli</code> 3 已經把 <code>webpack.config.js</code> 藏起來了，改成 <code>vue.config.js</code> 做後續加工處理，且我們不使用 <code>node server</code> ，而是用 <code>dotnet server</code> 做 <code>HMR</code>，所以其實已經不需要 <code>vue-cli</code> 3 了。</p>\n</blockquote>\n<p>因為我們需要分成 <code>develop</code> 和 <code>production</code> 的 <code>webpack</code> 設定，所以就可以把 <code>webpack</code> 的結構拆成一個共用的基底 <code>webpack.base.js</code>，然後 <code>develop</code> 就透過 <code>webpack-merge</code> 將 <code>base</code> 結合 <code>webpack.config.js</code>，而 <code>production</code> 則是將 <code>base</code> 結合 <code>webpack.pro.js</code>。</p>\n<p>以下擷取部分比較重要的地方跟大家分享。</p>\n<ul>\n<li>webpack.base.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MiniCssExtractPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;mini-css-extract-plugin&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">VueLoaderPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-loader/lib/plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> devMode = process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;development&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123; <span class=\"comment\">// vue-loader 已經沒有預設 autoprefixer，所以 CSS 的部分要加上 postCSS</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">exclude</span>: <span class=\"regexp\">/node_modules/</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123; <span class=\"comment\">// MiniCssExtractPlugin 目前在 HMR 模式沒辦法打包成獨立的 CSS 檔案，所以在開發模式的時候，必須使用 vue-style-loader 替代，變成 meta 內的 style。</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.scss?$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [</span><br><span class=\"line\">          devMode ? <span class=\"string\">&#x27;vue-style-loader&#x27;</span> : <span class=\"title class_\">MiniCssExtractPlugin</span>.<span class=\"property\">loader</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;css-loader&#x27;</span>,</span><br><span class=\"line\">            <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">importLoaders</span>: <span class=\"number\">2</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"string\">&#x27;postcss-loader&#x27;</span>, <span class=\"comment\">// for autoprefix</span></span><br><span class=\"line\">          <span class=\"string\">&#x27;sass-loader&#x27;</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|gif|svg)$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;file-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">outputPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name].[ext]?[hash]&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// Webpack4 需使用 MiniCssExtractPlugin 打包 CSS 成獨立的 CSS</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MiniCssExtractPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&quot;css/main.css&quot;</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// Webpack4 需使用 VueLoaderPlugin 才能正確讀取 .vue</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">VueLoaderPlugin</span>()</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>webpack.config.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> base = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./webpack.base&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 webpack-merge 將 base 和 config 結合</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* mode 替換掉以前的 process.env</span></span><br><span class=\"line\"><span class=\"comment\">    new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">      &#x27;process.env&#x27;: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        NODE_ENV: &#x27;&quot;development&quot;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">noInfo</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;#eval-source-map&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>webpack.pro.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> base = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./webpack.base&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">UglifyJsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 webpack-merge 將 base 和 pro 結合</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* mode 替換掉以前的 process.env</span></span><br><span class=\"line\"><span class=\"comment\">    new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">      &#x27;process.env&#x27;: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        NODE_ENV: &#x27;&quot;production&quot;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;production&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;#source-map&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 新的 Webpack 4 把優化的部份都移到 optimization 設定</span></span><br><span class=\"line\">  <span class=\"comment\">// 所以 UglifyJsPlugin 替代掉之前的 webpack.optimize.UglifyJsPlugin</span></span><br><span class=\"line\">  <span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">minimizer</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">UglifyJsPlugin</span>()]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v2.2.0\">github</a>，下回見～</p>\n","site":{"data":{}},"thumbnailImageUrl":"http://www.dotnetcurry.com/images/dotnetcore/vuejs-templates/modernwebdev.png","excerpt":"<p>紀錄 .NET Core 升級到 2.2 和 Webpack 升到 4 要注意的地方～</p>","more":"<hr>\n<h2 id=\"NET-Core-2-2-設定\"><a href=\"#NET-Core-2-2-設定\" class=\"headerlink\" title=\".NET Core 2.2 設定\"></a>.NET Core 2.2 設定</h2><h3 id=\"csproj-專案檔\"><a href=\"#csproj-專案檔\" class=\"headerlink\" title=\"csproj 專案檔\"></a>csproj 專案檔</h3><p><code>TargetFramework</code> 版本要改成 2.2, <code>PackageReference</code> 改成單一個 <code>Microsoft.AspNetCore.App</code>，就可以囉～</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">Sdk</span>=<span class=\"string\">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>netcoreapp2.2<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PackageReference</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;Microsoft.AspNetCore.App&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Program-cs\"><a href=\"#Program-cs\" class=\"headerlink\" title=\"Program.cs\"></a>Program.cs</h3><p>修改 <code>Program.cs</code> 中 <code>class</code> 內的程式，參考如下程式片段。</p>\n<figure class=\"highlight c#\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        CreateWebHostBuilder(args).Build().Run();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span> =&gt;</span><br><span class=\"line\">        WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">          .UseStartup&lt;Startup&gt;();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"VScode-x2F-VS2017-launch-設定\"><a href=\"#VScode-x2F-VS2017-launch-設定\" class=\"headerlink\" title=\"VScode &#x2F; VS2017 launch 設定\"></a>VScode &#x2F; VS2017 launch 設定</h2><p>為了在 webpack 上可以依據環境變數判斷不同的 bundle 內容，所以分別在 VScode &#x2F; VS2017 的 launch 檔案設定環境變數。</p>\n<h3 id=\"vscode-x2F-launch-json-for-VScode\"><a href=\"#vscode-x2F-launch-json-for-VScode\" class=\"headerlink\" title=\".vscode&#x2F;launch.json (for VScode)\"></a>.vscode&#x2F;launch.json (for VScode)</h3><p><code>.vscode/launch.json</code> 在環境變數加上 <code>&quot;NODE_ENV=development&quot;: &quot;&quot;</code> 。這邊有個小技巧，就是 <code>=development</code> 是放在前面，而不是在後面的雙引號，這部分應該是一個小 Bug，但目前先用這個方式解決。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"attr\">&quot;env&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;NODE_ENV=development&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Properties-x2F-launchSettings-json-for-VS2017\"><a href=\"#Properties-x2F-launchSettings-json-for-VS2017\" class=\"headerlink\" title=\"Properties&#x2F;launchSettings.json (for VS2017)\"></a>Properties&#x2F;launchSettings.json (for VS2017)</h3><p><code>Properties/launchSettings.json</code> 則直接加上環境變數即可。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  <span class=\"attr\">&quot;environmentVariables&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Development&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;NODE_ENV&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;development&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Webpack4-設定\"><a href=\"#Webpack4-設定\" class=\"headerlink\" title=\"Webpack4 設定\"></a>Webpack4 設定</h2><h3 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h3><p>更新所有 package 並執行 npm install，參考如下設定。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet-core-vue-cli&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack --config webpack.pro.js&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;dependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.5.21&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">&quot;devDependencies&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;@babel/core&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.2.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;@babel/preset-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.2.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;aspnet-webpack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;babel-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^8.0.4&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cross-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^5.2.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;css-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cssnano&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.8&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;file-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;mini-css-extract-plugin&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^0.5.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;node-sass&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.11.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;postcss-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.0.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;postcss-preset-env&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^6.5.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;sass-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^7.1.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;uglifyjs-webpack-plugin&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.1.1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^15.4.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-style-loader&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;vue-template-compiler&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.5.21&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.28.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-cli&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.1.2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-dev-middleware&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^3.4.0&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-hot-middleware&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^2.24.3&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;webpack-merge&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;^4.1.5&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"babelrc\"><a href=\"#babelrc\" class=\"headerlink\" title=\".babelrc\"></a>.babelrc</h3><p>因為升到 <code>babel</code> 7 之後套件會整個改成 <code>@</code> 開頭的，所以舊的同名 package 就可以刪掉了。所以 <code>babelrc</code> 設定檔也要改成如下片段。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;presets&quot;: [</span><br><span class=\"line\">    [</span><br><span class=\"line\">      &quot;@babel/preset-env&quot;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        &quot;modules&quot;: false</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"postcss-config-js\"><a href=\"#postcss-config-js\" class=\"headerlink\" title=\"postcss.config.js\"></a>postcss.config.js</h3><p>升級 <code>Vue-loader</code> 相容 <code>Webpack</code> 4 後就不會有自動 <code>autoprefixer</code> 的功能，需要自行引入 <code>postCSS</code> 來做這件事情。所以 <code>postcss.config.js</code> 設定檔要新增如下片段。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;postcss-preset-env&#x27;</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"string\">&#x27;cssnano&#x27;</span>: &#123;&#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webpack-base-config-pro-js\"><a href=\"#webpack-base-config-pro-js\" class=\"headerlink\" title=\"webpack.base|config|pro.js\"></a>webpack.base|config|pro.js</h3><blockquote>\n<p>這邊升級後沒有用最新 <code>vue-cli</code> 3 的原因是因為 <code>aspnet-webpack</code> HMR 預設吃的 <code>webpack</code> 設定是最外層的 <code>webpack.config.js</code>，但最新 <code>Vue-cli</code> 3 已經把 <code>webpack.config.js</code> 藏起來了，改成 <code>vue.config.js</code> 做後續加工處理，且我們不使用 <code>node server</code> ，而是用 <code>dotnet server</code> 做 <code>HMR</code>，所以其實已經不需要 <code>vue-cli</code> 3 了。</p>\n</blockquote>\n<p>因為我們需要分成 <code>develop</code> 和 <code>production</code> 的 <code>webpack</code> 設定，所以就可以把 <code>webpack</code> 的結構拆成一個共用的基底 <code>webpack.base.js</code>，然後 <code>develop</code> 就透過 <code>webpack-merge</code> 將 <code>base</code> 結合 <code>webpack.config.js</code>，而 <code>production</code> 則是將 <code>base</code> 結合 <code>webpack.pro.js</code>。</p>\n<p>以下擷取部分比較重要的地方跟大家分享。</p>\n<ul>\n<li>webpack.base.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MiniCssExtractPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;mini-css-extract-plugin&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">VueLoaderPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-loader/lib/plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> devMode = process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;development&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123; <span class=\"comment\">// vue-loader 已經沒有預設 autoprefixer，所以 CSS 的部分要加上 postCSS</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">exclude</span>: <span class=\"regexp\">/node_modules/</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123; <span class=\"comment\">// MiniCssExtractPlugin 目前在 HMR 模式沒辦法打包成獨立的 CSS 檔案，所以在開發模式的時候，必須使用 vue-style-loader 替代，變成 meta 內的 style。</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.scss?$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [</span><br><span class=\"line\">          devMode ? <span class=\"string\">&#x27;vue-style-loader&#x27;</span> : <span class=\"title class_\">MiniCssExtractPlugin</span>.<span class=\"property\">loader</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;css-loader&#x27;</span>,</span><br><span class=\"line\">            <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">importLoaders</span>: <span class=\"number\">2</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"string\">&#x27;postcss-loader&#x27;</span>, <span class=\"comment\">// for autoprefix</span></span><br><span class=\"line\">          <span class=\"string\">&#x27;sass-loader&#x27;</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|gif|svg)$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;file-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">outputPath</span>: <span class=\"string\">&#x27;imgs/&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name].[ext]?[hash]&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// Webpack4 需使用 MiniCssExtractPlugin 打包 CSS 成獨立的 CSS</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MiniCssExtractPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&quot;css/main.css&quot;</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// Webpack4 需使用 VueLoaderPlugin 才能正確讀取 .vue</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">VueLoaderPlugin</span>()</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>webpack.config.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> base = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./webpack.base&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 webpack-merge 將 base 和 config 結合</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* mode 替換掉以前的 process.env</span></span><br><span class=\"line\"><span class=\"comment\">    new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">      &#x27;process.env&#x27;: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        NODE_ENV: &#x27;&quot;development&quot;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">noInfo</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;#eval-source-map&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>webpack.pro.js</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> base = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./webpack.base&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">UglifyJsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 webpack-merge 將 base 和 pro 結合</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">  <span class=\"comment\">/* mode 替換掉以前的 process.env</span></span><br><span class=\"line\"><span class=\"comment\">    new webpack.DefinePlugin(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">      &#x27;process.env&#x27;: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        NODE_ENV: &#x27;&quot;production&quot;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;),</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;production&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;#source-map&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// 新的 Webpack 4 把優化的部份都移到 optimization 設定</span></span><br><span class=\"line\">  <span class=\"comment\">// 所以 UglifyJsPlugin 替代掉之前的 webpack.optimize.UglifyJsPlugin</span></span><br><span class=\"line\">  <span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">minimizer</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">UglifyJsPlugin</span>()]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>今天的範例在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v2.2.0\">github</a>，下回見～</p>"},{"title":"Serverless Azure SignalR with C# and Azure Functions","thumbnailImage":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAACaCAMAAAANQHocAAAAYFBMVEX///9ZtNlRsdhSsthIrtb4+/2n1eldttrg8Pf2+/2h0efk8vjD4vBsvN1LsNe93+633O3v9/vQ6POAxOFyvt6YzuaNyeOHx+Lh8PfW6/Sv2OvJ5PGTy+Rtvd54wd+r1urKXpEyAAAGxklEQVR4nO2df2OyIBDHEzBNE7Vyzdrq/b/LR7f1rBUHHErWyefvVvLdAfcLXCwCgUAgEAgEAoFAIBAIBAKBxxDXadtujuvjpk3zeuqneUVWm+ptl0ScyR8441Gya8p2NfWjvQx5uU+E7HS7h3MhP5t1PvUjPj/psuBSJeGVlpInWTr1gz4zbZao7fAOJoOUEOVOMhsNL1LyUzn1Iz8f9ZJLhIjfSLYMu/g1q4xjTPHaKJug5IVVJtxU7OEiC67QF1VitbXANhmFdbJzdAr8uniLTGa/d2fDVezhy6kHMilp4r4w/kXuZhzkHPSRCw4211VytR1nTl+QzdQjmoR04DZ9Dy9m6Euu7QJpnJDz27crMbqKPWIz9cAey3LcpfEXOavdxpuMnUXOSEiPMnYWuZ56eI/i7GdtnJuQlU9r/BKynXqIj+DoW8bO/5lBjJhbTWpeDBIyIZ+SXFlFMaI8D/LS+Wnqcfpma6OPrBbZsGhHEs+jWYUxnYxDdSS+16R2k3oxXEfaS6TN7iGq/pODdWRvUw/WHzZFhJ8AebCOhFMWuYU2l/B4uI5REk87XG+czNr8T9eMoCMjmh9fm/fq32TNCDpGgmZYkxgHfpU8HENHvp1wtN6ojCXW69RhI9RIAbSYqqDoRMZGc/yTgY0BVnV+rN4SSykJhofGbBkqkZ1XJ5vaN0HfxzRqdGElbyzaTskZZGkwR5ck9iozTm9JrRC704/XsTpVbw2+FP8YeRwT0+rH615SKQ0WyWm1WHxohysGVKbyQrtKsmq8QUxPrF0dBxb49lohk5GG8BSsdTqK48Bvb3SLhqQUHOqqCSOUm3V9BYxQhaHWyDjYGnsaWEi+G+H7nwTNtB6yxVyhMXhGZ2LDu7UcwxoXfTkX1pHOjg0OcpRJ/UULmjwnU6gBWyjGssYeOGHJx/uRaYGWx/GssQc0ejKeD7A8jmmNC81mxqj08RVKHdnYyWr1z3Tzmki9awVNOOZA9PmxBjolQIMk4kG+j3X27du6uIyWaiWhPyFSyN6M3jjKIuWaAG3ZRNpKD6Pa4zfKoBzyIYkkxZvxD251PpPCIqGghkjj/ZsPHaNIseid1J9kh8cP2gPA6AaiOrm+VK8gLHv8oD3w6cceFQYJHIUg4kCa+3qcUNT4gWoajUyFuSHFDcVsrQEdSfRLxX5kVKkTA4mloKOOz7ufWgE6kuhOiT1tM4qwGdIx2KMGvr/7Kdo6+tpn7r3rd2CfuVf8FfGkoyJqBjIiRJqlDK1mriiyikDTFBE/fOtFRlWrLVDAINJS4SVPoTz2Bhy74zSu/gCyB8NkLBQ/VAMfljS6xLXNZm7IrapUAPVOE+lMsTosjIEL9YIHNvnQ6MkF64U2kt1XDGUCXC0MZCmiSLUGvCLuDiTfnZc3lClU/YPWYSJu+GKxd57YmB0CjD+JlBVsThZCYJq7K+i/RWS7Nh76gOEIS4J7fgWNNgDTaQWdjoiNFvT2+X2e8lVxjAwxdRW4aYNItbDHsaMCcXwaCmUidcfAi5I6TWyO8Pt0V18QusjH6dY3xEliTSqEjPfYk7lMbG69z+ruBRq563daXCa2ffZVcwqpWx59juvhOExsbtttp70Wn0YvxX8O+NDQsujc6i+UJLRb9+hOGKqxa1qMM8NL+qjkei7giws231qa3rvC6RyK+yZFxtgWtam4NL9KicxZrv8gq6/GWkCaJWYngEil8Br4IKXSjjTe86puq49I2CwUnFAscwFlkPD7tuoi4YLbrbYkby7EGaQEU491ZL9lETRHq2s0rxCgkPnw/8VLk+OCQ1jI2q5wRs53vIC8G1NjkVZCkqnL3ILthJRn6JtsLJJUwuwv2IIX0DexsBKSos9zoUHmIQcISfv9Utj8mQCLVAYhCc/qHmyYrbNIvY5UitYA6JdKuVmkdRL4ZUEn0FzWSEEtXaYAffxVgFEyJOQs3phrGY1cC4mc2ozEuSMjtWW2xsa+VEKSjQdveccXaxBC8oKwA/4XfMe4vZAzkrELEL0JOSsZ/Vkk2xH3v2/JEVntHyHB05a/Qsp57NTX1Pr7052EFLSaUCx5w4aIEpTpW0iidQQjpVXt1NIiOee0WnkQvGPnts4ilUcOZ0L8gcyjaYR85HM/HxtTp9OtkLTzswM427xoKwhppt6jNm4WhIRoT5hlciZpMSfaHWJ2E69hDSNt7NOSNC7Q80V9iGxfORqE1JNmhc385gJzonie5NVJ+yZcJkWSHWeVZHQl3iz3RSQYu14xOe8UZMkp2wQNMdRpeW72pyLpKXbbfXNYp3XQMBAIBAKBQCAQCPzyD//kVoYOpPZmAAAAAElFTkSuQmCC","thumbnailImagePosition":"left","coverImage":"https://i.ytimg.com/vi/Dvv2hkXyHcg/maxresdefault.jpg","coverMeta":"out","date":"2019-09-09T16:00:00.000Z","updated":"2019-09-09T16:00:00.000Z","_content":"\n第一次接觸使用 Azure SignalR，順便玩玩看雲端託管的服務，那我們就來開始吧～\n\n<!--more-->\n\n因為我習慣用 `Vscode` 開發，所以下面說明都是以 `Vscode` 為主。\n\n## 安裝環境\n\n* 安裝 [Azure Functions Core Tools (v2)](https://github.com/Azure/azure-functions-core-tools#installing)\n\n* 安裝 [.NET Core SDK](https://dotnet.microsoft.com/download)\n\n查看 Azure Functions Core Tools 版本\n\n```\nfunc --Version\n```\n\n查看 dotnet core 版本\n\n```\ndotnet --Version\n```\n\n## 登入 Azure 建立 Azuer SignalR\n\n* [Azure 入口網站](https://portal.azure.com/)\n\n新增 SignalR service 如下圖設定。\n\n![SignalR 設定](https://docs.microsoft.com/zh-tw/azure/azure-signalr/media/signalr-quickstart-azure-functions-javascript/signalr-quickstart-create.png \"SignalR 設定\")\n\n> 注意：這篇介紹的是無伺服器的方式，所以 Service Mode 要選擇 Serverless。一個 Azure SignalR 只能選擇一個 Service Mode，所以傳統的 Classic 方式和 Serverless 只能擇一，兩者不能共用同一個 Service。\n\n## 設定 Azure Function\n\n1) 開啟建立好的服務，複製主要連接字串。\n\n![複製主要連接字串](https://lh3.googleusercontent.com/ebUg5MNe8j6YLI5O56lihd2NTFy9SHkFwW0WZdZnz25HzlKWkEpveUnMpfw9Og1Mkm2wPnqATYzpizjHtt6onCppsz7kRYnrXE-DRBapeoxUwNJLvjKR7O8nkZzNVu37tdUtRXIqFCluv42EXrrKaCQbWRKEfsSFsotts0AnmxXqpyEjB7gKkDUngv-Si0OX8UAy4nH2t5oc1uJumiSBkucK4djsxN_QQVLuBjXlFlzN1-lNt6x3j-KlraBvkCf7J9wLB7cp1_lOMldLoK6bG5ixiKebGTJly_gfZ9J4HN2JF0OCPP87eI4QsGlVPprfTGwgw6swCJaO4TiodAj0zzgPq8SX6qmCE7fS7-1gSDLK1hzTNedZ5EzcCTblltvhdsOuxgSJFc464UYaYcTfcwzZ3377cg9jzGa4ijNRdFRGHYQbvdssgoMuxA8_gRV3qmtsssBOQzKhRwFriUOcR2Mk2RnJEzCknPvIhDDq_aDuO0DJvUr18p4zLV3IK3gdawQtusInwbLdySAFB6VGiKoPK2xP6IJA1RYGUIWx3a7uEqX3KPpI0OjVY5lORd_rtCzv2m69xRSB_ygGXHYVt1_Mr_MsI-vVbpOzZtPob9L3BljtzaWXYBaDaFMeFGVKKhTHR_Gv9i12qfSZCi1j9pffRE8uAVRTmJVYozGlhqffUtNkUHxaDsO2=w1035-h483-no \"複製主要連接字串\")\n\n2) 複製官網 [sample](https://github.com/Azure-Samples/signalr-service-quickstart-serverless-chat)\n\n3) 進入 `src/chat/csharp`。 將 `local.settings.sample.json` 重新命名為 `local.settings.json`。 將連接字串貼到 `AzureSignalRConnectionString` 並設定如下。\n\n```json\n{\n  \"IsEncrypted\": false,\n  \"Values\": {\n    \"FUNCTIONS_WORKER_RUNTIME\": \"dotnet\",\n    \"AzureSignalRConnectionString\": \"Your connection string here\"\n  },\n  \"Host\": {\n    \"LocalHttpPort\": 7071,\n    \"CORS\": \"http://127.0.0.1:8080,http://localhost:8080,https://azure-samples.github.io\",\n    \"CORSCredentials\": true\n  }\n}\n```\n\n> 注意：Host 的部分是在 local 測試時，為了避免 CORS 的限制所設定。請務必將 local 要測試的網域加到 CORS 的值裡面。\n\n4) 開啟 Functions.cs。 官方解釋如下：此函數應用程式中有兩個 HTTP 觸發的函式\n\n* GetSignalRInfo - 使用 SignalRConnectionInfo 輸入繫結來產生並傳回有效的連線資訊。\n\n* SendMessage - 在要求主體中接收聊天訊息，並使用 SignalR 輸出繫結來將訊息廣播給所有已連線的用戶端應用程式。\n\n5) 啟動 local function 測試。\n\n```\nfunc start\n```\n\n![local function 啟動](https://lh3.googleusercontent.com/3504Bocz7haQ3JPmdJwqa2XwHdc_EhIQpmtPqtOftqxaQUK5qLHeVAaSz9JNWpEhD7ezP81kEeq6LB6Loa2aL5OIYYWVjjA4GwibWVIl_pbw_BAN9IyZfTBBvmE9Vz-NRljNw1h-6deKZJZLgWT57tKi5I1ml_PwuOFGL0fh1PHbrPq6VC8YyVchEb4l0OdFYdpFz2h14pJMmelh0jV8M7lqQrIY4aK-lN0ttAn01wQZWh7nnXO-aVhFxYVdI6_-SKoDsu2LnFscOqb5QohvLZkFF3FzgPzRqraWwE4F-KRgXrfk1JPrh0r1qB0yAtu0VZfdbwk1PSXlhnabxHVn6_F0Z6pfrcaASFIkQHzrIonsxwPQm40_W5_BJvRxWCxVHQJed5--C4226IoeDXHRu3jevGzWButrAGJq0s9bCDzrmDg_u9MNKP4klPgZDmmLVfOrqZXAIOhrXmiEOvUSPdUXnIyOOzo0mtU7sFyqmf3UnCk7afZQ3uR8gxGhTSEBsVSl743Csc2-Xp84PJ4xWsmwxfi5vxrPRv3NVO5LQ6v5GB_vx49YCqaxJjYv5tZ9Fd_Hq_2S4MhASR5fSGzD_TzReNfs7p0KM333949JNKUb-e2-nLCkwxdHS0Yk-AZKQ70M-bZTUVu3HElg9UrkfqpdMyu4LtzbiimLqIOGyekCOD3FqShQ8r9q=w2206-h1378-no \"local function 啟動\")\n\n## Local Web 測試\n\n1) 因為瀏覽器若打開 html 頁面會預設使用 https 處理。所以為了避免 CORS 限制。請安裝啟動本機的 http 伺服器。 [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer)\n\n![Live Server](https://lh3.googleusercontent.com/91mzygWcGmu3ljW09OLhtTAfv2Ugb589jczgciy3mOSuWbCUBjOAeN2BUA-MgYWzRbaoXFWwIqoUHqzcykEA4Aw4odpSHDSboaTWxYYpnTT8CmclxtK9t2HYZWUF4HlUKk806h8Jhq3iup2I414hAKpWCtcKgPidv64aPwucq3GYS_ZKsTXudLB7MIfK0wZ_yR47MscN_9ne6KDJvzv3EU4T-1XNMJZdu6ISqzgrUUCgIh-hnUHeSUH6Vy0M1Kc4rNDjBnp14xLA899OhmeZJiB5xQ5UKbv9Icf-dT3yW7qQRSgxWnMvMWgyle_DdmFSYwLJTqMjLaCnBF_LZiS1bJMfDcuctigjp3lqhy75LDcVssUs55sG_8qmd6zgY1A1PVeEbc3faMfQwM9ANDRZA4GAPLFTVYfsp5wVR6cCkYc6tehN7Q1D2DhTrgoJCZ55r0-9nsG-uA11nh5Lmy9Fe7TmPMceVqZXWYYqdP8Q35UHa8Kgq54dfYLjJ2PLOisuHzurd-qQes4NQfhCvsnsXW78VL-UsaW29tFMS_7k7_NH4X9DFNP7oUBsv87ISO_kpm0VWAylbsilxbLT8n5xa57q3USTJuBR5e6DYixRM0L0K_ElogvfiC2TMmYg_F4M5j_Fmg-VoPrxzIt4u6CQ9sNJ6ExcujX0ZEth-aiguKyQNlK2xBs2x9L8=w1908-h938-no \"Live Server\")\n\n2) 用 `Live Server` 開啟 sample html 範本 `/docs/demo/chat-v2/index.html`。\n\n![開啟 sample html 範本](https://lh3.googleusercontent.com/AgiqJicbCJPOqOd7krSCj4eoQulKtewUr71Gs67h-Z3PWiWpQT3hUguVvqQ_Wbsg82SPMZ6Cq5BC9BLN-YkgZQTf1l7JRwd3k5l0yfztgG3Mb_rRUps_ozF1ebzft2z4rst0i4xcEdY453CtVWWHIfkpl6iGgAdDptdUUDfeWvytYg8LEZX-Z9mpkyXI79oI3sYcXVgloKf0FH3ArfwUquBNNwQEUano4e7PPOcYkvXP3d0v9eO2JvayxYfc-c3WSSHEj4rPbx6SvlbZa8O4-0Q_x-rDQuLEoa7u7kCrBnIdaw0xbRxRBhPiGGxbYUJ_s3dBstI4DKzDt-wyJyKBwwV8K5zhfy5wwx4E4grg9NVZf9dp0l2-DDoh7zjHBLCpgLU1-YdmLKp47cmwxLPA7-FnloIsldbLrBS7hv3OQAfDMEb9o8_MQb_44ELsklUVY6wSo6rY894Ew5Wmu24CBd5UbjnO_vjOvvtKNPZKrnDmvnqmofS0x1Kk-Qzy5qKgZ4M3xXt8NAwGm6qa2Xi2vTZhKwy-ApKzBz-VqaOE1VWNW4cCgUZCh00MBeYxWSCdeJOrQlHgkW_tP0zuBBZFxu88siuX6ZTxq3mpVNa7bENEjPJjCSpxMXQemG-CqhQCnGZJTBkSUArTNUSNRDaQ4jixziHJURlhdZlS04s0MGEjPgsLJGM_RKkR=w2206-h1378-no \"開啟 sample html 範本\")\n\n3) \b自動開啟後，務必輸入 `apiBaseUrl` local 測試為 `http://localhost:7071`， Name 也是必填，請輸入聊天室的使用者名稱即可。\n\n4) 成功之後就可以輸入訊息測試。並能多開數個分頁，測試訊息的接收是否正常。\n\n![測試訊息接收](https://lh3.googleusercontent.com/PYziZWr5t2kOAe9sp4dAJ7f9RmUy-MVlPhZqyus33kJyLQIj61CocH4Rdj955TFA1SVQXZlsSqDhZtafBG5Z25vcLlq28mHCp8OnbxOqh65P81rNFxOH56SfUkJ91ha4KPI8ZHzzSk9zArbDgBNE9iM9NjTZ97lsDsbyO9kuqLDpuj2emQ1r9ak9iRLQXAotahmAelkr2dUiLCsbCphjQHX_fZA9k9KAsAmt2Rq7s5eBTqoHr_V3ZPHemP8QHJg41cHBMfLMwxaKKxqh7PtubOq33yRamyEsrFBfEi8mWAPfLTYmJbGD0izpZEuG1fhBamxoRt175Tgjv6qEIrwakqNQyBn_LnRoQCXYsntJ0XaWDka9yM1Vk9g4zeXp9Jdus09p3Gyj_ACYL98ESUffg8ifDiOPy7cAeFje9dM_FG3bQMtNBLn6Rq8BXXOcERuYUunQsOyalskX_8rnrfvDFGNm9I7Lm5y-wUMw59DmiuvvZsftTtM8lzhLKJDPziD1a_r13RhjLlBo1vfXM0Iq8dsGGe0G4KbinGq4kLIIx0rjg_BDDRQwQUThCUzpOVkYzkKPr7zyFTilAaZAsOeF_k54MrnLVq0sBPCUNN2EYUxI-mzWuhEtNIOzY4K-tmP1AtljaQeVRYnuDp-mMbmLfPW-2PiSf7iSlu6B03DhIpS3EfbFHW0xKEUH=w2532-h1246-no \"測試訊息接收\")\n\n## 發布 Azure Function\n\n* 安裝 [Azure Functions](vscode:extension/ms-azuretools.vscode-azurefunctions) 擴充功能。\n\n![Azure Functions](https://docs.microsoft.com/zh-tw/azure/includes/media/functions-install-vs-code-extension/vscode-install-extension.png \"Azure Functions\")\n\n安裝完後請務必重開 VScode。接下來我們開始發布 Azure Function。\n\n1) 請務必確定 VScode 只開啟 src/chat/csharp 中的 csharp 資料夾。\n\n![csharp 資料夾](https://lh3.googleusercontent.com/F2CzlCEtvEpCrmw7V_8x9zWfv-OYRpzWj18QN-HL_WfF6s3XCH8u8FW8QStEVeNvXCI6PDmPNKPdLolL8Vlh5EvtSYJvuYRpCADBrALiZIy510xQPTNSl4vZAiwWfFu7IXTGn9sIINa8YVH_ya_KRfkSX3-_5EvsFNJOwyQna6Itv0IaqDKpR2-TEOADt1-FN73D1WyTINzPcd3xS2IYk5EKJrloZPO1Jbj3ZlXxpvahgExMM5uxUZOR4X49neuWpuyIjxVzjdAKvY4ADg2W5cdBvQG-b02xAer7yQ6k4gB15eI3_d98HWArt-FDrMwt5EP9foIFU-dBT5V4B-C2-woI0MejtaK07QNZ082ahzsqV7odBCUVH2u3laLEVGzFRhAddf1DhpDobOQhk4-IB3XG7kYiRiWXr4lco1JTCYTDhy-TxgyHSpUsyMxtb8f--kjdQ5y1IF_uGQDRhF7dFhEUKImOFRj1Kc7sypo4uMS07dQAvFm0Nt7G5xX-IE8QOKjmgNrvOypegpsFswjQ_RDyd0YuT21ioMs4oogu8qEdanhGBc_9-lmbxa3Pfe_P2RauuKrczEJ2zIZlahNBP_e3CsPQqy1B5FwtWWk7Aej0GkqHLwJ7HmTi4oC6cH0fXQzz2ATYuSKg0VsPPeh5PGAbLsQZDZIipl1ScojTL07PltVv9ZDBYVwn=w916-h898-no \"csharp 資料夾\")\n\n2) 從擴充功能登入 Azure 帳號。\n\n![登入 Azure 帳號](https://lh3.googleusercontent.com/3ycoKSgCD3L5bhujgJ_qsAaR7iEmu-cDzoi3GceJ4nRtwqz9Sh9ZCNXXQ8nvcuWIUgm4mezj76JL3t3dy1lSdIi-74oqXPTDQYxol0-kaSbF5YTSgsdGI2wgSe_TN4g3UToGBBZdBHrGl9Xw784YIbzI2oFFgQ5FGaH2v3-1JkYpHJB1tde5NdND30pRpnwrbFzotRiyxOyt6lBDlWxuBbSpfIDISQa8Ya-sO79Z8r8cl2RMywRmX3WLVBI3OKVl9Gvi5OJuWmoRyb6jIfeBAWM8i89h5rwdEpCVkXvZO1BlxXRnIrp3Bo4u_EMLkC3VZb9G2KNlVkXgVel-6dL9IqoJ8oVPvorFZMV_sgZwW2_C_D6TH_1SsOs3OVlVT8lwoRjY4RGDJbaQzi7QtfZXfGk5--aTvDw7AV25IP0grR_qAt9X2_SmU4tjEWcjTYN6wG6a6FrQsRhbLhhGC1QOdD1NhyMC-tXZhz9XXuwKyC58CHc_ebYMGogv1PUuqhEy0wMrtKKtC0ZxhGZmH52BcjBrp0fIkp5JJIOeaiZelgAQLJ5-PpAvyY4OpDmSUnJle6hKAHFh6UmCFAu3v1bK4nS0zILSiPobyLEnwrkMbHAJzr44wOMTSVQlsa0ogK5GqER5NNRCACJ-61ztnUEEvdLGN3AhkWmQiCk2ya0YEECjl0LeXGuHk72f=w463-h431-no \"登入 Azure 帳號\")\n\n3) 選擇要發布的地方上傳。\n\n![上傳 Azure Functions](https://lh3.googleusercontent.com/g-Un1PRQE8Npznb4Hhi9gK6Doc7h4nunpZA3zKMEypcb5j5Ks54x20lEc2UeRykR532VeixY7u11THtW9HeALTz47SUBzzvE6vYzKZxg56VCa8GugLdxRDxvkDu0x6rZvvilshkKnPhsaNCsWEM2IkWSR3Nj1ctjhoGhn0gjjCTPz63muznRew9qqt87p-4ozb8EVNuHwIkJpCvG99uRGQ5L7cdaL6rS-CMmnJUB4EjyM15NeVCKJRpeiYJHkRnvuO_OhqLRhAVYRNtiFywIfnSviMhR1TU9XHYkq-IzS2V8cJ0FRw5u1FE9sF1BE3tjFNiuGiogDdVZ5X4JaGenHgYQU6TrACnF0I6xkHdC9oKXzXvaDgrQGos5UjNytVJeikB6DhCo0afU5vz1Qjtdn8sNRWqEAJvFAfYzVjDNtLgESZQ-ADAE099ID81UPDTnzbVYjZA8zCBkBZUNwQQOplIK-Xft_6cCFQtcsZx-ReUUJnma0MuhTd866gyM4_07eadyJ3ahZAQCZG73AvpUzxRIUsRpgjJ_-lGeEumg_CMxbF0QdEbvZfxriX7azPOitHPKC8YuXhcMAAmmD_3IEpp_VAVyadbRHWBzPtRvS8pkuMN2mFDlY1Kkabuwo5gvHF1FE9PyNodyni6pMPIJ4d2OOT8UO_5e_26Pjxsp5FOnO1nKbV5UPRqy=w916-h402-no \"上傳 Azure Functions\")\n\n## 測試連線上 Azure Functions\n\n1) 拷貝 Azure Function url，將 html 中 `apiBaseUrl` 改為線上的 url。\n\n![Copy Azure Function url](https://lh3.googleusercontent.com/H_G9dyo8H_V-04HnuKLeYz_RIzpELVQEeIU2Oss1BgV4kb0ih2rs2ihnSG5V4cBpF27Bhuax9uA3jrh5jzi4NXG3xJR8g16s8Nksmlp7Q5zbI6JBkepAhstRwqkBhFiTtt2jAwGlTnWy1TXkPOqzjD8ejAxMDZYuR1Tsrrw9lHCxdicNe233wUwB_9T9Rj7CGP3SM3VvpYsBQ2EBQhrFYyCrEd7bHkMNT7lkuT1CIGT0eniiMKF5r8lmI3JWDKejkDnDj-Xhk5FJ8GhKIpbUTqfbGoYpmRCvhXkXGlPv_225nceq7FJjLbP47e7d0Xyiw4DSfpY4-eLzFQ9Pk1A36sw6u-3kko-FOEWx9hgm2wFkgUn8W-VG60dkn-edy6xzzVBG60BpNBtFU566ckPtVMv0BVtr6rcyTSghwv2BY3iJ5NNQNYl2n9wzDxGAhvp8USAVfkkooBvzISbwUHFE5mdAujs-xyUaQ7JGGwZEP2gpj5UrhW1mj2FKEtuywYk_HW02qkLII8igNcPqbHSy2xKB-hjsaERItaiDeBZvhujagZOWVhYDqdA6MvgfHm9IC8Dx2T2TtZSb6HsTNABrbi3tcRLbiG93_egs5jCaeLvkgA0yxATUZNXirp1z83sRtolFWzJOKeurzUtbT8qSlTkelW7UmZGEblCO6egJM9Oz7e-L4QE8mosh=w988-h371-no \"Copy Azure Function url\")\n\n![修改 apiBaseUrl](https://lh3.googleusercontent.com/6knLBtYnBsO_4Q_JDPw8eeF1ndcFzBRIKrQPXxJY1XU-e_Dtcsf950sXVO5EDI6CsFwAcMyQ_C_noV8rIb-tWuQZaSVgYTV9-PAn8BHzHShn_8oP_nF3-ix7-6bTR_Zd8ABaSYk1mo3LN6bED7uxK0U9mTY36PF53UpWKF018lOsSezcpuouyeM_qF8TPOsuZ4T4t2V7QBc6NM8z5qXVC3uDLPUrQFQwfegIKE_8k5kPgHMxNTPOoVChCf1k4_YEIxQDJUvGdWa36rI789G10b0VHjzCQxS4vRROdTKJ3p2nNfhDd1LxTvsuUGUnIRvcK7wozQ5G0j8hsxCv-xQJ29dgQkG8nhM8RrBX4oz4Na5_169tKWRUIbIwsJQ55UugbqxpM3OC36-BmvxZ9s3cz9ROJ4cYCkKVnREJyXo4gGMFck_h0XYxJe94-I0LXQQ3A3uGATHqRgl_CcE-1xISolLp0mYvgKpOC6XuDiZH1tRGt0xSInHwnZYuMc59fBawXeiivDGkIjacRbbUsHKr0RLPQtb6eAW1MUyVpOVMhjTQlcNWUJ_Vbsy6VtprtIeolwbUQQSNgqRSemMaS_zPCH1djV1gG-94h_8wOcm_phJ8AkfKmN1elF_gB8WTMPFvs9etI30qy60U4zba4HU2tlFYE0OnoyGHOlvaHzjBSj4Pm7zHJ8Ben9tG=w2192-h880-no \"修改 apiBaseUrl\")\n\n2) 因為不同網域去打 API 會有 CORS 的限制，所以需要將測試的網址加到 Azure Function CORS 清單。\n\n![功能設定](https://lh3.googleusercontent.com/QrDuwqSA60bt68i0DoP72Ci94RwvCX6hbD_cjb-yYHhAzBboVJxMZzYIZ6lMgkZAlcv3wyBfBx9sqxwsnUpKwsB9HU8cmQiHCDEnHHLaf5ZsIe5rXI6x8yPAifMnei4xjnRoR5qBkTWoE4jw7gwIE7aDoQeu3VnWTLAndv0-N5nmdY5FoBp1h2ESAM6rvoYYdwxvyWJSJq_xaq43p-koGaoOlEyxfeiUuVGNfPadwjWg9mBAEXFNp2pBa84A4OOd6dfLX1Wzdm1cWgwRtzob9-bF1GZT8f7cj2hl2WMRdhQaP-itxxoFcSVut6uscXFkN1G93Yr7ckHLeiM04jqcMWUdf5IkAtfEInI9lDinK9gljEDCRe8xHCRewByz2Fbp6eSt_RA3RV6FqBi8-VaIuBn0aqlBvPrP7HC4lfFLqy3tdeh7T_afav5Cn2rPn6YuTn4eFGduKK6vvslTShwT208Nl7VE2I9-p9IF0Hndfty1uINjTWP66RRhvpBo40qFSNR95vDw2pGXY-QCEvZinXOk5-YK5RZ6-mmXxc-B5D7mjwbR6u0fiX58NaIL2Wce1hVkraoycTOg2Q1wN25L-OwN2zLmTe9KbwQJ3lqoTsAGuq_tGz-nfHWLpf9cXaqYX3YvEqwN2BwNAs6YKyYCnsR65zG5FlzgSM5UERmDd05BXpI7mnDlhLKF=w996-h574-no \"功能設定\")\n\n![CORS 清單](https://lh3.googleusercontent.com/Rp_UC6QBZeSOB_6j3kFgK-w9aZNOhE_oybskL2rkFZSdEFYrrfnylveIY0fX-wv3wODLHZyD8AOu2IUwYZebGn5Z7r_rx1jNg61SVDRhuXDYKoLpz7WTfCkcrlZqUx2iEyYJifDtSjDE8GtWehIa8QhwbX1Bvd5qV2vg3Ib5opXrbirNkPy_u-LACXcIrb2ppbRJgs18C9KQs-PY1EPOq3L0s82tpCNkDgGm7vXPVzxcof5zYRpF9VEWumxKadf5a080ALj2oqP6zmZsKJNQdLNzVr2xX8GU-n37TijB4G2masD6i1M6LcSxupOoO038I4nlYutuCUfAy4zp4VKB5xX6oFpX1cXePexfH0Lcdak1yjxSO9r53B_ZrbDC3GhG98V9YehQ7ONMzcy0-vEGyijB-D5mzP6FMgDt6qQHOBwgjOt2p7DOOfHv3em8Z08YVcjb0PJD1hLCI6L28CynDIhZKmtVFAYFJnJytd8938x7xdRJ1p4Y0QMZSBDlXj6nj7uEbRcC082NGv9Q4HCjARts7YVkriMl6mmpGcXg9SsBJhfZOLaPl9_eUP2hAu2dntZpSxg9gOVpoEK3yohgeaXLKAOgqH55KDiAikDyw5e_Waqbvz3LqbfT3wR-z5SkYjhaK9nz0pZ4p59cnOkWqu_81nqpMHdGn0quQokoh-nO7WNgfZyL-7RZ=w561-h592-no \"CORS 清單\")\n\n3) 一樣使用 `Live Server` 開啟範本，就會成功連上囉~\n\n## 把 web 放到線上 server 測試\n\n> 注意：剛剛上面都是使用 local web 測試。若要把 web 放在線上測試的話，需要在 Azure Function 設定連線變數。官網沒寫這段，害我鬼打牆了好一陣子呀～怎麼設定變數如下圖。\n\n![Configuration](https://lh3.googleusercontent.com/_aALFr19DSl7A3vekHZWLNC-DKSZhWp44BLPoujaLFiCL6MDn8sxVNKZvw3IKB9-OmwOoxCHSa-ltJurLIG83osiLAaZeTjJxj8AlFnJBt3uGR2tyegFXkdoyxKpa1gDW3dZdPICSsCPiN4KMTlYAzSBdNEQoI3RnOvtkoNqruCcVph5qICYnAfBkGywtdR-dJjTyKKfuW8RZaFEPcHqqGhg35nibhg1jei8wJflLVHtN48vFNcsrAuyfGnziyEGjj-VxPocDb9ofJEHR8uRnIjL9qUOB-zGb9TA1j7Pyo1tV9UkuczX1KWXCO_jsd3rp-FDCAQ2dcHoLc6y9OagLkJSqGC7EJkaccgCuu1HRmb7_woIrvnIO8k5iYbvsf4bO7af8IBLgA-OFR_YlQpIGsXwoc1PSu-rMCGAEzSkhHsDNmTaCpyO-L-YLB7Z3vCOkavIMRpDV1ZcnLYd8jQ5USusENO0bzOXZNo4-D6sPyGhpl9g92pOoQmJ8DRgaxAqTGRxItUpkNLBDudfi-4-jGM_IDbnRTyLlWW9hLx3FLjDfA2QL0-z2Plp0NRfh9qdegDb3Ym-fmKS71Wp2g0WsVxhNhfdf9pDYcAkBDKqNF9HpIlRuATIi_HAGFGJ0W9imvB0-q2gQ1AfS2_YOIvUTK0v1Kl3-OFJuLwZqbm2kL4d-Sei-CSUkhV_=w451-h285-no \"Configuration\")\n\n![Add Variable](https://lh3.googleusercontent.com/jeAfFyL52YQfyyvIpqgAMgrqCLGm3yBtZDYfH_VXbFExgRV2kTjgkj5TOad0fZ4EkwPYyKOfKrgajprSXSsqmn4Tdcp_73h5YRS0VBZz55ZoHE6_ojFZ7TmeAOnd7ONKRQFxzr5jRZEZd34eWwVahN9o9bZYgcBWpebxN0fIihVQdrf3a6meMzzLPRH1HVX8hXwXr_W0j3FKVAz2Lf2-cNa1Bni_eycfszIrU7XIf8fiVuldSBReqZgd5NtbSuiRJSPFIuCjg08_X9e2aCeeKYBfjuy9tS7c2V4f0gUk3CoC9W-Beyh3ueJ17TkIm0BhzbUqWt8y374DL7FQKr55GaHzz734aRkvVOQnUNeR6efL1KVcriTVDwNCbjuqovljM7_b7VvQtY9O766_F8R1TNMRz26z6sqN9QfFbEFGEBbmECjJbecN8VKb-gTZ_4qSqnHTyiI-UCzcWPddZkoZ1mRridVcnZexsEQ6TD-k7upFmprShkVX-MuP-QIjR6MPqS0QCiwTbzSLB6rwgXbdylDIh6oUlc-5PrpYBhetsdjEIKqIDQNKOkEngxCuZn50bixXooAT78orR4EatTwcd67ERYGRqJRB4KQOxSfHaJCuq9ut53NvM9lPxsPsO0f_kuFsYL46-sSodOnd2-CE2dtRUK-nrqejDhWL_9EdLwBTrlAM9Dqph-Yt=w989-h560-no \"Add Variable\")\n\n> 記得如果是線上 web 都要把網域再加到 CORS 清單喔～\n\n以上是無伺服器的雲端 Azure SignalR 基本安裝與設定，如果要玩地端的話可以參考官方[這篇](https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio)，那我們下次見～\n\n## 參考資料\n\n* [快速入門：使用 C# 搭配 Azure Functions 與 SignalR 服務來建立聊天室](https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-csharp)\n* [快速入門：使用 JavaScript 搭配 Azure Functions 與 SignalR 服務來建立聊天室](https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-javascript)\n* [使用 Visual Studio Code 開發 Azure Functions](https://docs.microsoft.com/zh-tw/azure/azure-functions/functions-develop-vs-code)\n* [教學課程：開始使用 ASP.NET Core SignalR](https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio)\n* [將訊息傳送至用戶端](https://docs.microsoft.com/zh-tw/aspnet/core/signalr/hubs?view=aspnetcore-2.2#send-messages-to-clients)\n* [SignalR Tutorial 16 - Coding Our JavaScript (Client Side) - Part 1](https://youtu.be/MK8n8pg9bLE)","source":"_posts/Dotnet/Serverless-Azure-SignalR-with-C-and-Azure-Functions.md","raw":"---\ntitle: Serverless Azure SignalR with C# and Azure Functions\ncategories:\n  - .NET Core\nthumbnailImage: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAACaCAMAAAANQHocAAAAYFBMVEX///9ZtNlRsdhSsthIrtb4+/2n1eldttrg8Pf2+/2h0efk8vjD4vBsvN1LsNe93+633O3v9/vQ6POAxOFyvt6YzuaNyeOHx+Lh8PfW6/Sv2OvJ5PGTy+Rtvd54wd+r1urKXpEyAAAGxklEQVR4nO2df2OyIBDHEzBNE7Vyzdrq/b/LR7f1rBUHHErWyefvVvLdAfcLXCwCgUAgEAgEAoFAIBAIBAKBxxDXadtujuvjpk3zeuqneUVWm+ptl0ScyR8441Gya8p2NfWjvQx5uU+E7HS7h3MhP5t1PvUjPj/psuBSJeGVlpInWTr1gz4zbZao7fAOJoOUEOVOMhsNL1LyUzn1Iz8f9ZJLhIjfSLYMu/g1q4xjTPHaKJug5IVVJtxU7OEiC67QF1VitbXANhmFdbJzdAr8uniLTGa/d2fDVezhy6kHMilp4r4w/kXuZhzkHPSRCw4211VytR1nTl+QzdQjmoR04DZ9Dy9m6Euu7QJpnJDz27crMbqKPWIz9cAey3LcpfEXOavdxpuMnUXOSEiPMnYWuZ56eI/i7GdtnJuQlU9r/BKynXqIj+DoW8bO/5lBjJhbTWpeDBIyIZ+SXFlFMaI8D/LS+Wnqcfpma6OPrBbZsGhHEs+jWYUxnYxDdSS+16R2k3oxXEfaS6TN7iGq/pODdWRvUw/WHzZFhJ8AebCOhFMWuYU2l/B4uI5REk87XG+czNr8T9eMoCMjmh9fm/fq32TNCDpGgmZYkxgHfpU8HENHvp1wtN6ojCXW69RhI9RIAbSYqqDoRMZGc/yTgY0BVnV+rN4SSykJhofGbBkqkZ1XJ5vaN0HfxzRqdGElbyzaTskZZGkwR5ck9iozTm9JrRC704/XsTpVbw2+FP8YeRwT0+rH615SKQ0WyWm1WHxohysGVKbyQrtKsmq8QUxPrF0dBxb49lohk5GG8BSsdTqK48Bvb3SLhqQUHOqqCSOUm3V9BYxQhaHWyDjYGnsaWEi+G+H7nwTNtB6yxVyhMXhGZ2LDu7UcwxoXfTkX1pHOjg0OcpRJ/UULmjwnU6gBWyjGssYeOGHJx/uRaYGWx/GssQc0ejKeD7A8jmmNC81mxqj08RVKHdnYyWr1z3Tzmki9awVNOOZA9PmxBjolQIMk4kG+j3X27du6uIyWaiWhPyFSyN6M3jjKIuWaAG3ZRNpKD6Pa4zfKoBzyIYkkxZvxD251PpPCIqGghkjj/ZsPHaNIseid1J9kh8cP2gPA6AaiOrm+VK8gLHv8oD3w6cceFQYJHIUg4kCa+3qcUNT4gWoajUyFuSHFDcVsrQEdSfRLxX5kVKkTA4mloKOOz7ufWgE6kuhOiT1tM4qwGdIx2KMGvr/7Kdo6+tpn7r3rd2CfuVf8FfGkoyJqBjIiRJqlDK1mriiyikDTFBE/fOtFRlWrLVDAINJS4SVPoTz2Bhy74zSu/gCyB8NkLBQ/VAMfljS6xLXNZm7IrapUAPVOE+lMsTosjIEL9YIHNvnQ6MkF64U2kt1XDGUCXC0MZCmiSLUGvCLuDiTfnZc3lClU/YPWYSJu+GKxd57YmB0CjD+JlBVsThZCYJq7K+i/RWS7Nh76gOEIS4J7fgWNNgDTaQWdjoiNFvT2+X2e8lVxjAwxdRW4aYNItbDHsaMCcXwaCmUidcfAi5I6TWyO8Pt0V18QusjH6dY3xEliTSqEjPfYk7lMbG69z+ruBRq563daXCa2ffZVcwqpWx59juvhOExsbtttp70Wn0YvxX8O+NDQsujc6i+UJLRb9+hOGKqxa1qMM8NL+qjkei7giws231qa3rvC6RyK+yZFxtgWtam4NL9KicxZrv8gq6/GWkCaJWYngEil8Br4IKXSjjTe86puq49I2CwUnFAscwFlkPD7tuoi4YLbrbYkby7EGaQEU491ZL9lETRHq2s0rxCgkPnw/8VLk+OCQ1jI2q5wRs53vIC8G1NjkVZCkqnL3ILthJRn6JtsLJJUwuwv2IIX0DexsBKSos9zoUHmIQcISfv9Utj8mQCLVAYhCc/qHmyYrbNIvY5UitYA6JdKuVmkdRL4ZUEn0FzWSEEtXaYAffxVgFEyJOQs3phrGY1cC4mc2ozEuSMjtWW2xsa+VEKSjQdveccXaxBC8oKwA/4XfMe4vZAzkrELEL0JOSsZ/Vkk2xH3v2/JEVntHyHB05a/Qsp57NTX1Pr7052EFLSaUCx5w4aIEpTpW0iidQQjpVXt1NIiOee0WnkQvGPnts4ilUcOZ0L8gcyjaYR85HM/HxtTp9OtkLTzswM427xoKwhppt6jNm4WhIRoT5hlciZpMSfaHWJ2E69hDSNt7NOSNC7Q80V9iGxfORqE1JNmhc385gJzonie5NVJ+yZcJkWSHWeVZHQl3iz3RSQYu14xOe8UZMkp2wQNMdRpeW72pyLpKXbbfXNYp3XQMBAIBAKBQCAQCPzyD//kVoYOpPZmAAAAAElFTkSuQmCC\nthumbnailImagePosition: left\ncoverImage: https://i.ytimg.com/vi/Dvv2hkXyHcg/maxresdefault.jpg\ncoverMeta: out\ntags: [.NET Core, dotnet, SignalR, Serverless, Azure Functions, C#, VScode]\ndate: 2019/09/10\nupdated: 2019/09/10\n---\n\n第一次接觸使用 Azure SignalR，順便玩玩看雲端託管的服務，那我們就來開始吧～\n\n<!--more-->\n\n因為我習慣用 `Vscode` 開發，所以下面說明都是以 `Vscode` 為主。\n\n## 安裝環境\n\n* 安裝 [Azure Functions Core Tools (v2)](https://github.com/Azure/azure-functions-core-tools#installing)\n\n* 安裝 [.NET Core SDK](https://dotnet.microsoft.com/download)\n\n查看 Azure Functions Core Tools 版本\n\n```\nfunc --Version\n```\n\n查看 dotnet core 版本\n\n```\ndotnet --Version\n```\n\n## 登入 Azure 建立 Azuer SignalR\n\n* [Azure 入口網站](https://portal.azure.com/)\n\n新增 SignalR service 如下圖設定。\n\n![SignalR 設定](https://docs.microsoft.com/zh-tw/azure/azure-signalr/media/signalr-quickstart-azure-functions-javascript/signalr-quickstart-create.png \"SignalR 設定\")\n\n> 注意：這篇介紹的是無伺服器的方式，所以 Service Mode 要選擇 Serverless。一個 Azure SignalR 只能選擇一個 Service Mode，所以傳統的 Classic 方式和 Serverless 只能擇一，兩者不能共用同一個 Service。\n\n## 設定 Azure Function\n\n1) 開啟建立好的服務，複製主要連接字串。\n\n![複製主要連接字串](https://lh3.googleusercontent.com/ebUg5MNe8j6YLI5O56lihd2NTFy9SHkFwW0WZdZnz25HzlKWkEpveUnMpfw9Og1Mkm2wPnqATYzpizjHtt6onCppsz7kRYnrXE-DRBapeoxUwNJLvjKR7O8nkZzNVu37tdUtRXIqFCluv42EXrrKaCQbWRKEfsSFsotts0AnmxXqpyEjB7gKkDUngv-Si0OX8UAy4nH2t5oc1uJumiSBkucK4djsxN_QQVLuBjXlFlzN1-lNt6x3j-KlraBvkCf7J9wLB7cp1_lOMldLoK6bG5ixiKebGTJly_gfZ9J4HN2JF0OCPP87eI4QsGlVPprfTGwgw6swCJaO4TiodAj0zzgPq8SX6qmCE7fS7-1gSDLK1hzTNedZ5EzcCTblltvhdsOuxgSJFc464UYaYcTfcwzZ3377cg9jzGa4ijNRdFRGHYQbvdssgoMuxA8_gRV3qmtsssBOQzKhRwFriUOcR2Mk2RnJEzCknPvIhDDq_aDuO0DJvUr18p4zLV3IK3gdawQtusInwbLdySAFB6VGiKoPK2xP6IJA1RYGUIWx3a7uEqX3KPpI0OjVY5lORd_rtCzv2m69xRSB_ygGXHYVt1_Mr_MsI-vVbpOzZtPob9L3BljtzaWXYBaDaFMeFGVKKhTHR_Gv9i12qfSZCi1j9pffRE8uAVRTmJVYozGlhqffUtNkUHxaDsO2=w1035-h483-no \"複製主要連接字串\")\n\n2) 複製官網 [sample](https://github.com/Azure-Samples/signalr-service-quickstart-serverless-chat)\n\n3) 進入 `src/chat/csharp`。 將 `local.settings.sample.json` 重新命名為 `local.settings.json`。 將連接字串貼到 `AzureSignalRConnectionString` 並設定如下。\n\n```json\n{\n  \"IsEncrypted\": false,\n  \"Values\": {\n    \"FUNCTIONS_WORKER_RUNTIME\": \"dotnet\",\n    \"AzureSignalRConnectionString\": \"Your connection string here\"\n  },\n  \"Host\": {\n    \"LocalHttpPort\": 7071,\n    \"CORS\": \"http://127.0.0.1:8080,http://localhost:8080,https://azure-samples.github.io\",\n    \"CORSCredentials\": true\n  }\n}\n```\n\n> 注意：Host 的部分是在 local 測試時，為了避免 CORS 的限制所設定。請務必將 local 要測試的網域加到 CORS 的值裡面。\n\n4) 開啟 Functions.cs。 官方解釋如下：此函數應用程式中有兩個 HTTP 觸發的函式\n\n* GetSignalRInfo - 使用 SignalRConnectionInfo 輸入繫結來產生並傳回有效的連線資訊。\n\n* SendMessage - 在要求主體中接收聊天訊息，並使用 SignalR 輸出繫結來將訊息廣播給所有已連線的用戶端應用程式。\n\n5) 啟動 local function 測試。\n\n```\nfunc start\n```\n\n![local function 啟動](https://lh3.googleusercontent.com/3504Bocz7haQ3JPmdJwqa2XwHdc_EhIQpmtPqtOftqxaQUK5qLHeVAaSz9JNWpEhD7ezP81kEeq6LB6Loa2aL5OIYYWVjjA4GwibWVIl_pbw_BAN9IyZfTBBvmE9Vz-NRljNw1h-6deKZJZLgWT57tKi5I1ml_PwuOFGL0fh1PHbrPq6VC8YyVchEb4l0OdFYdpFz2h14pJMmelh0jV8M7lqQrIY4aK-lN0ttAn01wQZWh7nnXO-aVhFxYVdI6_-SKoDsu2LnFscOqb5QohvLZkFF3FzgPzRqraWwE4F-KRgXrfk1JPrh0r1qB0yAtu0VZfdbwk1PSXlhnabxHVn6_F0Z6pfrcaASFIkQHzrIonsxwPQm40_W5_BJvRxWCxVHQJed5--C4226IoeDXHRu3jevGzWButrAGJq0s9bCDzrmDg_u9MNKP4klPgZDmmLVfOrqZXAIOhrXmiEOvUSPdUXnIyOOzo0mtU7sFyqmf3UnCk7afZQ3uR8gxGhTSEBsVSl743Csc2-Xp84PJ4xWsmwxfi5vxrPRv3NVO5LQ6v5GB_vx49YCqaxJjYv5tZ9Fd_Hq_2S4MhASR5fSGzD_TzReNfs7p0KM333949JNKUb-e2-nLCkwxdHS0Yk-AZKQ70M-bZTUVu3HElg9UrkfqpdMyu4LtzbiimLqIOGyekCOD3FqShQ8r9q=w2206-h1378-no \"local function 啟動\")\n\n## Local Web 測試\n\n1) 因為瀏覽器若打開 html 頁面會預設使用 https 處理。所以為了避免 CORS 限制。請安裝啟動本機的 http 伺服器。 [Live Server](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer)\n\n![Live Server](https://lh3.googleusercontent.com/91mzygWcGmu3ljW09OLhtTAfv2Ugb589jczgciy3mOSuWbCUBjOAeN2BUA-MgYWzRbaoXFWwIqoUHqzcykEA4Aw4odpSHDSboaTWxYYpnTT8CmclxtK9t2HYZWUF4HlUKk806h8Jhq3iup2I414hAKpWCtcKgPidv64aPwucq3GYS_ZKsTXudLB7MIfK0wZ_yR47MscN_9ne6KDJvzv3EU4T-1XNMJZdu6ISqzgrUUCgIh-hnUHeSUH6Vy0M1Kc4rNDjBnp14xLA899OhmeZJiB5xQ5UKbv9Icf-dT3yW7qQRSgxWnMvMWgyle_DdmFSYwLJTqMjLaCnBF_LZiS1bJMfDcuctigjp3lqhy75LDcVssUs55sG_8qmd6zgY1A1PVeEbc3faMfQwM9ANDRZA4GAPLFTVYfsp5wVR6cCkYc6tehN7Q1D2DhTrgoJCZ55r0-9nsG-uA11nh5Lmy9Fe7TmPMceVqZXWYYqdP8Q35UHa8Kgq54dfYLjJ2PLOisuHzurd-qQes4NQfhCvsnsXW78VL-UsaW29tFMS_7k7_NH4X9DFNP7oUBsv87ISO_kpm0VWAylbsilxbLT8n5xa57q3USTJuBR5e6DYixRM0L0K_ElogvfiC2TMmYg_F4M5j_Fmg-VoPrxzIt4u6CQ9sNJ6ExcujX0ZEth-aiguKyQNlK2xBs2x9L8=w1908-h938-no \"Live Server\")\n\n2) 用 `Live Server` 開啟 sample html 範本 `/docs/demo/chat-v2/index.html`。\n\n![開啟 sample html 範本](https://lh3.googleusercontent.com/AgiqJicbCJPOqOd7krSCj4eoQulKtewUr71Gs67h-Z3PWiWpQT3hUguVvqQ_Wbsg82SPMZ6Cq5BC9BLN-YkgZQTf1l7JRwd3k5l0yfztgG3Mb_rRUps_ozF1ebzft2z4rst0i4xcEdY453CtVWWHIfkpl6iGgAdDptdUUDfeWvytYg8LEZX-Z9mpkyXI79oI3sYcXVgloKf0FH3ArfwUquBNNwQEUano4e7PPOcYkvXP3d0v9eO2JvayxYfc-c3WSSHEj4rPbx6SvlbZa8O4-0Q_x-rDQuLEoa7u7kCrBnIdaw0xbRxRBhPiGGxbYUJ_s3dBstI4DKzDt-wyJyKBwwV8K5zhfy5wwx4E4grg9NVZf9dp0l2-DDoh7zjHBLCpgLU1-YdmLKp47cmwxLPA7-FnloIsldbLrBS7hv3OQAfDMEb9o8_MQb_44ELsklUVY6wSo6rY894Ew5Wmu24CBd5UbjnO_vjOvvtKNPZKrnDmvnqmofS0x1Kk-Qzy5qKgZ4M3xXt8NAwGm6qa2Xi2vTZhKwy-ApKzBz-VqaOE1VWNW4cCgUZCh00MBeYxWSCdeJOrQlHgkW_tP0zuBBZFxu88siuX6ZTxq3mpVNa7bENEjPJjCSpxMXQemG-CqhQCnGZJTBkSUArTNUSNRDaQ4jixziHJURlhdZlS04s0MGEjPgsLJGM_RKkR=w2206-h1378-no \"開啟 sample html 範本\")\n\n3) \b自動開啟後，務必輸入 `apiBaseUrl` local 測試為 `http://localhost:7071`， Name 也是必填，請輸入聊天室的使用者名稱即可。\n\n4) 成功之後就可以輸入訊息測試。並能多開數個分頁，測試訊息的接收是否正常。\n\n![測試訊息接收](https://lh3.googleusercontent.com/PYziZWr5t2kOAe9sp4dAJ7f9RmUy-MVlPhZqyus33kJyLQIj61CocH4Rdj955TFA1SVQXZlsSqDhZtafBG5Z25vcLlq28mHCp8OnbxOqh65P81rNFxOH56SfUkJ91ha4KPI8ZHzzSk9zArbDgBNE9iM9NjTZ97lsDsbyO9kuqLDpuj2emQ1r9ak9iRLQXAotahmAelkr2dUiLCsbCphjQHX_fZA9k9KAsAmt2Rq7s5eBTqoHr_V3ZPHemP8QHJg41cHBMfLMwxaKKxqh7PtubOq33yRamyEsrFBfEi8mWAPfLTYmJbGD0izpZEuG1fhBamxoRt175Tgjv6qEIrwakqNQyBn_LnRoQCXYsntJ0XaWDka9yM1Vk9g4zeXp9Jdus09p3Gyj_ACYL98ESUffg8ifDiOPy7cAeFje9dM_FG3bQMtNBLn6Rq8BXXOcERuYUunQsOyalskX_8rnrfvDFGNm9I7Lm5y-wUMw59DmiuvvZsftTtM8lzhLKJDPziD1a_r13RhjLlBo1vfXM0Iq8dsGGe0G4KbinGq4kLIIx0rjg_BDDRQwQUThCUzpOVkYzkKPr7zyFTilAaZAsOeF_k54MrnLVq0sBPCUNN2EYUxI-mzWuhEtNIOzY4K-tmP1AtljaQeVRYnuDp-mMbmLfPW-2PiSf7iSlu6B03DhIpS3EfbFHW0xKEUH=w2532-h1246-no \"測試訊息接收\")\n\n## 發布 Azure Function\n\n* 安裝 [Azure Functions](vscode:extension/ms-azuretools.vscode-azurefunctions) 擴充功能。\n\n![Azure Functions](https://docs.microsoft.com/zh-tw/azure/includes/media/functions-install-vs-code-extension/vscode-install-extension.png \"Azure Functions\")\n\n安裝完後請務必重開 VScode。接下來我們開始發布 Azure Function。\n\n1) 請務必確定 VScode 只開啟 src/chat/csharp 中的 csharp 資料夾。\n\n![csharp 資料夾](https://lh3.googleusercontent.com/F2CzlCEtvEpCrmw7V_8x9zWfv-OYRpzWj18QN-HL_WfF6s3XCH8u8FW8QStEVeNvXCI6PDmPNKPdLolL8Vlh5EvtSYJvuYRpCADBrALiZIy510xQPTNSl4vZAiwWfFu7IXTGn9sIINa8YVH_ya_KRfkSX3-_5EvsFNJOwyQna6Itv0IaqDKpR2-TEOADt1-FN73D1WyTINzPcd3xS2IYk5EKJrloZPO1Jbj3ZlXxpvahgExMM5uxUZOR4X49neuWpuyIjxVzjdAKvY4ADg2W5cdBvQG-b02xAer7yQ6k4gB15eI3_d98HWArt-FDrMwt5EP9foIFU-dBT5V4B-C2-woI0MejtaK07QNZ082ahzsqV7odBCUVH2u3laLEVGzFRhAddf1DhpDobOQhk4-IB3XG7kYiRiWXr4lco1JTCYTDhy-TxgyHSpUsyMxtb8f--kjdQ5y1IF_uGQDRhF7dFhEUKImOFRj1Kc7sypo4uMS07dQAvFm0Nt7G5xX-IE8QOKjmgNrvOypegpsFswjQ_RDyd0YuT21ioMs4oogu8qEdanhGBc_9-lmbxa3Pfe_P2RauuKrczEJ2zIZlahNBP_e3CsPQqy1B5FwtWWk7Aej0GkqHLwJ7HmTi4oC6cH0fXQzz2ATYuSKg0VsPPeh5PGAbLsQZDZIipl1ScojTL07PltVv9ZDBYVwn=w916-h898-no \"csharp 資料夾\")\n\n2) 從擴充功能登入 Azure 帳號。\n\n![登入 Azure 帳號](https://lh3.googleusercontent.com/3ycoKSgCD3L5bhujgJ_qsAaR7iEmu-cDzoi3GceJ4nRtwqz9Sh9ZCNXXQ8nvcuWIUgm4mezj76JL3t3dy1lSdIi-74oqXPTDQYxol0-kaSbF5YTSgsdGI2wgSe_TN4g3UToGBBZdBHrGl9Xw784YIbzI2oFFgQ5FGaH2v3-1JkYpHJB1tde5NdND30pRpnwrbFzotRiyxOyt6lBDlWxuBbSpfIDISQa8Ya-sO79Z8r8cl2RMywRmX3WLVBI3OKVl9Gvi5OJuWmoRyb6jIfeBAWM8i89h5rwdEpCVkXvZO1BlxXRnIrp3Bo4u_EMLkC3VZb9G2KNlVkXgVel-6dL9IqoJ8oVPvorFZMV_sgZwW2_C_D6TH_1SsOs3OVlVT8lwoRjY4RGDJbaQzi7QtfZXfGk5--aTvDw7AV25IP0grR_qAt9X2_SmU4tjEWcjTYN6wG6a6FrQsRhbLhhGC1QOdD1NhyMC-tXZhz9XXuwKyC58CHc_ebYMGogv1PUuqhEy0wMrtKKtC0ZxhGZmH52BcjBrp0fIkp5JJIOeaiZelgAQLJ5-PpAvyY4OpDmSUnJle6hKAHFh6UmCFAu3v1bK4nS0zILSiPobyLEnwrkMbHAJzr44wOMTSVQlsa0ogK5GqER5NNRCACJ-61ztnUEEvdLGN3AhkWmQiCk2ya0YEECjl0LeXGuHk72f=w463-h431-no \"登入 Azure 帳號\")\n\n3) 選擇要發布的地方上傳。\n\n![上傳 Azure Functions](https://lh3.googleusercontent.com/g-Un1PRQE8Npznb4Hhi9gK6Doc7h4nunpZA3zKMEypcb5j5Ks54x20lEc2UeRykR532VeixY7u11THtW9HeALTz47SUBzzvE6vYzKZxg56VCa8GugLdxRDxvkDu0x6rZvvilshkKnPhsaNCsWEM2IkWSR3Nj1ctjhoGhn0gjjCTPz63muznRew9qqt87p-4ozb8EVNuHwIkJpCvG99uRGQ5L7cdaL6rS-CMmnJUB4EjyM15NeVCKJRpeiYJHkRnvuO_OhqLRhAVYRNtiFywIfnSviMhR1TU9XHYkq-IzS2V8cJ0FRw5u1FE9sF1BE3tjFNiuGiogDdVZ5X4JaGenHgYQU6TrACnF0I6xkHdC9oKXzXvaDgrQGos5UjNytVJeikB6DhCo0afU5vz1Qjtdn8sNRWqEAJvFAfYzVjDNtLgESZQ-ADAE099ID81UPDTnzbVYjZA8zCBkBZUNwQQOplIK-Xft_6cCFQtcsZx-ReUUJnma0MuhTd866gyM4_07eadyJ3ahZAQCZG73AvpUzxRIUsRpgjJ_-lGeEumg_CMxbF0QdEbvZfxriX7azPOitHPKC8YuXhcMAAmmD_3IEpp_VAVyadbRHWBzPtRvS8pkuMN2mFDlY1Kkabuwo5gvHF1FE9PyNodyni6pMPIJ4d2OOT8UO_5e_26Pjxsp5FOnO1nKbV5UPRqy=w916-h402-no \"上傳 Azure Functions\")\n\n## 測試連線上 Azure Functions\n\n1) 拷貝 Azure Function url，將 html 中 `apiBaseUrl` 改為線上的 url。\n\n![Copy Azure Function url](https://lh3.googleusercontent.com/H_G9dyo8H_V-04HnuKLeYz_RIzpELVQEeIU2Oss1BgV4kb0ih2rs2ihnSG5V4cBpF27Bhuax9uA3jrh5jzi4NXG3xJR8g16s8Nksmlp7Q5zbI6JBkepAhstRwqkBhFiTtt2jAwGlTnWy1TXkPOqzjD8ejAxMDZYuR1Tsrrw9lHCxdicNe233wUwB_9T9Rj7CGP3SM3VvpYsBQ2EBQhrFYyCrEd7bHkMNT7lkuT1CIGT0eniiMKF5r8lmI3JWDKejkDnDj-Xhk5FJ8GhKIpbUTqfbGoYpmRCvhXkXGlPv_225nceq7FJjLbP47e7d0Xyiw4DSfpY4-eLzFQ9Pk1A36sw6u-3kko-FOEWx9hgm2wFkgUn8W-VG60dkn-edy6xzzVBG60BpNBtFU566ckPtVMv0BVtr6rcyTSghwv2BY3iJ5NNQNYl2n9wzDxGAhvp8USAVfkkooBvzISbwUHFE5mdAujs-xyUaQ7JGGwZEP2gpj5UrhW1mj2FKEtuywYk_HW02qkLII8igNcPqbHSy2xKB-hjsaERItaiDeBZvhujagZOWVhYDqdA6MvgfHm9IC8Dx2T2TtZSb6HsTNABrbi3tcRLbiG93_egs5jCaeLvkgA0yxATUZNXirp1z83sRtolFWzJOKeurzUtbT8qSlTkelW7UmZGEblCO6egJM9Oz7e-L4QE8mosh=w988-h371-no \"Copy Azure Function url\")\n\n![修改 apiBaseUrl](https://lh3.googleusercontent.com/6knLBtYnBsO_4Q_JDPw8eeF1ndcFzBRIKrQPXxJY1XU-e_Dtcsf950sXVO5EDI6CsFwAcMyQ_C_noV8rIb-tWuQZaSVgYTV9-PAn8BHzHShn_8oP_nF3-ix7-6bTR_Zd8ABaSYk1mo3LN6bED7uxK0U9mTY36PF53UpWKF018lOsSezcpuouyeM_qF8TPOsuZ4T4t2V7QBc6NM8z5qXVC3uDLPUrQFQwfegIKE_8k5kPgHMxNTPOoVChCf1k4_YEIxQDJUvGdWa36rI789G10b0VHjzCQxS4vRROdTKJ3p2nNfhDd1LxTvsuUGUnIRvcK7wozQ5G0j8hsxCv-xQJ29dgQkG8nhM8RrBX4oz4Na5_169tKWRUIbIwsJQ55UugbqxpM3OC36-BmvxZ9s3cz9ROJ4cYCkKVnREJyXo4gGMFck_h0XYxJe94-I0LXQQ3A3uGATHqRgl_CcE-1xISolLp0mYvgKpOC6XuDiZH1tRGt0xSInHwnZYuMc59fBawXeiivDGkIjacRbbUsHKr0RLPQtb6eAW1MUyVpOVMhjTQlcNWUJ_Vbsy6VtprtIeolwbUQQSNgqRSemMaS_zPCH1djV1gG-94h_8wOcm_phJ8AkfKmN1elF_gB8WTMPFvs9etI30qy60U4zba4HU2tlFYE0OnoyGHOlvaHzjBSj4Pm7zHJ8Ben9tG=w2192-h880-no \"修改 apiBaseUrl\")\n\n2) 因為不同網域去打 API 會有 CORS 的限制，所以需要將測試的網址加到 Azure Function CORS 清單。\n\n![功能設定](https://lh3.googleusercontent.com/QrDuwqSA60bt68i0DoP72Ci94RwvCX6hbD_cjb-yYHhAzBboVJxMZzYIZ6lMgkZAlcv3wyBfBx9sqxwsnUpKwsB9HU8cmQiHCDEnHHLaf5ZsIe5rXI6x8yPAifMnei4xjnRoR5qBkTWoE4jw7gwIE7aDoQeu3VnWTLAndv0-N5nmdY5FoBp1h2ESAM6rvoYYdwxvyWJSJq_xaq43p-koGaoOlEyxfeiUuVGNfPadwjWg9mBAEXFNp2pBa84A4OOd6dfLX1Wzdm1cWgwRtzob9-bF1GZT8f7cj2hl2WMRdhQaP-itxxoFcSVut6uscXFkN1G93Yr7ckHLeiM04jqcMWUdf5IkAtfEInI9lDinK9gljEDCRe8xHCRewByz2Fbp6eSt_RA3RV6FqBi8-VaIuBn0aqlBvPrP7HC4lfFLqy3tdeh7T_afav5Cn2rPn6YuTn4eFGduKK6vvslTShwT208Nl7VE2I9-p9IF0Hndfty1uINjTWP66RRhvpBo40qFSNR95vDw2pGXY-QCEvZinXOk5-YK5RZ6-mmXxc-B5D7mjwbR6u0fiX58NaIL2Wce1hVkraoycTOg2Q1wN25L-OwN2zLmTe9KbwQJ3lqoTsAGuq_tGz-nfHWLpf9cXaqYX3YvEqwN2BwNAs6YKyYCnsR65zG5FlzgSM5UERmDd05BXpI7mnDlhLKF=w996-h574-no \"功能設定\")\n\n![CORS 清單](https://lh3.googleusercontent.com/Rp_UC6QBZeSOB_6j3kFgK-w9aZNOhE_oybskL2rkFZSdEFYrrfnylveIY0fX-wv3wODLHZyD8AOu2IUwYZebGn5Z7r_rx1jNg61SVDRhuXDYKoLpz7WTfCkcrlZqUx2iEyYJifDtSjDE8GtWehIa8QhwbX1Bvd5qV2vg3Ib5opXrbirNkPy_u-LACXcIrb2ppbRJgs18C9KQs-PY1EPOq3L0s82tpCNkDgGm7vXPVzxcof5zYRpF9VEWumxKadf5a080ALj2oqP6zmZsKJNQdLNzVr2xX8GU-n37TijB4G2masD6i1M6LcSxupOoO038I4nlYutuCUfAy4zp4VKB5xX6oFpX1cXePexfH0Lcdak1yjxSO9r53B_ZrbDC3GhG98V9YehQ7ONMzcy0-vEGyijB-D5mzP6FMgDt6qQHOBwgjOt2p7DOOfHv3em8Z08YVcjb0PJD1hLCI6L28CynDIhZKmtVFAYFJnJytd8938x7xdRJ1p4Y0QMZSBDlXj6nj7uEbRcC082NGv9Q4HCjARts7YVkriMl6mmpGcXg9SsBJhfZOLaPl9_eUP2hAu2dntZpSxg9gOVpoEK3yohgeaXLKAOgqH55KDiAikDyw5e_Waqbvz3LqbfT3wR-z5SkYjhaK9nz0pZ4p59cnOkWqu_81nqpMHdGn0quQokoh-nO7WNgfZyL-7RZ=w561-h592-no \"CORS 清單\")\n\n3) 一樣使用 `Live Server` 開啟範本，就會成功連上囉~\n\n## 把 web 放到線上 server 測試\n\n> 注意：剛剛上面都是使用 local web 測試。若要把 web 放在線上測試的話，需要在 Azure Function 設定連線變數。官網沒寫這段，害我鬼打牆了好一陣子呀～怎麼設定變數如下圖。\n\n![Configuration](https://lh3.googleusercontent.com/_aALFr19DSl7A3vekHZWLNC-DKSZhWp44BLPoujaLFiCL6MDn8sxVNKZvw3IKB9-OmwOoxCHSa-ltJurLIG83osiLAaZeTjJxj8AlFnJBt3uGR2tyegFXkdoyxKpa1gDW3dZdPICSsCPiN4KMTlYAzSBdNEQoI3RnOvtkoNqruCcVph5qICYnAfBkGywtdR-dJjTyKKfuW8RZaFEPcHqqGhg35nibhg1jei8wJflLVHtN48vFNcsrAuyfGnziyEGjj-VxPocDb9ofJEHR8uRnIjL9qUOB-zGb9TA1j7Pyo1tV9UkuczX1KWXCO_jsd3rp-FDCAQ2dcHoLc6y9OagLkJSqGC7EJkaccgCuu1HRmb7_woIrvnIO8k5iYbvsf4bO7af8IBLgA-OFR_YlQpIGsXwoc1PSu-rMCGAEzSkhHsDNmTaCpyO-L-YLB7Z3vCOkavIMRpDV1ZcnLYd8jQ5USusENO0bzOXZNo4-D6sPyGhpl9g92pOoQmJ8DRgaxAqTGRxItUpkNLBDudfi-4-jGM_IDbnRTyLlWW9hLx3FLjDfA2QL0-z2Plp0NRfh9qdegDb3Ym-fmKS71Wp2g0WsVxhNhfdf9pDYcAkBDKqNF9HpIlRuATIi_HAGFGJ0W9imvB0-q2gQ1AfS2_YOIvUTK0v1Kl3-OFJuLwZqbm2kL4d-Sei-CSUkhV_=w451-h285-no \"Configuration\")\n\n![Add Variable](https://lh3.googleusercontent.com/jeAfFyL52YQfyyvIpqgAMgrqCLGm3yBtZDYfH_VXbFExgRV2kTjgkj5TOad0fZ4EkwPYyKOfKrgajprSXSsqmn4Tdcp_73h5YRS0VBZz55ZoHE6_ojFZ7TmeAOnd7ONKRQFxzr5jRZEZd34eWwVahN9o9bZYgcBWpebxN0fIihVQdrf3a6meMzzLPRH1HVX8hXwXr_W0j3FKVAz2Lf2-cNa1Bni_eycfszIrU7XIf8fiVuldSBReqZgd5NtbSuiRJSPFIuCjg08_X9e2aCeeKYBfjuy9tS7c2V4f0gUk3CoC9W-Beyh3ueJ17TkIm0BhzbUqWt8y374DL7FQKr55GaHzz734aRkvVOQnUNeR6efL1KVcriTVDwNCbjuqovljM7_b7VvQtY9O766_F8R1TNMRz26z6sqN9QfFbEFGEBbmECjJbecN8VKb-gTZ_4qSqnHTyiI-UCzcWPddZkoZ1mRridVcnZexsEQ6TD-k7upFmprShkVX-MuP-QIjR6MPqS0QCiwTbzSLB6rwgXbdylDIh6oUlc-5PrpYBhetsdjEIKqIDQNKOkEngxCuZn50bixXooAT78orR4EatTwcd67ERYGRqJRB4KQOxSfHaJCuq9ut53NvM9lPxsPsO0f_kuFsYL46-sSodOnd2-CE2dtRUK-nrqejDhWL_9EdLwBTrlAM9Dqph-Yt=w989-h560-no \"Add Variable\")\n\n> 記得如果是線上 web 都要把網域再加到 CORS 清單喔～\n\n以上是無伺服器的雲端 Azure SignalR 基本安裝與設定，如果要玩地端的話可以參考官方[這篇](https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio)，那我們下次見～\n\n## 參考資料\n\n* [快速入門：使用 C# 搭配 Azure Functions 與 SignalR 服務來建立聊天室](https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-csharp)\n* [快速入門：使用 JavaScript 搭配 Azure Functions 與 SignalR 服務來建立聊天室](https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-javascript)\n* [使用 Visual Studio Code 開發 Azure Functions](https://docs.microsoft.com/zh-tw/azure/azure-functions/functions-develop-vs-code)\n* [教學課程：開始使用 ASP.NET Core SignalR](https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio)\n* [將訊息傳送至用戶端](https://docs.microsoft.com/zh-tw/aspnet/core/signalr/hubs?view=aspnetcore-2.2#send-messages-to-clients)\n* [SignalR Tutorial 16 - Coding Our JavaScript (Client Side) - Part 1](https://youtu.be/MK8n8pg9bLE)","slug":"Dotnet/Serverless-Azure-SignalR-with-C-and-Azure-Functions","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ql001tr3y7djegesxw","content":"<p>第一次接觸使用 Azure SignalR，順便玩玩看雲端託管的服務，那我們就來開始吧～</p>\n<span id=\"more\"></span>\n\n<p>因為我習慣用 <code>Vscode</code> 開發，所以下面說明都是以 <code>Vscode</code> 為主。</p>\n<h2 id=\"安裝環境\"><a href=\"#安裝環境\" class=\"headerlink\" title=\"安裝環境\"></a>安裝環境</h2><ul>\n<li><p>安裝 <a href=\"https://github.com/Azure/azure-functions-core-tools#installing\">Azure Functions Core Tools (v2)</a></p>\n</li>\n<li><p>安裝 <a href=\"https://dotnet.microsoft.com/download\">.NET Core SDK</a></p>\n</li>\n</ul>\n<p>查看 Azure Functions Core Tools 版本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func --Version</span><br></pre></td></tr></table></figure>\n\n<p>查看 dotnet core 版本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet --Version</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"登入-Azure-建立-Azuer-SignalR\"><a href=\"#登入-Azure-建立-Azuer-SignalR\" class=\"headerlink\" title=\"登入 Azure 建立 Azuer SignalR\"></a>登入 Azure 建立 Azuer SignalR</h2><ul>\n<li><a href=\"https://portal.azure.com/\">Azure 入口網站</a></li>\n</ul>\n<p>新增 SignalR service 如下圖設定。</p>\n<p><img src=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/media/signalr-quickstart-azure-functions-javascript/signalr-quickstart-create.png\" alt=\"SignalR 設定\" title=\"SignalR 設定\"></p>\n<blockquote>\n<p>注意：這篇介紹的是無伺服器的方式，所以 Service Mode 要選擇 Serverless。一個 Azure SignalR 只能選擇一個 Service Mode，所以傳統的 Classic 方式和 Serverless 只能擇一，兩者不能共用同一個 Service。</p>\n</blockquote>\n<h2 id=\"設定-Azure-Function\"><a href=\"#設定-Azure-Function\" class=\"headerlink\" title=\"設定 Azure Function\"></a>設定 Azure Function</h2><ol>\n<li>開啟建立好的服務，複製主要連接字串。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/ebUg5MNe8j6YLI5O56lihd2NTFy9SHkFwW0WZdZnz25HzlKWkEpveUnMpfw9Og1Mkm2wPnqATYzpizjHtt6onCppsz7kRYnrXE-DRBapeoxUwNJLvjKR7O8nkZzNVu37tdUtRXIqFCluv42EXrrKaCQbWRKEfsSFsotts0AnmxXqpyEjB7gKkDUngv-Si0OX8UAy4nH2t5oc1uJumiSBkucK4djsxN_QQVLuBjXlFlzN1-lNt6x3j-KlraBvkCf7J9wLB7cp1_lOMldLoK6bG5ixiKebGTJly_gfZ9J4HN2JF0OCPP87eI4QsGlVPprfTGwgw6swCJaO4TiodAj0zzgPq8SX6qmCE7fS7-1gSDLK1hzTNedZ5EzcCTblltvhdsOuxgSJFc464UYaYcTfcwzZ3377cg9jzGa4ijNRdFRGHYQbvdssgoMuxA8_gRV3qmtsssBOQzKhRwFriUOcR2Mk2RnJEzCknPvIhDDq_aDuO0DJvUr18p4zLV3IK3gdawQtusInwbLdySAFB6VGiKoPK2xP6IJA1RYGUIWx3a7uEqX3KPpI0OjVY5lORd_rtCzv2m69xRSB_ygGXHYVt1_Mr_MsI-vVbpOzZtPob9L3BljtzaWXYBaDaFMeFGVKKhTHR_Gv9i12qfSZCi1j9pffRE8uAVRTmJVYozGlhqffUtNkUHxaDsO2=w1035-h483-no\" alt=\"複製主要連接字串\" title=\"複製主要連接字串\"></p>\n<ol start=\"2\">\n<li><p>複製官網 <a href=\"https://github.com/Azure-Samples/signalr-service-quickstart-serverless-chat\">sample</a></p>\n</li>\n<li><p>進入 <code>src/chat/csharp</code>。 將 <code>local.settings.sample.json</code> 重新命名為 <code>local.settings.json</code>。 將連接字串貼到 <code>AzureSignalRConnectionString</code> 並設定如下。</p>\n</li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;IsEncrypted&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">false</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;Values&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;FUNCTIONS_WORKER_RUNTIME&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;AzureSignalRConnectionString&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Your connection string here&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;Host&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;LocalHttpPort&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">7071</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;CORS&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://127.0.0.1:8080,http://localhost:8080,https://azure-samples.github.io&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;CORSCredentials&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：Host 的部分是在 local 測試時，為了避免 CORS 的限制所設定。請務必將 local 要測試的網域加到 CORS 的值裡面。</p>\n</blockquote>\n<ol start=\"4\">\n<li>開啟 Functions.cs。 官方解釋如下：此函數應用程式中有兩個 HTTP 觸發的函式</li>\n</ol>\n<ul>\n<li><p>GetSignalRInfo - 使用 SignalRConnectionInfo 輸入繫結來產生並傳回有效的連線資訊。</p>\n</li>\n<li><p>SendMessage - 在要求主體中接收聊天訊息，並使用 SignalR 輸出繫結來將訊息廣播給所有已連線的用戶端應用程式。</p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>啟動 local function 測試。</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func start</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/3504Bocz7haQ3JPmdJwqa2XwHdc_EhIQpmtPqtOftqxaQUK5qLHeVAaSz9JNWpEhD7ezP81kEeq6LB6Loa2aL5OIYYWVjjA4GwibWVIl_pbw_BAN9IyZfTBBvmE9Vz-NRljNw1h-6deKZJZLgWT57tKi5I1ml_PwuOFGL0fh1PHbrPq6VC8YyVchEb4l0OdFYdpFz2h14pJMmelh0jV8M7lqQrIY4aK-lN0ttAn01wQZWh7nnXO-aVhFxYVdI6_-SKoDsu2LnFscOqb5QohvLZkFF3FzgPzRqraWwE4F-KRgXrfk1JPrh0r1qB0yAtu0VZfdbwk1PSXlhnabxHVn6_F0Z6pfrcaASFIkQHzrIonsxwPQm40_W5_BJvRxWCxVHQJed5--C4226IoeDXHRu3jevGzWButrAGJq0s9bCDzrmDg_u9MNKP4klPgZDmmLVfOrqZXAIOhrXmiEOvUSPdUXnIyOOzo0mtU7sFyqmf3UnCk7afZQ3uR8gxGhTSEBsVSl743Csc2-Xp84PJ4xWsmwxfi5vxrPRv3NVO5LQ6v5GB_vx49YCqaxJjYv5tZ9Fd_Hq_2S4MhASR5fSGzD_TzReNfs7p0KM333949JNKUb-e2-nLCkwxdHS0Yk-AZKQ70M-bZTUVu3HElg9UrkfqpdMyu4LtzbiimLqIOGyekCOD3FqShQ8r9q=w2206-h1378-no\" alt=\"local function 啟動\" title=\"local function 啟動\"></p>\n<h2 id=\"Local-Web-測試\"><a href=\"#Local-Web-測試\" class=\"headerlink\" title=\"Local Web 測試\"></a>Local Web 測試</h2><ol>\n<li>因為瀏覽器若打開 html 頁面會預設使用 https 處理。所以為了避免 CORS 限制。請安裝啟動本機的 http 伺服器。 <a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\">Live Server</a></li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/91mzygWcGmu3ljW09OLhtTAfv2Ugb589jczgciy3mOSuWbCUBjOAeN2BUA-MgYWzRbaoXFWwIqoUHqzcykEA4Aw4odpSHDSboaTWxYYpnTT8CmclxtK9t2HYZWUF4HlUKk806h8Jhq3iup2I414hAKpWCtcKgPidv64aPwucq3GYS_ZKsTXudLB7MIfK0wZ_yR47MscN_9ne6KDJvzv3EU4T-1XNMJZdu6ISqzgrUUCgIh-hnUHeSUH6Vy0M1Kc4rNDjBnp14xLA899OhmeZJiB5xQ5UKbv9Icf-dT3yW7qQRSgxWnMvMWgyle_DdmFSYwLJTqMjLaCnBF_LZiS1bJMfDcuctigjp3lqhy75LDcVssUs55sG_8qmd6zgY1A1PVeEbc3faMfQwM9ANDRZA4GAPLFTVYfsp5wVR6cCkYc6tehN7Q1D2DhTrgoJCZ55r0-9nsG-uA11nh5Lmy9Fe7TmPMceVqZXWYYqdP8Q35UHa8Kgq54dfYLjJ2PLOisuHzurd-qQes4NQfhCvsnsXW78VL-UsaW29tFMS_7k7_NH4X9DFNP7oUBsv87ISO_kpm0VWAylbsilxbLT8n5xa57q3USTJuBR5e6DYixRM0L0K_ElogvfiC2TMmYg_F4M5j_Fmg-VoPrxzIt4u6CQ9sNJ6ExcujX0ZEth-aiguKyQNlK2xBs2x9L8=w1908-h938-no\" alt=\"Live Server\" title=\"Live Server\"></p>\n<ol start=\"2\">\n<li>用 <code>Live Server</code> 開啟 sample html 範本 <code>/docs/demo/chat-v2/index.html</code>。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/AgiqJicbCJPOqOd7krSCj4eoQulKtewUr71Gs67h-Z3PWiWpQT3hUguVvqQ_Wbsg82SPMZ6Cq5BC9BLN-YkgZQTf1l7JRwd3k5l0yfztgG3Mb_rRUps_ozF1ebzft2z4rst0i4xcEdY453CtVWWHIfkpl6iGgAdDptdUUDfeWvytYg8LEZX-Z9mpkyXI79oI3sYcXVgloKf0FH3ArfwUquBNNwQEUano4e7PPOcYkvXP3d0v9eO2JvayxYfc-c3WSSHEj4rPbx6SvlbZa8O4-0Q_x-rDQuLEoa7u7kCrBnIdaw0xbRxRBhPiGGxbYUJ_s3dBstI4DKzDt-wyJyKBwwV8K5zhfy5wwx4E4grg9NVZf9dp0l2-DDoh7zjHBLCpgLU1-YdmLKp47cmwxLPA7-FnloIsldbLrBS7hv3OQAfDMEb9o8_MQb_44ELsklUVY6wSo6rY894Ew5Wmu24CBd5UbjnO_vjOvvtKNPZKrnDmvnqmofS0x1Kk-Qzy5qKgZ4M3xXt8NAwGm6qa2Xi2vTZhKwy-ApKzBz-VqaOE1VWNW4cCgUZCh00MBeYxWSCdeJOrQlHgkW_tP0zuBBZFxu88siuX6ZTxq3mpVNa7bENEjPJjCSpxMXQemG-CqhQCnGZJTBkSUArTNUSNRDaQ4jixziHJURlhdZlS04s0MGEjPgsLJGM_RKkR=w2206-h1378-no\" alt=\"開啟 sample html 範本\" title=\"開啟 sample html 範本\"></p>\n<ol start=\"3\">\n<li><p>\b自動開啟後，務必輸入 <code>apiBaseUrl</code> local 測試為 <code>http://localhost:7071</code>， Name 也是必填，請輸入聊天室的使用者名稱即可。</p>\n</li>\n<li><p>成功之後就可以輸入訊息測試。並能多開數個分頁，測試訊息的接收是否正常。</p>\n</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/PYziZWr5t2kOAe9sp4dAJ7f9RmUy-MVlPhZqyus33kJyLQIj61CocH4Rdj955TFA1SVQXZlsSqDhZtafBG5Z25vcLlq28mHCp8OnbxOqh65P81rNFxOH56SfUkJ91ha4KPI8ZHzzSk9zArbDgBNE9iM9NjTZ97lsDsbyO9kuqLDpuj2emQ1r9ak9iRLQXAotahmAelkr2dUiLCsbCphjQHX_fZA9k9KAsAmt2Rq7s5eBTqoHr_V3ZPHemP8QHJg41cHBMfLMwxaKKxqh7PtubOq33yRamyEsrFBfEi8mWAPfLTYmJbGD0izpZEuG1fhBamxoRt175Tgjv6qEIrwakqNQyBn_LnRoQCXYsntJ0XaWDka9yM1Vk9g4zeXp9Jdus09p3Gyj_ACYL98ESUffg8ifDiOPy7cAeFje9dM_FG3bQMtNBLn6Rq8BXXOcERuYUunQsOyalskX_8rnrfvDFGNm9I7Lm5y-wUMw59DmiuvvZsftTtM8lzhLKJDPziD1a_r13RhjLlBo1vfXM0Iq8dsGGe0G4KbinGq4kLIIx0rjg_BDDRQwQUThCUzpOVkYzkKPr7zyFTilAaZAsOeF_k54MrnLVq0sBPCUNN2EYUxI-mzWuhEtNIOzY4K-tmP1AtljaQeVRYnuDp-mMbmLfPW-2PiSf7iSlu6B03DhIpS3EfbFHW0xKEUH=w2532-h1246-no\" alt=\"測試訊息接收\" title=\"測試訊息接收\"></p>\n<h2 id=\"發布-Azure-Function\"><a href=\"#發布-Azure-Function\" class=\"headerlink\" title=\"發布 Azure Function\"></a>發布 Azure Function</h2><ul>\n<li>安裝 <a href=\"vscode:extension/ms-azuretools.vscode-azurefunctions\">Azure Functions</a> 擴充功能。</li>\n</ul>\n<p><img src=\"https://docs.microsoft.com/zh-tw/azure/includes/media/functions-install-vs-code-extension/vscode-install-extension.png\" alt=\"Azure Functions\" title=\"Azure Functions\"></p>\n<p>安裝完後請務必重開 VScode。接下來我們開始發布 Azure Function。</p>\n<ol>\n<li>請務必確定 VScode 只開啟 src&#x2F;chat&#x2F;csharp 中的 csharp 資料夾。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/F2CzlCEtvEpCrmw7V_8x9zWfv-OYRpzWj18QN-HL_WfF6s3XCH8u8FW8QStEVeNvXCI6PDmPNKPdLolL8Vlh5EvtSYJvuYRpCADBrALiZIy510xQPTNSl4vZAiwWfFu7IXTGn9sIINa8YVH_ya_KRfkSX3-_5EvsFNJOwyQna6Itv0IaqDKpR2-TEOADt1-FN73D1WyTINzPcd3xS2IYk5EKJrloZPO1Jbj3ZlXxpvahgExMM5uxUZOR4X49neuWpuyIjxVzjdAKvY4ADg2W5cdBvQG-b02xAer7yQ6k4gB15eI3_d98HWArt-FDrMwt5EP9foIFU-dBT5V4B-C2-woI0MejtaK07QNZ082ahzsqV7odBCUVH2u3laLEVGzFRhAddf1DhpDobOQhk4-IB3XG7kYiRiWXr4lco1JTCYTDhy-TxgyHSpUsyMxtb8f--kjdQ5y1IF_uGQDRhF7dFhEUKImOFRj1Kc7sypo4uMS07dQAvFm0Nt7G5xX-IE8QOKjmgNrvOypegpsFswjQ_RDyd0YuT21ioMs4oogu8qEdanhGBc_9-lmbxa3Pfe_P2RauuKrczEJ2zIZlahNBP_e3CsPQqy1B5FwtWWk7Aej0GkqHLwJ7HmTi4oC6cH0fXQzz2ATYuSKg0VsPPeh5PGAbLsQZDZIipl1ScojTL07PltVv9ZDBYVwn=w916-h898-no\" alt=\"csharp 資料夾\" title=\"csharp 資料夾\"></p>\n<ol start=\"2\">\n<li>從擴充功能登入 Azure 帳號。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/3ycoKSgCD3L5bhujgJ_qsAaR7iEmu-cDzoi3GceJ4nRtwqz9Sh9ZCNXXQ8nvcuWIUgm4mezj76JL3t3dy1lSdIi-74oqXPTDQYxol0-kaSbF5YTSgsdGI2wgSe_TN4g3UToGBBZdBHrGl9Xw784YIbzI2oFFgQ5FGaH2v3-1JkYpHJB1tde5NdND30pRpnwrbFzotRiyxOyt6lBDlWxuBbSpfIDISQa8Ya-sO79Z8r8cl2RMywRmX3WLVBI3OKVl9Gvi5OJuWmoRyb6jIfeBAWM8i89h5rwdEpCVkXvZO1BlxXRnIrp3Bo4u_EMLkC3VZb9G2KNlVkXgVel-6dL9IqoJ8oVPvorFZMV_sgZwW2_C_D6TH_1SsOs3OVlVT8lwoRjY4RGDJbaQzi7QtfZXfGk5--aTvDw7AV25IP0grR_qAt9X2_SmU4tjEWcjTYN6wG6a6FrQsRhbLhhGC1QOdD1NhyMC-tXZhz9XXuwKyC58CHc_ebYMGogv1PUuqhEy0wMrtKKtC0ZxhGZmH52BcjBrp0fIkp5JJIOeaiZelgAQLJ5-PpAvyY4OpDmSUnJle6hKAHFh6UmCFAu3v1bK4nS0zILSiPobyLEnwrkMbHAJzr44wOMTSVQlsa0ogK5GqER5NNRCACJ-61ztnUEEvdLGN3AhkWmQiCk2ya0YEECjl0LeXGuHk72f=w463-h431-no\" alt=\"登入 Azure 帳號\" title=\"登入 Azure 帳號\"></p>\n<ol start=\"3\">\n<li>選擇要發布的地方上傳。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/g-Un1PRQE8Npznb4Hhi9gK6Doc7h4nunpZA3zKMEypcb5j5Ks54x20lEc2UeRykR532VeixY7u11THtW9HeALTz47SUBzzvE6vYzKZxg56VCa8GugLdxRDxvkDu0x6rZvvilshkKnPhsaNCsWEM2IkWSR3Nj1ctjhoGhn0gjjCTPz63muznRew9qqt87p-4ozb8EVNuHwIkJpCvG99uRGQ5L7cdaL6rS-CMmnJUB4EjyM15NeVCKJRpeiYJHkRnvuO_OhqLRhAVYRNtiFywIfnSviMhR1TU9XHYkq-IzS2V8cJ0FRw5u1FE9sF1BE3tjFNiuGiogDdVZ5X4JaGenHgYQU6TrACnF0I6xkHdC9oKXzXvaDgrQGos5UjNytVJeikB6DhCo0afU5vz1Qjtdn8sNRWqEAJvFAfYzVjDNtLgESZQ-ADAE099ID81UPDTnzbVYjZA8zCBkBZUNwQQOplIK-Xft_6cCFQtcsZx-ReUUJnma0MuhTd866gyM4_07eadyJ3ahZAQCZG73AvpUzxRIUsRpgjJ_-lGeEumg_CMxbF0QdEbvZfxriX7azPOitHPKC8YuXhcMAAmmD_3IEpp_VAVyadbRHWBzPtRvS8pkuMN2mFDlY1Kkabuwo5gvHF1FE9PyNodyni6pMPIJ4d2OOT8UO_5e_26Pjxsp5FOnO1nKbV5UPRqy=w916-h402-no\" alt=\"上傳 Azure Functions\" title=\"上傳 Azure Functions\"></p>\n<h2 id=\"測試連線上-Azure-Functions\"><a href=\"#測試連線上-Azure-Functions\" class=\"headerlink\" title=\"測試連線上 Azure Functions\"></a>測試連線上 Azure Functions</h2><ol>\n<li>拷貝 Azure Function url，將 html 中 <code>apiBaseUrl</code> 改為線上的 url。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/H_G9dyo8H_V-04HnuKLeYz_RIzpELVQEeIU2Oss1BgV4kb0ih2rs2ihnSG5V4cBpF27Bhuax9uA3jrh5jzi4NXG3xJR8g16s8Nksmlp7Q5zbI6JBkepAhstRwqkBhFiTtt2jAwGlTnWy1TXkPOqzjD8ejAxMDZYuR1Tsrrw9lHCxdicNe233wUwB_9T9Rj7CGP3SM3VvpYsBQ2EBQhrFYyCrEd7bHkMNT7lkuT1CIGT0eniiMKF5r8lmI3JWDKejkDnDj-Xhk5FJ8GhKIpbUTqfbGoYpmRCvhXkXGlPv_225nceq7FJjLbP47e7d0Xyiw4DSfpY4-eLzFQ9Pk1A36sw6u-3kko-FOEWx9hgm2wFkgUn8W-VG60dkn-edy6xzzVBG60BpNBtFU566ckPtVMv0BVtr6rcyTSghwv2BY3iJ5NNQNYl2n9wzDxGAhvp8USAVfkkooBvzISbwUHFE5mdAujs-xyUaQ7JGGwZEP2gpj5UrhW1mj2FKEtuywYk_HW02qkLII8igNcPqbHSy2xKB-hjsaERItaiDeBZvhujagZOWVhYDqdA6MvgfHm9IC8Dx2T2TtZSb6HsTNABrbi3tcRLbiG93_egs5jCaeLvkgA0yxATUZNXirp1z83sRtolFWzJOKeurzUtbT8qSlTkelW7UmZGEblCO6egJM9Oz7e-L4QE8mosh=w988-h371-no\" alt=\"Copy Azure Function url\" title=\"Copy Azure Function url\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/6knLBtYnBsO_4Q_JDPw8eeF1ndcFzBRIKrQPXxJY1XU-e_Dtcsf950sXVO5EDI6CsFwAcMyQ_C_noV8rIb-tWuQZaSVgYTV9-PAn8BHzHShn_8oP_nF3-ix7-6bTR_Zd8ABaSYk1mo3LN6bED7uxK0U9mTY36PF53UpWKF018lOsSezcpuouyeM_qF8TPOsuZ4T4t2V7QBc6NM8z5qXVC3uDLPUrQFQwfegIKE_8k5kPgHMxNTPOoVChCf1k4_YEIxQDJUvGdWa36rI789G10b0VHjzCQxS4vRROdTKJ3p2nNfhDd1LxTvsuUGUnIRvcK7wozQ5G0j8hsxCv-xQJ29dgQkG8nhM8RrBX4oz4Na5_169tKWRUIbIwsJQ55UugbqxpM3OC36-BmvxZ9s3cz9ROJ4cYCkKVnREJyXo4gGMFck_h0XYxJe94-I0LXQQ3A3uGATHqRgl_CcE-1xISolLp0mYvgKpOC6XuDiZH1tRGt0xSInHwnZYuMc59fBawXeiivDGkIjacRbbUsHKr0RLPQtb6eAW1MUyVpOVMhjTQlcNWUJ_Vbsy6VtprtIeolwbUQQSNgqRSemMaS_zPCH1djV1gG-94h_8wOcm_phJ8AkfKmN1elF_gB8WTMPFvs9etI30qy60U4zba4HU2tlFYE0OnoyGHOlvaHzjBSj4Pm7zHJ8Ben9tG=w2192-h880-no\" alt=\"修改 apiBaseUrl\" title=\"修改 apiBaseUrl\"></p>\n<ol start=\"2\">\n<li>因為不同網域去打 API 會有 CORS 的限制，所以需要將測試的網址加到 Azure Function CORS 清單。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/QrDuwqSA60bt68i0DoP72Ci94RwvCX6hbD_cjb-yYHhAzBboVJxMZzYIZ6lMgkZAlcv3wyBfBx9sqxwsnUpKwsB9HU8cmQiHCDEnHHLaf5ZsIe5rXI6x8yPAifMnei4xjnRoR5qBkTWoE4jw7gwIE7aDoQeu3VnWTLAndv0-N5nmdY5FoBp1h2ESAM6rvoYYdwxvyWJSJq_xaq43p-koGaoOlEyxfeiUuVGNfPadwjWg9mBAEXFNp2pBa84A4OOd6dfLX1Wzdm1cWgwRtzob9-bF1GZT8f7cj2hl2WMRdhQaP-itxxoFcSVut6uscXFkN1G93Yr7ckHLeiM04jqcMWUdf5IkAtfEInI9lDinK9gljEDCRe8xHCRewByz2Fbp6eSt_RA3RV6FqBi8-VaIuBn0aqlBvPrP7HC4lfFLqy3tdeh7T_afav5Cn2rPn6YuTn4eFGduKK6vvslTShwT208Nl7VE2I9-p9IF0Hndfty1uINjTWP66RRhvpBo40qFSNR95vDw2pGXY-QCEvZinXOk5-YK5RZ6-mmXxc-B5D7mjwbR6u0fiX58NaIL2Wce1hVkraoycTOg2Q1wN25L-OwN2zLmTe9KbwQJ3lqoTsAGuq_tGz-nfHWLpf9cXaqYX3YvEqwN2BwNAs6YKyYCnsR65zG5FlzgSM5UERmDd05BXpI7mnDlhLKF=w996-h574-no\" alt=\"功能設定\" title=\"功能設定\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/Rp_UC6QBZeSOB_6j3kFgK-w9aZNOhE_oybskL2rkFZSdEFYrrfnylveIY0fX-wv3wODLHZyD8AOu2IUwYZebGn5Z7r_rx1jNg61SVDRhuXDYKoLpz7WTfCkcrlZqUx2iEyYJifDtSjDE8GtWehIa8QhwbX1Bvd5qV2vg3Ib5opXrbirNkPy_u-LACXcIrb2ppbRJgs18C9KQs-PY1EPOq3L0s82tpCNkDgGm7vXPVzxcof5zYRpF9VEWumxKadf5a080ALj2oqP6zmZsKJNQdLNzVr2xX8GU-n37TijB4G2masD6i1M6LcSxupOoO038I4nlYutuCUfAy4zp4VKB5xX6oFpX1cXePexfH0Lcdak1yjxSO9r53B_ZrbDC3GhG98V9YehQ7ONMzcy0-vEGyijB-D5mzP6FMgDt6qQHOBwgjOt2p7DOOfHv3em8Z08YVcjb0PJD1hLCI6L28CynDIhZKmtVFAYFJnJytd8938x7xdRJ1p4Y0QMZSBDlXj6nj7uEbRcC082NGv9Q4HCjARts7YVkriMl6mmpGcXg9SsBJhfZOLaPl9_eUP2hAu2dntZpSxg9gOVpoEK3yohgeaXLKAOgqH55KDiAikDyw5e_Waqbvz3LqbfT3wR-z5SkYjhaK9nz0pZ4p59cnOkWqu_81nqpMHdGn0quQokoh-nO7WNgfZyL-7RZ=w561-h592-no\" alt=\"CORS 清單\" title=\"CORS 清單\"></p>\n<ol start=\"3\">\n<li>一樣使用 <code>Live Server</code> 開啟範本，就會成功連上囉~</li>\n</ol>\n<h2 id=\"把-web-放到線上-server-測試\"><a href=\"#把-web-放到線上-server-測試\" class=\"headerlink\" title=\"把 web 放到線上 server 測試\"></a>把 web 放到線上 server 測試</h2><blockquote>\n<p>注意：剛剛上面都是使用 local web 測試。若要把 web 放在線上測試的話，需要在 Azure Function 設定連線變數。官網沒寫這段，害我鬼打牆了好一陣子呀～怎麼設定變數如下圖。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/_aALFr19DSl7A3vekHZWLNC-DKSZhWp44BLPoujaLFiCL6MDn8sxVNKZvw3IKB9-OmwOoxCHSa-ltJurLIG83osiLAaZeTjJxj8AlFnJBt3uGR2tyegFXkdoyxKpa1gDW3dZdPICSsCPiN4KMTlYAzSBdNEQoI3RnOvtkoNqruCcVph5qICYnAfBkGywtdR-dJjTyKKfuW8RZaFEPcHqqGhg35nibhg1jei8wJflLVHtN48vFNcsrAuyfGnziyEGjj-VxPocDb9ofJEHR8uRnIjL9qUOB-zGb9TA1j7Pyo1tV9UkuczX1KWXCO_jsd3rp-FDCAQ2dcHoLc6y9OagLkJSqGC7EJkaccgCuu1HRmb7_woIrvnIO8k5iYbvsf4bO7af8IBLgA-OFR_YlQpIGsXwoc1PSu-rMCGAEzSkhHsDNmTaCpyO-L-YLB7Z3vCOkavIMRpDV1ZcnLYd8jQ5USusENO0bzOXZNo4-D6sPyGhpl9g92pOoQmJ8DRgaxAqTGRxItUpkNLBDudfi-4-jGM_IDbnRTyLlWW9hLx3FLjDfA2QL0-z2Plp0NRfh9qdegDb3Ym-fmKS71Wp2g0WsVxhNhfdf9pDYcAkBDKqNF9HpIlRuATIi_HAGFGJ0W9imvB0-q2gQ1AfS2_YOIvUTK0v1Kl3-OFJuLwZqbm2kL4d-Sei-CSUkhV_=w451-h285-no\" alt=\"Configuration\" title=\"Configuration\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/jeAfFyL52YQfyyvIpqgAMgrqCLGm3yBtZDYfH_VXbFExgRV2kTjgkj5TOad0fZ4EkwPYyKOfKrgajprSXSsqmn4Tdcp_73h5YRS0VBZz55ZoHE6_ojFZ7TmeAOnd7ONKRQFxzr5jRZEZd34eWwVahN9o9bZYgcBWpebxN0fIihVQdrf3a6meMzzLPRH1HVX8hXwXr_W0j3FKVAz2Lf2-cNa1Bni_eycfszIrU7XIf8fiVuldSBReqZgd5NtbSuiRJSPFIuCjg08_X9e2aCeeKYBfjuy9tS7c2V4f0gUk3CoC9W-Beyh3ueJ17TkIm0BhzbUqWt8y374DL7FQKr55GaHzz734aRkvVOQnUNeR6efL1KVcriTVDwNCbjuqovljM7_b7VvQtY9O766_F8R1TNMRz26z6sqN9QfFbEFGEBbmECjJbecN8VKb-gTZ_4qSqnHTyiI-UCzcWPddZkoZ1mRridVcnZexsEQ6TD-k7upFmprShkVX-MuP-QIjR6MPqS0QCiwTbzSLB6rwgXbdylDIh6oUlc-5PrpYBhetsdjEIKqIDQNKOkEngxCuZn50bixXooAT78orR4EatTwcd67ERYGRqJRB4KQOxSfHaJCuq9ut53NvM9lPxsPsO0f_kuFsYL46-sSodOnd2-CE2dtRUK-nrqejDhWL_9EdLwBTrlAM9Dqph-Yt=w989-h560-no\" alt=\"Add Variable\" title=\"Add Variable\"></p>\n<blockquote>\n<p>記得如果是線上 web 都要把網域再加到 CORS 清單喔～</p>\n</blockquote>\n<p>以上是無伺服器的雲端 Azure SignalR 基本安裝與設定，如果要玩地端的話可以參考官方<a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio\">這篇</a>，那我們下次見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-csharp\">快速入門：使用 C# 搭配 Azure Functions 與 SignalR 服務來建立聊天室</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-javascript\">快速入門：使用 JavaScript 搭配 Azure Functions 與 SignalR 服務來建立聊天室</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-functions/functions-develop-vs-code\">使用 Visual Studio Code 開發 Azure Functions</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio\">教學課程：開始使用 ASP.NET Core SignalR</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/signalr/hubs?view=aspnetcore-2.2#send-messages-to-clients\">將訊息傳送至用戶端</a></li>\n<li><a href=\"https://youtu.be/MK8n8pg9bLE\">SignalR Tutorial 16 - Coding Our JavaScript (Client Side) - Part 1</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAACaCAMAAAANQHocAAAAYFBMVEX///9ZtNlRsdhSsthIrtb4+/2n1eldttrg8Pf2+/2h0efk8vjD4vBsvN1LsNe93+633O3v9/vQ6POAxOFyvt6YzuaNyeOHx+Lh8PfW6/Sv2OvJ5PGTy+Rtvd54wd+r1urKXpEyAAAGxklEQVR4nO2df2OyIBDHEzBNE7Vyzdrq/b/LR7f1rBUHHErWyefvVvLdAfcLXCwCgUAgEAgEAoFAIBAIBAKBxxDXadtujuvjpk3zeuqneUVWm+ptl0ScyR8441Gya8p2NfWjvQx5uU+E7HS7h3MhP5t1PvUjPj/psuBSJeGVlpInWTr1gz4zbZao7fAOJoOUEOVOMhsNL1LyUzn1Iz8f9ZJLhIjfSLYMu/g1q4xjTPHaKJug5IVVJtxU7OEiC67QF1VitbXANhmFdbJzdAr8uniLTGa/d2fDVezhy6kHMilp4r4w/kXuZhzkHPSRCw4211VytR1nTl+QzdQjmoR04DZ9Dy9m6Euu7QJpnJDz27crMbqKPWIz9cAey3LcpfEXOavdxpuMnUXOSEiPMnYWuZ56eI/i7GdtnJuQlU9r/BKynXqIj+DoW8bO/5lBjJhbTWpeDBIyIZ+SXFlFMaI8D/LS+Wnqcfpma6OPrBbZsGhHEs+jWYUxnYxDdSS+16R2k3oxXEfaS6TN7iGq/pODdWRvUw/WHzZFhJ8AebCOhFMWuYU2l/B4uI5REk87XG+czNr8T9eMoCMjmh9fm/fq32TNCDpGgmZYkxgHfpU8HENHvp1wtN6ojCXW69RhI9RIAbSYqqDoRMZGc/yTgY0BVnV+rN4SSykJhofGbBkqkZ1XJ5vaN0HfxzRqdGElbyzaTskZZGkwR5ck9iozTm9JrRC704/XsTpVbw2+FP8YeRwT0+rH615SKQ0WyWm1WHxohysGVKbyQrtKsmq8QUxPrF0dBxb49lohk5GG8BSsdTqK48Bvb3SLhqQUHOqqCSOUm3V9BYxQhaHWyDjYGnsaWEi+G+H7nwTNtB6yxVyhMXhGZ2LDu7UcwxoXfTkX1pHOjg0OcpRJ/UULmjwnU6gBWyjGssYeOGHJx/uRaYGWx/GssQc0ejKeD7A8jmmNC81mxqj08RVKHdnYyWr1z3Tzmki9awVNOOZA9PmxBjolQIMk4kG+j3X27du6uIyWaiWhPyFSyN6M3jjKIuWaAG3ZRNpKD6Pa4zfKoBzyIYkkxZvxD251PpPCIqGghkjj/ZsPHaNIseid1J9kh8cP2gPA6AaiOrm+VK8gLHv8oD3w6cceFQYJHIUg4kCa+3qcUNT4gWoajUyFuSHFDcVsrQEdSfRLxX5kVKkTA4mloKOOz7ufWgE6kuhOiT1tM4qwGdIx2KMGvr/7Kdo6+tpn7r3rd2CfuVf8FfGkoyJqBjIiRJqlDK1mriiyikDTFBE/fOtFRlWrLVDAINJS4SVPoTz2Bhy74zSu/gCyB8NkLBQ/VAMfljS6xLXNZm7IrapUAPVOE+lMsTosjIEL9YIHNvnQ6MkF64U2kt1XDGUCXC0MZCmiSLUGvCLuDiTfnZc3lClU/YPWYSJu+GKxd57YmB0CjD+JlBVsThZCYJq7K+i/RWS7Nh76gOEIS4J7fgWNNgDTaQWdjoiNFvT2+X2e8lVxjAwxdRW4aYNItbDHsaMCcXwaCmUidcfAi5I6TWyO8Pt0V18QusjH6dY3xEliTSqEjPfYk7lMbG69z+ruBRq563daXCa2ffZVcwqpWx59juvhOExsbtttp70Wn0YvxX8O+NDQsujc6i+UJLRb9+hOGKqxa1qMM8NL+qjkei7giws231qa3rvC6RyK+yZFxtgWtam4NL9KicxZrv8gq6/GWkCaJWYngEil8Br4IKXSjjTe86puq49I2CwUnFAscwFlkPD7tuoi4YLbrbYkby7EGaQEU491ZL9lETRHq2s0rxCgkPnw/8VLk+OCQ1jI2q5wRs53vIC8G1NjkVZCkqnL3ILthJRn6JtsLJJUwuwv2IIX0DexsBKSos9zoUHmIQcISfv9Utj8mQCLVAYhCc/qHmyYrbNIvY5UitYA6JdKuVmkdRL4ZUEn0FzWSEEtXaYAffxVgFEyJOQs3phrGY1cC4mc2ozEuSMjtWW2xsa+VEKSjQdveccXaxBC8oKwA/4XfMe4vZAzkrELEL0JOSsZ/Vkk2xH3v2/JEVntHyHB05a/Qsp57NTX1Pr7052EFLSaUCx5w4aIEpTpW0iidQQjpVXt1NIiOee0WnkQvGPnts4ilUcOZ0L8gcyjaYR85HM/HxtTp9OtkLTzswM427xoKwhppt6jNm4WhIRoT5hlciZpMSfaHWJ2E69hDSNt7NOSNC7Q80V9iGxfORqE1JNmhc385gJzonie5NVJ+yZcJkWSHWeVZHQl3iz3RSQYu14xOe8UZMkp2wQNMdRpeW72pyLpKXbbfXNYp3XQMBAIBAKBQCAQCPzyD//kVoYOpPZmAAAAAElFTkSuQmCC","excerpt":"<p>第一次接觸使用 Azure SignalR，順便玩玩看雲端託管的服務，那我們就來開始吧～</p>","more":"<p>因為我習慣用 <code>Vscode</code> 開發，所以下面說明都是以 <code>Vscode</code> 為主。</p>\n<h2 id=\"安裝環境\"><a href=\"#安裝環境\" class=\"headerlink\" title=\"安裝環境\"></a>安裝環境</h2><ul>\n<li><p>安裝 <a href=\"https://github.com/Azure/azure-functions-core-tools#installing\">Azure Functions Core Tools (v2)</a></p>\n</li>\n<li><p>安裝 <a href=\"https://dotnet.microsoft.com/download\">.NET Core SDK</a></p>\n</li>\n</ul>\n<p>查看 Azure Functions Core Tools 版本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func --Version</span><br></pre></td></tr></table></figure>\n\n<p>查看 dotnet core 版本</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet --Version</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"登入-Azure-建立-Azuer-SignalR\"><a href=\"#登入-Azure-建立-Azuer-SignalR\" class=\"headerlink\" title=\"登入 Azure 建立 Azuer SignalR\"></a>登入 Azure 建立 Azuer SignalR</h2><ul>\n<li><a href=\"https://portal.azure.com/\">Azure 入口網站</a></li>\n</ul>\n<p>新增 SignalR service 如下圖設定。</p>\n<p><img src=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/media/signalr-quickstart-azure-functions-javascript/signalr-quickstart-create.png\" alt=\"SignalR 設定\" title=\"SignalR 設定\"></p>\n<blockquote>\n<p>注意：這篇介紹的是無伺服器的方式，所以 Service Mode 要選擇 Serverless。一個 Azure SignalR 只能選擇一個 Service Mode，所以傳統的 Classic 方式和 Serverless 只能擇一，兩者不能共用同一個 Service。</p>\n</blockquote>\n<h2 id=\"設定-Azure-Function\"><a href=\"#設定-Azure-Function\" class=\"headerlink\" title=\"設定 Azure Function\"></a>設定 Azure Function</h2><ol>\n<li>開啟建立好的服務，複製主要連接字串。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/ebUg5MNe8j6YLI5O56lihd2NTFy9SHkFwW0WZdZnz25HzlKWkEpveUnMpfw9Og1Mkm2wPnqATYzpizjHtt6onCppsz7kRYnrXE-DRBapeoxUwNJLvjKR7O8nkZzNVu37tdUtRXIqFCluv42EXrrKaCQbWRKEfsSFsotts0AnmxXqpyEjB7gKkDUngv-Si0OX8UAy4nH2t5oc1uJumiSBkucK4djsxN_QQVLuBjXlFlzN1-lNt6x3j-KlraBvkCf7J9wLB7cp1_lOMldLoK6bG5ixiKebGTJly_gfZ9J4HN2JF0OCPP87eI4QsGlVPprfTGwgw6swCJaO4TiodAj0zzgPq8SX6qmCE7fS7-1gSDLK1hzTNedZ5EzcCTblltvhdsOuxgSJFc464UYaYcTfcwzZ3377cg9jzGa4ijNRdFRGHYQbvdssgoMuxA8_gRV3qmtsssBOQzKhRwFriUOcR2Mk2RnJEzCknPvIhDDq_aDuO0DJvUr18p4zLV3IK3gdawQtusInwbLdySAFB6VGiKoPK2xP6IJA1RYGUIWx3a7uEqX3KPpI0OjVY5lORd_rtCzv2m69xRSB_ygGXHYVt1_Mr_MsI-vVbpOzZtPob9L3BljtzaWXYBaDaFMeFGVKKhTHR_Gv9i12qfSZCi1j9pffRE8uAVRTmJVYozGlhqffUtNkUHxaDsO2=w1035-h483-no\" alt=\"複製主要連接字串\" title=\"複製主要連接字串\"></p>\n<ol start=\"2\">\n<li><p>複製官網 <a href=\"https://github.com/Azure-Samples/signalr-service-quickstart-serverless-chat\">sample</a></p>\n</li>\n<li><p>進入 <code>src/chat/csharp</code>。 將 <code>local.settings.sample.json</code> 重新命名為 <code>local.settings.json</code>。 將連接字串貼到 <code>AzureSignalRConnectionString</code> 並設定如下。</p>\n</li>\n</ol>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;IsEncrypted&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">false</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;Values&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;FUNCTIONS_WORKER_RUNTIME&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;dotnet&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;AzureSignalRConnectionString&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Your connection string here&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;Host&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;LocalHttpPort&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">7071</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;CORS&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;http://127.0.0.1:8080,http://localhost:8080,https://azure-samples.github.io&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;CORSCredentials&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：Host 的部分是在 local 測試時，為了避免 CORS 的限制所設定。請務必將 local 要測試的網域加到 CORS 的值裡面。</p>\n</blockquote>\n<ol start=\"4\">\n<li>開啟 Functions.cs。 官方解釋如下：此函數應用程式中有兩個 HTTP 觸發的函式</li>\n</ol>\n<ul>\n<li><p>GetSignalRInfo - 使用 SignalRConnectionInfo 輸入繫結來產生並傳回有效的連線資訊。</p>\n</li>\n<li><p>SendMessage - 在要求主體中接收聊天訊息，並使用 SignalR 輸出繫結來將訊息廣播給所有已連線的用戶端應用程式。</p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>啟動 local function 測試。</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">func start</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/3504Bocz7haQ3JPmdJwqa2XwHdc_EhIQpmtPqtOftqxaQUK5qLHeVAaSz9JNWpEhD7ezP81kEeq6LB6Loa2aL5OIYYWVjjA4GwibWVIl_pbw_BAN9IyZfTBBvmE9Vz-NRljNw1h-6deKZJZLgWT57tKi5I1ml_PwuOFGL0fh1PHbrPq6VC8YyVchEb4l0OdFYdpFz2h14pJMmelh0jV8M7lqQrIY4aK-lN0ttAn01wQZWh7nnXO-aVhFxYVdI6_-SKoDsu2LnFscOqb5QohvLZkFF3FzgPzRqraWwE4F-KRgXrfk1JPrh0r1qB0yAtu0VZfdbwk1PSXlhnabxHVn6_F0Z6pfrcaASFIkQHzrIonsxwPQm40_W5_BJvRxWCxVHQJed5--C4226IoeDXHRu3jevGzWButrAGJq0s9bCDzrmDg_u9MNKP4klPgZDmmLVfOrqZXAIOhrXmiEOvUSPdUXnIyOOzo0mtU7sFyqmf3UnCk7afZQ3uR8gxGhTSEBsVSl743Csc2-Xp84PJ4xWsmwxfi5vxrPRv3NVO5LQ6v5GB_vx49YCqaxJjYv5tZ9Fd_Hq_2S4MhASR5fSGzD_TzReNfs7p0KM333949JNKUb-e2-nLCkwxdHS0Yk-AZKQ70M-bZTUVu3HElg9UrkfqpdMyu4LtzbiimLqIOGyekCOD3FqShQ8r9q=w2206-h1378-no\" alt=\"local function 啟動\" title=\"local function 啟動\"></p>\n<h2 id=\"Local-Web-測試\"><a href=\"#Local-Web-測試\" class=\"headerlink\" title=\"Local Web 測試\"></a>Local Web 測試</h2><ol>\n<li>因為瀏覽器若打開 html 頁面會預設使用 https 處理。所以為了避免 CORS 限制。請安裝啟動本機的 http 伺服器。 <a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\">Live Server</a></li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/91mzygWcGmu3ljW09OLhtTAfv2Ugb589jczgciy3mOSuWbCUBjOAeN2BUA-MgYWzRbaoXFWwIqoUHqzcykEA4Aw4odpSHDSboaTWxYYpnTT8CmclxtK9t2HYZWUF4HlUKk806h8Jhq3iup2I414hAKpWCtcKgPidv64aPwucq3GYS_ZKsTXudLB7MIfK0wZ_yR47MscN_9ne6KDJvzv3EU4T-1XNMJZdu6ISqzgrUUCgIh-hnUHeSUH6Vy0M1Kc4rNDjBnp14xLA899OhmeZJiB5xQ5UKbv9Icf-dT3yW7qQRSgxWnMvMWgyle_DdmFSYwLJTqMjLaCnBF_LZiS1bJMfDcuctigjp3lqhy75LDcVssUs55sG_8qmd6zgY1A1PVeEbc3faMfQwM9ANDRZA4GAPLFTVYfsp5wVR6cCkYc6tehN7Q1D2DhTrgoJCZ55r0-9nsG-uA11nh5Lmy9Fe7TmPMceVqZXWYYqdP8Q35UHa8Kgq54dfYLjJ2PLOisuHzurd-qQes4NQfhCvsnsXW78VL-UsaW29tFMS_7k7_NH4X9DFNP7oUBsv87ISO_kpm0VWAylbsilxbLT8n5xa57q3USTJuBR5e6DYixRM0L0K_ElogvfiC2TMmYg_F4M5j_Fmg-VoPrxzIt4u6CQ9sNJ6ExcujX0ZEth-aiguKyQNlK2xBs2x9L8=w1908-h938-no\" alt=\"Live Server\" title=\"Live Server\"></p>\n<ol start=\"2\">\n<li>用 <code>Live Server</code> 開啟 sample html 範本 <code>/docs/demo/chat-v2/index.html</code>。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/AgiqJicbCJPOqOd7krSCj4eoQulKtewUr71Gs67h-Z3PWiWpQT3hUguVvqQ_Wbsg82SPMZ6Cq5BC9BLN-YkgZQTf1l7JRwd3k5l0yfztgG3Mb_rRUps_ozF1ebzft2z4rst0i4xcEdY453CtVWWHIfkpl6iGgAdDptdUUDfeWvytYg8LEZX-Z9mpkyXI79oI3sYcXVgloKf0FH3ArfwUquBNNwQEUano4e7PPOcYkvXP3d0v9eO2JvayxYfc-c3WSSHEj4rPbx6SvlbZa8O4-0Q_x-rDQuLEoa7u7kCrBnIdaw0xbRxRBhPiGGxbYUJ_s3dBstI4DKzDt-wyJyKBwwV8K5zhfy5wwx4E4grg9NVZf9dp0l2-DDoh7zjHBLCpgLU1-YdmLKp47cmwxLPA7-FnloIsldbLrBS7hv3OQAfDMEb9o8_MQb_44ELsklUVY6wSo6rY894Ew5Wmu24CBd5UbjnO_vjOvvtKNPZKrnDmvnqmofS0x1Kk-Qzy5qKgZ4M3xXt8NAwGm6qa2Xi2vTZhKwy-ApKzBz-VqaOE1VWNW4cCgUZCh00MBeYxWSCdeJOrQlHgkW_tP0zuBBZFxu88siuX6ZTxq3mpVNa7bENEjPJjCSpxMXQemG-CqhQCnGZJTBkSUArTNUSNRDaQ4jixziHJURlhdZlS04s0MGEjPgsLJGM_RKkR=w2206-h1378-no\" alt=\"開啟 sample html 範本\" title=\"開啟 sample html 範本\"></p>\n<ol start=\"3\">\n<li><p>\b自動開啟後，務必輸入 <code>apiBaseUrl</code> local 測試為 <code>http://localhost:7071</code>， Name 也是必填，請輸入聊天室的使用者名稱即可。</p>\n</li>\n<li><p>成功之後就可以輸入訊息測試。並能多開數個分頁，測試訊息的接收是否正常。</p>\n</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/PYziZWr5t2kOAe9sp4dAJ7f9RmUy-MVlPhZqyus33kJyLQIj61CocH4Rdj955TFA1SVQXZlsSqDhZtafBG5Z25vcLlq28mHCp8OnbxOqh65P81rNFxOH56SfUkJ91ha4KPI8ZHzzSk9zArbDgBNE9iM9NjTZ97lsDsbyO9kuqLDpuj2emQ1r9ak9iRLQXAotahmAelkr2dUiLCsbCphjQHX_fZA9k9KAsAmt2Rq7s5eBTqoHr_V3ZPHemP8QHJg41cHBMfLMwxaKKxqh7PtubOq33yRamyEsrFBfEi8mWAPfLTYmJbGD0izpZEuG1fhBamxoRt175Tgjv6qEIrwakqNQyBn_LnRoQCXYsntJ0XaWDka9yM1Vk9g4zeXp9Jdus09p3Gyj_ACYL98ESUffg8ifDiOPy7cAeFje9dM_FG3bQMtNBLn6Rq8BXXOcERuYUunQsOyalskX_8rnrfvDFGNm9I7Lm5y-wUMw59DmiuvvZsftTtM8lzhLKJDPziD1a_r13RhjLlBo1vfXM0Iq8dsGGe0G4KbinGq4kLIIx0rjg_BDDRQwQUThCUzpOVkYzkKPr7zyFTilAaZAsOeF_k54MrnLVq0sBPCUNN2EYUxI-mzWuhEtNIOzY4K-tmP1AtljaQeVRYnuDp-mMbmLfPW-2PiSf7iSlu6B03DhIpS3EfbFHW0xKEUH=w2532-h1246-no\" alt=\"測試訊息接收\" title=\"測試訊息接收\"></p>\n<h2 id=\"發布-Azure-Function\"><a href=\"#發布-Azure-Function\" class=\"headerlink\" title=\"發布 Azure Function\"></a>發布 Azure Function</h2><ul>\n<li>安裝 <a href=\"vscode:extension/ms-azuretools.vscode-azurefunctions\">Azure Functions</a> 擴充功能。</li>\n</ul>\n<p><img src=\"https://docs.microsoft.com/zh-tw/azure/includes/media/functions-install-vs-code-extension/vscode-install-extension.png\" alt=\"Azure Functions\" title=\"Azure Functions\"></p>\n<p>安裝完後請務必重開 VScode。接下來我們開始發布 Azure Function。</p>\n<ol>\n<li>請務必確定 VScode 只開啟 src&#x2F;chat&#x2F;csharp 中的 csharp 資料夾。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/F2CzlCEtvEpCrmw7V_8x9zWfv-OYRpzWj18QN-HL_WfF6s3XCH8u8FW8QStEVeNvXCI6PDmPNKPdLolL8Vlh5EvtSYJvuYRpCADBrALiZIy510xQPTNSl4vZAiwWfFu7IXTGn9sIINa8YVH_ya_KRfkSX3-_5EvsFNJOwyQna6Itv0IaqDKpR2-TEOADt1-FN73D1WyTINzPcd3xS2IYk5EKJrloZPO1Jbj3ZlXxpvahgExMM5uxUZOR4X49neuWpuyIjxVzjdAKvY4ADg2W5cdBvQG-b02xAer7yQ6k4gB15eI3_d98HWArt-FDrMwt5EP9foIFU-dBT5V4B-C2-woI0MejtaK07QNZ082ahzsqV7odBCUVH2u3laLEVGzFRhAddf1DhpDobOQhk4-IB3XG7kYiRiWXr4lco1JTCYTDhy-TxgyHSpUsyMxtb8f--kjdQ5y1IF_uGQDRhF7dFhEUKImOFRj1Kc7sypo4uMS07dQAvFm0Nt7G5xX-IE8QOKjmgNrvOypegpsFswjQ_RDyd0YuT21ioMs4oogu8qEdanhGBc_9-lmbxa3Pfe_P2RauuKrczEJ2zIZlahNBP_e3CsPQqy1B5FwtWWk7Aej0GkqHLwJ7HmTi4oC6cH0fXQzz2ATYuSKg0VsPPeh5PGAbLsQZDZIipl1ScojTL07PltVv9ZDBYVwn=w916-h898-no\" alt=\"csharp 資料夾\" title=\"csharp 資料夾\"></p>\n<ol start=\"2\">\n<li>從擴充功能登入 Azure 帳號。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/3ycoKSgCD3L5bhujgJ_qsAaR7iEmu-cDzoi3GceJ4nRtwqz9Sh9ZCNXXQ8nvcuWIUgm4mezj76JL3t3dy1lSdIi-74oqXPTDQYxol0-kaSbF5YTSgsdGI2wgSe_TN4g3UToGBBZdBHrGl9Xw784YIbzI2oFFgQ5FGaH2v3-1JkYpHJB1tde5NdND30pRpnwrbFzotRiyxOyt6lBDlWxuBbSpfIDISQa8Ya-sO79Z8r8cl2RMywRmX3WLVBI3OKVl9Gvi5OJuWmoRyb6jIfeBAWM8i89h5rwdEpCVkXvZO1BlxXRnIrp3Bo4u_EMLkC3VZb9G2KNlVkXgVel-6dL9IqoJ8oVPvorFZMV_sgZwW2_C_D6TH_1SsOs3OVlVT8lwoRjY4RGDJbaQzi7QtfZXfGk5--aTvDw7AV25IP0grR_qAt9X2_SmU4tjEWcjTYN6wG6a6FrQsRhbLhhGC1QOdD1NhyMC-tXZhz9XXuwKyC58CHc_ebYMGogv1PUuqhEy0wMrtKKtC0ZxhGZmH52BcjBrp0fIkp5JJIOeaiZelgAQLJ5-PpAvyY4OpDmSUnJle6hKAHFh6UmCFAu3v1bK4nS0zILSiPobyLEnwrkMbHAJzr44wOMTSVQlsa0ogK5GqER5NNRCACJ-61ztnUEEvdLGN3AhkWmQiCk2ya0YEECjl0LeXGuHk72f=w463-h431-no\" alt=\"登入 Azure 帳號\" title=\"登入 Azure 帳號\"></p>\n<ol start=\"3\">\n<li>選擇要發布的地方上傳。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/g-Un1PRQE8Npznb4Hhi9gK6Doc7h4nunpZA3zKMEypcb5j5Ks54x20lEc2UeRykR532VeixY7u11THtW9HeALTz47SUBzzvE6vYzKZxg56VCa8GugLdxRDxvkDu0x6rZvvilshkKnPhsaNCsWEM2IkWSR3Nj1ctjhoGhn0gjjCTPz63muznRew9qqt87p-4ozb8EVNuHwIkJpCvG99uRGQ5L7cdaL6rS-CMmnJUB4EjyM15NeVCKJRpeiYJHkRnvuO_OhqLRhAVYRNtiFywIfnSviMhR1TU9XHYkq-IzS2V8cJ0FRw5u1FE9sF1BE3tjFNiuGiogDdVZ5X4JaGenHgYQU6TrACnF0I6xkHdC9oKXzXvaDgrQGos5UjNytVJeikB6DhCo0afU5vz1Qjtdn8sNRWqEAJvFAfYzVjDNtLgESZQ-ADAE099ID81UPDTnzbVYjZA8zCBkBZUNwQQOplIK-Xft_6cCFQtcsZx-ReUUJnma0MuhTd866gyM4_07eadyJ3ahZAQCZG73AvpUzxRIUsRpgjJ_-lGeEumg_CMxbF0QdEbvZfxriX7azPOitHPKC8YuXhcMAAmmD_3IEpp_VAVyadbRHWBzPtRvS8pkuMN2mFDlY1Kkabuwo5gvHF1FE9PyNodyni6pMPIJ4d2OOT8UO_5e_26Pjxsp5FOnO1nKbV5UPRqy=w916-h402-no\" alt=\"上傳 Azure Functions\" title=\"上傳 Azure Functions\"></p>\n<h2 id=\"測試連線上-Azure-Functions\"><a href=\"#測試連線上-Azure-Functions\" class=\"headerlink\" title=\"測試連線上 Azure Functions\"></a>測試連線上 Azure Functions</h2><ol>\n<li>拷貝 Azure Function url，將 html 中 <code>apiBaseUrl</code> 改為線上的 url。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/H_G9dyo8H_V-04HnuKLeYz_RIzpELVQEeIU2Oss1BgV4kb0ih2rs2ihnSG5V4cBpF27Bhuax9uA3jrh5jzi4NXG3xJR8g16s8Nksmlp7Q5zbI6JBkepAhstRwqkBhFiTtt2jAwGlTnWy1TXkPOqzjD8ejAxMDZYuR1Tsrrw9lHCxdicNe233wUwB_9T9Rj7CGP3SM3VvpYsBQ2EBQhrFYyCrEd7bHkMNT7lkuT1CIGT0eniiMKF5r8lmI3JWDKejkDnDj-Xhk5FJ8GhKIpbUTqfbGoYpmRCvhXkXGlPv_225nceq7FJjLbP47e7d0Xyiw4DSfpY4-eLzFQ9Pk1A36sw6u-3kko-FOEWx9hgm2wFkgUn8W-VG60dkn-edy6xzzVBG60BpNBtFU566ckPtVMv0BVtr6rcyTSghwv2BY3iJ5NNQNYl2n9wzDxGAhvp8USAVfkkooBvzISbwUHFE5mdAujs-xyUaQ7JGGwZEP2gpj5UrhW1mj2FKEtuywYk_HW02qkLII8igNcPqbHSy2xKB-hjsaERItaiDeBZvhujagZOWVhYDqdA6MvgfHm9IC8Dx2T2TtZSb6HsTNABrbi3tcRLbiG93_egs5jCaeLvkgA0yxATUZNXirp1z83sRtolFWzJOKeurzUtbT8qSlTkelW7UmZGEblCO6egJM9Oz7e-L4QE8mosh=w988-h371-no\" alt=\"Copy Azure Function url\" title=\"Copy Azure Function url\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/6knLBtYnBsO_4Q_JDPw8eeF1ndcFzBRIKrQPXxJY1XU-e_Dtcsf950sXVO5EDI6CsFwAcMyQ_C_noV8rIb-tWuQZaSVgYTV9-PAn8BHzHShn_8oP_nF3-ix7-6bTR_Zd8ABaSYk1mo3LN6bED7uxK0U9mTY36PF53UpWKF018lOsSezcpuouyeM_qF8TPOsuZ4T4t2V7QBc6NM8z5qXVC3uDLPUrQFQwfegIKE_8k5kPgHMxNTPOoVChCf1k4_YEIxQDJUvGdWa36rI789G10b0VHjzCQxS4vRROdTKJ3p2nNfhDd1LxTvsuUGUnIRvcK7wozQ5G0j8hsxCv-xQJ29dgQkG8nhM8RrBX4oz4Na5_169tKWRUIbIwsJQ55UugbqxpM3OC36-BmvxZ9s3cz9ROJ4cYCkKVnREJyXo4gGMFck_h0XYxJe94-I0LXQQ3A3uGATHqRgl_CcE-1xISolLp0mYvgKpOC6XuDiZH1tRGt0xSInHwnZYuMc59fBawXeiivDGkIjacRbbUsHKr0RLPQtb6eAW1MUyVpOVMhjTQlcNWUJ_Vbsy6VtprtIeolwbUQQSNgqRSemMaS_zPCH1djV1gG-94h_8wOcm_phJ8AkfKmN1elF_gB8WTMPFvs9etI30qy60U4zba4HU2tlFYE0OnoyGHOlvaHzjBSj4Pm7zHJ8Ben9tG=w2192-h880-no\" alt=\"修改 apiBaseUrl\" title=\"修改 apiBaseUrl\"></p>\n<ol start=\"2\">\n<li>因為不同網域去打 API 會有 CORS 的限制，所以需要將測試的網址加到 Azure Function CORS 清單。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/QrDuwqSA60bt68i0DoP72Ci94RwvCX6hbD_cjb-yYHhAzBboVJxMZzYIZ6lMgkZAlcv3wyBfBx9sqxwsnUpKwsB9HU8cmQiHCDEnHHLaf5ZsIe5rXI6x8yPAifMnei4xjnRoR5qBkTWoE4jw7gwIE7aDoQeu3VnWTLAndv0-N5nmdY5FoBp1h2ESAM6rvoYYdwxvyWJSJq_xaq43p-koGaoOlEyxfeiUuVGNfPadwjWg9mBAEXFNp2pBa84A4OOd6dfLX1Wzdm1cWgwRtzob9-bF1GZT8f7cj2hl2WMRdhQaP-itxxoFcSVut6uscXFkN1G93Yr7ckHLeiM04jqcMWUdf5IkAtfEInI9lDinK9gljEDCRe8xHCRewByz2Fbp6eSt_RA3RV6FqBi8-VaIuBn0aqlBvPrP7HC4lfFLqy3tdeh7T_afav5Cn2rPn6YuTn4eFGduKK6vvslTShwT208Nl7VE2I9-p9IF0Hndfty1uINjTWP66RRhvpBo40qFSNR95vDw2pGXY-QCEvZinXOk5-YK5RZ6-mmXxc-B5D7mjwbR6u0fiX58NaIL2Wce1hVkraoycTOg2Q1wN25L-OwN2zLmTe9KbwQJ3lqoTsAGuq_tGz-nfHWLpf9cXaqYX3YvEqwN2BwNAs6YKyYCnsR65zG5FlzgSM5UERmDd05BXpI7mnDlhLKF=w996-h574-no\" alt=\"功能設定\" title=\"功能設定\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/Rp_UC6QBZeSOB_6j3kFgK-w9aZNOhE_oybskL2rkFZSdEFYrrfnylveIY0fX-wv3wODLHZyD8AOu2IUwYZebGn5Z7r_rx1jNg61SVDRhuXDYKoLpz7WTfCkcrlZqUx2iEyYJifDtSjDE8GtWehIa8QhwbX1Bvd5qV2vg3Ib5opXrbirNkPy_u-LACXcIrb2ppbRJgs18C9KQs-PY1EPOq3L0s82tpCNkDgGm7vXPVzxcof5zYRpF9VEWumxKadf5a080ALj2oqP6zmZsKJNQdLNzVr2xX8GU-n37TijB4G2masD6i1M6LcSxupOoO038I4nlYutuCUfAy4zp4VKB5xX6oFpX1cXePexfH0Lcdak1yjxSO9r53B_ZrbDC3GhG98V9YehQ7ONMzcy0-vEGyijB-D5mzP6FMgDt6qQHOBwgjOt2p7DOOfHv3em8Z08YVcjb0PJD1hLCI6L28CynDIhZKmtVFAYFJnJytd8938x7xdRJ1p4Y0QMZSBDlXj6nj7uEbRcC082NGv9Q4HCjARts7YVkriMl6mmpGcXg9SsBJhfZOLaPl9_eUP2hAu2dntZpSxg9gOVpoEK3yohgeaXLKAOgqH55KDiAikDyw5e_Waqbvz3LqbfT3wR-z5SkYjhaK9nz0pZ4p59cnOkWqu_81nqpMHdGn0quQokoh-nO7WNgfZyL-7RZ=w561-h592-no\" alt=\"CORS 清單\" title=\"CORS 清單\"></p>\n<ol start=\"3\">\n<li>一樣使用 <code>Live Server</code> 開啟範本，就會成功連上囉~</li>\n</ol>\n<h2 id=\"把-web-放到線上-server-測試\"><a href=\"#把-web-放到線上-server-測試\" class=\"headerlink\" title=\"把 web 放到線上 server 測試\"></a>把 web 放到線上 server 測試</h2><blockquote>\n<p>注意：剛剛上面都是使用 local web 測試。若要把 web 放在線上測試的話，需要在 Azure Function 設定連線變數。官網沒寫這段，害我鬼打牆了好一陣子呀～怎麼設定變數如下圖。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/_aALFr19DSl7A3vekHZWLNC-DKSZhWp44BLPoujaLFiCL6MDn8sxVNKZvw3IKB9-OmwOoxCHSa-ltJurLIG83osiLAaZeTjJxj8AlFnJBt3uGR2tyegFXkdoyxKpa1gDW3dZdPICSsCPiN4KMTlYAzSBdNEQoI3RnOvtkoNqruCcVph5qICYnAfBkGywtdR-dJjTyKKfuW8RZaFEPcHqqGhg35nibhg1jei8wJflLVHtN48vFNcsrAuyfGnziyEGjj-VxPocDb9ofJEHR8uRnIjL9qUOB-zGb9TA1j7Pyo1tV9UkuczX1KWXCO_jsd3rp-FDCAQ2dcHoLc6y9OagLkJSqGC7EJkaccgCuu1HRmb7_woIrvnIO8k5iYbvsf4bO7af8IBLgA-OFR_YlQpIGsXwoc1PSu-rMCGAEzSkhHsDNmTaCpyO-L-YLB7Z3vCOkavIMRpDV1ZcnLYd8jQ5USusENO0bzOXZNo4-D6sPyGhpl9g92pOoQmJ8DRgaxAqTGRxItUpkNLBDudfi-4-jGM_IDbnRTyLlWW9hLx3FLjDfA2QL0-z2Plp0NRfh9qdegDb3Ym-fmKS71Wp2g0WsVxhNhfdf9pDYcAkBDKqNF9HpIlRuATIi_HAGFGJ0W9imvB0-q2gQ1AfS2_YOIvUTK0v1Kl3-OFJuLwZqbm2kL4d-Sei-CSUkhV_=w451-h285-no\" alt=\"Configuration\" title=\"Configuration\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/jeAfFyL52YQfyyvIpqgAMgrqCLGm3yBtZDYfH_VXbFExgRV2kTjgkj5TOad0fZ4EkwPYyKOfKrgajprSXSsqmn4Tdcp_73h5YRS0VBZz55ZoHE6_ojFZ7TmeAOnd7ONKRQFxzr5jRZEZd34eWwVahN9o9bZYgcBWpebxN0fIihVQdrf3a6meMzzLPRH1HVX8hXwXr_W0j3FKVAz2Lf2-cNa1Bni_eycfszIrU7XIf8fiVuldSBReqZgd5NtbSuiRJSPFIuCjg08_X9e2aCeeKYBfjuy9tS7c2V4f0gUk3CoC9W-Beyh3ueJ17TkIm0BhzbUqWt8y374DL7FQKr55GaHzz734aRkvVOQnUNeR6efL1KVcriTVDwNCbjuqovljM7_b7VvQtY9O766_F8R1TNMRz26z6sqN9QfFbEFGEBbmECjJbecN8VKb-gTZ_4qSqnHTyiI-UCzcWPddZkoZ1mRridVcnZexsEQ6TD-k7upFmprShkVX-MuP-QIjR6MPqS0QCiwTbzSLB6rwgXbdylDIh6oUlc-5PrpYBhetsdjEIKqIDQNKOkEngxCuZn50bixXooAT78orR4EatTwcd67ERYGRqJRB4KQOxSfHaJCuq9ut53NvM9lPxsPsO0f_kuFsYL46-sSodOnd2-CE2dtRUK-nrqejDhWL_9EdLwBTrlAM9Dqph-Yt=w989-h560-no\" alt=\"Add Variable\" title=\"Add Variable\"></p>\n<blockquote>\n<p>記得如果是線上 web 都要把網域再加到 CORS 清單喔～</p>\n</blockquote>\n<p>以上是無伺服器的雲端 Azure SignalR 基本安裝與設定，如果要玩地端的話可以參考官方<a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio\">這篇</a>，那我們下次見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-csharp\">快速入門：使用 C# 搭配 Azure Functions 與 SignalR 服務來建立聊天室</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-signalr/signalr-quickstart-azure-functions-javascript\">快速入門：使用 JavaScript 搭配 Azure Functions 與 SignalR 服務來建立聊天室</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/azure/azure-functions/functions-develop-vs-code\">使用 Visual Studio Code 開發 Azure Functions</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/signalr?view=aspnetcore-2.2&tabs=visual-studio\">教學課程：開始使用 ASP.NET Core SignalR</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/aspnet/core/signalr/hubs?view=aspnetcore-2.2#send-messages-to-clients\">將訊息傳送至用戶端</a></li>\n<li><a href=\"https://youtu.be/MK8n8pg9bLE\">SignalR Tutorial 16 - Coding Our JavaScript (Client Side) - Part 1</a></li>\n</ul>"},{"title":"Upgrade .NET 5 with Vue & Webpack without HMR","thumbnailImage":"https://dotnet.microsoft.com/static/images/redesign/social/square.png","thumbnailImagePosition":"left","coverImage":"http://imgconvert.csdnimg.cn/aHR0cHM6Ly9oYWJyYXN0b3JhZ2Uub3JnL3dlYnQvZnUvdmYvbXAvZnV2Zm1wa2dza2gxbHJmcGtqcHVxd2tvc2I0LnBuZw?x-oss-process=image/format,png","coverMeta":"out","date":"2021-06-06T16:00:00.000Z","updated":"2021-06-06T16:00:00.000Z","_content":"\n.NET 5 之後會將 dotnet 各 platform 整合起來，且 dotnet 3.1 cshtml HMR 的 extension 功能被官方強迫棄用，目前我看各方文章感覺還沒有一個很好的升級方式。要馬就是改用網友寫的 [Vue-Cli](https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/)，把 config 轉到 cli，要馬就是 Nuget 套件改用[網友寫的](https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371)。我自己參考國外文章，是有人用 Vite 做到用 index.cshtml 的 HMR: [這篇](https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/)。但是因為公司內部還是有 IE 瀏覽器且 Vite 相關套件還沒有到完整，沒辦法放棄使用 webpack，只好參考這篇嘗試用 webpack HMR，很不幸的，若照文章模仿雖然 HMR 字眼有出現，但一直沒有正常作用，胡亂嘗試了一番，勉強用奇怪的方式有做到 Auto Reload，但沒有 HMR 效果就不太滿意。目前先將這些研究文章和亂試的方式記錄下來。\n\n<!--more-->\n\n## .csproj\n\n```xhtml\n<Project Sdk=\"Microsoft.NET.Sdk.Web\">\n  <PropertyGroup>\n    <TargetFramework>net5.0</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Microsoft.AspNetCore.SpaServices.Extensions\" Version=\"5.0.6\" />\n  </ItemGroup>\n</Project>\n```\n\n## Program.cs\n\n```csharp\n...\nusing Microsoft.Extensions.Hosting;\n\nnamespace dotnet_core_vue_cli\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            CreateHostBuilder(args).Build().Run();\n        }\n\n        public static IHostBuilder CreateHostBuilder(string[] args) =>\n            Host.CreateDefaultBuilder(args)\n                .ConfigureWebHostDefaults(webBuilder =>\n                {\n                    webBuilder.UseStartup<Startup>();\n                });\n    }\n}\n```\n\n## Startup.cs\n\n```csharp\n...\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.AspNetCore.SpaServices.ReactDevelopmentServer;\n\nnamespace dotnet_core_vue_cli\n{\n    public class Startup\n    {\n        ...\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllersWithViews();\n        }\n        ...\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n\n            app.UseRouting();\n\n            app.UseEndpoints(endpoints =>\n            {\n                endpoints.MapControllerRoute(\n                    name: \"default\",\n                    pattern: \"{controller=Home}/{action=Index}/{id?}\");\n                endpoints.MapFallbackToController(\"Index\", \"Home\");\n            });\n\n            if (env.IsDevelopment())\n            {\n                app.UseSpa(spa =>\n                {\n                    // SPA的檔案放在最外層\n                    spa.Options.SourcePath = \"./\";\n                    // webpack-dev-server 起在 port 3000\n                    spa.Options.DevServerPort = 3000;\n                    \n                    // 呼叫 npm run start\n                    spa.UseReactDevelopmentServer(npmScript: \"start\");\n                });\n            }\n        }\n    }\n}\n```\n\n## webpack.xxx.js\n\nwebpack.dev.js 把 entry 部分 加入 'webpack-dev-server/client?http://localhost:3000/' 進去 js，devServer 設定如下。其中的原因可參考[這位網友解釋](https://github.com/CommanderXL/biu-blog/issues/7)。\n\n```js\n...\nmodule.exports = merge(base, {\n    entry: {\n        main: [\n            'webpack-dev-server/client?http://localhost:3000/',\n            './src/main.js'\n        ]\n    },\n    mode: 'development',\n    devServer: {\n        historyApiFallback: true,\n        noInfo: false,\n        // hot: true,\n        port: 3000,\n        inline: false,\n        liveReload: true,\n    },\n    devtool: 'eval-source-map',\n})\n```\n\n## package.json\n\nnpm run hmr 會呼叫 dotnet run 把專案跑起來。\n執行 startup.cs 會自動呼叫 npm run start 顯示 \"Starting the development server\"。之後就會將 port 3000(webpack-dev-server) 跟 8080(dotnet) 做對應。\n\n```json\n{\n    ...\n    \"scripts\": {\n        \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n        \"start\": \"echo Starting the development server && webpack serve --config webpack.config.js\",\n        \"dev\": \"webpack serve --config webpack.config.js\",\n        \"build\": \"webpack --config webpack.pro.js\"\n    },\n    ...\n}\n```\n\n這樣起來的專案就會依據 vue code 修改做 Auto Reload 的動作，程式放在 [Github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v5.0.beta)。\n\n## 參考資料\n\n* [webpack-dev-server使用方法，看完还不会的来找我~](https://github.com/CommanderXL/biu-blog/issues/7)\n* [ASP.NET Core Vue Starter](https://github.com/SoftwareAteliers/asp-net-core-vue-starter)\n* [The deprecated ASP.NET Core SpaServices](https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/)\n* [Integrating Vite with ASP.NET Core – a winning combination?](https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/)\n* [BrunoLau.SpaServices NuGet package](https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371)\n* [Webpack Development Server Support for ASP.NET Core 3.1 and ASP.NET 5.0](https://github.com/RimuTec/AspNetCore.SpaServices.Extensions)","source":"_posts/Dotnet/Upgrade-NET-5-with-Vue-Webpack-without-HMR.md","raw":"---\ntitle: Upgrade .NET 5 with Vue & Webpack without HMR\ncategories:\n  - .NET\nthumbnailImage: https://dotnet.microsoft.com/static/images/redesign/social/square.png\nthumbnailImagePosition: left\ncoverImage: http://imgconvert.csdnimg.cn/aHR0cHM6Ly9oYWJyYXN0b3JhZ2Uub3JnL3dlYnQvZnUvdmYvbXAvZnV2Zm1wa2dza2gxbHJmcGtqcHVxd2tvc2I0LnBuZw?x-oss-process=image/format,png\ncoverMeta: out\ntags: [.NET, dotnet, Vue, Webpack, SPA, MVC, VScode]\ndate: 2021/06/07\nupdated: 2021/06/07\n---\n\n.NET 5 之後會將 dotnet 各 platform 整合起來，且 dotnet 3.1 cshtml HMR 的 extension 功能被官方強迫棄用，目前我看各方文章感覺還沒有一個很好的升級方式。要馬就是改用網友寫的 [Vue-Cli](https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/)，把 config 轉到 cli，要馬就是 Nuget 套件改用[網友寫的](https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371)。我自己參考國外文章，是有人用 Vite 做到用 index.cshtml 的 HMR: [這篇](https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/)。但是因為公司內部還是有 IE 瀏覽器且 Vite 相關套件還沒有到完整，沒辦法放棄使用 webpack，只好參考這篇嘗試用 webpack HMR，很不幸的，若照文章模仿雖然 HMR 字眼有出現，但一直沒有正常作用，胡亂嘗試了一番，勉強用奇怪的方式有做到 Auto Reload，但沒有 HMR 效果就不太滿意。目前先將這些研究文章和亂試的方式記錄下來。\n\n<!--more-->\n\n## .csproj\n\n```xhtml\n<Project Sdk=\"Microsoft.NET.Sdk.Web\">\n  <PropertyGroup>\n    <TargetFramework>net5.0</TargetFramework>\n  </PropertyGroup>\n  <ItemGroup>\n    <PackageReference Include=\"Microsoft.AspNetCore.SpaServices.Extensions\" Version=\"5.0.6\" />\n  </ItemGroup>\n</Project>\n```\n\n## Program.cs\n\n```csharp\n...\nusing Microsoft.Extensions.Hosting;\n\nnamespace dotnet_core_vue_cli\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            CreateHostBuilder(args).Build().Run();\n        }\n\n        public static IHostBuilder CreateHostBuilder(string[] args) =>\n            Host.CreateDefaultBuilder(args)\n                .ConfigureWebHostDefaults(webBuilder =>\n                {\n                    webBuilder.UseStartup<Startup>();\n                });\n    }\n}\n```\n\n## Startup.cs\n\n```csharp\n...\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.AspNetCore.SpaServices.ReactDevelopmentServer;\n\nnamespace dotnet_core_vue_cli\n{\n    public class Startup\n    {\n        ...\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllersWithViews();\n        }\n        ...\n\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n\n            app.UseRouting();\n\n            app.UseEndpoints(endpoints =>\n            {\n                endpoints.MapControllerRoute(\n                    name: \"default\",\n                    pattern: \"{controller=Home}/{action=Index}/{id?}\");\n                endpoints.MapFallbackToController(\"Index\", \"Home\");\n            });\n\n            if (env.IsDevelopment())\n            {\n                app.UseSpa(spa =>\n                {\n                    // SPA的檔案放在最外層\n                    spa.Options.SourcePath = \"./\";\n                    // webpack-dev-server 起在 port 3000\n                    spa.Options.DevServerPort = 3000;\n                    \n                    // 呼叫 npm run start\n                    spa.UseReactDevelopmentServer(npmScript: \"start\");\n                });\n            }\n        }\n    }\n}\n```\n\n## webpack.xxx.js\n\nwebpack.dev.js 把 entry 部分 加入 'webpack-dev-server/client?http://localhost:3000/' 進去 js，devServer 設定如下。其中的原因可參考[這位網友解釋](https://github.com/CommanderXL/biu-blog/issues/7)。\n\n```js\n...\nmodule.exports = merge(base, {\n    entry: {\n        main: [\n            'webpack-dev-server/client?http://localhost:3000/',\n            './src/main.js'\n        ]\n    },\n    mode: 'development',\n    devServer: {\n        historyApiFallback: true,\n        noInfo: false,\n        // hot: true,\n        port: 3000,\n        inline: false,\n        liveReload: true,\n    },\n    devtool: 'eval-source-map',\n})\n```\n\n## package.json\n\nnpm run hmr 會呼叫 dotnet run 把專案跑起來。\n執行 startup.cs 會自動呼叫 npm run start 顯示 \"Starting the development server\"。之後就會將 port 3000(webpack-dev-server) 跟 8080(dotnet) 做對應。\n\n```json\n{\n    ...\n    \"scripts\": {\n        \"hmr\": \"cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run\",\n        \"start\": \"echo Starting the development server && webpack serve --config webpack.config.js\",\n        \"dev\": \"webpack serve --config webpack.config.js\",\n        \"build\": \"webpack --config webpack.pro.js\"\n    },\n    ...\n}\n```\n\n這樣起來的專案就會依據 vue code 修改做 Auto Reload 的動作，程式放在 [Github](https://github.com/Annilla/dotnet-core-vue-cli/tree/v5.0.beta)。\n\n## 參考資料\n\n* [webpack-dev-server使用方法，看完还不会的来找我~](https://github.com/CommanderXL/biu-blog/issues/7)\n* [ASP.NET Core Vue Starter](https://github.com/SoftwareAteliers/asp-net-core-vue-starter)\n* [The deprecated ASP.NET Core SpaServices](https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/)\n* [Integrating Vite with ASP.NET Core – a winning combination?](https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/)\n* [BrunoLau.SpaServices NuGet package](https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371)\n* [Webpack Development Server Support for ASP.NET Core 3.1 and ASP.NET 5.0](https://github.com/RimuTec/AspNetCore.SpaServices.Extensions)","slug":"Dotnet/Upgrade-NET-5-with-Vue-Webpack-without-HMR","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qm001wr3y72t9b3v0w","content":"<p>.NET 5 之後會將 dotnet 各 platform 整合起來，且 dotnet 3.1 cshtml HMR 的 extension 功能被官方強迫棄用，目前我看各方文章感覺還沒有一個很好的升級方式。要馬就是改用網友寫的 <a href=\"https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/\">Vue-Cli</a>，把 config 轉到 cli，要馬就是 Nuget 套件改用<a href=\"https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371\">網友寫的</a>。我自己參考國外文章，是有人用 Vite 做到用 index.cshtml 的 HMR: <a href=\"https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/\">這篇</a>。但是因為公司內部還是有 IE 瀏覽器且 Vite 相關套件還沒有到完整，沒辦法放棄使用 webpack，只好參考這篇嘗試用 webpack HMR，很不幸的，若照文章模仿雖然 HMR 字眼有出現，但一直沒有正常作用，胡亂嘗試了一番，勉強用奇怪的方式有做到 Auto Reload，但沒有 HMR 效果就不太滿意。目前先將這些研究文章和亂試的方式記錄下來。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"csproj\"><a href=\"#csproj\" class=\"headerlink\" title=\".csproj\"></a>.csproj</h2><figure class=\"highlight xhtml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">Sdk</span>=<span class=\"string\">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>net5.0<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PackageReference</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;Microsoft.AspNetCore.SpaServices.Extensions&quot;</span> <span class=\"attr\">Version</span>=<span class=\"string\">&quot;5.0.6&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Program-cs\"><a href=\"#Program-cs\" class=\"headerlink\" title=\"Program.cs\"></a>Program.cs</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Hosting;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            CreateHostBuilder(args).Build().Run();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IHostBuilder <span class=\"title\">CreateHostBuilder</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span> =&gt;</span><br><span class=\"line\">            Host.CreateDefaultBuilder(args)</span><br><span class=\"line\">                .ConfigureWebHostDefaults(webBuilder =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    webBuilder.UseStartup&lt;Startup&gt;();</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Startup-cs\"><a href=\"#Startup-cs\" class=\"headerlink\" title=\"Startup.cs\"></a>Startup.cs</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Hosting;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.ReactDevelopmentServer;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Startup</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            services.AddControllersWithViews();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IWebHostEnvironment env</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseDeveloperExceptionPage();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseExceptionHandler(<span class=\"string\">&quot;/Home/Error&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseRouting();</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseEndpoints(endpoints =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                endpoints.MapControllerRoute(</span><br><span class=\"line\">                    name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">                    pattern: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\">                endpoints.MapFallbackToController(<span class=\"string\">&quot;Index&quot;</span>, <span class=\"string\">&quot;Home&quot;</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseSpa(spa =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// SPA的檔案放在最外層</span></span><br><span class=\"line\">                    spa.Options.SourcePath = <span class=\"string\">&quot;./&quot;</span>;</span><br><span class=\"line\">                    <span class=\"comment\">// webpack-dev-server 起在 port 3000</span></span><br><span class=\"line\">                    spa.Options.DevServerPort = <span class=\"number\">3000</span>;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                    <span class=\"comment\">// 呼叫 npm run start</span></span><br><span class=\"line\">                    spa.UseReactDevelopmentServer(npmScript: <span class=\"string\">&quot;start&quot;</span>);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"webpack-xxx-js\"><a href=\"#webpack-xxx-js\" class=\"headerlink\" title=\"webpack.xxx.js\"></a>webpack.xxx.js</h2><p>webpack.dev.js 把 entry 部分 加入 ‘webpack-dev-server&#x2F;client?<a href=\"http://localhost:3000/&#39;\">http://localhost:3000/&#39;</a> 進去 js，devServer 設定如下。其中的原因可參考<a href=\"https://github.com/CommanderXL/biu-blog/issues/7\">這位網友解釋</a>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">    <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">main</span>: [</span><br><span class=\"line\">            <span class=\"string\">&#x27;webpack-dev-server/client?http://localhost:3000/&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;./src/main.js&#x27;</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">noInfo</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"comment\">// hot: true,</span></span><br><span class=\"line\">        <span class=\"attr\">port</span>: <span class=\"number\">3000</span>,</span><br><span class=\"line\">        <span class=\"attr\">inline</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">liveReload</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;eval-source-map&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h2><p>npm run hmr 會呼叫 dotnet run 把專案跑起來。<br>執行 startup.cs 會自動呼叫 npm run start 顯示 “Starting the development server”。之後就會將 port 3000(webpack-dev-server) 跟 8080(dotnet) 做對應。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;echo Starting the development server &amp;&amp; webpack serve --config webpack.config.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack serve --config webpack.config.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack --config webpack.pro.js&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>這樣起來的專案就會依據 vue code 修改做 Auto Reload 的動作，程式放在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v5.0.beta\">Github</a>。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/CommanderXL/biu-blog/issues/7\">webpack-dev-server使用方法，看完还不会的来找我~</a></li>\n<li><a href=\"https://github.com/SoftwareAteliers/asp-net-core-vue-starter\">ASP.NET Core Vue Starter</a></li>\n<li><a href=\"https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/\">The deprecated ASP.NET Core SpaServices</a></li>\n<li><a href=\"https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/\">Integrating Vite with ASP.NET Core – a winning combination?</a></li>\n<li><a href=\"https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371\">BrunoLau.SpaServices NuGet package</a></li>\n<li><a href=\"https://github.com/RimuTec/AspNetCore.SpaServices.Extensions\">Webpack Development Server Support for ASP.NET Core 3.1 and ASP.NET 5.0</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://dotnet.microsoft.com/static/images/redesign/social/square.png","excerpt":"<p>.NET 5 之後會將 dotnet 各 platform 整合起來，且 dotnet 3.1 cshtml HMR 的 extension 功能被官方強迫棄用，目前我看各方文章感覺還沒有一個很好的升級方式。要馬就是改用網友寫的 <a href=\"https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/\">Vue-Cli</a>，把 config 轉到 cli，要馬就是 Nuget 套件改用<a href=\"https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371\">網友寫的</a>。我自己參考國外文章，是有人用 Vite 做到用 index.cshtml 的 HMR: <a href=\"https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/\">這篇</a>。但是因為公司內部還是有 IE 瀏覽器且 Vite 相關套件還沒有到完整，沒辦法放棄使用 webpack，只好參考這篇嘗試用 webpack HMR，很不幸的，若照文章模仿雖然 HMR 字眼有出現，但一直沒有正常作用，胡亂嘗試了一番，勉強用奇怪的方式有做到 Auto Reload，但沒有 HMR 效果就不太滿意。目前先將這些研究文章和亂試的方式記錄下來。</p>","more":"<h2 id=\"csproj\"><a href=\"#csproj\" class=\"headerlink\" title=\".csproj\"></a>.csproj</h2><figure class=\"highlight xhtml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">Sdk</span>=<span class=\"string\">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>net5.0<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PackageReference</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;Microsoft.AspNetCore.SpaServices.Extensions&quot;</span> <span class=\"attr\">Version</span>=<span class=\"string\">&quot;5.0.6&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Program-cs\"><a href=\"#Program-cs\" class=\"headerlink\" title=\"Program.cs\"></a>Program.cs</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Hosting;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Program</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            CreateHostBuilder(args).Build().Run();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IHostBuilder <span class=\"title\">CreateHostBuilder</span>(<span class=\"params\"><span class=\"built_in\">string</span>[] args</span>)</span> =&gt;</span><br><span class=\"line\">            Host.CreateDefaultBuilder(args)</span><br><span class=\"line\">                .ConfigureWebHostDefaults(webBuilder =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    webBuilder.UseStartup&lt;Startup&gt;();</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Startup-cs\"><a href=\"#Startup-cs\" class=\"headerlink\" title=\"Startup.cs\"></a>Startup.cs</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.Extensions.Hosting;</span><br><span class=\"line\"><span class=\"keyword\">using</span> Microsoft.AspNetCore.SpaServices.ReactDevelopmentServer;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">dotnet_core_vue_cli</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Startup</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            services.AddControllersWithViews();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        ...</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IWebHostEnvironment env</span>)</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseDeveloperExceptionPage();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseExceptionHandler(<span class=\"string\">&quot;/Home/Error&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseRouting();</span><br><span class=\"line\"></span><br><span class=\"line\">            app.UseEndpoints(endpoints =&gt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                endpoints.MapControllerRoute(</span><br><span class=\"line\">                    name: <span class=\"string\">&quot;default&quot;</span>,</span><br><span class=\"line\">                    pattern: <span class=\"string\">&quot;&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;</span>);</span><br><span class=\"line\">                endpoints.MapFallbackToController(<span class=\"string\">&quot;Index&quot;</span>, <span class=\"string\">&quot;Home&quot;</span>);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                app.UseSpa(spa =&gt;</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// SPA的檔案放在最外層</span></span><br><span class=\"line\">                    spa.Options.SourcePath = <span class=\"string\">&quot;./&quot;</span>;</span><br><span class=\"line\">                    <span class=\"comment\">// webpack-dev-server 起在 port 3000</span></span><br><span class=\"line\">                    spa.Options.DevServerPort = <span class=\"number\">3000</span>;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                    <span class=\"comment\">// 呼叫 npm run start</span></span><br><span class=\"line\">                    spa.UseReactDevelopmentServer(npmScript: <span class=\"string\">&quot;start&quot;</span>);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"webpack-xxx-js\"><a href=\"#webpack-xxx-js\" class=\"headerlink\" title=\"webpack.xxx.js\"></a>webpack.xxx.js</h2><p>webpack.dev.js 把 entry 部分 加入 ‘webpack-dev-server&#x2F;client?<a href=\"http://localhost:3000/&#39;\">http://localhost:3000/&#39;</a> 進去 js，devServer 設定如下。其中的原因可參考<a href=\"https://github.com/CommanderXL/biu-blog/issues/7\">這位網友解釋</a>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(base, &#123;</span><br><span class=\"line\">    <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">main</span>: [</span><br><span class=\"line\">            <span class=\"string\">&#x27;webpack-dev-server/client?http://localhost:3000/&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;./src/main.js&#x27;</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">noInfo</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"comment\">// hot: true,</span></span><br><span class=\"line\">        <span class=\"attr\">port</span>: <span class=\"number\">3000</span>,</span><br><span class=\"line\">        <span class=\"attr\">inline</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">liveReload</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">devtool</span>: <span class=\"string\">&#x27;eval-source-map&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h2><p>npm run hmr 會呼叫 dotnet run 把專案跑起來。<br>執行 startup.cs 會自動呼叫 npm run start 顯示 “Starting the development server”。之後就會將 port 3000(webpack-dev-server) 跟 8080(dotnet) 做對應。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;hmr&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cross-env ASPNETCORE_ENVIRONMENT=Development NODE_ENV=development dotnet run&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;start&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;echo Starting the development server &amp;&amp; webpack serve --config webpack.config.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;dev&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack serve --config webpack.config.js&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;webpack --config webpack.pro.js&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>這樣起來的專案就會依據 vue code 修改做 Auto Reload 的動作，程式放在 <a href=\"https://github.com/Annilla/dotnet-core-vue-cli/tree/v5.0.beta\">Github</a>。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/CommanderXL/biu-blog/issues/7\">webpack-dev-server使用方法，看完还不会的来找我~</a></li>\n<li><a href=\"https://github.com/SoftwareAteliers/asp-net-core-vue-starter\">ASP.NET Core Vue Starter</a></li>\n<li><a href=\"https://codetherapist.com/blog/aspnetcore-deprecated-spa-services/\">The deprecated ASP.NET Core SpaServices</a></li>\n<li><a href=\"https://blogs.taiga.nl/martijn/2021/02/24/integrating-vite-with-asp-net-core-a-winning-combination/\">Integrating Vite with ASP.NET Core – a winning combination?</a></li>\n<li><a href=\"https://github.com/dotnet/aspnetcore/issues/12890#issuecomment-784537371\">BrunoLau.SpaServices NuGet package</a></li>\n<li><a href=\"https://github.com/RimuTec/AspNetCore.SpaServices.Extensions\">Webpack Development Server Support for ASP.NET Core 3.1 and ASP.NET 5.0</a></li>\n</ul>"},{"title":"Scrum - 2020 Guide Study","thumbnailImage":"https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/986819/scrum_d2100y.png","thumbnailImagePosition":"left","coverImage":"https://www.obscuregames.com/wp-content/uploads/2020/06/11-steps-of-scrum-1.jpg","coverMeta":"out","date":"2020-12-05T16:00:00.000Z","updated":"2020-12-05T16:00:00.000Z","_content":"\n公司突然說要 Scrum 考試，只好卯起來讀書了。找了[線上考題](https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef)練習，參考 [Scrum Guide](https://www.scrumguides.org/scrum-guide.html) 把筆記整理在這篇。\n\n<!--more-->\n\n# Scrum 定義\n\n> A framework within which complex products in complex environments are developed.\n\n<del>Scrum is a framework that eliminates complexity.</del>\n> Scrum offers a framework for **dealing with complexity NOT eliminates (消除) complexity.**\n\n<del>Scrum is like traditional processes but with self-organization to replace Project Managers.</del>\n> **Project Managers are NOT simply replaced by self-organizing teams.** Scrum is a framework for optimizing decision making based on the knowledge and experience of the entire team.\n\n<del>Scrum is a methodology where you can pick and choose which parts of Scrum you think will work for your environment.</del>\n> **Scrum is meant to be implemented as prescribed (規定的) in the Scrum Guide.** For example, the five events in the Scrum Guide are mandatory (強制性的), each event has a specific purpose.\n\n> The purpose of a Sprint is to produce a done increment of working product.\n\n# Scrum 理論\n\nUpon what type of process control is Scrum based?\n> Empirical (經驗主義)\n\nThe three pillars of empirical process control are:\n> * Inspection (檢視性)\n> * Transparency (透明性)\n> * Adaptation (調適性)\n\n# Scrum Team\n\nWho is on the Scrum Team?\n> * The Scrum Master\n> * The Product Owner\n> * The Development Team\n\nScrum does not have a role called \"project manager.\"\n> True\n\nWhat is the role of Management in Scrum?\n> Support the Product Owner with insights (見解) and information into high value product and  (系統功能). Support the Scrum Master to cause organizational change that fosters (扶植) empiricism (經驗主義), self-organization, bottom-up intelligence (自下而上的情報), and intelligent release of software (智能發布軟件).\n\nDuring a Sprint, a Development Team determines that it will not be able to finish the complete forecast. Who should be present to review and adjust the Sprint work selected?\n> The Product Owner and the Development Team.\n\n## Development Team\n\nThe Development Team should have all the skills needed to:\n> Turn the Product Backlog items it selects into an increment of potentially releasable product functionality.\n\nWho is responsible for managing the progress of work during a Sprint?\n> The Development Team\n\nThe CEO asks the Development Team to add a \"very important\" item to a Sprint that is in progress. What should the Development Team do?\n> Inform the Product Owner so he/she can work with the CEO.\n\nDevelopment Team membership should change:\n> As needed, while taking into account a short term reduction in productivity (減少產能).\n\nWhat is the recommended size for a Development Team (within the Scrum Team)?\n> 3 to 9\n\nHow much work must a Development Team do to a Product Backlog item it selects for a Sprint?\n> As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of \"Done\".\n\n## Product Owner\n\nWhich statement best describes a Product Owner's responsibility?\n> Optimizing (優化) the value of the work the Development Team does.\n\nWho should know the most about the progress toward a business objective or a release, and be able to explain the alternatives most clearly?\n> The Product Owner\n\nWho has the final say on the order of the Product Backlog?\n> The Product Owner\n\n## Scrum Master\n\nWhich of the following services are appropriate for a Scrum Master in regard to the Daily Scrum?\n> Teach the Development Team to keep the Daily Scrum within the 15 minute time-box.\n\nWhat is the main reason for the Scrum Master to be at the Daily Scrum?\n> He or she does not have to be there; he or she only has to ensure the Development Team has a Daily Scrum.\n\nWhat are the two primary ways a Scrum Master keeps a Development Team working at its highest level of productivity?\n> * By facilitating (促進) Development Team decisions\n> * By removing impediments (障礙) that hinder (阻礙) the Development Team\n\n# Scrum 事件\n\n## The Sprint\n\nWhen might a Sprint be abnormally cancelled?\n> When the Sprint Goal becomes obsolete (過時的/不合時宜).\n\nWhen is a Sprint over?\n> When the time-box expires.\n\nThe length of a Sprint should be:\n> * Short enough to keep the business risk acceptable to the Product Owner.\n> * Short enough to be able to synchronize (同步化) the development work with other business events.\n> * No more than one month.\n\nThe purpose of a Sprint is to produce (生產) a done increment (增量) of working product.\n> True\n\nIt is mandatory (強制性的) that the product increment be <del>released</del> to production at the end of each Sprint.\n> False. The product increment should be usable and releasable at the end of every Sprint, but **it does NOT have to be released**.\n\n## Sprint Planning\n\nThe time-box for the Sprint Planning meeting is?\n> 8 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n## Daily Scrum\n\nWho is required to attend the Daily Scrum?\n> The Development Team.\n\nWhy is the Daily Scrum held at the same time and same place?\n> The consistency (一致性) reduces complexity (複雜).\n\nThe time-box for a Daily Scrum is?\n> 15 minutes.\n\n## Sprint Review\n\n> It is when the Scrum Team and stakeholders (利害關係人) inspect the outcome of a Sprint (檢視此 sprint 成果) and figure out what to do next.\n\nThe maximum length of the Sprint Review (its time-box) is:\n> 4 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n## Sprint Retrospective\n\nThe Scrum Team should choose at least one high priority process improvement, identified during the Sprint Retrospective, and place it in the <del>Product Backlog</del>.\n> False, to ensure continuous improvement, the Sprint Backlog rather than the Product Backlog includes at least one high priority process improvement identified in the previous Sprint Retrospective meeting.\n\nThe maximum length of the Sprint Retrospective (its time-box) is:\n> 3 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n# Scrum Artifacts\n\n## Product Backlog\n\nThe Product Backlog is ordered by:\n> Whatever is deemed most appropriate by the Product Owner.\n\nHow much work must a Development Team do to a Product Backlog item it selects for a Sprint?\n> As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of \"Done\".\n\n## Sprint Backlog\n\nWhen does a Development Team member become the sole owner of a Sprint Backlog item?\n> Never. All Sprint Backlog Items are \"owned\" by the entire Development Team, even though each one may be implemented by an individual development team member.\n\n<del>The Sprint Backlog is fully formulated in the Sprint Planning meeting and does not change during the Sprint.</del>\n> The Sprint Backlog makes visible all of the work that the Development Team identifies as necessary to meet the Sprint Goal. The Development Team modifies the Sprint Backlog throughout the Sprint, and the Sprint Backlog emerges during the Sprint.\n\n## 承諾：完成之定義\n\nWhen many Development Teams are working on a single product, what best describes the definition of \"Done?\"\n> All Development Teams must have a definition of \"Done\" that makes their combined work potentially releasable.\n\nWho creates the definition of \"Done\"?\n> The development organization (or Development Team if none is available from the development organization)\n\n# Others\n\nAn organization has decided to adopt Scrum, but management wants to change the terminology (術語) to fit with terminology already used. What will likely happen if this is done?\n> * Without a new vocabulary (詞彙) as a reminder of the change, very little change may actually happen.\n> * The organization may not understand what has changed with Scrum and the benefits of Scrum may be lost.\n> * Management may feel less anxious (焦慮).\n\nWhat does it mean to say that an event has a time-box?\n> The event can take no more than a maximum amount of time.\n\n# 參考資料\n\n* [Scrum Guide](https://www.scrumguides.org/scrum-guide.html)\n* [Scrum online Test](https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef)","source":"_posts/Others/Scrum-2020-Guide-Study.md","raw":"---\ntitle: Scrum - 2020 Guide Study\ncategories:\n  - Scrum\nthumbnailImage: https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/986819/scrum_d2100y.png\nthumbnailImagePosition: left\ncoverImage: https://www.obscuregames.com/wp-content/uploads/2020/06/11-steps-of-scrum-1.jpg\ncoverMeta: out\ntags: [Scrum]\ndate: 2020/12/06\nupdated: 2020/12/06\n---\n\n公司突然說要 Scrum 考試，只好卯起來讀書了。找了[線上考題](https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef)練習，參考 [Scrum Guide](https://www.scrumguides.org/scrum-guide.html) 把筆記整理在這篇。\n\n<!--more-->\n\n# Scrum 定義\n\n> A framework within which complex products in complex environments are developed.\n\n<del>Scrum is a framework that eliminates complexity.</del>\n> Scrum offers a framework for **dealing with complexity NOT eliminates (消除) complexity.**\n\n<del>Scrum is like traditional processes but with self-organization to replace Project Managers.</del>\n> **Project Managers are NOT simply replaced by self-organizing teams.** Scrum is a framework for optimizing decision making based on the knowledge and experience of the entire team.\n\n<del>Scrum is a methodology where you can pick and choose which parts of Scrum you think will work for your environment.</del>\n> **Scrum is meant to be implemented as prescribed (規定的) in the Scrum Guide.** For example, the five events in the Scrum Guide are mandatory (強制性的), each event has a specific purpose.\n\n> The purpose of a Sprint is to produce a done increment of working product.\n\n# Scrum 理論\n\nUpon what type of process control is Scrum based?\n> Empirical (經驗主義)\n\nThe three pillars of empirical process control are:\n> * Inspection (檢視性)\n> * Transparency (透明性)\n> * Adaptation (調適性)\n\n# Scrum Team\n\nWho is on the Scrum Team?\n> * The Scrum Master\n> * The Product Owner\n> * The Development Team\n\nScrum does not have a role called \"project manager.\"\n> True\n\nWhat is the role of Management in Scrum?\n> Support the Product Owner with insights (見解) and information into high value product and  (系統功能). Support the Scrum Master to cause organizational change that fosters (扶植) empiricism (經驗主義), self-organization, bottom-up intelligence (自下而上的情報), and intelligent release of software (智能發布軟件).\n\nDuring a Sprint, a Development Team determines that it will not be able to finish the complete forecast. Who should be present to review and adjust the Sprint work selected?\n> The Product Owner and the Development Team.\n\n## Development Team\n\nThe Development Team should have all the skills needed to:\n> Turn the Product Backlog items it selects into an increment of potentially releasable product functionality.\n\nWho is responsible for managing the progress of work during a Sprint?\n> The Development Team\n\nThe CEO asks the Development Team to add a \"very important\" item to a Sprint that is in progress. What should the Development Team do?\n> Inform the Product Owner so he/she can work with the CEO.\n\nDevelopment Team membership should change:\n> As needed, while taking into account a short term reduction in productivity (減少產能).\n\nWhat is the recommended size for a Development Team (within the Scrum Team)?\n> 3 to 9\n\nHow much work must a Development Team do to a Product Backlog item it selects for a Sprint?\n> As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of \"Done\".\n\n## Product Owner\n\nWhich statement best describes a Product Owner's responsibility?\n> Optimizing (優化) the value of the work the Development Team does.\n\nWho should know the most about the progress toward a business objective or a release, and be able to explain the alternatives most clearly?\n> The Product Owner\n\nWho has the final say on the order of the Product Backlog?\n> The Product Owner\n\n## Scrum Master\n\nWhich of the following services are appropriate for a Scrum Master in regard to the Daily Scrum?\n> Teach the Development Team to keep the Daily Scrum within the 15 minute time-box.\n\nWhat is the main reason for the Scrum Master to be at the Daily Scrum?\n> He or she does not have to be there; he or she only has to ensure the Development Team has a Daily Scrum.\n\nWhat are the two primary ways a Scrum Master keeps a Development Team working at its highest level of productivity?\n> * By facilitating (促進) Development Team decisions\n> * By removing impediments (障礙) that hinder (阻礙) the Development Team\n\n# Scrum 事件\n\n## The Sprint\n\nWhen might a Sprint be abnormally cancelled?\n> When the Sprint Goal becomes obsolete (過時的/不合時宜).\n\nWhen is a Sprint over?\n> When the time-box expires.\n\nThe length of a Sprint should be:\n> * Short enough to keep the business risk acceptable to the Product Owner.\n> * Short enough to be able to synchronize (同步化) the development work with other business events.\n> * No more than one month.\n\nThe purpose of a Sprint is to produce (生產) a done increment (增量) of working product.\n> True\n\nIt is mandatory (強制性的) that the product increment be <del>released</del> to production at the end of each Sprint.\n> False. The product increment should be usable and releasable at the end of every Sprint, but **it does NOT have to be released**.\n\n## Sprint Planning\n\nThe time-box for the Sprint Planning meeting is?\n> 8 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n## Daily Scrum\n\nWho is required to attend the Daily Scrum?\n> The Development Team.\n\nWhy is the Daily Scrum held at the same time and same place?\n> The consistency (一致性) reduces complexity (複雜).\n\nThe time-box for a Daily Scrum is?\n> 15 minutes.\n\n## Sprint Review\n\n> It is when the Scrum Team and stakeholders (利害關係人) inspect the outcome of a Sprint (檢視此 sprint 成果) and figure out what to do next.\n\nThe maximum length of the Sprint Review (its time-box) is:\n> 4 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n## Sprint Retrospective\n\nThe Scrum Team should choose at least one high priority process improvement, identified during the Sprint Retrospective, and place it in the <del>Product Backlog</del>.\n> False, to ensure continuous improvement, the Sprint Backlog rather than the Product Backlog includes at least one high priority process improvement identified in the previous Sprint Retrospective meeting.\n\nThe maximum length of the Sprint Retrospective (its time-box) is:\n> 3 hours for a monthly Sprint. For shorter Sprints it is usually shorter.\n\n# Scrum Artifacts\n\n## Product Backlog\n\nThe Product Backlog is ordered by:\n> Whatever is deemed most appropriate by the Product Owner.\n\nHow much work must a Development Team do to a Product Backlog item it selects for a Sprint?\n> As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of \"Done\".\n\n## Sprint Backlog\n\nWhen does a Development Team member become the sole owner of a Sprint Backlog item?\n> Never. All Sprint Backlog Items are \"owned\" by the entire Development Team, even though each one may be implemented by an individual development team member.\n\n<del>The Sprint Backlog is fully formulated in the Sprint Planning meeting and does not change during the Sprint.</del>\n> The Sprint Backlog makes visible all of the work that the Development Team identifies as necessary to meet the Sprint Goal. The Development Team modifies the Sprint Backlog throughout the Sprint, and the Sprint Backlog emerges during the Sprint.\n\n## 承諾：完成之定義\n\nWhen many Development Teams are working on a single product, what best describes the definition of \"Done?\"\n> All Development Teams must have a definition of \"Done\" that makes their combined work potentially releasable.\n\nWho creates the definition of \"Done\"?\n> The development organization (or Development Team if none is available from the development organization)\n\n# Others\n\nAn organization has decided to adopt Scrum, but management wants to change the terminology (術語) to fit with terminology already used. What will likely happen if this is done?\n> * Without a new vocabulary (詞彙) as a reminder of the change, very little change may actually happen.\n> * The organization may not understand what has changed with Scrum and the benefits of Scrum may be lost.\n> * Management may feel less anxious (焦慮).\n\nWhat does it mean to say that an event has a time-box?\n> The event can take no more than a maximum amount of time.\n\n# 參考資料\n\n* [Scrum Guide](https://www.scrumguides.org/scrum-guide.html)\n* [Scrum online Test](https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef)","slug":"Others/Scrum-2020-Guide-Study","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qo001yr3y716qv9gbn","content":"<p>公司突然說要 Scrum 考試，只好卯起來讀書了。找了<a href=\"https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef\">線上考題</a>練習，參考 <a href=\"https://www.scrumguides.org/scrum-guide.html\">Scrum Guide</a> 把筆記整理在這篇。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Scrum-定義\"><a href=\"#Scrum-定義\" class=\"headerlink\" title=\"Scrum 定義\"></a>Scrum 定義</h1><blockquote>\n<p>A framework within which complex products in complex environments are developed.</p>\n</blockquote>\n<p><del>Scrum is a framework that eliminates complexity.</del></p>\n<blockquote>\n<p>Scrum offers a framework for <strong>dealing with complexity NOT eliminates (消除) complexity.</strong></p>\n</blockquote>\n<p><del>Scrum is like traditional processes but with self-organization to replace Project Managers.</del></p>\n<blockquote>\n<p><strong>Project Managers are NOT simply replaced by self-organizing teams.</strong> Scrum is a framework for optimizing decision making based on the knowledge and experience of the entire team.</p>\n</blockquote>\n<p><del>Scrum is a methodology where you can pick and choose which parts of Scrum you think will work for your environment.</del></p>\n<blockquote>\n<p><strong>Scrum is meant to be implemented as prescribed (規定的) in the Scrum Guide.</strong> For example, the five events in the Scrum Guide are mandatory (強制性的), each event has a specific purpose.</p>\n</blockquote>\n<blockquote>\n<p>The purpose of a Sprint is to produce a done increment of working product.</p>\n</blockquote>\n<h1 id=\"Scrum-理論\"><a href=\"#Scrum-理論\" class=\"headerlink\" title=\"Scrum 理論\"></a>Scrum 理論</h1><p>Upon what type of process control is Scrum based?</p>\n<blockquote>\n<p>Empirical (經驗主義)</p>\n</blockquote>\n<p>The three pillars of empirical process control are:</p>\n<blockquote>\n<ul>\n<li>Inspection (檢視性)</li>\n<li>Transparency (透明性)</li>\n<li>Adaptation (調適性)</li>\n</ul>\n</blockquote>\n<h1 id=\"Scrum-Team\"><a href=\"#Scrum-Team\" class=\"headerlink\" title=\"Scrum Team\"></a>Scrum Team</h1><p>Who is on the Scrum Team?</p>\n<blockquote>\n<ul>\n<li>The Scrum Master</li>\n<li>The Product Owner</li>\n<li>The Development Team</li>\n</ul>\n</blockquote>\n<p>Scrum does not have a role called “project manager.”</p>\n<blockquote>\n<p>True</p>\n</blockquote>\n<p>What is the role of Management in Scrum?</p>\n<blockquote>\n<p>Support the Product Owner with insights (見解) and information into high value product and  (系統功能). Support the Scrum Master to cause organizational change that fosters (扶植) empiricism (經驗主義), self-organization, bottom-up intelligence (自下而上的情報), and intelligent release of software (智能發布軟件).</p>\n</blockquote>\n<p>During a Sprint, a Development Team determines that it will not be able to finish the complete forecast. Who should be present to review and adjust the Sprint work selected?</p>\n<blockquote>\n<p>The Product Owner and the Development Team.</p>\n</blockquote>\n<h2 id=\"Development-Team\"><a href=\"#Development-Team\" class=\"headerlink\" title=\"Development Team\"></a>Development Team</h2><p>The Development Team should have all the skills needed to:</p>\n<blockquote>\n<p>Turn the Product Backlog items it selects into an increment of potentially releasable product functionality.</p>\n</blockquote>\n<p>Who is responsible for managing the progress of work during a Sprint?</p>\n<blockquote>\n<p>The Development Team</p>\n</blockquote>\n<p>The CEO asks the Development Team to add a “very important” item to a Sprint that is in progress. What should the Development Team do?</p>\n<blockquote>\n<p>Inform the Product Owner so he&#x2F;she can work with the CEO.</p>\n</blockquote>\n<p>Development Team membership should change:</p>\n<blockquote>\n<p>As needed, while taking into account a short term reduction in productivity (減少產能).</p>\n</blockquote>\n<p>What is the recommended size for a Development Team (within the Scrum Team)?</p>\n<blockquote>\n<p>3 to 9</p>\n</blockquote>\n<p>How much work must a Development Team do to a Product Backlog item it selects for a Sprint?</p>\n<blockquote>\n<p>As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of “Done”.</p>\n</blockquote>\n<h2 id=\"Product-Owner\"><a href=\"#Product-Owner\" class=\"headerlink\" title=\"Product Owner\"></a>Product Owner</h2><p>Which statement best describes a Product Owner’s responsibility?</p>\n<blockquote>\n<p>Optimizing (優化) the value of the work the Development Team does.</p>\n</blockquote>\n<p>Who should know the most about the progress toward a business objective or a release, and be able to explain the alternatives most clearly?</p>\n<blockquote>\n<p>The Product Owner</p>\n</blockquote>\n<p>Who has the final say on the order of the Product Backlog?</p>\n<blockquote>\n<p>The Product Owner</p>\n</blockquote>\n<h2 id=\"Scrum-Master\"><a href=\"#Scrum-Master\" class=\"headerlink\" title=\"Scrum Master\"></a>Scrum Master</h2><p>Which of the following services are appropriate for a Scrum Master in regard to the Daily Scrum?</p>\n<blockquote>\n<p>Teach the Development Team to keep the Daily Scrum within the 15 minute time-box.</p>\n</blockquote>\n<p>What is the main reason for the Scrum Master to be at the Daily Scrum?</p>\n<blockquote>\n<p>He or she does not have to be there; he or she only has to ensure the Development Team has a Daily Scrum.</p>\n</blockquote>\n<p>What are the two primary ways a Scrum Master keeps a Development Team working at its highest level of productivity?</p>\n<blockquote>\n<ul>\n<li>By facilitating (促進) Development Team decisions</li>\n<li>By removing impediments (障礙) that hinder (阻礙) the Development Team</li>\n</ul>\n</blockquote>\n<h1 id=\"Scrum-事件\"><a href=\"#Scrum-事件\" class=\"headerlink\" title=\"Scrum 事件\"></a>Scrum 事件</h1><h2 id=\"The-Sprint\"><a href=\"#The-Sprint\" class=\"headerlink\" title=\"The Sprint\"></a>The Sprint</h2><p>When might a Sprint be abnormally cancelled?</p>\n<blockquote>\n<p>When the Sprint Goal becomes obsolete (過時的&#x2F;不合時宜).</p>\n</blockquote>\n<p>When is a Sprint over?</p>\n<blockquote>\n<p>When the time-box expires.</p>\n</blockquote>\n<p>The length of a Sprint should be:</p>\n<blockquote>\n<ul>\n<li>Short enough to keep the business risk acceptable to the Product Owner.</li>\n<li>Short enough to be able to synchronize (同步化) the development work with other business events.</li>\n<li>No more than one month.</li>\n</ul>\n</blockquote>\n<p>The purpose of a Sprint is to produce (生產) a done increment (增量) of working product.</p>\n<blockquote>\n<p>True</p>\n</blockquote>\n<p>It is mandatory (強制性的) that the product increment be <del>released</del> to production at the end of each Sprint.</p>\n<blockquote>\n<p>False. The product increment should be usable and releasable at the end of every Sprint, but <strong>it does NOT have to be released</strong>.</p>\n</blockquote>\n<h2 id=\"Sprint-Planning\"><a href=\"#Sprint-Planning\" class=\"headerlink\" title=\"Sprint Planning\"></a>Sprint Planning</h2><p>The time-box for the Sprint Planning meeting is?</p>\n<blockquote>\n<p>8 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h2 id=\"Daily-Scrum\"><a href=\"#Daily-Scrum\" class=\"headerlink\" title=\"Daily Scrum\"></a>Daily Scrum</h2><p>Who is required to attend the Daily Scrum?</p>\n<blockquote>\n<p>The Development Team.</p>\n</blockquote>\n<p>Why is the Daily Scrum held at the same time and same place?</p>\n<blockquote>\n<p>The consistency (一致性) reduces complexity (複雜).</p>\n</blockquote>\n<p>The time-box for a Daily Scrum is?</p>\n<blockquote>\n<p>15 minutes.</p>\n</blockquote>\n<h2 id=\"Sprint-Review\"><a href=\"#Sprint-Review\" class=\"headerlink\" title=\"Sprint Review\"></a>Sprint Review</h2><blockquote>\n<p>It is when the Scrum Team and stakeholders (利害關係人) inspect the outcome of a Sprint (檢視此 sprint 成果) and figure out what to do next.</p>\n</blockquote>\n<p>The maximum length of the Sprint Review (its time-box) is:</p>\n<blockquote>\n<p>4 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h2 id=\"Sprint-Retrospective\"><a href=\"#Sprint-Retrospective\" class=\"headerlink\" title=\"Sprint Retrospective\"></a>Sprint Retrospective</h2><p>The Scrum Team should choose at least one high priority process improvement, identified during the Sprint Retrospective, and place it in the <del>Product Backlog</del>.</p>\n<blockquote>\n<p>False, to ensure continuous improvement, the Sprint Backlog rather than the Product Backlog includes at least one high priority process improvement identified in the previous Sprint Retrospective meeting.</p>\n</blockquote>\n<p>The maximum length of the Sprint Retrospective (its time-box) is:</p>\n<blockquote>\n<p>3 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h1 id=\"Scrum-Artifacts\"><a href=\"#Scrum-Artifacts\" class=\"headerlink\" title=\"Scrum Artifacts\"></a>Scrum Artifacts</h1><h2 id=\"Product-Backlog\"><a href=\"#Product-Backlog\" class=\"headerlink\" title=\"Product Backlog\"></a>Product Backlog</h2><p>The Product Backlog is ordered by:</p>\n<blockquote>\n<p>Whatever is deemed most appropriate by the Product Owner.</p>\n</blockquote>\n<p>How much work must a Development Team do to a Product Backlog item it selects for a Sprint?</p>\n<blockquote>\n<p>As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of “Done”.</p>\n</blockquote>\n<h2 id=\"Sprint-Backlog\"><a href=\"#Sprint-Backlog\" class=\"headerlink\" title=\"Sprint Backlog\"></a>Sprint Backlog</h2><p>When does a Development Team member become the sole owner of a Sprint Backlog item?</p>\n<blockquote>\n<p>Never. All Sprint Backlog Items are “owned” by the entire Development Team, even though each one may be implemented by an individual development team member.</p>\n</blockquote>\n<p><del>The Sprint Backlog is fully formulated in the Sprint Planning meeting and does not change during the Sprint.</del></p>\n<blockquote>\n<p>The Sprint Backlog makes visible all of the work that the Development Team identifies as necessary to meet the Sprint Goal. The Development Team modifies the Sprint Backlog throughout the Sprint, and the Sprint Backlog emerges during the Sprint.</p>\n</blockquote>\n<h2 id=\"承諾：完成之定義\"><a href=\"#承諾：完成之定義\" class=\"headerlink\" title=\"承諾：完成之定義\"></a>承諾：完成之定義</h2><p>When many Development Teams are working on a single product, what best describes the definition of “Done?”</p>\n<blockquote>\n<p>All Development Teams must have a definition of “Done” that makes their combined work potentially releasable.</p>\n</blockquote>\n<p>Who creates the definition of “Done”?</p>\n<blockquote>\n<p>The development organization (or Development Team if none is available from the development organization)</p>\n</blockquote>\n<h1 id=\"Others\"><a href=\"#Others\" class=\"headerlink\" title=\"Others\"></a>Others</h1><p>An organization has decided to adopt Scrum, but management wants to change the terminology (術語) to fit with terminology already used. What will likely happen if this is done?</p>\n<blockquote>\n<ul>\n<li>Without a new vocabulary (詞彙) as a reminder of the change, very little change may actually happen.</li>\n<li>The organization may not understand what has changed with Scrum and the benefits of Scrum may be lost.</li>\n<li>Management may feel less anxious (焦慮).</li>\n</ul>\n</blockquote>\n<p>What does it mean to say that an event has a time-box?</p>\n<blockquote>\n<p>The event can take no more than a maximum amount of time.</p>\n</blockquote>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://www.scrumguides.org/scrum-guide.html\">Scrum Guide</a></li>\n<li><a href=\"https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef\">Scrum online Test</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://user-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_9000,w_1200,f_auto,q_auto/986819/scrum_d2100y.png","excerpt":"<p>公司突然說要 Scrum 考試，只好卯起來讀書了。找了<a href=\"https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef\">線上考題</a>練習，參考 <a href=\"https://www.scrumguides.org/scrum-guide.html\">Scrum Guide</a> 把筆記整理在這篇。</p>","more":"<h1 id=\"Scrum-定義\"><a href=\"#Scrum-定義\" class=\"headerlink\" title=\"Scrum 定義\"></a>Scrum 定義</h1><blockquote>\n<p>A framework within which complex products in complex environments are developed.</p>\n</blockquote>\n<p><del>Scrum is a framework that eliminates complexity.</del></p>\n<blockquote>\n<p>Scrum offers a framework for <strong>dealing with complexity NOT eliminates (消除) complexity.</strong></p>\n</blockquote>\n<p><del>Scrum is like traditional processes but with self-organization to replace Project Managers.</del></p>\n<blockquote>\n<p><strong>Project Managers are NOT simply replaced by self-organizing teams.</strong> Scrum is a framework for optimizing decision making based on the knowledge and experience of the entire team.</p>\n</blockquote>\n<p><del>Scrum is a methodology where you can pick and choose which parts of Scrum you think will work for your environment.</del></p>\n<blockquote>\n<p><strong>Scrum is meant to be implemented as prescribed (規定的) in the Scrum Guide.</strong> For example, the five events in the Scrum Guide are mandatory (強制性的), each event has a specific purpose.</p>\n</blockquote>\n<blockquote>\n<p>The purpose of a Sprint is to produce a done increment of working product.</p>\n</blockquote>\n<h1 id=\"Scrum-理論\"><a href=\"#Scrum-理論\" class=\"headerlink\" title=\"Scrum 理論\"></a>Scrum 理論</h1><p>Upon what type of process control is Scrum based?</p>\n<blockquote>\n<p>Empirical (經驗主義)</p>\n</blockquote>\n<p>The three pillars of empirical process control are:</p>\n<blockquote>\n<ul>\n<li>Inspection (檢視性)</li>\n<li>Transparency (透明性)</li>\n<li>Adaptation (調適性)</li>\n</ul>\n</blockquote>\n<h1 id=\"Scrum-Team\"><a href=\"#Scrum-Team\" class=\"headerlink\" title=\"Scrum Team\"></a>Scrum Team</h1><p>Who is on the Scrum Team?</p>\n<blockquote>\n<ul>\n<li>The Scrum Master</li>\n<li>The Product Owner</li>\n<li>The Development Team</li>\n</ul>\n</blockquote>\n<p>Scrum does not have a role called “project manager.”</p>\n<blockquote>\n<p>True</p>\n</blockquote>\n<p>What is the role of Management in Scrum?</p>\n<blockquote>\n<p>Support the Product Owner with insights (見解) and information into high value product and  (系統功能). Support the Scrum Master to cause organizational change that fosters (扶植) empiricism (經驗主義), self-organization, bottom-up intelligence (自下而上的情報), and intelligent release of software (智能發布軟件).</p>\n</blockquote>\n<p>During a Sprint, a Development Team determines that it will not be able to finish the complete forecast. Who should be present to review and adjust the Sprint work selected?</p>\n<blockquote>\n<p>The Product Owner and the Development Team.</p>\n</blockquote>\n<h2 id=\"Development-Team\"><a href=\"#Development-Team\" class=\"headerlink\" title=\"Development Team\"></a>Development Team</h2><p>The Development Team should have all the skills needed to:</p>\n<blockquote>\n<p>Turn the Product Backlog items it selects into an increment of potentially releasable product functionality.</p>\n</blockquote>\n<p>Who is responsible for managing the progress of work during a Sprint?</p>\n<blockquote>\n<p>The Development Team</p>\n</blockquote>\n<p>The CEO asks the Development Team to add a “very important” item to a Sprint that is in progress. What should the Development Team do?</p>\n<blockquote>\n<p>Inform the Product Owner so he&#x2F;she can work with the CEO.</p>\n</blockquote>\n<p>Development Team membership should change:</p>\n<blockquote>\n<p>As needed, while taking into account a short term reduction in productivity (減少產能).</p>\n</blockquote>\n<p>What is the recommended size for a Development Team (within the Scrum Team)?</p>\n<blockquote>\n<p>3 to 9</p>\n</blockquote>\n<p>How much work must a Development Team do to a Product Backlog item it selects for a Sprint?</p>\n<blockquote>\n<p>As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of “Done”.</p>\n</blockquote>\n<h2 id=\"Product-Owner\"><a href=\"#Product-Owner\" class=\"headerlink\" title=\"Product Owner\"></a>Product Owner</h2><p>Which statement best describes a Product Owner’s responsibility?</p>\n<blockquote>\n<p>Optimizing (優化) the value of the work the Development Team does.</p>\n</blockquote>\n<p>Who should know the most about the progress toward a business objective or a release, and be able to explain the alternatives most clearly?</p>\n<blockquote>\n<p>The Product Owner</p>\n</blockquote>\n<p>Who has the final say on the order of the Product Backlog?</p>\n<blockquote>\n<p>The Product Owner</p>\n</blockquote>\n<h2 id=\"Scrum-Master\"><a href=\"#Scrum-Master\" class=\"headerlink\" title=\"Scrum Master\"></a>Scrum Master</h2><p>Which of the following services are appropriate for a Scrum Master in regard to the Daily Scrum?</p>\n<blockquote>\n<p>Teach the Development Team to keep the Daily Scrum within the 15 minute time-box.</p>\n</blockquote>\n<p>What is the main reason for the Scrum Master to be at the Daily Scrum?</p>\n<blockquote>\n<p>He or she does not have to be there; he or she only has to ensure the Development Team has a Daily Scrum.</p>\n</blockquote>\n<p>What are the two primary ways a Scrum Master keeps a Development Team working at its highest level of productivity?</p>\n<blockquote>\n<ul>\n<li>By facilitating (促進) Development Team decisions</li>\n<li>By removing impediments (障礙) that hinder (阻礙) the Development Team</li>\n</ul>\n</blockquote>\n<h1 id=\"Scrum-事件\"><a href=\"#Scrum-事件\" class=\"headerlink\" title=\"Scrum 事件\"></a>Scrum 事件</h1><h2 id=\"The-Sprint\"><a href=\"#The-Sprint\" class=\"headerlink\" title=\"The Sprint\"></a>The Sprint</h2><p>When might a Sprint be abnormally cancelled?</p>\n<blockquote>\n<p>When the Sprint Goal becomes obsolete (過時的&#x2F;不合時宜).</p>\n</blockquote>\n<p>When is a Sprint over?</p>\n<blockquote>\n<p>When the time-box expires.</p>\n</blockquote>\n<p>The length of a Sprint should be:</p>\n<blockquote>\n<ul>\n<li>Short enough to keep the business risk acceptable to the Product Owner.</li>\n<li>Short enough to be able to synchronize (同步化) the development work with other business events.</li>\n<li>No more than one month.</li>\n</ul>\n</blockquote>\n<p>The purpose of a Sprint is to produce (生產) a done increment (增量) of working product.</p>\n<blockquote>\n<p>True</p>\n</blockquote>\n<p>It is mandatory (強制性的) that the product increment be <del>released</del> to production at the end of each Sprint.</p>\n<blockquote>\n<p>False. The product increment should be usable and releasable at the end of every Sprint, but <strong>it does NOT have to be released</strong>.</p>\n</blockquote>\n<h2 id=\"Sprint-Planning\"><a href=\"#Sprint-Planning\" class=\"headerlink\" title=\"Sprint Planning\"></a>Sprint Planning</h2><p>The time-box for the Sprint Planning meeting is?</p>\n<blockquote>\n<p>8 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h2 id=\"Daily-Scrum\"><a href=\"#Daily-Scrum\" class=\"headerlink\" title=\"Daily Scrum\"></a>Daily Scrum</h2><p>Who is required to attend the Daily Scrum?</p>\n<blockquote>\n<p>The Development Team.</p>\n</blockquote>\n<p>Why is the Daily Scrum held at the same time and same place?</p>\n<blockquote>\n<p>The consistency (一致性) reduces complexity (複雜).</p>\n</blockquote>\n<p>The time-box for a Daily Scrum is?</p>\n<blockquote>\n<p>15 minutes.</p>\n</blockquote>\n<h2 id=\"Sprint-Review\"><a href=\"#Sprint-Review\" class=\"headerlink\" title=\"Sprint Review\"></a>Sprint Review</h2><blockquote>\n<p>It is when the Scrum Team and stakeholders (利害關係人) inspect the outcome of a Sprint (檢視此 sprint 成果) and figure out what to do next.</p>\n</blockquote>\n<p>The maximum length of the Sprint Review (its time-box) is:</p>\n<blockquote>\n<p>4 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h2 id=\"Sprint-Retrospective\"><a href=\"#Sprint-Retrospective\" class=\"headerlink\" title=\"Sprint Retrospective\"></a>Sprint Retrospective</h2><p>The Scrum Team should choose at least one high priority process improvement, identified during the Sprint Retrospective, and place it in the <del>Product Backlog</del>.</p>\n<blockquote>\n<p>False, to ensure continuous improvement, the Sprint Backlog rather than the Product Backlog includes at least one high priority process improvement identified in the previous Sprint Retrospective meeting.</p>\n</blockquote>\n<p>The maximum length of the Sprint Retrospective (its time-box) is:</p>\n<blockquote>\n<p>3 hours for a monthly Sprint. For shorter Sprints it is usually shorter.</p>\n</blockquote>\n<h1 id=\"Scrum-Artifacts\"><a href=\"#Scrum-Artifacts\" class=\"headerlink\" title=\"Scrum Artifacts\"></a>Scrum Artifacts</h1><h2 id=\"Product-Backlog\"><a href=\"#Product-Backlog\" class=\"headerlink\" title=\"Product Backlog\"></a>Product Backlog</h2><p>The Product Backlog is ordered by:</p>\n<blockquote>\n<p>Whatever is deemed most appropriate by the Product Owner.</p>\n</blockquote>\n<p>How much work must a Development Team do to a Product Backlog item it selects for a Sprint?</p>\n<blockquote>\n<p>As much as it has told the Product Owner will be done for every Product Backlog item it selects in conformance with the definition of “Done”.</p>\n</blockquote>\n<h2 id=\"Sprint-Backlog\"><a href=\"#Sprint-Backlog\" class=\"headerlink\" title=\"Sprint Backlog\"></a>Sprint Backlog</h2><p>When does a Development Team member become the sole owner of a Sprint Backlog item?</p>\n<blockquote>\n<p>Never. All Sprint Backlog Items are “owned” by the entire Development Team, even though each one may be implemented by an individual development team member.</p>\n</blockquote>\n<p><del>The Sprint Backlog is fully formulated in the Sprint Planning meeting and does not change during the Sprint.</del></p>\n<blockquote>\n<p>The Sprint Backlog makes visible all of the work that the Development Team identifies as necessary to meet the Sprint Goal. The Development Team modifies the Sprint Backlog throughout the Sprint, and the Sprint Backlog emerges during the Sprint.</p>\n</blockquote>\n<h2 id=\"承諾：完成之定義\"><a href=\"#承諾：完成之定義\" class=\"headerlink\" title=\"承諾：完成之定義\"></a>承諾：完成之定義</h2><p>When many Development Teams are working on a single product, what best describes the definition of “Done?”</p>\n<blockquote>\n<p>All Development Teams must have a definition of “Done” that makes their combined work potentially releasable.</p>\n</blockquote>\n<p>Who creates the definition of “Done”?</p>\n<blockquote>\n<p>The development organization (or Development Team if none is available from the development organization)</p>\n</blockquote>\n<h1 id=\"Others\"><a href=\"#Others\" class=\"headerlink\" title=\"Others\"></a>Others</h1><p>An organization has decided to adopt Scrum, but management wants to change the terminology (術語) to fit with terminology already used. What will likely happen if this is done?</p>\n<blockquote>\n<ul>\n<li>Without a new vocabulary (詞彙) as a reminder of the change, very little change may actually happen.</li>\n<li>The organization may not understand what has changed with Scrum and the benefits of Scrum may be lost.</li>\n<li>Management may feel less anxious (焦慮).</li>\n</ul>\n</blockquote>\n<p>What does it mean to say that an event has a time-box?</p>\n<blockquote>\n<p>The event can take no more than a maximum amount of time.</p>\n</blockquote>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://www.scrumguides.org/scrum-guide.html\">Scrum Guide</a></li>\n<li><a href=\"https://www.classmarker.com/online-test/start/?quiz=vek54a6ec10658ef\">Scrum online Test</a></li>\n</ul>"},{"title":"PowerBI - Line Chart Practice","thumbnailImage":"https://static-s.aa-cdn.net/img/ios/929738808/07c1e0aa52e324663248f41b747afb85?v=1","thumbnailImagePosition":"left","coverImage":"https://www.projectclub.com.tw/images/class/powerbi/pbi1205-5.jpg","coverMeta":"out","date":"2021-01-31T16:00:00.000Z","updated":"2021-01-31T16:00:00.000Z","_content":"\n這次拿測試範例來練習 PowerBI 折線圖，看看是否能做到原本 chart.js 的功能。\n\n<!--more-->\n\n# 準備要對照的結果\n\n\n# 參考資料\n\n","source":"_posts/Others/PowerBI-Line-Chart-Practice.md","raw":"---\ntitle: PowerBI - Line Chart Practice\ncategories:\n  - PowerBI\nthumbnailImage: https://static-s.aa-cdn.net/img/ios/929738808/07c1e0aa52e324663248f41b747afb85?v=1\nthumbnailImagePosition: left\ncoverImage: https://www.projectclub.com.tw/images/class/powerbi/pbi1205-5.jpg\ncoverMeta: out\ntags: [PowerBI]\ndate: 2021/02/01\nupdated: 2021/02/01\n---\n\n這次拿測試範例來練習 PowerBI 折線圖，看看是否能做到原本 chart.js 的功能。\n\n<!--more-->\n\n# 準備要對照的結果\n\n\n# 參考資料\n\n","slug":"Others/PowerBI-Line-Chart-Practice","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qp0021r3y7filv2mmo","content":"<p>這次拿測試範例來練習 PowerBI 折線圖，看看是否能做到原本 chart.js 的功能。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"準備要對照的結果\"><a href=\"#準備要對照的結果\" class=\"headerlink\" title=\"準備要對照的結果\"></a>準備要對照的結果</h1><h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1>","site":{"data":{}},"thumbnailImageUrl":"https://static-s.aa-cdn.net/img/ios/929738808/07c1e0aa52e324663248f41b747afb85?v=1","excerpt":"<p>這次拿測試範例來練習 PowerBI 折線圖，看看是否能做到原本 chart.js 的功能。</p>","more":"<h1 id=\"準備要對照的結果\"><a href=\"#準備要對照的結果\" class=\"headerlink\" title=\"準備要對照的結果\"></a>準備要對照的結果</h1><h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1>"},{"title":"Deep Learning by Python - Setup Environment","thumbnailImage":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png","thumbnailImagePosition":"left","coverImage":"https://logonoid.com/images/python-logo.png","coverMeta":"out","date":"2020-02-14T16:00:00.000Z","updated":"2020-02-14T16:00:00.000Z","_content":"\n深度學習(Deep Learning)將以數篇呈現，先簡要介紹以開源機器學習平台Tensorflow與神經網絡API Keras 在Python實作 Deep Learning。\n\n<!--more-->\n\n1. 開源機器學習平台Tensorflow，TensorFlow是一個開源軟件庫，在維基上提到用於各種感知和語言理解任務的機器學習。如語音識別，Gmail，Google相簿和搜尋。TensorFlow提供了一個Python API，以及C++、Haskell、Java、Go和Rust API。第三方包可用於 C#、.NET Core、Julia、R和Scala。TensorFlow的底層核心引擎由C++實現，通過gRPC實現網路互訪、分散式執行。雖然它的Python/C++/Java API共享了大部分執行代碼，但是有關於反向傳播梯度計算的部分需要在不同語言單獨實現。目前只有Python API較為豐富。\n\n2. Keras 是一個快速實現深度神經網路用Python編寫的開源神經網路庫，包含許多常用神經網路構建塊的實現，來簡單處理圖像和文字資料。能夠配合TensorFlow，Microsoft Cognitive Toolkit，Theano或PlaidML之上執行，其代碼代管在GitHub上，社區支援論壇包括GitHub的問題頁面和Slack通道。\n\n環境設置：原本按照《深度學習入門教室》一書安裝步驟發現遇到許多問題，python版本與Anaconda的適配問題，以及一些tensorflow相關問題。\n在安裝與環境設定過程常卡住，以下提及安裝需注意的適配版本。\n以下安裝範例為Python 3.7.4+Anaconda+tensorflow2.0\n安裝Anaconda：有分python3.7與python2.7版本。\n\n![Python](https://miro.medium.com/max/2880/0*svhqy8xjtu21TnE9 \"Python\")\n\n安装Tensorflow ：\n輸入命令\n```\nconda create -n tensorflow python=3.7\n```\n\n![Tensorflow](https://miro.medium.com/max/3200/0*DZi-3SBgonasZeH4 \"Tensorflow\")\n\n1. 安装tensorflow：\n輸入命令`pip install tensorflow==2.0.0 -i`\nhttps://pypi.tuna.tsinghua.edu.cn/simple\n激活tensorflow：輸入命令`conda activate tensorflow`\n\n2. 安装Keras：輸入命令`sudo pip install keras`\n測試執行：表示安裝成功\n\n![Keras](https://miro.medium.com/max/1650/0*peFE1lqO8w65CN3W \"Keras\")\n\n確認安裝環境：輸入命令python\n\n![python](https://miro.medium.com/max/2944/0*gRcC0khdnxuynJI8 \"python\")\n\n測試執行：\n輸入命令`import tensorflow as tf`\n輸入命令`hello=tf.constant('123')`\n輸入命令`sess=tf.Session()`\n\n![測試執行python](https://miro.medium.com/max/2912/0*k7tyXMt7OpeznOiE \"測試執行python\")\n\n會錯誤！\n原因：在於TF 2.0不使用`tf.Session`，若要繼續使用，需改為`sess=tf.compat.v1.Session()`\n\n這裡我先備註以後會需要的資料\n\n1. tensorflow 指令說明網址 https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph\n\n2. 待研究將TensorFlow 1.X的代碼轉換為TensorFlow2.0代碼\nhttps://blog.csdn.net/xovee/article/details/93402172\n\n接著\n輸入命令`print(sess.run(hello))`\n\n會發現錯誤！\n\n![測試執行python](https://miro.medium.com/max/2884/0*5JslrazdBViiv0ek \"測試執行python\")\n\n原因：\n使用`tf.compat.v1.Session()`雖可執行，但是，然而TF 1.X的的API 使用 Graph Execution，但是TF 2.0 默認使用 eager execution，要解決這個問題有兩種方式一種辦法先定義數據向量圖形，或是使用`tf.compat.v1.disable_eager_execution()` ，在tensorflow 指令說明裡提這個指令被使用在TF1.X代碼至TF2.0代碼的轉換(It can be used at the beginning of the program for complex migration projects from TensorFlow 1.x to 2.x.)\n\n因此，最後如下暫時解決，確認是可執行的。\n測試執行：\n\n![測試執行python](https://miro.medium.com/max/2214/0*MApZjmF_L-69z5Kn \"測試執行python\")","source":"_posts/Python/Deep-Learning-by-Python-Setup-Environment.md","raw":"---\ntitle: Deep Learning by Python - Setup Environment\ncategories:\n  - Python\nthumbnailImage: https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png\nthumbnailImagePosition: left\ncoverImage: https://logonoid.com/images/python-logo.png\ncoverMeta: out\ntags: [Python, Deep Learning, Keras, TensorFlow]\ndate: 2020/02/15\nupdated: 2020/02/15\n---\n\n深度學習(Deep Learning)將以數篇呈現，先簡要介紹以開源機器學習平台Tensorflow與神經網絡API Keras 在Python實作 Deep Learning。\n\n<!--more-->\n\n1. 開源機器學習平台Tensorflow，TensorFlow是一個開源軟件庫，在維基上提到用於各種感知和語言理解任務的機器學習。如語音識別，Gmail，Google相簿和搜尋。TensorFlow提供了一個Python API，以及C++、Haskell、Java、Go和Rust API。第三方包可用於 C#、.NET Core、Julia、R和Scala。TensorFlow的底層核心引擎由C++實現，通過gRPC實現網路互訪、分散式執行。雖然它的Python/C++/Java API共享了大部分執行代碼，但是有關於反向傳播梯度計算的部分需要在不同語言單獨實現。目前只有Python API較為豐富。\n\n2. Keras 是一個快速實現深度神經網路用Python編寫的開源神經網路庫，包含許多常用神經網路構建塊的實現，來簡單處理圖像和文字資料。能夠配合TensorFlow，Microsoft Cognitive Toolkit，Theano或PlaidML之上執行，其代碼代管在GitHub上，社區支援論壇包括GitHub的問題頁面和Slack通道。\n\n環境設置：原本按照《深度學習入門教室》一書安裝步驟發現遇到許多問題，python版本與Anaconda的適配問題，以及一些tensorflow相關問題。\n在安裝與環境設定過程常卡住，以下提及安裝需注意的適配版本。\n以下安裝範例為Python 3.7.4+Anaconda+tensorflow2.0\n安裝Anaconda：有分python3.7與python2.7版本。\n\n![Python](https://miro.medium.com/max/2880/0*svhqy8xjtu21TnE9 \"Python\")\n\n安装Tensorflow ：\n輸入命令\n```\nconda create -n tensorflow python=3.7\n```\n\n![Tensorflow](https://miro.medium.com/max/3200/0*DZi-3SBgonasZeH4 \"Tensorflow\")\n\n1. 安装tensorflow：\n輸入命令`pip install tensorflow==2.0.0 -i`\nhttps://pypi.tuna.tsinghua.edu.cn/simple\n激活tensorflow：輸入命令`conda activate tensorflow`\n\n2. 安装Keras：輸入命令`sudo pip install keras`\n測試執行：表示安裝成功\n\n![Keras](https://miro.medium.com/max/1650/0*peFE1lqO8w65CN3W \"Keras\")\n\n確認安裝環境：輸入命令python\n\n![python](https://miro.medium.com/max/2944/0*gRcC0khdnxuynJI8 \"python\")\n\n測試執行：\n輸入命令`import tensorflow as tf`\n輸入命令`hello=tf.constant('123')`\n輸入命令`sess=tf.Session()`\n\n![測試執行python](https://miro.medium.com/max/2912/0*k7tyXMt7OpeznOiE \"測試執行python\")\n\n會錯誤！\n原因：在於TF 2.0不使用`tf.Session`，若要繼續使用，需改為`sess=tf.compat.v1.Session()`\n\n這裡我先備註以後會需要的資料\n\n1. tensorflow 指令說明網址 https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph\n\n2. 待研究將TensorFlow 1.X的代碼轉換為TensorFlow2.0代碼\nhttps://blog.csdn.net/xovee/article/details/93402172\n\n接著\n輸入命令`print(sess.run(hello))`\n\n會發現錯誤！\n\n![測試執行python](https://miro.medium.com/max/2884/0*5JslrazdBViiv0ek \"測試執行python\")\n\n原因：\n使用`tf.compat.v1.Session()`雖可執行，但是，然而TF 1.X的的API 使用 Graph Execution，但是TF 2.0 默認使用 eager execution，要解決這個問題有兩種方式一種辦法先定義數據向量圖形，或是使用`tf.compat.v1.disable_eager_execution()` ，在tensorflow 指令說明裡提這個指令被使用在TF1.X代碼至TF2.0代碼的轉換(It can be used at the beginning of the program for complex migration projects from TensorFlow 1.x to 2.x.)\n\n因此，最後如下暫時解決，確認是可執行的。\n測試執行：\n\n![測試執行python](https://miro.medium.com/max/2214/0*MApZjmF_L-69z5Kn \"測試執行python\")","slug":"Python/Deep-Learning-by-Python-Setup-Environment","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qr0024r3y7duia6p0v","content":"<p>深度學習(Deep Learning)將以數篇呈現，先簡要介紹以開源機器學習平台Tensorflow與神經網絡API Keras 在Python實作 Deep Learning。</p>\n<span id=\"more\"></span>\n\n<ol>\n<li><p>開源機器學習平台Tensorflow，TensorFlow是一個開源軟件庫，在維基上提到用於各種感知和語言理解任務的機器學習。如語音識別，Gmail，Google相簿和搜尋。TensorFlow提供了一個Python API，以及C++、Haskell、Java、Go和Rust API。第三方包可用於 C#、.NET Core、Julia、R和Scala。TensorFlow的底層核心引擎由C++實現，通過gRPC實現網路互訪、分散式執行。雖然它的Python&#x2F;C++&#x2F;Java API共享了大部分執行代碼，但是有關於反向傳播梯度計算的部分需要在不同語言單獨實現。目前只有Python API較為豐富。</p>\n</li>\n<li><p>Keras 是一個快速實現深度神經網路用Python編寫的開源神經網路庫，包含許多常用神經網路構建塊的實現，來簡單處理圖像和文字資料。能夠配合TensorFlow，Microsoft Cognitive Toolkit，Theano或PlaidML之上執行，其代碼代管在GitHub上，社區支援論壇包括GitHub的問題頁面和Slack通道。</p>\n</li>\n</ol>\n<p>環境設置：原本按照《深度學習入門教室》一書安裝步驟發現遇到許多問題，python版本與Anaconda的適配問題，以及一些tensorflow相關問題。<br>在安裝與環境設定過程常卡住，以下提及安裝需注意的適配版本。<br>以下安裝範例為Python 3.7.4+Anaconda+tensorflow2.0<br>安裝Anaconda：有分python3.7與python2.7版本。</p>\n<p><img src=\"https://miro.medium.com/max/2880/0*svhqy8xjtu21TnE9\" alt=\"Python\" title=\"Python\"></p>\n<p>安装Tensorflow ：<br>輸入命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n tensorflow python=3.7</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://miro.medium.com/max/3200/0*DZi-3SBgonasZeH4\" alt=\"Tensorflow\" title=\"Tensorflow\"></p>\n<ol>\n<li><p>安装tensorflow：<br>輸入命令<code>pip install tensorflow==2.0.0 -i</code><br><a href=\"https://pypi.tuna.tsinghua.edu.cn/simple\">https://pypi.tuna.tsinghua.edu.cn/simple</a><br>激活tensorflow：輸入命令<code>conda activate tensorflow</code></p>\n</li>\n<li><p>安装Keras：輸入命令<code>sudo pip install keras</code><br>測試執行：表示安裝成功</p>\n</li>\n</ol>\n<p><img src=\"https://miro.medium.com/max/1650/0*peFE1lqO8w65CN3W\" alt=\"Keras\" title=\"Keras\"></p>\n<p>確認安裝環境：輸入命令python</p>\n<p><img src=\"https://miro.medium.com/max/2944/0*gRcC0khdnxuynJI8\" alt=\"python\" title=\"python\"></p>\n<p>測試執行：<br>輸入命令<code>import tensorflow as tf</code><br>輸入命令<code>hello=tf.constant(&#39;123&#39;)</code><br>輸入命令<code>sess=tf.Session()</code></p>\n<p><img src=\"https://miro.medium.com/max/2912/0*k7tyXMt7OpeznOiE\" alt=\"測試執行python\" title=\"測試執行python\"></p>\n<p>會錯誤！<br>原因：在於TF 2.0不使用<code>tf.Session</code>，若要繼續使用，需改為<code>sess=tf.compat.v1.Session()</code></p>\n<p>這裡我先備註以後會需要的資料</p>\n<ol>\n<li><p>tensorflow 指令說明網址 <a href=\"https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph\">https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph</a></p>\n</li>\n<li><p>待研究將TensorFlow 1.X的代碼轉換為TensorFlow2.0代碼<br><a href=\"https://blog.csdn.net/xovee/article/details/93402172\">https://blog.csdn.net/xovee/article/details/93402172</a></p>\n</li>\n</ol>\n<p>接著<br>輸入命令<code>print(sess.run(hello))</code></p>\n<p>會發現錯誤！</p>\n<p><img src=\"https://miro.medium.com/max/2884/0*5JslrazdBViiv0ek\" alt=\"測試執行python\" title=\"測試執行python\"></p>\n<p>原因：<br>使用<code>tf.compat.v1.Session()</code>雖可執行，但是，然而TF 1.X的的API 使用 Graph Execution，但是TF 2.0 默認使用 eager execution，要解決這個問題有兩種方式一種辦法先定義數據向量圖形，或是使用<code>tf.compat.v1.disable_eager_execution()</code> ，在tensorflow 指令說明裡提這個指令被使用在TF1.X代碼至TF2.0代碼的轉換(It can be used at the beginning of the program for complex migration projects from TensorFlow 1.x to 2.x.)</p>\n<p>因此，最後如下暫時解決，確認是可執行的。<br>測試執行：</p>\n<p><img src=\"https://miro.medium.com/max/2214/0*MApZjmF_L-69z5Kn\" alt=\"測試執行python\" title=\"測試執行python\"></p>\n","site":{"data":{}},"thumbnailImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png","excerpt":"<p>深度學習(Deep Learning)將以數篇呈現，先簡要介紹以開源機器學習平台Tensorflow與神經網絡API Keras 在Python實作 Deep Learning。</p>","more":"<ol>\n<li><p>開源機器學習平台Tensorflow，TensorFlow是一個開源軟件庫，在維基上提到用於各種感知和語言理解任務的機器學習。如語音識別，Gmail，Google相簿和搜尋。TensorFlow提供了一個Python API，以及C++、Haskell、Java、Go和Rust API。第三方包可用於 C#、.NET Core、Julia、R和Scala。TensorFlow的底層核心引擎由C++實現，通過gRPC實現網路互訪、分散式執行。雖然它的Python&#x2F;C++&#x2F;Java API共享了大部分執行代碼，但是有關於反向傳播梯度計算的部分需要在不同語言單獨實現。目前只有Python API較為豐富。</p>\n</li>\n<li><p>Keras 是一個快速實現深度神經網路用Python編寫的開源神經網路庫，包含許多常用神經網路構建塊的實現，來簡單處理圖像和文字資料。能夠配合TensorFlow，Microsoft Cognitive Toolkit，Theano或PlaidML之上執行，其代碼代管在GitHub上，社區支援論壇包括GitHub的問題頁面和Slack通道。</p>\n</li>\n</ol>\n<p>環境設置：原本按照《深度學習入門教室》一書安裝步驟發現遇到許多問題，python版本與Anaconda的適配問題，以及一些tensorflow相關問題。<br>在安裝與環境設定過程常卡住，以下提及安裝需注意的適配版本。<br>以下安裝範例為Python 3.7.4+Anaconda+tensorflow2.0<br>安裝Anaconda：有分python3.7與python2.7版本。</p>\n<p><img src=\"https://miro.medium.com/max/2880/0*svhqy8xjtu21TnE9\" alt=\"Python\" title=\"Python\"></p>\n<p>安装Tensorflow ：<br>輸入命令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n tensorflow python=3.7</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://miro.medium.com/max/3200/0*DZi-3SBgonasZeH4\" alt=\"Tensorflow\" title=\"Tensorflow\"></p>\n<ol>\n<li><p>安装tensorflow：<br>輸入命令<code>pip install tensorflow==2.0.0 -i</code><br><a href=\"https://pypi.tuna.tsinghua.edu.cn/simple\">https://pypi.tuna.tsinghua.edu.cn/simple</a><br>激活tensorflow：輸入命令<code>conda activate tensorflow</code></p>\n</li>\n<li><p>安装Keras：輸入命令<code>sudo pip install keras</code><br>測試執行：表示安裝成功</p>\n</li>\n</ol>\n<p><img src=\"https://miro.medium.com/max/1650/0*peFE1lqO8w65CN3W\" alt=\"Keras\" title=\"Keras\"></p>\n<p>確認安裝環境：輸入命令python</p>\n<p><img src=\"https://miro.medium.com/max/2944/0*gRcC0khdnxuynJI8\" alt=\"python\" title=\"python\"></p>\n<p>測試執行：<br>輸入命令<code>import tensorflow as tf</code><br>輸入命令<code>hello=tf.constant(&#39;123&#39;)</code><br>輸入命令<code>sess=tf.Session()</code></p>\n<p><img src=\"https://miro.medium.com/max/2912/0*k7tyXMt7OpeznOiE\" alt=\"測試執行python\" title=\"測試執行python\"></p>\n<p>會錯誤！<br>原因：在於TF 2.0不使用<code>tf.Session</code>，若要繼續使用，需改為<code>sess=tf.compat.v1.Session()</code></p>\n<p>這裡我先備註以後會需要的資料</p>\n<ol>\n<li><p>tensorflow 指令說明網址 <a href=\"https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph\">https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session#graph</a></p>\n</li>\n<li><p>待研究將TensorFlow 1.X的代碼轉換為TensorFlow2.0代碼<br><a href=\"https://blog.csdn.net/xovee/article/details/93402172\">https://blog.csdn.net/xovee/article/details/93402172</a></p>\n</li>\n</ol>\n<p>接著<br>輸入命令<code>print(sess.run(hello))</code></p>\n<p>會發現錯誤！</p>\n<p><img src=\"https://miro.medium.com/max/2884/0*5JslrazdBViiv0ek\" alt=\"測試執行python\" title=\"測試執行python\"></p>\n<p>原因：<br>使用<code>tf.compat.v1.Session()</code>雖可執行，但是，然而TF 1.X的的API 使用 Graph Execution，但是TF 2.0 默認使用 eager execution，要解決這個問題有兩種方式一種辦法先定義數據向量圖形，或是使用<code>tf.compat.v1.disable_eager_execution()</code> ，在tensorflow 指令說明裡提這個指令被使用在TF1.X代碼至TF2.0代碼的轉換(It can be used at the beginning of the program for complex migration projects from TensorFlow 1.x to 2.x.)</p>\n<p>因此，最後如下暫時解決，確認是可執行的。<br>測試執行：</p>\n<p><img src=\"https://miro.medium.com/max/2214/0*MApZjmF_L-69z5Kn\" alt=\"測試執行python\" title=\"測試執行python\"></p>"},{"title":"Manually Install Cypress","thumbnailImage":"https://avatars2.githubusercontent.com/u/8908513?s=400&v=4","thumbnailImagePosition":"left","coverImage":"https://i.udemycdn.com/course/750x422/2470214_97a0_4.jpg","coverMeta":"out","date":"2021-10-03T16:00:00.000Z","updated":"2021-10-03T16:00:00.000Z","_content":"\n最近發現公司內網不明原因會擋住 npm install cypress，但安裝其他的套件就不會發生，所以只好搜尋看要怎麼手動安裝 cypress。\n\n<!--more-->\n\n# 手動安裝 cypress\n\n## 1. 下載 zip 檔案\n\nex: https://download.cypress.io/desktop/6.8.0，不同 version 的話就替換最後面數字版本。\n\n## 2. 找到電腦的 cypress cache 資料夾\n\n[官方文件](https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache)有說明預設的 windows 路徑為 `/AppData/Local/Cypress/Cache`，以我公司電腦為例，Path 是 `C:\\Users\\annychang\\AppData\\Local\\Cypress\\Cache`\n\n## 3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!\n\n將解壓縮的檔案放在對應的版本資料夾中，如此一來執行 npm install 的時候會優先從 global 這邊找到，就不會再進行安裝，可以直接執行。\n\n![將解壓縮的檔案放在對應的版本資料夾](https://lh3.googleusercontent.com/pw/AM-JKLUO36gFVv7dYTCNWwJWUbg6Nw_R4c15EFJxMAf2dVKFftH2Clx2QAiPjj59AsKDosLpUtryGTmDysYKMpTTR0e8svqPiaBH7J25ikCtxDEkHKrk10KrftiQECg9bAaN5lvDgJMdvawPza_Cbn1-qPc2tA=w734-h418-no?authuser=0)\n\n\n\n# Reference\n\n* [Cypress Direct-download](https://docs.cypress.io/guides/getting-started/installing-cypress#Direct-download)\n* [Cypress Cache](https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache)\n","source":"_posts/Testing/Manually-Install-Cypress.md","raw":"---\ntitle: Manually Install Cypress\ncategories:\n  - Testing\nthumbnailImage: https://avatars2.githubusercontent.com/u/8908513?s=400&v=4\nthumbnailImagePosition: left\ncoverImage: https://i.udemycdn.com/course/750x422/2470214_97a0_4.jpg\ncoverMeta: out\ntags: [Cypress, Testing, JS]\ndate: 2021/10/04\nupdated: 2021/10/04\n---\n\n最近發現公司內網不明原因會擋住 npm install cypress，但安裝其他的套件就不會發生，所以只好搜尋看要怎麼手動安裝 cypress。\n\n<!--more-->\n\n# 手動安裝 cypress\n\n## 1. 下載 zip 檔案\n\nex: https://download.cypress.io/desktop/6.8.0，不同 version 的話就替換最後面數字版本。\n\n## 2. 找到電腦的 cypress cache 資料夾\n\n[官方文件](https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache)有說明預設的 windows 路徑為 `/AppData/Local/Cypress/Cache`，以我公司電腦為例，Path 是 `C:\\Users\\annychang\\AppData\\Local\\Cypress\\Cache`\n\n## 3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!\n\n將解壓縮的檔案放在對應的版本資料夾中，如此一來執行 npm install 的時候會優先從 global 這邊找到，就不會再進行安裝，可以直接執行。\n\n![將解壓縮的檔案放在對應的版本資料夾](https://lh3.googleusercontent.com/pw/AM-JKLUO36gFVv7dYTCNWwJWUbg6Nw_R4c15EFJxMAf2dVKFftH2Clx2QAiPjj59AsKDosLpUtryGTmDysYKMpTTR0e8svqPiaBH7J25ikCtxDEkHKrk10KrftiQECg9bAaN5lvDgJMdvawPza_Cbn1-qPc2tA=w734-h418-no?authuser=0)\n\n\n\n# Reference\n\n* [Cypress Direct-download](https://docs.cypress.io/guides/getting-started/installing-cypress#Direct-download)\n* [Cypress Cache](https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache)\n","slug":"Testing/Manually-Install-Cypress","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qs0027r3y74r2z9uej","content":"<p>最近發現公司內網不明原因會擋住 npm install cypress，但安裝其他的套件就不會發生，所以只好搜尋看要怎麼手動安裝 cypress。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"手動安裝-cypress\"><a href=\"#手動安裝-cypress\" class=\"headerlink\" title=\"手動安裝 cypress\"></a>手動安裝 cypress</h1><h2 id=\"1-下載-zip-檔案\"><a href=\"#1-下載-zip-檔案\" class=\"headerlink\" title=\"1. 下載 zip 檔案\"></a>1. 下載 zip 檔案</h2><p>ex: <a href=\"https://download.cypress.io/desktop/6.8.0%EF%BC%8C%E4%B8%8D%E5%90%8C\">https://download.cypress.io/desktop/6.8.0，不同</a> version 的話就替換最後面數字版本。</p>\n<h2 id=\"2-找到電腦的-cypress-cache-資料夾\"><a href=\"#2-找到電腦的-cypress-cache-資料夾\" class=\"headerlink\" title=\"2. 找到電腦的 cypress cache 資料夾\"></a>2. 找到電腦的 cypress cache 資料夾</h2><p><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache\">官方文件</a>有說明預設的 windows 路徑為 <code>/AppData/Local/Cypress/Cache</code>，以我公司電腦為例，Path 是 <code>C:\\Users\\annychang\\AppData\\Local\\Cypress\\Cache</code></p>\n<h2 id=\"3-將下載的-zip-檔案解壓縮到-cache-資料夾，完成\"><a href=\"#3-將下載的-zip-檔案解壓縮到-cache-資料夾，完成\" class=\"headerlink\" title=\"3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!\"></a>3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!</h2><p>將解壓縮的檔案放在對應的版本資料夾中，如此一來執行 npm install 的時候會優先從 global 這邊找到，就不會再進行安裝，可以直接執行。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUO36gFVv7dYTCNWwJWUbg6Nw_R4c15EFJxMAf2dVKFftH2Clx2QAiPjj59AsKDosLpUtryGTmDysYKMpTTR0e8svqPiaBH7J25ikCtxDEkHKrk10KrftiQECg9bAaN5lvDgJMdvawPza_Cbn1-qPc2tA=w734-h418-no?authuser=0\" alt=\"將解壓縮的檔案放在對應的版本資料夾\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Direct-download\">Cypress Direct-download</a></li>\n<li><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache\">Cypress Cache</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://avatars2.githubusercontent.com/u/8908513?s=400&v=4","excerpt":"<p>最近發現公司內網不明原因會擋住 npm install cypress，但安裝其他的套件就不會發生，所以只好搜尋看要怎麼手動安裝 cypress。</p>","more":"<h1 id=\"手動安裝-cypress\"><a href=\"#手動安裝-cypress\" class=\"headerlink\" title=\"手動安裝 cypress\"></a>手動安裝 cypress</h1><h2 id=\"1-下載-zip-檔案\"><a href=\"#1-下載-zip-檔案\" class=\"headerlink\" title=\"1. 下載 zip 檔案\"></a>1. 下載 zip 檔案</h2><p>ex: <a href=\"https://download.cypress.io/desktop/6.8.0%EF%BC%8C%E4%B8%8D%E5%90%8C\">https://download.cypress.io/desktop/6.8.0，不同</a> version 的話就替換最後面數字版本。</p>\n<h2 id=\"2-找到電腦的-cypress-cache-資料夾\"><a href=\"#2-找到電腦的-cypress-cache-資料夾\" class=\"headerlink\" title=\"2. 找到電腦的 cypress cache 資料夾\"></a>2. 找到電腦的 cypress cache 資料夾</h2><p><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache\">官方文件</a>有說明預設的 windows 路徑為 <code>/AppData/Local/Cypress/Cache</code>，以我公司電腦為例，Path 是 <code>C:\\Users\\annychang\\AppData\\Local\\Cypress\\Cache</code></p>\n<h2 id=\"3-將下載的-zip-檔案解壓縮到-cache-資料夾，完成\"><a href=\"#3-將下載的-zip-檔案解壓縮到-cache-資料夾，完成\" class=\"headerlink\" title=\"3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!\"></a>3. 將下載的 zip 檔案解壓縮到 cache 資料夾，完成!</h2><p>將解壓縮的檔案放在對應的版本資料夾中，如此一來執行 npm install 的時候會優先從 global 這邊找到，就不會再進行安裝，可以直接執行。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUO36gFVv7dYTCNWwJWUbg6Nw_R4c15EFJxMAf2dVKFftH2Clx2QAiPjj59AsKDosLpUtryGTmDysYKMpTTR0e8svqPiaBH7J25ikCtxDEkHKrk10KrftiQECg9bAaN5lvDgJMdvawPza_Cbn1-qPc2tA=w734-h418-no?authuser=0\" alt=\"將解壓縮的檔案放在對應的版本資料夾\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Direct-download\">Cypress Direct-download</a></li>\n<li><a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress#Binary-cache\">Cypress Cache</a></li>\n</ul>"},{"title":"Deep Learning by Python - Use Keras-Sequential Model Example","thumbnailImage":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png","thumbnailImagePosition":"left","coverImage":"https://logonoid.com/images/python-logo.png","coverMeta":"out","date":"2020-03-21T16:00:00.000Z","updated":"2020-03-21T16:00:00.000Z","_content":"\nmodel API 分為 Sequential （循序型） 和 Functional（多功能型）。\n\n1. Sequential API: 用於單輸入單輸出，簡單的 model 由簡單的 layers 串接組成。\n2. Functional API: 用於多輸入多輸出，layers 可有分支並可共用而組成複雜模型。\n\n簡單的keras 的工作流程如下:\n\n1. 創建 model\n2. 創建和添加 layer 到 model\n3. compile (編譯) model\n4. Train model\n5. 訓練完成後可用於 prediction (預測) 或 evaluation (評估)\n\n本篇只是測試安裝環境是否成功，所以只會練習到工作流程第 4 點。\n\n<!--more-->\n\n# 基本概念\n\nDL (Deep Learning) 是擁有多個且多層神經元之 NN (Neural Network 神經網路)，而所謂的多層通常是指隱藏層（Hidden Layer）。DL 要用幾層、每層要有幾個節點（神經元）、每個節點間要如何相連、要採用什麼激勵函數等（統稱網路架構），都是由我們決定，因此可以說是 NN 的天賦；而權重與誤差則是透過大量資料自動學習而得，可以視為是 NN 後天的努力結果。\n\n![Deep Learning](https://miro.medium.com/proxy/1*5egrX--WuyrLA7gBEXdg5A.png)\n\n# 此篇要練習的完整程式碼\n\n這次要練習的完整程式碼如下：\n\n```python\n# 引入要用的函數\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Activation\nfrom keras.utils import np_utils\nimport numpy as np\n\n# 準備測試資料\ndata = np.random.random((1000,784))\n\n# 準備要逼近的目標資料\nlabels = np.random.randint(10, size=(1000,1))\nlabels = np_utils.to_categorical(labels,10)\n\n# 創建 model\nmodel = Sequential()\n# 創建和添加 layer 到 model\nmodel.add(Dense(64, activation='relu', input_dim=784))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dense(10, activation='softmax'))\n\n# compile (編譯) model\nmodel.compile(optimizer='rmsprop',\n              loss='categorical_crossentropy',\n              metrics=[\"accuracy\"])\n\n# Train model\nmodel.fit(data, labels)\n```\n\n以下我們分段解說程式碼。\n\n# 引入要用的函數\n\n```python\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Activation\nfrom keras.utils import np_utils\nimport numpy as np\n```\n\n* keras.models: 從 Keras 引入 models（模型），Sequential 是 linear stack of layers（多個網絡層的線性堆疊），單輸入單輸出。\n* keras.layers: 從 Keras 引入 layers（層）的 Dense 類型。Dense 類型的層（layers）為具有64個神經元。\n* keras.utils: 從 Keras 引入 utils（工具）的 np_utils 函數。\n* np 即 numpy，而 NumPy 是 Python 語言的一個擴充程式庫。\n\n# 準備測試資料\n\n```python\ndata = np.random.random((1000,784))\n```\n\n建立一組測試資料，使用 np.random.random 在 [0, 1) 中產生隨機數，DATA 為 1000 行 784 列（1000x784）的陣列。\n\n# 準備要逼近的目標資料\n\n```python\nlabels = np.random.randint(10, size=(1000,1))\nlabels = np_utils.to_categorical(labels,10)\n```\n\n* [numpy.random.randint](https://www.itread01.com/content/1541532849.html)是矩陣變數，其語法為 numpy.random.randint(low, high=None, size=None)。labels 結果 為 1 維隨機整數組（1000x1）ex: `array([0],[8],[6],…[9])`，因沒有 high 的值， 數值隨機介於[0,10)。\n* [to_categorical](https://www.itread01.com/content/1549602019.html) 將類別向量轉換为二進制（只有0和1）的矩陣類型，原來 labels 為 1 維隨機整數組（1000x1），to_categorical 按照 10 個類別將這 1 維隨機整數組的每個值都轉換為矩陣裡的一個行向量。\n\n舉例來說，`array([0],[8],[6],…[9])`的1維整數組，to_categorical 按照 10 個類別將 array 轉換為\narray\n[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.] \n [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]…\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]\n\n# 創建和添加 layer 到 model\n\n```python\nmodel = Sequential()\nmodel.add(Dense(64, activation='relu', input_dim=784))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dense(10, activation='softmax'))\n```\n\n* 定義Sequential模型，並model.add添加層。\n* 此範例第一步添加 Dense 類型的層（layers）為具有64個神經元。由於模型需要知道它所期望的輸入尺寸，順序模型中的第一層需要接收關於其輸入尺寸的參數信息（Dense支持通過參數 input_dim 指定輸入參數信息，而某些 3D 時序層支持 input_dim 和 input_length 參數。\n* ReLU為激勵函數（Activation Function）之一，[詳見此](https://mropengate.blogspot.com/2017/02/deep-learning-role-of-activation.html)。\n* Softmax為激勵函數（Activation Function）之一，[詳見此](https://blog.csdn.net/bitcarmanlee/article/details/82320853)。\n\n# compile (編譯) model\n\n```python\nmodel.compile(optimizer='rmsprop',\n              loss='categorical_crossentropy',\n              metrics=[\"accuracy\"])\n```\n\n* 模型在使用前必須編譯模型（model.compile）\n* Optimizer (優化器)為 RMSprop：優化器目的是建立優化模型，優化目標函數並訓練出最好的模型，其功能是通過改善訓練方式，來最小化 (或最大化) 損失函數。RMSprop，[詳見此](https://zhuanlan.zhihu.com/p/34230849)\n* loss (損失函數)為 categorical_crossentropy：損失函數基本上可以分成兩個面向(分類和回歸)，但都是希望最小化損失。loss(損失)就是實際和預測的殘差，損失愈小愈好。categorical_crossentropy，[詳見此](https://blog.csdn.net/legalhighhigh/article/details/81409551)\n* metric (度量函數) 來評估模型性能，'accuracy'為評估指標。[詳見此](https://www.cnblogs.com/weiyinfu/p/9783776.html)\n\n# Train model\n\n```python\nmodel.fit(data, labels)\n```\n\n最後設定參數輸入 data 與目標 labels，來 model.fit，也就是訓練模型。\n執行結果，如圖表示以 TensorFlow 作為引擎使用，損失率為 2.3494，準確度為 0.0920。\n\n![執行結果](https://cdn-images-1.medium.com/max/1600/1*dIwMENM7YtaYqdFOOYnQvw.png)\n\n# Reference\n\n* [Keras 簡介](https://laoweizz.blogspot.com/2018/12/keras.html)\n\n* [速記AI課程－深度學習入門（一）](https://medium.com/@baubibi/%E9%80%9F%E8%A8%98ai%E8%AA%B2%E7%A8%8B-%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E5%85%A5%E9%96%80-%E4%B8%80-68e27912ce30)\n\n","source":"_posts/Python/Deep-Learning-by-Python-Use-Keras-Sequential-Model-Example.md","raw":"---\ntitle: Deep Learning by Python - Use Keras-Sequential Model Example\ncategories:\n  - Python\nthumbnailImage: https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png\nthumbnailImagePosition: left\ncoverImage: https://logonoid.com/images/python-logo.png\ncoverMeta: out\ntags: [Python, Deep Learning, Keras, TensorFlow]\ndate: 2020/03/22\nupdated: 2020/03/22\n---\n\nmodel API 分為 Sequential （循序型） 和 Functional（多功能型）。\n\n1. Sequential API: 用於單輸入單輸出，簡單的 model 由簡單的 layers 串接組成。\n2. Functional API: 用於多輸入多輸出，layers 可有分支並可共用而組成複雜模型。\n\n簡單的keras 的工作流程如下:\n\n1. 創建 model\n2. 創建和添加 layer 到 model\n3. compile (編譯) model\n4. Train model\n5. 訓練完成後可用於 prediction (預測) 或 evaluation (評估)\n\n本篇只是測試安裝環境是否成功，所以只會練習到工作流程第 4 點。\n\n<!--more-->\n\n# 基本概念\n\nDL (Deep Learning) 是擁有多個且多層神經元之 NN (Neural Network 神經網路)，而所謂的多層通常是指隱藏層（Hidden Layer）。DL 要用幾層、每層要有幾個節點（神經元）、每個節點間要如何相連、要採用什麼激勵函數等（統稱網路架構），都是由我們決定，因此可以說是 NN 的天賦；而權重與誤差則是透過大量資料自動學習而得，可以視為是 NN 後天的努力結果。\n\n![Deep Learning](https://miro.medium.com/proxy/1*5egrX--WuyrLA7gBEXdg5A.png)\n\n# 此篇要練習的完整程式碼\n\n這次要練習的完整程式碼如下：\n\n```python\n# 引入要用的函數\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Activation\nfrom keras.utils import np_utils\nimport numpy as np\n\n# 準備測試資料\ndata = np.random.random((1000,784))\n\n# 準備要逼近的目標資料\nlabels = np.random.randint(10, size=(1000,1))\nlabels = np_utils.to_categorical(labels,10)\n\n# 創建 model\nmodel = Sequential()\n# 創建和添加 layer 到 model\nmodel.add(Dense(64, activation='relu', input_dim=784))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dense(10, activation='softmax'))\n\n# compile (編譯) model\nmodel.compile(optimizer='rmsprop',\n              loss='categorical_crossentropy',\n              metrics=[\"accuracy\"])\n\n# Train model\nmodel.fit(data, labels)\n```\n\n以下我們分段解說程式碼。\n\n# 引入要用的函數\n\n```python\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Activation\nfrom keras.utils import np_utils\nimport numpy as np\n```\n\n* keras.models: 從 Keras 引入 models（模型），Sequential 是 linear stack of layers（多個網絡層的線性堆疊），單輸入單輸出。\n* keras.layers: 從 Keras 引入 layers（層）的 Dense 類型。Dense 類型的層（layers）為具有64個神經元。\n* keras.utils: 從 Keras 引入 utils（工具）的 np_utils 函數。\n* np 即 numpy，而 NumPy 是 Python 語言的一個擴充程式庫。\n\n# 準備測試資料\n\n```python\ndata = np.random.random((1000,784))\n```\n\n建立一組測試資料，使用 np.random.random 在 [0, 1) 中產生隨機數，DATA 為 1000 行 784 列（1000x784）的陣列。\n\n# 準備要逼近的目標資料\n\n```python\nlabels = np.random.randint(10, size=(1000,1))\nlabels = np_utils.to_categorical(labels,10)\n```\n\n* [numpy.random.randint](https://www.itread01.com/content/1541532849.html)是矩陣變數，其語法為 numpy.random.randint(low, high=None, size=None)。labels 結果 為 1 維隨機整數組（1000x1）ex: `array([0],[8],[6],…[9])`，因沒有 high 的值， 數值隨機介於[0,10)。\n* [to_categorical](https://www.itread01.com/content/1549602019.html) 將類別向量轉換为二進制（只有0和1）的矩陣類型，原來 labels 為 1 維隨機整數組（1000x1），to_categorical 按照 10 個類別將這 1 維隨機整數組的每個值都轉換為矩陣裡的一個行向量。\n\n舉例來說，`array([0],[8],[6],…[9])`的1維整數組，to_categorical 按照 10 個類別將 array 轉換為\narray\n[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\n [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.] \n [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]…\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]\n\n# 創建和添加 layer 到 model\n\n```python\nmodel = Sequential()\nmodel.add(Dense(64, activation='relu', input_dim=784))\nmodel.add(Dense(64, activation='relu'))\nmodel.add(Dense(10, activation='softmax'))\n```\n\n* 定義Sequential模型，並model.add添加層。\n* 此範例第一步添加 Dense 類型的層（layers）為具有64個神經元。由於模型需要知道它所期望的輸入尺寸，順序模型中的第一層需要接收關於其輸入尺寸的參數信息（Dense支持通過參數 input_dim 指定輸入參數信息，而某些 3D 時序層支持 input_dim 和 input_length 參數。\n* ReLU為激勵函數（Activation Function）之一，[詳見此](https://mropengate.blogspot.com/2017/02/deep-learning-role-of-activation.html)。\n* Softmax為激勵函數（Activation Function）之一，[詳見此](https://blog.csdn.net/bitcarmanlee/article/details/82320853)。\n\n# compile (編譯) model\n\n```python\nmodel.compile(optimizer='rmsprop',\n              loss='categorical_crossentropy',\n              metrics=[\"accuracy\"])\n```\n\n* 模型在使用前必須編譯模型（model.compile）\n* Optimizer (優化器)為 RMSprop：優化器目的是建立優化模型，優化目標函數並訓練出最好的模型，其功能是通過改善訓練方式，來最小化 (或最大化) 損失函數。RMSprop，[詳見此](https://zhuanlan.zhihu.com/p/34230849)\n* loss (損失函數)為 categorical_crossentropy：損失函數基本上可以分成兩個面向(分類和回歸)，但都是希望最小化損失。loss(損失)就是實際和預測的殘差，損失愈小愈好。categorical_crossentropy，[詳見此](https://blog.csdn.net/legalhighhigh/article/details/81409551)\n* metric (度量函數) 來評估模型性能，'accuracy'為評估指標。[詳見此](https://www.cnblogs.com/weiyinfu/p/9783776.html)\n\n# Train model\n\n```python\nmodel.fit(data, labels)\n```\n\n最後設定參數輸入 data 與目標 labels，來 model.fit，也就是訓練模型。\n執行結果，如圖表示以 TensorFlow 作為引擎使用，損失率為 2.3494，準確度為 0.0920。\n\n![執行結果](https://cdn-images-1.medium.com/max/1600/1*dIwMENM7YtaYqdFOOYnQvw.png)\n\n# Reference\n\n* [Keras 簡介](https://laoweizz.blogspot.com/2018/12/keras.html)\n\n* [速記AI課程－深度學習入門（一）](https://medium.com/@baubibi/%E9%80%9F%E8%A8%98ai%E8%AA%B2%E7%A8%8B-%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E5%85%A5%E9%96%80-%E4%B8%80-68e27912ce30)\n\n","slug":"Python/Deep-Learning-by-Python-Use-Keras-Sequential-Model-Example","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qt002ar3y7fg0i4r3a","content":"<p>model API 分為 Sequential （循序型） 和 Functional（多功能型）。</p>\n<ol>\n<li>Sequential API: 用於單輸入單輸出，簡單的 model 由簡單的 layers 串接組成。</li>\n<li>Functional API: 用於多輸入多輸出，layers 可有分支並可共用而組成複雜模型。</li>\n</ol>\n<p>簡單的keras 的工作流程如下:</p>\n<ol>\n<li>創建 model</li>\n<li>創建和添加 layer 到 model</li>\n<li>compile (編譯) model</li>\n<li>Train model</li>\n<li>訓練完成後可用於 prediction (預測) 或 evaluation (評估)</li>\n</ol>\n<p>本篇只是測試安裝環境是否成功，所以只會練習到工作流程第 4 點。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h1><p>DL (Deep Learning) 是擁有多個且多層神經元之 NN (Neural Network 神經網路)，而所謂的多層通常是指隱藏層（Hidden Layer）。DL 要用幾層、每層要有幾個節點（神經元）、每個節點間要如何相連、要採用什麼激勵函數等（統稱網路架構），都是由我們決定，因此可以說是 NN 的天賦；而權重與誤差則是透過大量資料自動學習而得，可以視為是 NN 後天的努力結果。</p>\n<p><img src=\"https://miro.medium.com/proxy/1*5egrX--WuyrLA7gBEXdg5A.png\" alt=\"Deep Learning\"></p>\n<h1 id=\"此篇要練習的完整程式碼\"><a href=\"#此篇要練習的完整程式碼\" class=\"headerlink\" title=\"此篇要練習的完整程式碼\"></a>此篇要練習的完整程式碼</h1><p>這次要練習的完整程式碼如下：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 引入要用的函數</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.models <span class=\"keyword\">import</span> Sequential</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.layers <span class=\"keyword\">import</span> Dense, Activation</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.utils <span class=\"keyword\">import</span> np_utils</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 準備測試資料</span></span><br><span class=\"line\">data = np.random.random((<span class=\"number\">1000</span>,<span class=\"number\">784</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 準備要逼近的目標資料</span></span><br><span class=\"line\">labels = np.random.randint(<span class=\"number\">10</span>, size=(<span class=\"number\">1000</span>,<span class=\"number\">1</span>))</span><br><span class=\"line\">labels = np_utils.to_categorical(labels,<span class=\"number\">10</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 創建 model</span></span><br><span class=\"line\">model = Sequential()</span><br><span class=\"line\"><span class=\"comment\"># 創建和添加 layer 到 model</span></span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>, input_dim=<span class=\"number\">784</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">10</span>, activation=<span class=\"string\">&#x27;softmax&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># compile (編譯) model</span></span><br><span class=\"line\">model.<span class=\"built_in\">compile</span>(optimizer=<span class=\"string\">&#x27;rmsprop&#x27;</span>,</span><br><span class=\"line\">              loss=<span class=\"string\">&#x27;categorical_crossentropy&#x27;</span>,</span><br><span class=\"line\">              metrics=[<span class=\"string\">&quot;accuracy&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Train model</span></span><br><span class=\"line\">model.fit(data, labels)</span><br></pre></td></tr></table></figure>\n\n<p>以下我們分段解說程式碼。</p>\n<h1 id=\"引入要用的函數\"><a href=\"#引入要用的函數\" class=\"headerlink\" title=\"引入要用的函數\"></a>引入要用的函數</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> keras.models <span class=\"keyword\">import</span> Sequential</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.layers <span class=\"keyword\">import</span> Dense, Activation</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.utils <span class=\"keyword\">import</span> np_utils</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>keras.models: 從 Keras 引入 models（模型），Sequential 是 linear stack of layers（多個網絡層的線性堆疊），單輸入單輸出。</li>\n<li>keras.layers: 從 Keras 引入 layers（層）的 Dense 類型。Dense 類型的層（layers）為具有64個神經元。</li>\n<li>keras.utils: 從 Keras 引入 utils（工具）的 np_utils 函數。</li>\n<li>np 即 numpy，而 NumPy 是 Python 語言的一個擴充程式庫。</li>\n</ul>\n<h1 id=\"準備測試資料\"><a href=\"#準備測試資料\" class=\"headerlink\" title=\"準備測試資料\"></a>準備測試資料</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = np.random.random((<span class=\"number\">1000</span>,<span class=\"number\">784</span>))</span><br></pre></td></tr></table></figure>\n\n<p>建立一組測試資料，使用 np.random.random 在 [0, 1) 中產生隨機數，DATA 為 1000 行 784 列（1000x784）的陣列。</p>\n<h1 id=\"準備要逼近的目標資料\"><a href=\"#準備要逼近的目標資料\" class=\"headerlink\" title=\"準備要逼近的目標資料\"></a>準備要逼近的目標資料</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">labels = np.random.randint(<span class=\"number\">10</span>, size=(<span class=\"number\">1000</span>,<span class=\"number\">1</span>))</span><br><span class=\"line\">labels = np_utils.to_categorical(labels,<span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://www.itread01.com/content/1541532849.html\">numpy.random.randint</a>是矩陣變數，其語法為 numpy.random.randint(low, high&#x3D;None, size&#x3D;None)。labels 結果 為 1 維隨機整數組（1000x1）ex: <code>array([0],[8],[6],…[9])</code>，因沒有 high 的值， 數值隨機介於[0,10)。</li>\n<li><a href=\"https://www.itread01.com/content/1549602019.html\">to_categorical</a> 將類別向量轉換为二進制（只有0和1）的矩陣類型，原來 labels 為 1 維隨機整數組（1000x1），to_categorical 按照 10 個類別將這 1 維隨機整數組的每個值都轉換為矩陣裡的一個行向量。</li>\n</ul>\n<p>舉例來說，<code>array([0],[8],[6],…[9])</code>的1維整數組，to_categorical 按照 10 個類別將 array 轉換為<br>array<br>[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]<br> [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.] <br> [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]…<br> [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]</p>\n<h1 id=\"創建和添加-layer-到-model\"><a href=\"#創建和添加-layer-到-model\" class=\"headerlink\" title=\"創建和添加 layer 到 model\"></a>創建和添加 layer 到 model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model = Sequential()</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>, input_dim=<span class=\"number\">784</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">10</span>, activation=<span class=\"string\">&#x27;softmax&#x27;</span>))</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>定義Sequential模型，並model.add添加層。</li>\n<li>此範例第一步添加 Dense 類型的層（layers）為具有64個神經元。由於模型需要知道它所期望的輸入尺寸，順序模型中的第一層需要接收關於其輸入尺寸的參數信息（Dense支持通過參數 input_dim 指定輸入參數信息，而某些 3D 時序層支持 input_dim 和 input_length 參數。</li>\n<li>ReLU為激勵函數（Activation Function）之一，<a href=\"https://mropengate.blogspot.com/2017/02/deep-learning-role-of-activation.html\">詳見此</a>。</li>\n<li>Softmax為激勵函數（Activation Function）之一，<a href=\"https://blog.csdn.net/bitcarmanlee/article/details/82320853\">詳見此</a>。</li>\n</ul>\n<h1 id=\"compile-編譯-model\"><a href=\"#compile-編譯-model\" class=\"headerlink\" title=\"compile (編譯) model\"></a>compile (編譯) model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.<span class=\"built_in\">compile</span>(optimizer=<span class=\"string\">&#x27;rmsprop&#x27;</span>,</span><br><span class=\"line\">              loss=<span class=\"string\">&#x27;categorical_crossentropy&#x27;</span>,</span><br><span class=\"line\">              metrics=[<span class=\"string\">&quot;accuracy&quot;</span>])</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>模型在使用前必須編譯模型（model.compile）</li>\n<li>Optimizer (優化器)為 RMSprop：優化器目的是建立優化模型，優化目標函數並訓練出最好的模型，其功能是通過改善訓練方式，來最小化 (或最大化) 損失函數。RMSprop，<a href=\"https://zhuanlan.zhihu.com/p/34230849\">詳見此</a></li>\n<li>loss (損失函數)為 categorical_crossentropy：損失函數基本上可以分成兩個面向(分類和回歸)，但都是希望最小化損失。loss(損失)就是實際和預測的殘差，損失愈小愈好。categorical_crossentropy，<a href=\"https://blog.csdn.net/legalhighhigh/article/details/81409551\">詳見此</a></li>\n<li>metric (度量函數) 來評估模型性能，’accuracy’為評估指標。<a href=\"https://www.cnblogs.com/weiyinfu/p/9783776.html\">詳見此</a></li>\n</ul>\n<h1 id=\"Train-model\"><a href=\"#Train-model\" class=\"headerlink\" title=\"Train model\"></a>Train model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.fit(data, labels)</span><br></pre></td></tr></table></figure>\n\n<p>最後設定參數輸入 data 與目標 labels，來 model.fit，也就是訓練模型。<br>執行結果，如圖表示以 TensorFlow 作為引擎使用，損失率為 2.3494，準確度為 0.0920。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*dIwMENM7YtaYqdFOOYnQvw.png\" alt=\"執行結果\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><p><a href=\"https://laoweizz.blogspot.com/2018/12/keras.html\">Keras 簡介</a></p>\n</li>\n<li><p><a href=\"https://medium.com/@baubibi/%E9%80%9F%E8%A8%98ai%E8%AA%B2%E7%A8%8B-%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E5%85%A5%E9%96%80-%E4%B8%80-68e27912ce30\">速記AI課程－深度學習入門（一）</a></p>\n</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/768px-Python-logo-notext.svg.png","excerpt":"<p>model API 分為 Sequential （循序型） 和 Functional（多功能型）。</p>\n<ol>\n<li>Sequential API: 用於單輸入單輸出，簡單的 model 由簡單的 layers 串接組成。</li>\n<li>Functional API: 用於多輸入多輸出，layers 可有分支並可共用而組成複雜模型。</li>\n</ol>\n<p>簡單的keras 的工作流程如下:</p>\n<ol>\n<li>創建 model</li>\n<li>創建和添加 layer 到 model</li>\n<li>compile (編譯) model</li>\n<li>Train model</li>\n<li>訓練完成後可用於 prediction (預測) 或 evaluation (評估)</li>\n</ol>\n<p>本篇只是測試安裝環境是否成功，所以只會練習到工作流程第 4 點。</p>","more":"<h1 id=\"基本概念\"><a href=\"#基本概念\" class=\"headerlink\" title=\"基本概念\"></a>基本概念</h1><p>DL (Deep Learning) 是擁有多個且多層神經元之 NN (Neural Network 神經網路)，而所謂的多層通常是指隱藏層（Hidden Layer）。DL 要用幾層、每層要有幾個節點（神經元）、每個節點間要如何相連、要採用什麼激勵函數等（統稱網路架構），都是由我們決定，因此可以說是 NN 的天賦；而權重與誤差則是透過大量資料自動學習而得，可以視為是 NN 後天的努力結果。</p>\n<p><img src=\"https://miro.medium.com/proxy/1*5egrX--WuyrLA7gBEXdg5A.png\" alt=\"Deep Learning\"></p>\n<h1 id=\"此篇要練習的完整程式碼\"><a href=\"#此篇要練習的完整程式碼\" class=\"headerlink\" title=\"此篇要練習的完整程式碼\"></a>此篇要練習的完整程式碼</h1><p>這次要練習的完整程式碼如下：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 引入要用的函數</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.models <span class=\"keyword\">import</span> Sequential</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.layers <span class=\"keyword\">import</span> Dense, Activation</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.utils <span class=\"keyword\">import</span> np_utils</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 準備測試資料</span></span><br><span class=\"line\">data = np.random.random((<span class=\"number\">1000</span>,<span class=\"number\">784</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 準備要逼近的目標資料</span></span><br><span class=\"line\">labels = np.random.randint(<span class=\"number\">10</span>, size=(<span class=\"number\">1000</span>,<span class=\"number\">1</span>))</span><br><span class=\"line\">labels = np_utils.to_categorical(labels,<span class=\"number\">10</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 創建 model</span></span><br><span class=\"line\">model = Sequential()</span><br><span class=\"line\"><span class=\"comment\"># 創建和添加 layer 到 model</span></span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>, input_dim=<span class=\"number\">784</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">10</span>, activation=<span class=\"string\">&#x27;softmax&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># compile (編譯) model</span></span><br><span class=\"line\">model.<span class=\"built_in\">compile</span>(optimizer=<span class=\"string\">&#x27;rmsprop&#x27;</span>,</span><br><span class=\"line\">              loss=<span class=\"string\">&#x27;categorical_crossentropy&#x27;</span>,</span><br><span class=\"line\">              metrics=[<span class=\"string\">&quot;accuracy&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Train model</span></span><br><span class=\"line\">model.fit(data, labels)</span><br></pre></td></tr></table></figure>\n\n<p>以下我們分段解說程式碼。</p>\n<h1 id=\"引入要用的函數\"><a href=\"#引入要用的函數\" class=\"headerlink\" title=\"引入要用的函數\"></a>引入要用的函數</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> keras.models <span class=\"keyword\">import</span> Sequential</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.layers <span class=\"keyword\">import</span> Dense, Activation</span><br><span class=\"line\"><span class=\"keyword\">from</span> keras.utils <span class=\"keyword\">import</span> np_utils</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>keras.models: 從 Keras 引入 models（模型），Sequential 是 linear stack of layers（多個網絡層的線性堆疊），單輸入單輸出。</li>\n<li>keras.layers: 從 Keras 引入 layers（層）的 Dense 類型。Dense 類型的層（layers）為具有64個神經元。</li>\n<li>keras.utils: 從 Keras 引入 utils（工具）的 np_utils 函數。</li>\n<li>np 即 numpy，而 NumPy 是 Python 語言的一個擴充程式庫。</li>\n</ul>\n<h1 id=\"準備測試資料\"><a href=\"#準備測試資料\" class=\"headerlink\" title=\"準備測試資料\"></a>準備測試資料</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = np.random.random((<span class=\"number\">1000</span>,<span class=\"number\">784</span>))</span><br></pre></td></tr></table></figure>\n\n<p>建立一組測試資料，使用 np.random.random 在 [0, 1) 中產生隨機數，DATA 為 1000 行 784 列（1000x784）的陣列。</p>\n<h1 id=\"準備要逼近的目標資料\"><a href=\"#準備要逼近的目標資料\" class=\"headerlink\" title=\"準備要逼近的目標資料\"></a>準備要逼近的目標資料</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">labels = np.random.randint(<span class=\"number\">10</span>, size=(<span class=\"number\">1000</span>,<span class=\"number\">1</span>))</span><br><span class=\"line\">labels = np_utils.to_categorical(labels,<span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://www.itread01.com/content/1541532849.html\">numpy.random.randint</a>是矩陣變數，其語法為 numpy.random.randint(low, high&#x3D;None, size&#x3D;None)。labels 結果 為 1 維隨機整數組（1000x1）ex: <code>array([0],[8],[6],…[9])</code>，因沒有 high 的值， 數值隨機介於[0,10)。</li>\n<li><a href=\"https://www.itread01.com/content/1549602019.html\">to_categorical</a> 將類別向量轉換为二進制（只有0和1）的矩陣類型，原來 labels 為 1 維隨機整數組（1000x1），to_categorical 按照 10 個類別將這 1 維隨機整數組的每個值都轉換為矩陣裡的一個行向量。</li>\n</ul>\n<p>舉例來說，<code>array([0],[8],[6],…[9])</code>的1維整數組，to_categorical 按照 10 個類別將 array 轉換為<br>array<br>[[1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]<br> [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.] <br> [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]…<br> [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]]</p>\n<h1 id=\"創建和添加-layer-到-model\"><a href=\"#創建和添加-layer-到-model\" class=\"headerlink\" title=\"創建和添加 layer 到 model\"></a>創建和添加 layer 到 model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model = Sequential()</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>, input_dim=<span class=\"number\">784</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">64</span>, activation=<span class=\"string\">&#x27;relu&#x27;</span>))</span><br><span class=\"line\">model.add(Dense(<span class=\"number\">10</span>, activation=<span class=\"string\">&#x27;softmax&#x27;</span>))</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>定義Sequential模型，並model.add添加層。</li>\n<li>此範例第一步添加 Dense 類型的層（layers）為具有64個神經元。由於模型需要知道它所期望的輸入尺寸，順序模型中的第一層需要接收關於其輸入尺寸的參數信息（Dense支持通過參數 input_dim 指定輸入參數信息，而某些 3D 時序層支持 input_dim 和 input_length 參數。</li>\n<li>ReLU為激勵函數（Activation Function）之一，<a href=\"https://mropengate.blogspot.com/2017/02/deep-learning-role-of-activation.html\">詳見此</a>。</li>\n<li>Softmax為激勵函數（Activation Function）之一，<a href=\"https://blog.csdn.net/bitcarmanlee/article/details/82320853\">詳見此</a>。</li>\n</ul>\n<h1 id=\"compile-編譯-model\"><a href=\"#compile-編譯-model\" class=\"headerlink\" title=\"compile (編譯) model\"></a>compile (編譯) model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.<span class=\"built_in\">compile</span>(optimizer=<span class=\"string\">&#x27;rmsprop&#x27;</span>,</span><br><span class=\"line\">              loss=<span class=\"string\">&#x27;categorical_crossentropy&#x27;</span>,</span><br><span class=\"line\">              metrics=[<span class=\"string\">&quot;accuracy&quot;</span>])</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>模型在使用前必須編譯模型（model.compile）</li>\n<li>Optimizer (優化器)為 RMSprop：優化器目的是建立優化模型，優化目標函數並訓練出最好的模型，其功能是通過改善訓練方式，來最小化 (或最大化) 損失函數。RMSprop，<a href=\"https://zhuanlan.zhihu.com/p/34230849\">詳見此</a></li>\n<li>loss (損失函數)為 categorical_crossentropy：損失函數基本上可以分成兩個面向(分類和回歸)，但都是希望最小化損失。loss(損失)就是實際和預測的殘差，損失愈小愈好。categorical_crossentropy，<a href=\"https://blog.csdn.net/legalhighhigh/article/details/81409551\">詳見此</a></li>\n<li>metric (度量函數) 來評估模型性能，’accuracy’為評估指標。<a href=\"https://www.cnblogs.com/weiyinfu/p/9783776.html\">詳見此</a></li>\n</ul>\n<h1 id=\"Train-model\"><a href=\"#Train-model\" class=\"headerlink\" title=\"Train model\"></a>Train model</h1><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">model.fit(data, labels)</span><br></pre></td></tr></table></figure>\n\n<p>最後設定參數輸入 data 與目標 labels，來 model.fit，也就是訓練模型。<br>執行結果，如圖表示以 TensorFlow 作為引擎使用，損失率為 2.3494，準確度為 0.0920。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1600/1*dIwMENM7YtaYqdFOOYnQvw.png\" alt=\"執行結果\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><p><a href=\"https://laoweizz.blogspot.com/2018/12/keras.html\">Keras 簡介</a></p>\n</li>\n<li><p><a href=\"https://medium.com/@baubibi/%E9%80%9F%E8%A8%98ai%E8%AA%B2%E7%A8%8B-%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E5%85%A5%E9%96%80-%E4%B8%80-68e27912ce30\">速記AI課程－深度學習入門（一）</a></p>\n</li>\n</ul>"},{"title":"Use Cypress with Cucumber for UI Testing","thumbnailImage":"https://avatars2.githubusercontent.com/u/8908513?s=400&v=4","thumbnailImagePosition":"left","coverImage":"https://i.udemycdn.com/course/750x422/2470214_97a0_4.jpg","coverMeta":"out","date":"2020-01-03T16:00:00.000Z","updated":"2020-01-03T16:00:00.000Z","_content":"\n隨著時間越長，專案總會越寫越多功能，可是如果每次重構後都要人工測試，會花費很多不必要的時間。所以為了往後能安心的重構程式，我想要一個可以方便 debug 且使用簡易的 UI Testing Framework。參考了許多架構後，決定要使用 cypress + cucumber 來寫測試。\n\n<!--more-->\n\n[Cypress](https://www.cypress.io/) 的好處是對於開發者非常友善，開發時在 chrome 瀏覽器模擬，且有變更都會自動觸發 reload，大大減少每次重跑的繁瑣動作，且每個步驟的紀錄都會視覺化的呈現在左方，Debug 時還可隨時搭配 chrome dev tool，真的是開發者的救星呀～如果要搭配 CI 的話，他也有 headless 模式啟用 electron 來跑模擬，出來的 log 也是非常漂亮還會順便錄影！\n\n[Cucumber](https://cucumber.io/) 的好處是他可以寫可讀性高的測試情境，讀寫上很直覺，搭配不同 tag 的功能，可以把測試情境分類的很清楚。\n\n接著我們就來介紹怎麼結合 cypress 和 cucumber 吧～\n\n# 安裝 cypress + cucumber\n\n專案內安裝 cypress\n\n```\nnpm install cypress --save-dev\n```\n\n在 `package.json` 加上啟動 cpress 指令並執行 `npm run cypress:open`。\n\n```json\n{\n  \"scripts\": {\n    \"cypress:open\": \"cypress open\"\n  }\n}\n```\n\n若啟動成功會自動建立測試情境，確定安裝完成後，可刪掉範例。\n\n![npm run cypress:open](https://lh3.googleusercontent.com/OSU2uLttYHh0s8kaXnZocadud55Ocg3pyVv3_qE4xK7X6DoKsLxdu5_xbRUpiqGEAQlgFuqg2JoCYQBnUQ6GjDpyBz7th_1HzIeu9jR_GcWq5h1_jYaJuiqN7NESfbV8md-WAfZA1juon6IzsD173Y3-yoF2WLfnVrX_A8TPLrWajG67KGg4rBCDDzdE2hQmEb4ZH8JSKSgSOPwUbDsAyfqjzWDeV960edneVbOF4QubqRro6e4E19g5W3AxN1csRix71ltckQjgzu_gGE4lqxLN0khOgRCDwORgTmlhDipHi9Gk10l2hPuD-1w673agOUFqJdZf8zCdK3EIHxOsj2hJv7Za6iz3r7cjp3FqYTlKjBpoz3w_fWASXHCokwzq7h5hyzYS4aj58CWN4MSKd08zPpP-xKdK-f5fdkvh0vs0J6T2IrQYCaA9RSsaAMp6DHD9FwFe0wN1T2oj8rLuQ5fUMbyq0G8IzFUi8Hbyw06yD_lWMaFdGj-eoXug0tfAgAygE3L06DZalwhltkyIajN4h2iFu922dAEJQyEH2UvF_N8mjXShSrZdSmJ-WpJANLnzQqgjaO51x2Ub0zrd1nLuzuG8eSGyRHtEN17YGmhOEvcnX7O7pDEbrM4VeAKuvJ80-HUzF9Pe3lPtoI6tK1iN5wVQPzKTHvMyym576jk1sKUdv2zwo6nXUFVD_z_7WoVNP8E2OtZREC-aDlKy4LSbJP0P206fRR4VlBcmq8DZcdO1AA=w1720-h1196-no \"npm run cypress:open\")\n\n關掉 cypress 視窗，接下來我們安裝 cucumber plugin\n\n```\nnpm install --save-dev cypress-cucumber-preprocessor\n```\n\n在 `cypress/plugins/index.js` 設置 plugin\n\n```js\nconst cucumber = require('cypress-cucumber-preprocessor').default\n\nmodule.exports = (on, config) => {\n  on('file:preprocessor', cucumber())\n}\n```\n\n在 `cypress.json` 設置測試檔案位置\n\n```json\n{\n  \"testFiles\": \"**/*.feature\"\n}\n```\n\n在 `package.json` 設置 cucumber 的情境預設非 global，這樣可以區分是否要用 global 的情境。\n\n```json\n\"cypress-cucumber-preprocessor\": {\n  \"nonGlobalStepDefinitions\": true\n},\n```\n\n把原本 cypress/integration, cypress/fixtures 資料夾的檔案都刪除，就可以開始寫一個測試囉～\n\n# 寫一個測試\n\n新增 `cypress/integration/Google.feature`\n\n```feature\n# language: zh-TW\n功能: Google\n    * 前往 Google 首頁\n    \n    @Google\n    場景: 前往 Google 首頁\n        假設 前往 Google 網址\n        那麼 看到標題包含 \"Google\"\n```\n\n@Google 這個 tag 是讓你能將測試做分類，這樣之後要跑測試的時候，可以指定執行特定類別。\n\n新增 `cypress/integration/Google/google.js`\n\n```js\nimport { Given } from \"cypress-cucumber-preprocessor/steps\";\n\nconst url = 'https://google.com'\n\nGiven('前往 Google 網址', () => {\n  cy.visit(url)\n})\n```\n\n若是放在自訂的資料夾內，則情境不會被共用，下面示範將看到標題這個結果放在 global 的情況。\n\n新增 `cypress/integration/common/i_see_string_in_the_title.js`\n\n```js\nimport { Then } from \"cypress-cucumber-preprocessor/steps\";\n\nThen(`看到標題包含 {string}`, (title) => {\n  cy.title().should('include', title)\n})\n```\n\n這樣我們就放好 global 的情境囉～其他情境若是要共用的話就可以不用再寫一次。\n\n# 測試～跑起來吧！\n\n因為剛剛有使用 tag 的功能，所以我們可以把 npm script 改成指定執行特定標籤，`package.json` 修改如下。\n\n```json\n\"scripts\": {\n  \"cypress:open\": \"cypress open -e TAGS=@Google\"\n},\n```\n\n再次執行 `npm run cypress:open`。跳出 cypress 視窗後，點選 Google.feature 開始測試，成功就會出現下面的畫面囉～\n\n![npm run cypress:open](https://lh3.googleusercontent.com/3NKaZFg0tnUSbAdvXVq8YQ2y2nVZeUmNQ1oiCujS9rltLp-920w2uP4-bY38Wqg3aDooYB4BBR9wB_ndxabv-8y0r0Q_PTeKF38zHSa4BM5rNksa9X65HNTG_DtguFuB6W-wzSlno2A8l0c1aZFl-bgpmXoUCgKQmS1mAH-Ep5CpOZ7VMeebFambMqaoSBsYpWlhEzneck1Luk4oo-n1ilw1U4T8sAbZ61D00-gcPdNPD4pJNIoJjwsoQys38NbQGlGKFjoCOP4qZEn84VDuY_sRBQaUbV1LUKBzoJWs0QzgO2cn4WAVfQ9b6SiM50VivyHre9awThFdy8FPCteyIUW185Ssf0k8HtKPghH9blF4fL5iigVO97F_VYby50hlX21vAQUNCk8jtIAPp9NHqVKuWditNgKKlsUpVwRS-UVsBBvE9ChpIh3UrDlyb0otGggx2CgBzu3CASL5vxSElUtGuKdUddjD5HUojNUD2Ua_pZBHr1uEOumD6L5ypSlkx5GbhWjxTB9ROqTtsr6w7fOLH0KcjG0cfSnap9igjoJ-eVI0oKFgkJv1gqXz8hyQEgKW0_xWwBay0p1hVjG2zEVHrHByzgdIzWZ0fdWe1NVdcavOvHhfO7bnYv-EXrVFcfH_EZRqRV02oK3Q3Zl-wFh6v2oJ7HIwdiwh8nOBep4g3QI0jKrd30f3hmFOgQZlUieKrTjZQ9xh8ZM47RZbFs1elT9VLPAp0unTXixIl1w7VyYunA=w2206-h1378-no \"npm run cypress:open\")\n\n今天的練習放在 [Github](https://github.com/Annilla/cycpress-cucumber-practice/tree/v1.0)，下回見～\n\n# Reference\n\n* [Cypress](https://www.cypress.io/)\n* [Cucumber](https://cucumber.io/)\n* [cypress-cucumber-preprocessor](https://github.com/TheBrainFamily/cypress-cucumber-preprocessor)","source":"_posts/Testing/Use-Cypress-ui-testing.md","raw":"---\ntitle: Use Cypress with Cucumber for UI Testing\ncategories:\n  - Testing\nthumbnailImage: https://avatars2.githubusercontent.com/u/8908513?s=400&v=4\nthumbnailImagePosition: left\ncoverImage: https://i.udemycdn.com/course/750x422/2470214_97a0_4.jpg\ncoverMeta: out\ntags: [Cypress, Testing, Cucumber, JS]\ndate: 2020/01/04\nupdated: 2020/01/04\n---\n\n隨著時間越長，專案總會越寫越多功能，可是如果每次重構後都要人工測試，會花費很多不必要的時間。所以為了往後能安心的重構程式，我想要一個可以方便 debug 且使用簡易的 UI Testing Framework。參考了許多架構後，決定要使用 cypress + cucumber 來寫測試。\n\n<!--more-->\n\n[Cypress](https://www.cypress.io/) 的好處是對於開發者非常友善，開發時在 chrome 瀏覽器模擬，且有變更都會自動觸發 reload，大大減少每次重跑的繁瑣動作，且每個步驟的紀錄都會視覺化的呈現在左方，Debug 時還可隨時搭配 chrome dev tool，真的是開發者的救星呀～如果要搭配 CI 的話，他也有 headless 模式啟用 electron 來跑模擬，出來的 log 也是非常漂亮還會順便錄影！\n\n[Cucumber](https://cucumber.io/) 的好處是他可以寫可讀性高的測試情境，讀寫上很直覺，搭配不同 tag 的功能，可以把測試情境分類的很清楚。\n\n接著我們就來介紹怎麼結合 cypress 和 cucumber 吧～\n\n# 安裝 cypress + cucumber\n\n專案內安裝 cypress\n\n```\nnpm install cypress --save-dev\n```\n\n在 `package.json` 加上啟動 cpress 指令並執行 `npm run cypress:open`。\n\n```json\n{\n  \"scripts\": {\n    \"cypress:open\": \"cypress open\"\n  }\n}\n```\n\n若啟動成功會自動建立測試情境，確定安裝完成後，可刪掉範例。\n\n![npm run cypress:open](https://lh3.googleusercontent.com/OSU2uLttYHh0s8kaXnZocadud55Ocg3pyVv3_qE4xK7X6DoKsLxdu5_xbRUpiqGEAQlgFuqg2JoCYQBnUQ6GjDpyBz7th_1HzIeu9jR_GcWq5h1_jYaJuiqN7NESfbV8md-WAfZA1juon6IzsD173Y3-yoF2WLfnVrX_A8TPLrWajG67KGg4rBCDDzdE2hQmEb4ZH8JSKSgSOPwUbDsAyfqjzWDeV960edneVbOF4QubqRro6e4E19g5W3AxN1csRix71ltckQjgzu_gGE4lqxLN0khOgRCDwORgTmlhDipHi9Gk10l2hPuD-1w673agOUFqJdZf8zCdK3EIHxOsj2hJv7Za6iz3r7cjp3FqYTlKjBpoz3w_fWASXHCokwzq7h5hyzYS4aj58CWN4MSKd08zPpP-xKdK-f5fdkvh0vs0J6T2IrQYCaA9RSsaAMp6DHD9FwFe0wN1T2oj8rLuQ5fUMbyq0G8IzFUi8Hbyw06yD_lWMaFdGj-eoXug0tfAgAygE3L06DZalwhltkyIajN4h2iFu922dAEJQyEH2UvF_N8mjXShSrZdSmJ-WpJANLnzQqgjaO51x2Ub0zrd1nLuzuG8eSGyRHtEN17YGmhOEvcnX7O7pDEbrM4VeAKuvJ80-HUzF9Pe3lPtoI6tK1iN5wVQPzKTHvMyym576jk1sKUdv2zwo6nXUFVD_z_7WoVNP8E2OtZREC-aDlKy4LSbJP0P206fRR4VlBcmq8DZcdO1AA=w1720-h1196-no \"npm run cypress:open\")\n\n關掉 cypress 視窗，接下來我們安裝 cucumber plugin\n\n```\nnpm install --save-dev cypress-cucumber-preprocessor\n```\n\n在 `cypress/plugins/index.js` 設置 plugin\n\n```js\nconst cucumber = require('cypress-cucumber-preprocessor').default\n\nmodule.exports = (on, config) => {\n  on('file:preprocessor', cucumber())\n}\n```\n\n在 `cypress.json` 設置測試檔案位置\n\n```json\n{\n  \"testFiles\": \"**/*.feature\"\n}\n```\n\n在 `package.json` 設置 cucumber 的情境預設非 global，這樣可以區分是否要用 global 的情境。\n\n```json\n\"cypress-cucumber-preprocessor\": {\n  \"nonGlobalStepDefinitions\": true\n},\n```\n\n把原本 cypress/integration, cypress/fixtures 資料夾的檔案都刪除，就可以開始寫一個測試囉～\n\n# 寫一個測試\n\n新增 `cypress/integration/Google.feature`\n\n```feature\n# language: zh-TW\n功能: Google\n    * 前往 Google 首頁\n    \n    @Google\n    場景: 前往 Google 首頁\n        假設 前往 Google 網址\n        那麼 看到標題包含 \"Google\"\n```\n\n@Google 這個 tag 是讓你能將測試做分類，這樣之後要跑測試的時候，可以指定執行特定類別。\n\n新增 `cypress/integration/Google/google.js`\n\n```js\nimport { Given } from \"cypress-cucumber-preprocessor/steps\";\n\nconst url = 'https://google.com'\n\nGiven('前往 Google 網址', () => {\n  cy.visit(url)\n})\n```\n\n若是放在自訂的資料夾內，則情境不會被共用，下面示範將看到標題這個結果放在 global 的情況。\n\n新增 `cypress/integration/common/i_see_string_in_the_title.js`\n\n```js\nimport { Then } from \"cypress-cucumber-preprocessor/steps\";\n\nThen(`看到標題包含 {string}`, (title) => {\n  cy.title().should('include', title)\n})\n```\n\n這樣我們就放好 global 的情境囉～其他情境若是要共用的話就可以不用再寫一次。\n\n# 測試～跑起來吧！\n\n因為剛剛有使用 tag 的功能，所以我們可以把 npm script 改成指定執行特定標籤，`package.json` 修改如下。\n\n```json\n\"scripts\": {\n  \"cypress:open\": \"cypress open -e TAGS=@Google\"\n},\n```\n\n再次執行 `npm run cypress:open`。跳出 cypress 視窗後，點選 Google.feature 開始測試，成功就會出現下面的畫面囉～\n\n![npm run cypress:open](https://lh3.googleusercontent.com/3NKaZFg0tnUSbAdvXVq8YQ2y2nVZeUmNQ1oiCujS9rltLp-920w2uP4-bY38Wqg3aDooYB4BBR9wB_ndxabv-8y0r0Q_PTeKF38zHSa4BM5rNksa9X65HNTG_DtguFuB6W-wzSlno2A8l0c1aZFl-bgpmXoUCgKQmS1mAH-Ep5CpOZ7VMeebFambMqaoSBsYpWlhEzneck1Luk4oo-n1ilw1U4T8sAbZ61D00-gcPdNPD4pJNIoJjwsoQys38NbQGlGKFjoCOP4qZEn84VDuY_sRBQaUbV1LUKBzoJWs0QzgO2cn4WAVfQ9b6SiM50VivyHre9awThFdy8FPCteyIUW185Ssf0k8HtKPghH9blF4fL5iigVO97F_VYby50hlX21vAQUNCk8jtIAPp9NHqVKuWditNgKKlsUpVwRS-UVsBBvE9ChpIh3UrDlyb0otGggx2CgBzu3CASL5vxSElUtGuKdUddjD5HUojNUD2Ua_pZBHr1uEOumD6L5ypSlkx5GbhWjxTB9ROqTtsr6w7fOLH0KcjG0cfSnap9igjoJ-eVI0oKFgkJv1gqXz8hyQEgKW0_xWwBay0p1hVjG2zEVHrHByzgdIzWZ0fdWe1NVdcavOvHhfO7bnYv-EXrVFcfH_EZRqRV02oK3Q3Zl-wFh6v2oJ7HIwdiwh8nOBep4g3QI0jKrd30f3hmFOgQZlUieKrTjZQ9xh8ZM47RZbFs1elT9VLPAp0unTXixIl1w7VyYunA=w2206-h1378-no \"npm run cypress:open\")\n\n今天的練習放在 [Github](https://github.com/Annilla/cycpress-cucumber-practice/tree/v1.0)，下回見～\n\n# Reference\n\n* [Cypress](https://www.cypress.io/)\n* [Cucumber](https://cucumber.io/)\n* [cypress-cucumber-preprocessor](https://github.com/TheBrainFamily/cypress-cucumber-preprocessor)","slug":"Testing/Use-Cypress-ui-testing","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qv002cr3y71fbeakm5","content":"<p>隨著時間越長，專案總會越寫越多功能，可是如果每次重構後都要人工測試，會花費很多不必要的時間。所以為了往後能安心的重構程式，我想要一個可以方便 debug 且使用簡易的 UI Testing Framework。參考了許多架構後，決定要使用 cypress + cucumber 來寫測試。</p>\n<span id=\"more\"></span>\n\n<p><a href=\"https://www.cypress.io/\">Cypress</a> 的好處是對於開發者非常友善，開發時在 chrome 瀏覽器模擬，且有變更都會自動觸發 reload，大大減少每次重跑的繁瑣動作，且每個步驟的紀錄都會視覺化的呈現在左方，Debug 時還可隨時搭配 chrome dev tool，真的是開發者的救星呀～如果要搭配 CI 的話，他也有 headless 模式啟用 electron 來跑模擬，出來的 log 也是非常漂亮還會順便錄影！</p>\n<p><a href=\"https://cucumber.io/\">Cucumber</a> 的好處是他可以寫可讀性高的測試情境，讀寫上很直覺，搭配不同 tag 的功能，可以把測試情境分類的很清楚。</p>\n<p>接著我們就來介紹怎麼結合 cypress 和 cucumber 吧～</p>\n<h1 id=\"安裝-cypress-cucumber\"><a href=\"#安裝-cypress-cucumber\" class=\"headerlink\" title=\"安裝 cypress + cucumber\"></a>安裝 cypress + cucumber</h1><p>專案內安裝 cypress</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install cypress --save-dev</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>package.json</code> 加上啟動 cpress 指令並執行 <code>npm run cypress:open</code>。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cypress:open&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cypress open&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>若啟動成功會自動建立測試情境，確定安裝完成後，可刪掉範例。</p>\n<p><img src=\"https://lh3.googleusercontent.com/OSU2uLttYHh0s8kaXnZocadud55Ocg3pyVv3_qE4xK7X6DoKsLxdu5_xbRUpiqGEAQlgFuqg2JoCYQBnUQ6GjDpyBz7th_1HzIeu9jR_GcWq5h1_jYaJuiqN7NESfbV8md-WAfZA1juon6IzsD173Y3-yoF2WLfnVrX_A8TPLrWajG67KGg4rBCDDzdE2hQmEb4ZH8JSKSgSOPwUbDsAyfqjzWDeV960edneVbOF4QubqRro6e4E19g5W3AxN1csRix71ltckQjgzu_gGE4lqxLN0khOgRCDwORgTmlhDipHi9Gk10l2hPuD-1w673agOUFqJdZf8zCdK3EIHxOsj2hJv7Za6iz3r7cjp3FqYTlKjBpoz3w_fWASXHCokwzq7h5hyzYS4aj58CWN4MSKd08zPpP-xKdK-f5fdkvh0vs0J6T2IrQYCaA9RSsaAMp6DHD9FwFe0wN1T2oj8rLuQ5fUMbyq0G8IzFUi8Hbyw06yD_lWMaFdGj-eoXug0tfAgAygE3L06DZalwhltkyIajN4h2iFu922dAEJQyEH2UvF_N8mjXShSrZdSmJ-WpJANLnzQqgjaO51x2Ub0zrd1nLuzuG8eSGyRHtEN17YGmhOEvcnX7O7pDEbrM4VeAKuvJ80-HUzF9Pe3lPtoI6tK1iN5wVQPzKTHvMyym576jk1sKUdv2zwo6nXUFVD_z_7WoVNP8E2OtZREC-aDlKy4LSbJP0P206fRR4VlBcmq8DZcdO1AA=w1720-h1196-no\" alt=\"npm run cypress:open\" title=\"npm run cypress:open\"></p>\n<p>關掉 cypress 視窗，接下來我們安裝 cucumber plugin</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev cypress-cucumber-preprocessor</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>cypress/plugins/index.js</code> 設置 plugin</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cucumber = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cypress-cucumber-preprocessor&#x27;</span>).<span class=\"property\">default</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"function\">(<span class=\"params\">on, config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">on</span>(<span class=\"string\">&#x27;file:preprocessor&#x27;</span>, <span class=\"title function_\">cucumber</span>())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>cypress.json</code> 設置測試檔案位置</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;testFiles&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;**/*.feature&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>在 <code>package.json</code> 設置 cucumber 的情境預設非 global，這樣可以區分是否要用 global 的情境。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;cypress-cucumber-preprocessor&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;nonGlobalStepDefinitions&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>把原本 cypress&#x2F;integration, cypress&#x2F;fixtures 資料夾的檔案都刪除，就可以開始寫一個測試囉～</p>\n<h1 id=\"寫一個測試\"><a href=\"#寫一個測試\" class=\"headerlink\" title=\"寫一個測試\"></a>寫一個測試</h1><p>新增 <code>cypress/integration/Google.feature</code></p>\n<figure class=\"highlight feature\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># language: zh-TW</span></span><br><span class=\"line\">功能: Google</span><br><span class=\"line\">    <span class=\"symbol\">*</span> 前往 Google 首頁</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Google</span></span><br><span class=\"line\">    場景: 前往 Google 首頁</span><br><span class=\"line\">        假設 前往 Google 網址</span><br><span class=\"line\">        那麼 看到標題包含 <span class=\"string\">&quot;Google&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>@Google 這個 tag 是讓你能將測試做分類，這樣之後要跑測試的時候，可以指定執行特定類別。</p>\n<p>新增 <code>cypress/integration/Google/google.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Given</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;cypress-cucumber-preprocessor/steps&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"string\">&#x27;https://google.com&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Given</span>(<span class=\"string\">&#x27;前往 Google 網址&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  cy.<span class=\"title function_\">visit</span>(url)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>若是放在自訂的資料夾內，則情境不會被共用，下面示範將看到標題這個結果放在 global 的情況。</p>\n<p>新增 <code>cypress/integration/common/i_see_string_in_the_title.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Then</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;cypress-cucumber-preprocessor/steps&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Then</span>(<span class=\"string\">`看到標題包含 &#123;string&#125;`</span>, <span class=\"function\">(<span class=\"params\">title</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  cy.<span class=\"title function_\">title</span>().<span class=\"title function_\">should</span>(<span class=\"string\">&#x27;include&#x27;</span>, title)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>這樣我們就放好 global 的情境囉～其他情境若是要共用的話就可以不用再寫一次。</p>\n<h1 id=\"測試～跑起來吧！\"><a href=\"#測試～跑起來吧！\" class=\"headerlink\" title=\"測試～跑起來吧！\"></a>測試～跑起來吧！</h1><p>因為剛剛有使用 tag 的功能，所以我們可以把 npm script 改成指定執行特定標籤，<code>package.json</code> 修改如下。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;cypress:open&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cypress open -e TAGS=@Google&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>再次執行 <code>npm run cypress:open</code>。跳出 cypress 視窗後，點選 Google.feature 開始測試，成功就會出現下面的畫面囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/3NKaZFg0tnUSbAdvXVq8YQ2y2nVZeUmNQ1oiCujS9rltLp-920w2uP4-bY38Wqg3aDooYB4BBR9wB_ndxabv-8y0r0Q_PTeKF38zHSa4BM5rNksa9X65HNTG_DtguFuB6W-wzSlno2A8l0c1aZFl-bgpmXoUCgKQmS1mAH-Ep5CpOZ7VMeebFambMqaoSBsYpWlhEzneck1Luk4oo-n1ilw1U4T8sAbZ61D00-gcPdNPD4pJNIoJjwsoQys38NbQGlGKFjoCOP4qZEn84VDuY_sRBQaUbV1LUKBzoJWs0QzgO2cn4WAVfQ9b6SiM50VivyHre9awThFdy8FPCteyIUW185Ssf0k8HtKPghH9blF4fL5iigVO97F_VYby50hlX21vAQUNCk8jtIAPp9NHqVKuWditNgKKlsUpVwRS-UVsBBvE9ChpIh3UrDlyb0otGggx2CgBzu3CASL5vxSElUtGuKdUddjD5HUojNUD2Ua_pZBHr1uEOumD6L5ypSlkx5GbhWjxTB9ROqTtsr6w7fOLH0KcjG0cfSnap9igjoJ-eVI0oKFgkJv1gqXz8hyQEgKW0_xWwBay0p1hVjG2zEVHrHByzgdIzWZ0fdWe1NVdcavOvHhfO7bnYv-EXrVFcfH_EZRqRV02oK3Q3Zl-wFh6v2oJ7HIwdiwh8nOBep4g3QI0jKrd30f3hmFOgQZlUieKrTjZQ9xh8ZM47RZbFs1elT9VLPAp0unTXixIl1w7VyYunA=w2206-h1378-no\" alt=\"npm run cypress:open\" title=\"npm run cypress:open\"></p>\n<p>今天的練習放在 <a href=\"https://github.com/Annilla/cycpress-cucumber-practice/tree/v1.0\">Github</a>，下回見～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.cypress.io/\">Cypress</a></li>\n<li><a href=\"https://cucumber.io/\">Cucumber</a></li>\n<li><a href=\"https://github.com/TheBrainFamily/cypress-cucumber-preprocessor\">cypress-cucumber-preprocessor</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://avatars2.githubusercontent.com/u/8908513?s=400&v=4","excerpt":"<p>隨著時間越長，專案總會越寫越多功能，可是如果每次重構後都要人工測試，會花費很多不必要的時間。所以為了往後能安心的重構程式，我想要一個可以方便 debug 且使用簡易的 UI Testing Framework。參考了許多架構後，決定要使用 cypress + cucumber 來寫測試。</p>","more":"<p><a href=\"https://www.cypress.io/\">Cypress</a> 的好處是對於開發者非常友善，開發時在 chrome 瀏覽器模擬，且有變更都會自動觸發 reload，大大減少每次重跑的繁瑣動作，且每個步驟的紀錄都會視覺化的呈現在左方，Debug 時還可隨時搭配 chrome dev tool，真的是開發者的救星呀～如果要搭配 CI 的話，他也有 headless 模式啟用 electron 來跑模擬，出來的 log 也是非常漂亮還會順便錄影！</p>\n<p><a href=\"https://cucumber.io/\">Cucumber</a> 的好處是他可以寫可讀性高的測試情境，讀寫上很直覺，搭配不同 tag 的功能，可以把測試情境分類的很清楚。</p>\n<p>接著我們就來介紹怎麼結合 cypress 和 cucumber 吧～</p>\n<h1 id=\"安裝-cypress-cucumber\"><a href=\"#安裝-cypress-cucumber\" class=\"headerlink\" title=\"安裝 cypress + cucumber\"></a>安裝 cypress + cucumber</h1><p>專案內安裝 cypress</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install cypress --save-dev</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>package.json</code> 加上啟動 cpress 指令並執行 <code>npm run cypress:open</code>。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;cypress:open&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cypress open&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>若啟動成功會自動建立測試情境，確定安裝完成後，可刪掉範例。</p>\n<p><img src=\"https://lh3.googleusercontent.com/OSU2uLttYHh0s8kaXnZocadud55Ocg3pyVv3_qE4xK7X6DoKsLxdu5_xbRUpiqGEAQlgFuqg2JoCYQBnUQ6GjDpyBz7th_1HzIeu9jR_GcWq5h1_jYaJuiqN7NESfbV8md-WAfZA1juon6IzsD173Y3-yoF2WLfnVrX_A8TPLrWajG67KGg4rBCDDzdE2hQmEb4ZH8JSKSgSOPwUbDsAyfqjzWDeV960edneVbOF4QubqRro6e4E19g5W3AxN1csRix71ltckQjgzu_gGE4lqxLN0khOgRCDwORgTmlhDipHi9Gk10l2hPuD-1w673agOUFqJdZf8zCdK3EIHxOsj2hJv7Za6iz3r7cjp3FqYTlKjBpoz3w_fWASXHCokwzq7h5hyzYS4aj58CWN4MSKd08zPpP-xKdK-f5fdkvh0vs0J6T2IrQYCaA9RSsaAMp6DHD9FwFe0wN1T2oj8rLuQ5fUMbyq0G8IzFUi8Hbyw06yD_lWMaFdGj-eoXug0tfAgAygE3L06DZalwhltkyIajN4h2iFu922dAEJQyEH2UvF_N8mjXShSrZdSmJ-WpJANLnzQqgjaO51x2Ub0zrd1nLuzuG8eSGyRHtEN17YGmhOEvcnX7O7pDEbrM4VeAKuvJ80-HUzF9Pe3lPtoI6tK1iN5wVQPzKTHvMyym576jk1sKUdv2zwo6nXUFVD_z_7WoVNP8E2OtZREC-aDlKy4LSbJP0P206fRR4VlBcmq8DZcdO1AA=w1720-h1196-no\" alt=\"npm run cypress:open\" title=\"npm run cypress:open\"></p>\n<p>關掉 cypress 視窗，接下來我們安裝 cucumber plugin</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev cypress-cucumber-preprocessor</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>cypress/plugins/index.js</code> 設置 plugin</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cucumber = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;cypress-cucumber-preprocessor&#x27;</span>).<span class=\"property\">default</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"function\">(<span class=\"params\">on, config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">on</span>(<span class=\"string\">&#x27;file:preprocessor&#x27;</span>, <span class=\"title function_\">cucumber</span>())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>cypress.json</code> 設置測試檔案位置</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;testFiles&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;**/*.feature&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>在 <code>package.json</code> 設置 cucumber 的情境預設非 global，這樣可以區分是否要用 global 的情境。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;cypress-cucumber-preprocessor&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;nonGlobalStepDefinitions&quot;</span><span class=\"punctuation\">:</span> <span class=\"keyword\">true</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>把原本 cypress&#x2F;integration, cypress&#x2F;fixtures 資料夾的檔案都刪除，就可以開始寫一個測試囉～</p>\n<h1 id=\"寫一個測試\"><a href=\"#寫一個測試\" class=\"headerlink\" title=\"寫一個測試\"></a>寫一個測試</h1><p>新增 <code>cypress/integration/Google.feature</code></p>\n<figure class=\"highlight feature\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># language: zh-TW</span></span><br><span class=\"line\">功能: Google</span><br><span class=\"line\">    <span class=\"symbol\">*</span> 前往 Google 首頁</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Google</span></span><br><span class=\"line\">    場景: 前往 Google 首頁</span><br><span class=\"line\">        假設 前往 Google 網址</span><br><span class=\"line\">        那麼 看到標題包含 <span class=\"string\">&quot;Google&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>@Google 這個 tag 是讓你能將測試做分類，這樣之後要跑測試的時候，可以指定執行特定類別。</p>\n<p>新增 <code>cypress/integration/Google/google.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Given</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;cypress-cucumber-preprocessor/steps&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> url = <span class=\"string\">&#x27;https://google.com&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Given</span>(<span class=\"string\">&#x27;前往 Google 網址&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  cy.<span class=\"title function_\">visit</span>(url)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>若是放在自訂的資料夾內，則情境不會被共用，下面示範將看到標題這個結果放在 global 的情況。</p>\n<p>新增 <code>cypress/integration/common/i_see_string_in_the_title.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Then</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;cypress-cucumber-preprocessor/steps&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Then</span>(<span class=\"string\">`看到標題包含 &#123;string&#125;`</span>, <span class=\"function\">(<span class=\"params\">title</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  cy.<span class=\"title function_\">title</span>().<span class=\"title function_\">should</span>(<span class=\"string\">&#x27;include&#x27;</span>, title)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>這樣我們就放好 global 的情境囉～其他情境若是要共用的話就可以不用再寫一次。</p>\n<h1 id=\"測試～跑起來吧！\"><a href=\"#測試～跑起來吧！\" class=\"headerlink\" title=\"測試～跑起來吧！\"></a>測試～跑起來吧！</h1><p>因為剛剛有使用 tag 的功能，所以我們可以把 npm script 改成指定執行特定標籤，<code>package.json</code> 修改如下。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;cypress:open&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;cypress open -e TAGS=@Google&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>再次執行 <code>npm run cypress:open</code>。跳出 cypress 視窗後，點選 Google.feature 開始測試，成功就會出現下面的畫面囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/3NKaZFg0tnUSbAdvXVq8YQ2y2nVZeUmNQ1oiCujS9rltLp-920w2uP4-bY38Wqg3aDooYB4BBR9wB_ndxabv-8y0r0Q_PTeKF38zHSa4BM5rNksa9X65HNTG_DtguFuB6W-wzSlno2A8l0c1aZFl-bgpmXoUCgKQmS1mAH-Ep5CpOZ7VMeebFambMqaoSBsYpWlhEzneck1Luk4oo-n1ilw1U4T8sAbZ61D00-gcPdNPD4pJNIoJjwsoQys38NbQGlGKFjoCOP4qZEn84VDuY_sRBQaUbV1LUKBzoJWs0QzgO2cn4WAVfQ9b6SiM50VivyHre9awThFdy8FPCteyIUW185Ssf0k8HtKPghH9blF4fL5iigVO97F_VYby50hlX21vAQUNCk8jtIAPp9NHqVKuWditNgKKlsUpVwRS-UVsBBvE9ChpIh3UrDlyb0otGggx2CgBzu3CASL5vxSElUtGuKdUddjD5HUojNUD2Ua_pZBHr1uEOumD6L5ypSlkx5GbhWjxTB9ROqTtsr6w7fOLH0KcjG0cfSnap9igjoJ-eVI0oKFgkJv1gqXz8hyQEgKW0_xWwBay0p1hVjG2zEVHrHByzgdIzWZ0fdWe1NVdcavOvHhfO7bnYv-EXrVFcfH_EZRqRV02oK3Q3Zl-wFh6v2oJ7HIwdiwh8nOBep4g3QI0jKrd30f3hmFOgQZlUieKrTjZQ9xh8ZM47RZbFs1elT9VLPAp0unTXixIl1w7VyYunA=w2206-h1378-no\" alt=\"npm run cypress:open\" title=\"npm run cypress:open\"></p>\n<p>今天的練習放在 <a href=\"https://github.com/Annilla/cycpress-cucumber-practice/tree/v1.0\">Github</a>，下回見～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.cypress.io/\">Cypress</a></li>\n<li><a href=\"https://cucumber.io/\">Cucumber</a></li>\n<li><a href=\"https://github.com/TheBrainFamily/cypress-cucumber-preprocessor\">cypress-cucumber-preprocessor</a></li>\n</ul>"},{"title":"2018 My Sketch Useful Plugins","thumbnailImage":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no","coverMeta":"out","date":"2018-11-03T16:00:00.000Z","updated":"2018-11-03T16:00:00.000Z","_content":"\n這次整理我平常有用且覺得好用的 `Sketch Plugin` 有哪些，有了這些 Plugin 讓我又節省了許多寶貴的時間。\n\n<!--more-->\n\n***\n## Abstract 版本控制\n\n這個不用多說了，之前有先寫了一篇專門講 `Abstract` 版本控制的文章，連結參考[這裡](../Git-Control-for-Using-Abstract-to-Manage-Sketch-Files)。\n\n***\n## Content Generator 內容生成器\n\n每次設計時作個資、照片等假資料又讓你心力憔悴了嗎？不用怕，`Content Generator` 讓你事半功倍，再也不用去 google 搜集資料。只要選起來要替換的部分，再設定要替換的內容即可輕輕鬆鬆完成。\n\nGithub: [https://github.com/timuric/Content-generator-sketch-plugin](https://github.com/timuric/Content-generator-sketch-plugin)\n\nDemo:\n\nGenerating pictures\n![Generating pictures](https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/userpics.gif \"Generating pictures\")\n\nGenerating names\n![Generating names](https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/names.gif \"Generating names\")\n\n其他更多 Demo，去 repo 就看的到囉～\n\n***\n## Paddy 間距設定工具\n\n這個工具主要是因為 Sketch 如果要做按鈕等中間文字長度不固定的元件時，每次都需要重新拉上下左右的間距。使用此工具可以設定固定的間距減少重工的發生。當修改文字或內容時，會自動變更外面的形狀以符合設定。Sketch 未來會把此功能加進去，所以此工具的開發者目前不再繼續維護，但在 Sketch 將新功能加進去之前，還是可以用此工具來設定間距。\n\nGithub: [https://github.com/DWilliames/paddy-sketch-plugin](https://github.com/DWilliames/paddy-sketch-plugin)\n\nDemo:\n![Paddy](https://github.com/DWilliames/paddy-sketch-plugin/raw/master/.images/GIFs/main.gif \"Paddy\")\n\n***\n## Sketch Measure 生成 spec 工具\n\n設計師和工程師之間要如何溝通 design spec 一直是一個很重要的環節。市面上有很多相關的付費軟體，但 `Sketch Measure` 的優勢就在於它是免費且可以生成獨立的 `HTML` 靜態檔（不需上網），只要有瀏覽器即可開啟。我想 Sketch 往後一定會出相關的功能，不過目前用此工具的感覺還不錯，且生成出來的畫面很漂亮。\n\nGithub: [https://github.com/utom/sketch-measure](https://github.com/utom/sketch-measure)\n\nDemo: [http://utom.design/news/](http://utom.design/news/)\n![Sketch Measure](https://camo.githubusercontent.com/87118bae9cca2b18441601d87ca8d6682984afa7/687474703a2f2f75746f6d2e64657369676e2f6578706f72744032782e706e67 \"Sketch Measure\")\n\n***\n## Sketch Palettes 調色盤儲存器\n\n會使用到 `Sketch Palettes` 功能的時機是因為我想把某一個專案的調色盤顏色群組，整個拿到另一個專案裡使用。他的用法是先匯出顏色群組，然後再另一個檔案進行匯入，使用上蠻直覺的。\n\nGithub: [https://github.com/andrewfiorillo/sketch-palettes](https://github.com/andrewfiorillo/sketch-palettes)\n\nDemo:\n![Sketch Palettes](https://github.com/andrewfiorillo/sketch-palettes/raw/master/palettes.png \"Sketch Palettes\")\n\n***\n## Symbol Instance Locator 尋找符號工具\n\nSymbol 在 Sketch 是一個很好用的功能，可以建立一個元件讓許多頁面共用。但若是想找某個 Symbol 用在哪些地方的話要怎麼辦呢？我之前就遇到只要在某些頁面將 symbol 替換成另一個組件的問題，`Symbol Instance Locator` 可以列出所有用到此 symbol 的地方，點擊即可跳往所在頁面，非常實用。\n\nGithub: [https://github.com/sonburn/symbol-instance-locator](https://github.com/sonburn/symbol-instance-locator)\n\nDemo:\n![Symbol Instance Locator](https://raw.githubusercontent.com/sonburn/symbol-instance-locator/master/images/screenshot.png \"Symbol Instance Locator\")\n\n***\n## Symbol Organizer 符號整理器\n\n每次建立 Symbol 時， Sketch 都會將元件新增在另一個 Symbol Page 上，久而久之，Symbol Page 就會變得凌亂不堪。`Symbol Organizer` 就是為了解決此問題才下載的，他可以依據設定值快速幫你排好所有在 Symbol Page 上的 Symbol，不用一個一個調間距啥鬼的，看完超感動！！如果一般頁面也可以用就好了，因為此工具僅適用在 Symbol Page 上，美中不足啊！如果有人有看到類似的工具快跟我說ＸＤ\n\nGithub: [https://github.com/sonburn/symbol-organizer](https://github.com/sonburn/symbol-organizer)\n\nDemo:\n![Symbol Organizer](https://raw.githubusercontent.com/sonburn/symbol-organizer/master/images/screenshot.png \"Symbol Organizer\")\n\n***\n## Unsplash 圖片生成器\n\n這是 Unsplash 和 Sketch 官方合作的工具。為什麼我已經安裝 `Content Generator` 內容生成器，卻還要裝 `Unsplash` 呢？ 原因很簡單，因為 `Unsplash` 的圖片很漂亮，為了要讓 BOSS 能減少打槍的次數，用美美的圖片 Demo 是非常重要的戰力。我也經常去搜尋他的免費照片做設計，是個超佛心的網站。\n\nGithub: [https://github.com/BohemianCoding/unsplash-sketchplugin](https://github.com/BohemianCoding/unsplash-sketchplugin)\n\nDemo:\n![Unsplash](https://github.com/BohemianCoding/unsplash-sketchplugin/raw/master/docs/unsplash-screenshot-001.png \"Unsplash\")\n\n***\n\n很感謝這些開發者做這些 Plugins ，讓設計師們能節省很多寶貴的時間，除了能更順利的闖關之外，還可以去做更多有意義的事情。","source":"_posts/UXUI/2018-My-Sketch-Useful-Plugins.md","raw":"---\ntitle: 2018 My Sketch Useful Plugins\ncategories:\n  - UXUI\nthumbnailImage: https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no\ncoverMeta: out\ntags: [Sketch, UX, UI]\ndate: 2018/11/04\nupdated: 2018/11/04\n---\n\n這次整理我平常有用且覺得好用的 `Sketch Plugin` 有哪些，有了這些 Plugin 讓我又節省了許多寶貴的時間。\n\n<!--more-->\n\n***\n## Abstract 版本控制\n\n這個不用多說了，之前有先寫了一篇專門講 `Abstract` 版本控制的文章，連結參考[這裡](../Git-Control-for-Using-Abstract-to-Manage-Sketch-Files)。\n\n***\n## Content Generator 內容生成器\n\n每次設計時作個資、照片等假資料又讓你心力憔悴了嗎？不用怕，`Content Generator` 讓你事半功倍，再也不用去 google 搜集資料。只要選起來要替換的部分，再設定要替換的內容即可輕輕鬆鬆完成。\n\nGithub: [https://github.com/timuric/Content-generator-sketch-plugin](https://github.com/timuric/Content-generator-sketch-plugin)\n\nDemo:\n\nGenerating pictures\n![Generating pictures](https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/userpics.gif \"Generating pictures\")\n\nGenerating names\n![Generating names](https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/names.gif \"Generating names\")\n\n其他更多 Demo，去 repo 就看的到囉～\n\n***\n## Paddy 間距設定工具\n\n這個工具主要是因為 Sketch 如果要做按鈕等中間文字長度不固定的元件時，每次都需要重新拉上下左右的間距。使用此工具可以設定固定的間距減少重工的發生。當修改文字或內容時，會自動變更外面的形狀以符合設定。Sketch 未來會把此功能加進去，所以此工具的開發者目前不再繼續維護，但在 Sketch 將新功能加進去之前，還是可以用此工具來設定間距。\n\nGithub: [https://github.com/DWilliames/paddy-sketch-plugin](https://github.com/DWilliames/paddy-sketch-plugin)\n\nDemo:\n![Paddy](https://github.com/DWilliames/paddy-sketch-plugin/raw/master/.images/GIFs/main.gif \"Paddy\")\n\n***\n## Sketch Measure 生成 spec 工具\n\n設計師和工程師之間要如何溝通 design spec 一直是一個很重要的環節。市面上有很多相關的付費軟體，但 `Sketch Measure` 的優勢就在於它是免費且可以生成獨立的 `HTML` 靜態檔（不需上網），只要有瀏覽器即可開啟。我想 Sketch 往後一定會出相關的功能，不過目前用此工具的感覺還不錯，且生成出來的畫面很漂亮。\n\nGithub: [https://github.com/utom/sketch-measure](https://github.com/utom/sketch-measure)\n\nDemo: [http://utom.design/news/](http://utom.design/news/)\n![Sketch Measure](https://camo.githubusercontent.com/87118bae9cca2b18441601d87ca8d6682984afa7/687474703a2f2f75746f6d2e64657369676e2f6578706f72744032782e706e67 \"Sketch Measure\")\n\n***\n## Sketch Palettes 調色盤儲存器\n\n會使用到 `Sketch Palettes` 功能的時機是因為我想把某一個專案的調色盤顏色群組，整個拿到另一個專案裡使用。他的用法是先匯出顏色群組，然後再另一個檔案進行匯入，使用上蠻直覺的。\n\nGithub: [https://github.com/andrewfiorillo/sketch-palettes](https://github.com/andrewfiorillo/sketch-palettes)\n\nDemo:\n![Sketch Palettes](https://github.com/andrewfiorillo/sketch-palettes/raw/master/palettes.png \"Sketch Palettes\")\n\n***\n## Symbol Instance Locator 尋找符號工具\n\nSymbol 在 Sketch 是一個很好用的功能，可以建立一個元件讓許多頁面共用。但若是想找某個 Symbol 用在哪些地方的話要怎麼辦呢？我之前就遇到只要在某些頁面將 symbol 替換成另一個組件的問題，`Symbol Instance Locator` 可以列出所有用到此 symbol 的地方，點擊即可跳往所在頁面，非常實用。\n\nGithub: [https://github.com/sonburn/symbol-instance-locator](https://github.com/sonburn/symbol-instance-locator)\n\nDemo:\n![Symbol Instance Locator](https://raw.githubusercontent.com/sonburn/symbol-instance-locator/master/images/screenshot.png \"Symbol Instance Locator\")\n\n***\n## Symbol Organizer 符號整理器\n\n每次建立 Symbol 時， Sketch 都會將元件新增在另一個 Symbol Page 上，久而久之，Symbol Page 就會變得凌亂不堪。`Symbol Organizer` 就是為了解決此問題才下載的，他可以依據設定值快速幫你排好所有在 Symbol Page 上的 Symbol，不用一個一個調間距啥鬼的，看完超感動！！如果一般頁面也可以用就好了，因為此工具僅適用在 Symbol Page 上，美中不足啊！如果有人有看到類似的工具快跟我說ＸＤ\n\nGithub: [https://github.com/sonburn/symbol-organizer](https://github.com/sonburn/symbol-organizer)\n\nDemo:\n![Symbol Organizer](https://raw.githubusercontent.com/sonburn/symbol-organizer/master/images/screenshot.png \"Symbol Organizer\")\n\n***\n## Unsplash 圖片生成器\n\n這是 Unsplash 和 Sketch 官方合作的工具。為什麼我已經安裝 `Content Generator` 內容生成器，卻還要裝 `Unsplash` 呢？ 原因很簡單，因為 `Unsplash` 的圖片很漂亮，為了要讓 BOSS 能減少打槍的次數，用美美的圖片 Demo 是非常重要的戰力。我也經常去搜尋他的免費照片做設計，是個超佛心的網站。\n\nGithub: [https://github.com/BohemianCoding/unsplash-sketchplugin](https://github.com/BohemianCoding/unsplash-sketchplugin)\n\nDemo:\n![Unsplash](https://github.com/BohemianCoding/unsplash-sketchplugin/raw/master/docs/unsplash-screenshot-001.png \"Unsplash\")\n\n***\n\n很感謝這些開發者做這些 Plugins ，讓設計師們能節省很多寶貴的時間，除了能更順利的闖關之外，還可以去做更多有意義的事情。","slug":"UXUI/2018-My-Sketch-Useful-Plugins","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9qy002fr3y71xgrbbeu","content":"<p>這次整理我平常有用且覺得好用的 <code>Sketch Plugin</code> 有哪些，有了這些 Plugin 讓我又節省了許多寶貴的時間。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"Abstract-版本控制\"><a href=\"#Abstract-版本控制\" class=\"headerlink\" title=\"Abstract 版本控制\"></a>Abstract 版本控制</h2><p>這個不用多說了，之前有先寫了一篇專門講 <code>Abstract</code> 版本控制的文章，連結參考<a href=\"../Git-Control-for-Using-Abstract-to-Manage-Sketch-Files\">這裡</a>。</p>\n<hr>\n<h2 id=\"Content-Generator-內容生成器\"><a href=\"#Content-Generator-內容生成器\" class=\"headerlink\" title=\"Content Generator 內容生成器\"></a>Content Generator 內容生成器</h2><p>每次設計時作個資、照片等假資料又讓你心力憔悴了嗎？不用怕，<code>Content Generator</code> 讓你事半功倍，再也不用去 google 搜集資料。只要選起來要替換的部分，再設定要替換的內容即可輕輕鬆鬆完成。</p>\n<p>Github: <a href=\"https://github.com/timuric/Content-generator-sketch-plugin\">https://github.com/timuric/Content-generator-sketch-plugin</a></p>\n<p>Demo:</p>\n<p>Generating pictures<br><img src=\"https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/userpics.gif\" alt=\"Generating pictures\" title=\"Generating pictures\"></p>\n<p>Generating names<br><img src=\"https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/names.gif\" alt=\"Generating names\" title=\"Generating names\"></p>\n<p>其他更多 Demo，去 repo 就看的到囉～</p>\n<hr>\n<h2 id=\"Paddy-間距設定工具\"><a href=\"#Paddy-間距設定工具\" class=\"headerlink\" title=\"Paddy 間距設定工具\"></a>Paddy 間距設定工具</h2><p>這個工具主要是因為 Sketch 如果要做按鈕等中間文字長度不固定的元件時，每次都需要重新拉上下左右的間距。使用此工具可以設定固定的間距減少重工的發生。當修改文字或內容時，會自動變更外面的形狀以符合設定。Sketch 未來會把此功能加進去，所以此工具的開發者目前不再繼續維護，但在 Sketch 將新功能加進去之前，還是可以用此工具來設定間距。</p>\n<p>Github: <a href=\"https://github.com/DWilliames/paddy-sketch-plugin\">https://github.com/DWilliames/paddy-sketch-plugin</a></p>\n<p>Demo:<br><img src=\"https://github.com/DWilliames/paddy-sketch-plugin/raw/master/.images/GIFs/main.gif\" alt=\"Paddy\" title=\"Paddy\"></p>\n<hr>\n<h2 id=\"Sketch-Measure-生成-spec-工具\"><a href=\"#Sketch-Measure-生成-spec-工具\" class=\"headerlink\" title=\"Sketch Measure 生成 spec 工具\"></a>Sketch Measure 生成 spec 工具</h2><p>設計師和工程師之間要如何溝通 design spec 一直是一個很重要的環節。市面上有很多相關的付費軟體，但 <code>Sketch Measure</code> 的優勢就在於它是免費且可以生成獨立的 <code>HTML</code> 靜態檔（不需上網），只要有瀏覽器即可開啟。我想 Sketch 往後一定會出相關的功能，不過目前用此工具的感覺還不錯，且生成出來的畫面很漂亮。</p>\n<p>Github: <a href=\"https://github.com/utom/sketch-measure\">https://github.com/utom/sketch-measure</a></p>\n<p>Demo: <a href=\"http://utom.design/news/\">http://utom.design/news/</a><br><img src=\"https://camo.githubusercontent.com/87118bae9cca2b18441601d87ca8d6682984afa7/687474703a2f2f75746f6d2e64657369676e2f6578706f72744032782e706e67\" alt=\"Sketch Measure\" title=\"Sketch Measure\"></p>\n<hr>\n<h2 id=\"Sketch-Palettes-調色盤儲存器\"><a href=\"#Sketch-Palettes-調色盤儲存器\" class=\"headerlink\" title=\"Sketch Palettes 調色盤儲存器\"></a>Sketch Palettes 調色盤儲存器</h2><p>會使用到 <code>Sketch Palettes</code> 功能的時機是因為我想把某一個專案的調色盤顏色群組，整個拿到另一個專案裡使用。他的用法是先匯出顏色群組，然後再另一個檔案進行匯入，使用上蠻直覺的。</p>\n<p>Github: <a href=\"https://github.com/andrewfiorillo/sketch-palettes\">https://github.com/andrewfiorillo/sketch-palettes</a></p>\n<p>Demo:<br><img src=\"https://github.com/andrewfiorillo/sketch-palettes/raw/master/palettes.png\" alt=\"Sketch Palettes\" title=\"Sketch Palettes\"></p>\n<hr>\n<h2 id=\"Symbol-Instance-Locator-尋找符號工具\"><a href=\"#Symbol-Instance-Locator-尋找符號工具\" class=\"headerlink\" title=\"Symbol Instance Locator 尋找符號工具\"></a>Symbol Instance Locator 尋找符號工具</h2><p>Symbol 在 Sketch 是一個很好用的功能，可以建立一個元件讓許多頁面共用。但若是想找某個 Symbol 用在哪些地方的話要怎麼辦呢？我之前就遇到只要在某些頁面將 symbol 替換成另一個組件的問題，<code>Symbol Instance Locator</code> 可以列出所有用到此 symbol 的地方，點擊即可跳往所在頁面，非常實用。</p>\n<p>Github: <a href=\"https://github.com/sonburn/symbol-instance-locator\">https://github.com/sonburn/symbol-instance-locator</a></p>\n<p>Demo:<br><img src=\"https://raw.githubusercontent.com/sonburn/symbol-instance-locator/master/images/screenshot.png\" alt=\"Symbol Instance Locator\" title=\"Symbol Instance Locator\"></p>\n<hr>\n<h2 id=\"Symbol-Organizer-符號整理器\"><a href=\"#Symbol-Organizer-符號整理器\" class=\"headerlink\" title=\"Symbol Organizer 符號整理器\"></a>Symbol Organizer 符號整理器</h2><p>每次建立 Symbol 時， Sketch 都會將元件新增在另一個 Symbol Page 上，久而久之，Symbol Page 就會變得凌亂不堪。<code>Symbol Organizer</code> 就是為了解決此問題才下載的，他可以依據設定值快速幫你排好所有在 Symbol Page 上的 Symbol，不用一個一個調間距啥鬼的，看完超感動！！如果一般頁面也可以用就好了，因為此工具僅適用在 Symbol Page 上，美中不足啊！如果有人有看到類似的工具快跟我說ＸＤ</p>\n<p>Github: <a href=\"https://github.com/sonburn/symbol-organizer\">https://github.com/sonburn/symbol-organizer</a></p>\n<p>Demo:<br><img src=\"https://raw.githubusercontent.com/sonburn/symbol-organizer/master/images/screenshot.png\" alt=\"Symbol Organizer\" title=\"Symbol Organizer\"></p>\n<hr>\n<h2 id=\"Unsplash-圖片生成器\"><a href=\"#Unsplash-圖片生成器\" class=\"headerlink\" title=\"Unsplash 圖片生成器\"></a>Unsplash 圖片生成器</h2><p>這是 Unsplash 和 Sketch 官方合作的工具。為什麼我已經安裝 <code>Content Generator</code> 內容生成器，卻還要裝 <code>Unsplash</code> 呢？ 原因很簡單，因為 <code>Unsplash</code> 的圖片很漂亮，為了要讓 BOSS 能減少打槍的次數，用美美的圖片 Demo 是非常重要的戰力。我也經常去搜尋他的免費照片做設計，是個超佛心的網站。</p>\n<p>Github: <a href=\"https://github.com/BohemianCoding/unsplash-sketchplugin\">https://github.com/BohemianCoding/unsplash-sketchplugin</a></p>\n<p>Demo:<br><img src=\"https://github.com/BohemianCoding/unsplash-sketchplugin/raw/master/docs/unsplash-screenshot-001.png\" alt=\"Unsplash\" title=\"Unsplash\"></p>\n<hr>\n<p>很感謝這些開發者做這些 Plugins ，讓設計師們能節省很多寶貴的時間，除了能更順利的闖關之外，還可以去做更多有意義的事情。</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","excerpt":"<p>這次整理我平常有用且覺得好用的 <code>Sketch Plugin</code> 有哪些，有了這些 Plugin 讓我又節省了許多寶貴的時間。</p>","more":"<hr>\n<h2 id=\"Abstract-版本控制\"><a href=\"#Abstract-版本控制\" class=\"headerlink\" title=\"Abstract 版本控制\"></a>Abstract 版本控制</h2><p>這個不用多說了，之前有先寫了一篇專門講 <code>Abstract</code> 版本控制的文章，連結參考<a href=\"../Git-Control-for-Using-Abstract-to-Manage-Sketch-Files\">這裡</a>。</p>\n<hr>\n<h2 id=\"Content-Generator-內容生成器\"><a href=\"#Content-Generator-內容生成器\" class=\"headerlink\" title=\"Content Generator 內容生成器\"></a>Content Generator 內容生成器</h2><p>每次設計時作個資、照片等假資料又讓你心力憔悴了嗎？不用怕，<code>Content Generator</code> 讓你事半功倍，再也不用去 google 搜集資料。只要選起來要替換的部分，再設定要替換的內容即可輕輕鬆鬆完成。</p>\n<p>Github: <a href=\"https://github.com/timuric/Content-generator-sketch-plugin\">https://github.com/timuric/Content-generator-sketch-plugin</a></p>\n<p>Demo:</p>\n<p>Generating pictures<br><img src=\"https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/userpics.gif\" alt=\"Generating pictures\" title=\"Generating pictures\"></p>\n<p>Generating names<br><img src=\"https://raw.githubusercontent.com/timuric/Content-generator-for-sketch-app/master/tutorial/names.gif\" alt=\"Generating names\" title=\"Generating names\"></p>\n<p>其他更多 Demo，去 repo 就看的到囉～</p>\n<hr>\n<h2 id=\"Paddy-間距設定工具\"><a href=\"#Paddy-間距設定工具\" class=\"headerlink\" title=\"Paddy 間距設定工具\"></a>Paddy 間距設定工具</h2><p>這個工具主要是因為 Sketch 如果要做按鈕等中間文字長度不固定的元件時，每次都需要重新拉上下左右的間距。使用此工具可以設定固定的間距減少重工的發生。當修改文字或內容時，會自動變更外面的形狀以符合設定。Sketch 未來會把此功能加進去，所以此工具的開發者目前不再繼續維護，但在 Sketch 將新功能加進去之前，還是可以用此工具來設定間距。</p>\n<p>Github: <a href=\"https://github.com/DWilliames/paddy-sketch-plugin\">https://github.com/DWilliames/paddy-sketch-plugin</a></p>\n<p>Demo:<br><img src=\"https://github.com/DWilliames/paddy-sketch-plugin/raw/master/.images/GIFs/main.gif\" alt=\"Paddy\" title=\"Paddy\"></p>\n<hr>\n<h2 id=\"Sketch-Measure-生成-spec-工具\"><a href=\"#Sketch-Measure-生成-spec-工具\" class=\"headerlink\" title=\"Sketch Measure 生成 spec 工具\"></a>Sketch Measure 生成 spec 工具</h2><p>設計師和工程師之間要如何溝通 design spec 一直是一個很重要的環節。市面上有很多相關的付費軟體，但 <code>Sketch Measure</code> 的優勢就在於它是免費且可以生成獨立的 <code>HTML</code> 靜態檔（不需上網），只要有瀏覽器即可開啟。我想 Sketch 往後一定會出相關的功能，不過目前用此工具的感覺還不錯，且生成出來的畫面很漂亮。</p>\n<p>Github: <a href=\"https://github.com/utom/sketch-measure\">https://github.com/utom/sketch-measure</a></p>\n<p>Demo: <a href=\"http://utom.design/news/\">http://utom.design/news/</a><br><img src=\"https://camo.githubusercontent.com/87118bae9cca2b18441601d87ca8d6682984afa7/687474703a2f2f75746f6d2e64657369676e2f6578706f72744032782e706e67\" alt=\"Sketch Measure\" title=\"Sketch Measure\"></p>\n<hr>\n<h2 id=\"Sketch-Palettes-調色盤儲存器\"><a href=\"#Sketch-Palettes-調色盤儲存器\" class=\"headerlink\" title=\"Sketch Palettes 調色盤儲存器\"></a>Sketch Palettes 調色盤儲存器</h2><p>會使用到 <code>Sketch Palettes</code> 功能的時機是因為我想把某一個專案的調色盤顏色群組，整個拿到另一個專案裡使用。他的用法是先匯出顏色群組，然後再另一個檔案進行匯入，使用上蠻直覺的。</p>\n<p>Github: <a href=\"https://github.com/andrewfiorillo/sketch-palettes\">https://github.com/andrewfiorillo/sketch-palettes</a></p>\n<p>Demo:<br><img src=\"https://github.com/andrewfiorillo/sketch-palettes/raw/master/palettes.png\" alt=\"Sketch Palettes\" title=\"Sketch Palettes\"></p>\n<hr>\n<h2 id=\"Symbol-Instance-Locator-尋找符號工具\"><a href=\"#Symbol-Instance-Locator-尋找符號工具\" class=\"headerlink\" title=\"Symbol Instance Locator 尋找符號工具\"></a>Symbol Instance Locator 尋找符號工具</h2><p>Symbol 在 Sketch 是一個很好用的功能，可以建立一個元件讓許多頁面共用。但若是想找某個 Symbol 用在哪些地方的話要怎麼辦呢？我之前就遇到只要在某些頁面將 symbol 替換成另一個組件的問題，<code>Symbol Instance Locator</code> 可以列出所有用到此 symbol 的地方，點擊即可跳往所在頁面，非常實用。</p>\n<p>Github: <a href=\"https://github.com/sonburn/symbol-instance-locator\">https://github.com/sonburn/symbol-instance-locator</a></p>\n<p>Demo:<br><img src=\"https://raw.githubusercontent.com/sonburn/symbol-instance-locator/master/images/screenshot.png\" alt=\"Symbol Instance Locator\" title=\"Symbol Instance Locator\"></p>\n<hr>\n<h2 id=\"Symbol-Organizer-符號整理器\"><a href=\"#Symbol-Organizer-符號整理器\" class=\"headerlink\" title=\"Symbol Organizer 符號整理器\"></a>Symbol Organizer 符號整理器</h2><p>每次建立 Symbol 時， Sketch 都會將元件新增在另一個 Symbol Page 上，久而久之，Symbol Page 就會變得凌亂不堪。<code>Symbol Organizer</code> 就是為了解決此問題才下載的，他可以依據設定值快速幫你排好所有在 Symbol Page 上的 Symbol，不用一個一個調間距啥鬼的，看完超感動！！如果一般頁面也可以用就好了，因為此工具僅適用在 Symbol Page 上，美中不足啊！如果有人有看到類似的工具快跟我說ＸＤ</p>\n<p>Github: <a href=\"https://github.com/sonburn/symbol-organizer\">https://github.com/sonburn/symbol-organizer</a></p>\n<p>Demo:<br><img src=\"https://raw.githubusercontent.com/sonburn/symbol-organizer/master/images/screenshot.png\" alt=\"Symbol Organizer\" title=\"Symbol Organizer\"></p>\n<hr>\n<h2 id=\"Unsplash-圖片生成器\"><a href=\"#Unsplash-圖片生成器\" class=\"headerlink\" title=\"Unsplash 圖片生成器\"></a>Unsplash 圖片生成器</h2><p>這是 Unsplash 和 Sketch 官方合作的工具。為什麼我已經安裝 <code>Content Generator</code> 內容生成器，卻還要裝 <code>Unsplash</code> 呢？ 原因很簡單，因為 <code>Unsplash</code> 的圖片很漂亮，為了要讓 BOSS 能減少打槍的次數，用美美的圖片 Demo 是非常重要的戰力。我也經常去搜尋他的免費照片做設計，是個超佛心的網站。</p>\n<p>Github: <a href=\"https://github.com/BohemianCoding/unsplash-sketchplugin\">https://github.com/BohemianCoding/unsplash-sketchplugin</a></p>\n<p>Demo:<br><img src=\"https://github.com/BohemianCoding/unsplash-sketchplugin/raw/master/docs/unsplash-screenshot-001.png\" alt=\"Unsplash\" title=\"Unsplash\"></p>\n<hr>\n<p>很感謝這些開發者做這些 Plugins ，讓設計師們能節省很多寶貴的時間，除了能更順利的闖關之外，還可以去做更多有意義的事情。</p>"},{"title":"Adobe XD New Feature - Auto-Animate","thumbnailImage":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no","coverMeta":"out","date":"2018-12-01T16:00:00.000Z","updated":"2018-12-01T16:00:00.000Z","_content":"\nAdobe XD 新功能 Auto-animate 在 2018 年 10 月釋放，雖然現在介紹好像有點晚了，但看了介紹就覺得超威的，想要好好整理一篇順便收集目前線上不錯的 Auto-animate reference。\n\n<!--more-->\n\n***\n## `auto-animate` 是什麼？\n\n一般來說設計師要模擬互動的過程，通常是靠著複製並微調數個 `artboards` ，並透過使用者點擊切換這些 `artboards` 來呈現互動效果，但以往 `XD` 的功能只能做到點擊淡入下個 `artboard`，過程是直接的切換而沒有漸進式的變化。新功能 `auto-animate` 則是讓設計師使用 `XD` 在同個元件不同 `artboards` 做屬性的微調後，對該元件加上 `auto-animate` 後就會自動呈現 `transition` 的效果，且觸發條件除了舊的 `tap`（點擊） 外還新增了 `drag`（拖拉） 的觸發動作，這樣就可以模擬手機左右滑或上下滑的互動效果，聽起來超令人興奮的。至於元件可支援的 `auto-animate` 屬性例如：大小、位置、旋轉等等，可參考此[官網說明](https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html)。\n\n> PS. XD prototype 的觸發動作除了 `Tap` 和 `Drag` 外還有 `Time` 和 `Voice`，這個等以後有機會研究再跟大家分享。\n\n***\n## 如何製作 `auto-animate`？\n\n在解釋步驟前先來看一張官網 demo 左右拖拉互動的效果圖。\n\n![模擬左右拖拉互動效果](https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/image/Drag.gif \"模擬左右拖拉互動效果\")\n\n製作流程：\n\n1) 將第一個使用者看到的 `artboard` 設為首頁（成功設置完 `artboard` 左上角會有房子的藍色 logo 圖示）。\n\n2) 將要展示的滑動過程依順序將 `artboard` 一個一個連結好。其中要設定的參數如下：\n* Trigger: 設置 Drag 屬性\n* Action: 設置 Auto-Animate\n* Destination: 設置要連結的下個 artboard \n* Easing: 選擇 transition 過程要使用的變換函數 (同 CSS)\n\n設定參數可參考下圖。\n![auto-animate 設定參數](https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/procedure_1208997114/proc_par/step_2/step_par/image/Setting-up-Drag.png \"auto-animate 設定參數\")\n\n將將！是不是很 easy ~\n\n***\n## 線上 `auto-animate` 作品分享\n\n免費的 XD 作品我通常都是來找[XDGuro](https://www.xdguru.com/3)，大家可以自行來挖寶，下面推薦一些我看到不錯的 `auto-animate` 作品。\n\n### [Auto Animate – Free XD UI kit](https://www.xdguru.com/auto-animate-free-ui-kit-xd/)\n\n![Auto Animate – Free XD UI kit](https://www.xdguru.com/wp-content/uploads/2018/11/Auto-Animate-Free-UI-kit-1014x487.jpg \"Auto Animate – Free XD UI kit\")\n\n這是官方寫的 demo ，裡面列出了各種常用的動畫效果，例如：Loading Bar, Number Counter, Day/Night Switch, Drag Carrousel, Pull to Refresh, Swipe Away, Parallax... 你想得到的都做得出來。真的是太神奇了～有用 XD 的設計師必載的參考文件！！\n\n### [Mobile XD scrolling interaction](https://www.xdguru.com/mobile-xd-scrolling-interaction/)\n\n![Mobile XD scrolling interaction](https://www.xdguru.com/wp-content/uploads/2018/11/Mobile-XD-scrolling-interaction-1014x487.jpg \"Mobile XD scrolling interaction\")\n\n這個作品也是我一看到就立馬收藏的好物！他模擬了最上方 User 資訊如何縮放漸變的過程，互動感覺非常流暢～喜歡！！\n\n### [Ice Cream App animation](https://www.xdguru.com/ice-cream-app-animation-xd/)\n\n![Ice Cream App animation](https://www.xdguru.com/wp-content/uploads/2018/10/Ice-Cream-App-animation-1014x487.jpg \"Ice Cream App animation\")\n\n這個作品也用到了經典的點擊和拖拉效果，也值得收藏!\n比較可惜的是左右滑動換冰淇淋的部分不知道為什麼有些卡卡的，還要再多研究一下XD\n\n看完了這些讓我更加愛上 `XD`，最近發現他也開放 plugin 功能，但目前還沒看到什麼厲害的 plugin，另外版本控制這部分也是我期待的一點，希望他能盡快有這些功能～哈哈 （使用著 Sketch 卻望著 XD 的設計師心聲）\n\n\n## 參考資料\n\n* [Create prototypes using auto-animate](https://helpx.adobe.com/xd/help/create-prototypes-using-auto-animate.html)\n* [Supported properties for auto-animate in XD artboard transitions](https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html)\n* [Auto Animate – Free XD UI kit](https://www.xdguru.com/auto-animate-free-ui-kit-xd/)\n* [Mobile XD scrolling interaction](https://www.xdguru.com/mobile-xd-scrolling-interaction/)\n* [Ice Cream App animation](https://www.xdguru.com/ice-cream-app-animation-xd/)","source":"_posts/UXUI/Adobe-XD-New-Feature-Auto-Animate.md","raw":"---\ntitle: Adobe XD New Feature - Auto-Animate\ncategories:\n  - UXUI\nthumbnailImage: https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no\ncoverMeta: out\ntags: [Adobe XD, UX, UI]\ndate: 2018/12/02\nupdated: 2018/12/02\n---\n\nAdobe XD 新功能 Auto-animate 在 2018 年 10 月釋放，雖然現在介紹好像有點晚了，但看了介紹就覺得超威的，想要好好整理一篇順便收集目前線上不錯的 Auto-animate reference。\n\n<!--more-->\n\n***\n## `auto-animate` 是什麼？\n\n一般來說設計師要模擬互動的過程，通常是靠著複製並微調數個 `artboards` ，並透過使用者點擊切換這些 `artboards` 來呈現互動效果，但以往 `XD` 的功能只能做到點擊淡入下個 `artboard`，過程是直接的切換而沒有漸進式的變化。新功能 `auto-animate` 則是讓設計師使用 `XD` 在同個元件不同 `artboards` 做屬性的微調後，對該元件加上 `auto-animate` 後就會自動呈現 `transition` 的效果，且觸發條件除了舊的 `tap`（點擊） 外還新增了 `drag`（拖拉） 的觸發動作，這樣就可以模擬手機左右滑或上下滑的互動效果，聽起來超令人興奮的。至於元件可支援的 `auto-animate` 屬性例如：大小、位置、旋轉等等，可參考此[官網說明](https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html)。\n\n> PS. XD prototype 的觸發動作除了 `Tap` 和 `Drag` 外還有 `Time` 和 `Voice`，這個等以後有機會研究再跟大家分享。\n\n***\n## 如何製作 `auto-animate`？\n\n在解釋步驟前先來看一張官網 demo 左右拖拉互動的效果圖。\n\n![模擬左右拖拉互動效果](https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/image/Drag.gif \"模擬左右拖拉互動效果\")\n\n製作流程：\n\n1) 將第一個使用者看到的 `artboard` 設為首頁（成功設置完 `artboard` 左上角會有房子的藍色 logo 圖示）。\n\n2) 將要展示的滑動過程依順序將 `artboard` 一個一個連結好。其中要設定的參數如下：\n* Trigger: 設置 Drag 屬性\n* Action: 設置 Auto-Animate\n* Destination: 設置要連結的下個 artboard \n* Easing: 選擇 transition 過程要使用的變換函數 (同 CSS)\n\n設定參數可參考下圖。\n![auto-animate 設定參數](https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/procedure_1208997114/proc_par/step_2/step_par/image/Setting-up-Drag.png \"auto-animate 設定參數\")\n\n將將！是不是很 easy ~\n\n***\n## 線上 `auto-animate` 作品分享\n\n免費的 XD 作品我通常都是來找[XDGuro](https://www.xdguru.com/3)，大家可以自行來挖寶，下面推薦一些我看到不錯的 `auto-animate` 作品。\n\n### [Auto Animate – Free XD UI kit](https://www.xdguru.com/auto-animate-free-ui-kit-xd/)\n\n![Auto Animate – Free XD UI kit](https://www.xdguru.com/wp-content/uploads/2018/11/Auto-Animate-Free-UI-kit-1014x487.jpg \"Auto Animate – Free XD UI kit\")\n\n這是官方寫的 demo ，裡面列出了各種常用的動畫效果，例如：Loading Bar, Number Counter, Day/Night Switch, Drag Carrousel, Pull to Refresh, Swipe Away, Parallax... 你想得到的都做得出來。真的是太神奇了～有用 XD 的設計師必載的參考文件！！\n\n### [Mobile XD scrolling interaction](https://www.xdguru.com/mobile-xd-scrolling-interaction/)\n\n![Mobile XD scrolling interaction](https://www.xdguru.com/wp-content/uploads/2018/11/Mobile-XD-scrolling-interaction-1014x487.jpg \"Mobile XD scrolling interaction\")\n\n這個作品也是我一看到就立馬收藏的好物！他模擬了最上方 User 資訊如何縮放漸變的過程，互動感覺非常流暢～喜歡！！\n\n### [Ice Cream App animation](https://www.xdguru.com/ice-cream-app-animation-xd/)\n\n![Ice Cream App animation](https://www.xdguru.com/wp-content/uploads/2018/10/Ice-Cream-App-animation-1014x487.jpg \"Ice Cream App animation\")\n\n這個作品也用到了經典的點擊和拖拉效果，也值得收藏!\n比較可惜的是左右滑動換冰淇淋的部分不知道為什麼有些卡卡的，還要再多研究一下XD\n\n看完了這些讓我更加愛上 `XD`，最近發現他也開放 plugin 功能，但目前還沒看到什麼厲害的 plugin，另外版本控制這部分也是我期待的一點，希望他能盡快有這些功能～哈哈 （使用著 Sketch 卻望著 XD 的設計師心聲）\n\n\n## 參考資料\n\n* [Create prototypes using auto-animate](https://helpx.adobe.com/xd/help/create-prototypes-using-auto-animate.html)\n* [Supported properties for auto-animate in XD artboard transitions](https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html)\n* [Auto Animate – Free XD UI kit](https://www.xdguru.com/auto-animate-free-ui-kit-xd/)\n* [Mobile XD scrolling interaction](https://www.xdguru.com/mobile-xd-scrolling-interaction/)\n* [Ice Cream App animation](https://www.xdguru.com/ice-cream-app-animation-xd/)","slug":"UXUI/Adobe-XD-New-Feature-Auto-Animate","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ra002gr3y72yri3rp2","content":"<p>Adobe XD 新功能 Auto-animate 在 2018 年 10 月釋放，雖然現在介紹好像有點晚了，但看了介紹就覺得超威的，想要好好整理一篇順便收集目前線上不錯的 Auto-animate reference。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"auto-animate-是什麼？\"><a href=\"#auto-animate-是什麼？\" class=\"headerlink\" title=\"auto-animate 是什麼？\"></a><code>auto-animate</code> 是什麼？</h2><p>一般來說設計師要模擬互動的過程，通常是靠著複製並微調數個 <code>artboards</code> ，並透過使用者點擊切換這些 <code>artboards</code> 來呈現互動效果，但以往 <code>XD</code> 的功能只能做到點擊淡入下個 <code>artboard</code>，過程是直接的切換而沒有漸進式的變化。新功能 <code>auto-animate</code> 則是讓設計師使用 <code>XD</code> 在同個元件不同 <code>artboards</code> 做屬性的微調後，對該元件加上 <code>auto-animate</code> 後就會自動呈現 <code>transition</code> 的效果，且觸發條件除了舊的 <code>tap</code>（點擊） 外還新增了 <code>drag</code>（拖拉） 的觸發動作，這樣就可以模擬手機左右滑或上下滑的互動效果，聽起來超令人興奮的。至於元件可支援的 <code>auto-animate</code> 屬性例如：大小、位置、旋轉等等，可參考此<a href=\"https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html\">官網說明</a>。</p>\n<blockquote>\n<p>PS. XD prototype 的觸發動作除了 <code>Tap</code> 和 <code>Drag</code> 外還有 <code>Time</code> 和 <code>Voice</code>，這個等以後有機會研究再跟大家分享。</p>\n</blockquote>\n<hr>\n<h2 id=\"如何製作-auto-animate？\"><a href=\"#如何製作-auto-animate？\" class=\"headerlink\" title=\"如何製作 auto-animate？\"></a>如何製作 <code>auto-animate</code>？</h2><p>在解釋步驟前先來看一張官網 demo 左右拖拉互動的效果圖。</p>\n<p><img src=\"https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/image/Drag.gif\" alt=\"模擬左右拖拉互動效果\" title=\"模擬左右拖拉互動效果\"></p>\n<p>製作流程：</p>\n<ol>\n<li><p>將第一個使用者看到的 <code>artboard</code> 設為首頁（成功設置完 <code>artboard</code> 左上角會有房子的藍色 logo 圖示）。</p>\n</li>\n<li><p>將要展示的滑動過程依順序將 <code>artboard</code> 一個一個連結好。其中要設定的參數如下：</p>\n</li>\n</ol>\n<ul>\n<li>Trigger: 設置 Drag 屬性</li>\n<li>Action: 設置 Auto-Animate</li>\n<li>Destination: 設置要連結的下個 artboard </li>\n<li>Easing: 選擇 transition 過程要使用的變換函數 (同 CSS)</li>\n</ul>\n<p>設定參數可參考下圖。<br><img src=\"https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/procedure_1208997114/proc_par/step_2/step_par/image/Setting-up-Drag.png\" alt=\"auto-animate 設定參數\" title=\"auto-animate 設定參數\"></p>\n<p>將將！是不是很 easy ~</p>\n<hr>\n<h2 id=\"線上-auto-animate-作品分享\"><a href=\"#線上-auto-animate-作品分享\" class=\"headerlink\" title=\"線上 auto-animate 作品分享\"></a>線上 <code>auto-animate</code> 作品分享</h2><p>免費的 XD 作品我通常都是來找<a href=\"https://www.xdguru.com/3\">XDGuro</a>，大家可以自行來挖寶，下面推薦一些我看到不錯的 <code>auto-animate</code> 作品。</p>\n<h3 id=\"Auto-Animate-–-Free-XD-UI-kit\"><a href=\"#Auto-Animate-–-Free-XD-UI-kit\" class=\"headerlink\" title=\"Auto Animate – Free XD UI kit\"></a><a href=\"https://www.xdguru.com/auto-animate-free-ui-kit-xd/\">Auto Animate – Free XD UI kit</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/11/Auto-Animate-Free-UI-kit-1014x487.jpg\" alt=\"Auto Animate – Free XD UI kit\" title=\"Auto Animate – Free XD UI kit\"></p>\n<p>這是官方寫的 demo ，裡面列出了各種常用的動畫效果，例如：Loading Bar, Number Counter, Day&#x2F;Night Switch, Drag Carrousel, Pull to Refresh, Swipe Away, Parallax… 你想得到的都做得出來。真的是太神奇了～有用 XD 的設計師必載的參考文件！！</p>\n<h3 id=\"Mobile-XD-scrolling-interaction\"><a href=\"#Mobile-XD-scrolling-interaction\" class=\"headerlink\" title=\"Mobile XD scrolling interaction\"></a><a href=\"https://www.xdguru.com/mobile-xd-scrolling-interaction/\">Mobile XD scrolling interaction</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/11/Mobile-XD-scrolling-interaction-1014x487.jpg\" alt=\"Mobile XD scrolling interaction\" title=\"Mobile XD scrolling interaction\"></p>\n<p>這個作品也是我一看到就立馬收藏的好物！他模擬了最上方 User 資訊如何縮放漸變的過程，互動感覺非常流暢～喜歡！！</p>\n<h3 id=\"Ice-Cream-App-animation\"><a href=\"#Ice-Cream-App-animation\" class=\"headerlink\" title=\"Ice Cream App animation\"></a><a href=\"https://www.xdguru.com/ice-cream-app-animation-xd/\">Ice Cream App animation</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/10/Ice-Cream-App-animation-1014x487.jpg\" alt=\"Ice Cream App animation\" title=\"Ice Cream App animation\"></p>\n<p>這個作品也用到了經典的點擊和拖拉效果，也值得收藏!<br>比較可惜的是左右滑動換冰淇淋的部分不知道為什麼有些卡卡的，還要再多研究一下XD</p>\n<p>看完了這些讓我更加愛上 <code>XD</code>，最近發現他也開放 plugin 功能，但目前還沒看到什麼厲害的 plugin，另外版本控制這部分也是我期待的一點，希望他能盡快有這些功能～哈哈 （使用著 Sketch 卻望著 XD 的設計師心聲）</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://helpx.adobe.com/xd/help/create-prototypes-using-auto-animate.html\">Create prototypes using auto-animate</a></li>\n<li><a href=\"https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html\">Supported properties for auto-animate in XD artboard transitions</a></li>\n<li><a href=\"https://www.xdguru.com/auto-animate-free-ui-kit-xd/\">Auto Animate – Free XD UI kit</a></li>\n<li><a href=\"https://www.xdguru.com/mobile-xd-scrolling-interaction/\">Mobile XD scrolling interaction</a></li>\n<li><a href=\"https://www.xdguru.com/ice-cream-app-animation-xd/\">Ice Cream App animation</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","excerpt":"<p>Adobe XD 新功能 Auto-animate 在 2018 年 10 月釋放，雖然現在介紹好像有點晚了，但看了介紹就覺得超威的，想要好好整理一篇順便收集目前線上不錯的 Auto-animate reference。</p>","more":"<hr>\n<h2 id=\"auto-animate-是什麼？\"><a href=\"#auto-animate-是什麼？\" class=\"headerlink\" title=\"auto-animate 是什麼？\"></a><code>auto-animate</code> 是什麼？</h2><p>一般來說設計師要模擬互動的過程，通常是靠著複製並微調數個 <code>artboards</code> ，並透過使用者點擊切換這些 <code>artboards</code> 來呈現互動效果，但以往 <code>XD</code> 的功能只能做到點擊淡入下個 <code>artboard</code>，過程是直接的切換而沒有漸進式的變化。新功能 <code>auto-animate</code> 則是讓設計師使用 <code>XD</code> 在同個元件不同 <code>artboards</code> 做屬性的微調後，對該元件加上 <code>auto-animate</code> 後就會自動呈現 <code>transition</code> 的效果，且觸發條件除了舊的 <code>tap</code>（點擊） 外還新增了 <code>drag</code>（拖拉） 的觸發動作，這樣就可以模擬手機左右滑或上下滑的互動效果，聽起來超令人興奮的。至於元件可支援的 <code>auto-animate</code> 屬性例如：大小、位置、旋轉等等，可參考此<a href=\"https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html\">官網說明</a>。</p>\n<blockquote>\n<p>PS. XD prototype 的觸發動作除了 <code>Tap</code> 和 <code>Drag</code> 外還有 <code>Time</code> 和 <code>Voice</code>，這個等以後有機會研究再跟大家分享。</p>\n</blockquote>\n<hr>\n<h2 id=\"如何製作-auto-animate？\"><a href=\"#如何製作-auto-animate？\" class=\"headerlink\" title=\"如何製作 auto-animate？\"></a>如何製作 <code>auto-animate</code>？</h2><p>在解釋步驟前先來看一張官網 demo 左右拖拉互動的效果圖。</p>\n<p><img src=\"https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/image/Drag.gif\" alt=\"模擬左右拖拉互動效果\" title=\"模擬左右拖拉互動效果\"></p>\n<p>製作流程：</p>\n<ol>\n<li><p>將第一個使用者看到的 <code>artboard</code> 設為首頁（成功設置完 <code>artboard</code> 左上角會有房子的藍色 logo 圖示）。</p>\n</li>\n<li><p>將要展示的滑動過程依順序將 <code>artboard</code> 一個一個連結好。其中要設定的參數如下：</p>\n</li>\n</ol>\n<ul>\n<li>Trigger: 設置 Drag 屬性</li>\n<li>Action: 設置 Auto-Animate</li>\n<li>Destination: 設置要連結的下個 artboard </li>\n<li>Easing: 選擇 transition 過程要使用的變換函數 (同 CSS)</li>\n</ul>\n<p>設定參數可參考下圖。<br><img src=\"https://helpx.adobe.com/content/dam/help/en/xd/help/create-prototypes-using-auto-animate/jcr_content/main-pars/procedure_1208997114/proc_par/step_2/step_par/image/Setting-up-Drag.png\" alt=\"auto-animate 設定參數\" title=\"auto-animate 設定參數\"></p>\n<p>將將！是不是很 easy ~</p>\n<hr>\n<h2 id=\"線上-auto-animate-作品分享\"><a href=\"#線上-auto-animate-作品分享\" class=\"headerlink\" title=\"線上 auto-animate 作品分享\"></a>線上 <code>auto-animate</code> 作品分享</h2><p>免費的 XD 作品我通常都是來找<a href=\"https://www.xdguru.com/3\">XDGuro</a>，大家可以自行來挖寶，下面推薦一些我看到不錯的 <code>auto-animate</code> 作品。</p>\n<h3 id=\"Auto-Animate-–-Free-XD-UI-kit\"><a href=\"#Auto-Animate-–-Free-XD-UI-kit\" class=\"headerlink\" title=\"Auto Animate – Free XD UI kit\"></a><a href=\"https://www.xdguru.com/auto-animate-free-ui-kit-xd/\">Auto Animate – Free XD UI kit</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/11/Auto-Animate-Free-UI-kit-1014x487.jpg\" alt=\"Auto Animate – Free XD UI kit\" title=\"Auto Animate – Free XD UI kit\"></p>\n<p>這是官方寫的 demo ，裡面列出了各種常用的動畫效果，例如：Loading Bar, Number Counter, Day&#x2F;Night Switch, Drag Carrousel, Pull to Refresh, Swipe Away, Parallax… 你想得到的都做得出來。真的是太神奇了～有用 XD 的設計師必載的參考文件！！</p>\n<h3 id=\"Mobile-XD-scrolling-interaction\"><a href=\"#Mobile-XD-scrolling-interaction\" class=\"headerlink\" title=\"Mobile XD scrolling interaction\"></a><a href=\"https://www.xdguru.com/mobile-xd-scrolling-interaction/\">Mobile XD scrolling interaction</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/11/Mobile-XD-scrolling-interaction-1014x487.jpg\" alt=\"Mobile XD scrolling interaction\" title=\"Mobile XD scrolling interaction\"></p>\n<p>這個作品也是我一看到就立馬收藏的好物！他模擬了最上方 User 資訊如何縮放漸變的過程，互動感覺非常流暢～喜歡！！</p>\n<h3 id=\"Ice-Cream-App-animation\"><a href=\"#Ice-Cream-App-animation\" class=\"headerlink\" title=\"Ice Cream App animation\"></a><a href=\"https://www.xdguru.com/ice-cream-app-animation-xd/\">Ice Cream App animation</a></h3><p><img src=\"https://www.xdguru.com/wp-content/uploads/2018/10/Ice-Cream-App-animation-1014x487.jpg\" alt=\"Ice Cream App animation\" title=\"Ice Cream App animation\"></p>\n<p>這個作品也用到了經典的點擊和拖拉效果，也值得收藏!<br>比較可惜的是左右滑動換冰淇淋的部分不知道為什麼有些卡卡的，還要再多研究一下XD</p>\n<p>看完了這些讓我更加愛上 <code>XD</code>，最近發現他也開放 plugin 功能，但目前還沒看到什麼厲害的 plugin，另外版本控制這部分也是我期待的一點，希望他能盡快有這些功能～哈哈 （使用著 Sketch 卻望著 XD 的設計師心聲）</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://helpx.adobe.com/xd/help/create-prototypes-using-auto-animate.html\">Create prototypes using auto-animate</a></li>\n<li><a href=\"https://helpx.adobe.com/xd/kb/supported-auto-animate-features-in-xd.html\">Supported properties for auto-animate in XD artboard transitions</a></li>\n<li><a href=\"https://www.xdguru.com/auto-animate-free-ui-kit-xd/\">Auto Animate – Free XD UI kit</a></li>\n<li><a href=\"https://www.xdguru.com/mobile-xd-scrolling-interaction/\">Mobile XD scrolling interaction</a></li>\n<li><a href=\"https://www.xdguru.com/ice-cream-app-animation-xd/\">Ice Cream App animation</a></li>\n</ul>"},{"title":"Figma Interative Components","thumbnailImage":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","thumbnailImagePosition":"left","coverImage":"https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png","coverMeta":"out","date":"2021-11-04T16:00:00.000Z","updated":"2021-11-04T16:00:00.000Z","_content":"\n最近 10 月份 Figma 團隊出的 Interative Components Youtube 教學影片，讓我對這個新功能感到很興奮。簡單來說，就是 Checkbox, Radio, Switch... 等元件，可以製作獨立的動畫，讓 user 透過互動看到切換狀態的過程。話不多說，立刻就來試試看。\n\n<!--more-->\n\n# Checkbox & Switch\n\n1. 先把要做動畫的元件一起選取起來，會發現右邊 Design 面板出現 `Variants` 的按鈕，點擊 `Combine as variants`\n![Checkbox](https://lh3.googleusercontent.com/pw/AM-JKLUYkzoSOnLFpn6ATIlBoqS-_u3ym2Guf-jv4yG6ZIrCdgzR5DyviN79bdDsDvOjsnd3AQ9veceIzZGLUYgBI8VFxvC0w9voimHvR-8z1PMHYHe4xLaNBKbY0OvSOwlEl8kU9VPTZd13DWKgV722lu4zAg=w1920-h937-no?authuser=0)\n\n2. 接著在 Prototype 面板設定動畫如下圖所示(Onclick/Change to/Instant)，即可完成\n![Checkbox](https://lh3.googleusercontent.com/pw/AM-JKLVKR9z6Vn4KyeGFzBGwrYkimvKGMKcuexDz7QnNpiL54lqcS8XLpF65YmO2-f1rqo8M6WpueD7qXy95ZgBYG-RI5cIncMQtjuJ4qiq4qLZw3r3nQJZGCGIQSK7Awbbs_TDQByeotTiWiv5a_jcH-n0MnQ=w1920-h935-no?authuser=0)\n\nSwitch 的做法差不多，只是 Animation 選擇 Smart animate (Onclick/Change to/Smart animate)\n![Switch](https://lh3.googleusercontent.com/pw/AM-JKLVGQdknSE70a2Zjfr6J091KiFjWDWxXXFDQbi5cntP6rzQ9u1gFTPxikC85qHJdaBJ4ce7lCJHBOASzPthPMKHluWtLWnE9V-zoa-xvuqk6V-SjGgNhBByczLxlegxLCzoD5d3YRpBDmi9barNT_CrLHw=w1920-h937-no?authuser=0)\n\n完成後，就可以執行 prototype，對元件做點選的動作，可以看到互動的效果優~\n[互動效果影片連結在此](https://capture.dropbox.com/oMIXKTN9A4opyRqs)\n\n# Progress Bar & Progress Circle\n\n另外，進度條或進度圈圈也可以做自動的動畫。\n\n可以參考下圖做進度條。\n![Progress Bar](https://lh3.googleusercontent.com/pw/AM-JKLX3LsnOhXLrfoPvbk2q2e5ZiTuvr6MBIEbdSwNaypcDUnv12FLOi-0ZM-e7UDBoTVazbUjAZonW3DPuC0EsTs0q9qlCN64jZwiteeCsYwEoJ_OeS2l_OIjxVvm4V7ANt_G1mgfv8P-jWncBAg2poIw7uQ=w1920-h934-no?authuser=0)\n![Progress Bar](https://lh3.googleusercontent.com/pw/AM-JKLVRb9PCdHqbjiNhSVioW5m0_R2gkwjUaWh-PyXwj22KQuzyFCDKnZghyswKo6b5csrOWDzqP52p9ne_maWVYolKe7kvCTG5_64jQMBUEHGujdu87VzwuSoY5IwZArIchIz5WrEmP9uaYKhZ2PyhPZ7_1g=w1918-h937-no?authuser=0)\n\n進度圈圈的部分比較複雜，我是參考 Figma Community 的人分享作法 [Progress Bar Animations](https://www.figma.com/community/file/826647128105027386)。\n\n最後附上 progress 完成的樣子，動畫看起來很順暢呢~\n[progress 完成影片連結在此](https://capture.dropbox.com/58G1NI28rLLtZ3Vw)\n\n# Reference\n\n* [Figma tutorial: Interactive components](https://www.youtube.com/watch?v=ReNbXhaL3Xk)\n* [Create interactive components with variants](https://help.figma.com/hc/en-us/articles/360061175334-Create-interactive-components-with-variants)\n* [Progress Bar Animations](https://www.figma.com/community/file/826647128105027386)","source":"_posts/UXUI/Figma-Interative-Components.md","raw":"---\ntitle: Figma Interative Components\ncategories:\n  - UXUI\n  - Figma\nthumbnailImage: https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi\nthumbnailImagePosition: left\ncoverImage: https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png\ncoverMeta: out\ntags: [Figma, UX, UI]\ndate: 2021/11/05\nupdated: 2021/11/05\n---\n\n最近 10 月份 Figma 團隊出的 Interative Components Youtube 教學影片，讓我對這個新功能感到很興奮。簡單來說，就是 Checkbox, Radio, Switch... 等元件，可以製作獨立的動畫，讓 user 透過互動看到切換狀態的過程。話不多說，立刻就來試試看。\n\n<!--more-->\n\n# Checkbox & Switch\n\n1. 先把要做動畫的元件一起選取起來，會發現右邊 Design 面板出現 `Variants` 的按鈕，點擊 `Combine as variants`\n![Checkbox](https://lh3.googleusercontent.com/pw/AM-JKLUYkzoSOnLFpn6ATIlBoqS-_u3ym2Guf-jv4yG6ZIrCdgzR5DyviN79bdDsDvOjsnd3AQ9veceIzZGLUYgBI8VFxvC0w9voimHvR-8z1PMHYHe4xLaNBKbY0OvSOwlEl8kU9VPTZd13DWKgV722lu4zAg=w1920-h937-no?authuser=0)\n\n2. 接著在 Prototype 面板設定動畫如下圖所示(Onclick/Change to/Instant)，即可完成\n![Checkbox](https://lh3.googleusercontent.com/pw/AM-JKLVKR9z6Vn4KyeGFzBGwrYkimvKGMKcuexDz7QnNpiL54lqcS8XLpF65YmO2-f1rqo8M6WpueD7qXy95ZgBYG-RI5cIncMQtjuJ4qiq4qLZw3r3nQJZGCGIQSK7Awbbs_TDQByeotTiWiv5a_jcH-n0MnQ=w1920-h935-no?authuser=0)\n\nSwitch 的做法差不多，只是 Animation 選擇 Smart animate (Onclick/Change to/Smart animate)\n![Switch](https://lh3.googleusercontent.com/pw/AM-JKLVGQdknSE70a2Zjfr6J091KiFjWDWxXXFDQbi5cntP6rzQ9u1gFTPxikC85qHJdaBJ4ce7lCJHBOASzPthPMKHluWtLWnE9V-zoa-xvuqk6V-SjGgNhBByczLxlegxLCzoD5d3YRpBDmi9barNT_CrLHw=w1920-h937-no?authuser=0)\n\n完成後，就可以執行 prototype，對元件做點選的動作，可以看到互動的效果優~\n[互動效果影片連結在此](https://capture.dropbox.com/oMIXKTN9A4opyRqs)\n\n# Progress Bar & Progress Circle\n\n另外，進度條或進度圈圈也可以做自動的動畫。\n\n可以參考下圖做進度條。\n![Progress Bar](https://lh3.googleusercontent.com/pw/AM-JKLX3LsnOhXLrfoPvbk2q2e5ZiTuvr6MBIEbdSwNaypcDUnv12FLOi-0ZM-e7UDBoTVazbUjAZonW3DPuC0EsTs0q9qlCN64jZwiteeCsYwEoJ_OeS2l_OIjxVvm4V7ANt_G1mgfv8P-jWncBAg2poIw7uQ=w1920-h934-no?authuser=0)\n![Progress Bar](https://lh3.googleusercontent.com/pw/AM-JKLVRb9PCdHqbjiNhSVioW5m0_R2gkwjUaWh-PyXwj22KQuzyFCDKnZghyswKo6b5csrOWDzqP52p9ne_maWVYolKe7kvCTG5_64jQMBUEHGujdu87VzwuSoY5IwZArIchIz5WrEmP9uaYKhZ2PyhPZ7_1g=w1918-h937-no?authuser=0)\n\n進度圈圈的部分比較複雜，我是參考 Figma Community 的人分享作法 [Progress Bar Animations](https://www.figma.com/community/file/826647128105027386)。\n\n最後附上 progress 完成的樣子，動畫看起來很順暢呢~\n[progress 完成影片連結在此](https://capture.dropbox.com/58G1NI28rLLtZ3Vw)\n\n# Reference\n\n* [Figma tutorial: Interactive components](https://www.youtube.com/watch?v=ReNbXhaL3Xk)\n* [Create interactive components with variants](https://help.figma.com/hc/en-us/articles/360061175334-Create-interactive-components-with-variants)\n* [Progress Bar Animations](https://www.figma.com/community/file/826647128105027386)","slug":"UXUI/Figma-Interative-Components","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rc002lr3y704ig9ylc","content":"<p>最近 10 月份 Figma 團隊出的 Interative Components Youtube 教學影片，讓我對這個新功能感到很興奮。簡單來說，就是 Checkbox, Radio, Switch… 等元件，可以製作獨立的動畫，讓 user 透過互動看到切換狀態的過程。話不多說，立刻就來試試看。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Checkbox-amp-Switch\"><a href=\"#Checkbox-amp-Switch\" class=\"headerlink\" title=\"Checkbox &amp; Switch\"></a>Checkbox &amp; Switch</h1><ol>\n<li><p>先把要做動畫的元件一起選取起來，會發現右邊 Design 面板出現 <code>Variants</code> 的按鈕，點擊 <code>Combine as variants</code><br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUYkzoSOnLFpn6ATIlBoqS-_u3ym2Guf-jv4yG6ZIrCdgzR5DyviN79bdDsDvOjsnd3AQ9veceIzZGLUYgBI8VFxvC0w9voimHvR-8z1PMHYHe4xLaNBKbY0OvSOwlEl8kU9VPTZd13DWKgV722lu4zAg=w1920-h937-no?authuser=0\" alt=\"Checkbox\"></p>\n</li>\n<li><p>接著在 Prototype 面板設定動畫如下圖所示(Onclick&#x2F;Change to&#x2F;Instant)，即可完成<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVKR9z6Vn4KyeGFzBGwrYkimvKGMKcuexDz7QnNpiL54lqcS8XLpF65YmO2-f1rqo8M6WpueD7qXy95ZgBYG-RI5cIncMQtjuJ4qiq4qLZw3r3nQJZGCGIQSK7Awbbs_TDQByeotTiWiv5a_jcH-n0MnQ=w1920-h935-no?authuser=0\" alt=\"Checkbox\"></p>\n</li>\n</ol>\n<p>Switch 的做法差不多，只是 Animation 選擇 Smart animate (Onclick&#x2F;Change to&#x2F;Smart animate)<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVGQdknSE70a2Zjfr6J091KiFjWDWxXXFDQbi5cntP6rzQ9u1gFTPxikC85qHJdaBJ4ce7lCJHBOASzPthPMKHluWtLWnE9V-zoa-xvuqk6V-SjGgNhBByczLxlegxLCzoD5d3YRpBDmi9barNT_CrLHw=w1920-h937-no?authuser=0\" alt=\"Switch\"></p>\n<p>完成後，就可以執行 prototype，對元件做點選的動作，可以看到互動的效果優~<br><a href=\"https://capture.dropbox.com/oMIXKTN9A4opyRqs\">互動效果影片連結在此</a></p>\n<h1 id=\"Progress-Bar-amp-Progress-Circle\"><a href=\"#Progress-Bar-amp-Progress-Circle\" class=\"headerlink\" title=\"Progress Bar &amp; Progress Circle\"></a>Progress Bar &amp; Progress Circle</h1><p>另外，進度條或進度圈圈也可以做自動的動畫。</p>\n<p>可以參考下圖做進度條。<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLX3LsnOhXLrfoPvbk2q2e5ZiTuvr6MBIEbdSwNaypcDUnv12FLOi-0ZM-e7UDBoTVazbUjAZonW3DPuC0EsTs0q9qlCN64jZwiteeCsYwEoJ_OeS2l_OIjxVvm4V7ANt_G1mgfv8P-jWncBAg2poIw7uQ=w1920-h934-no?authuser=0\" alt=\"Progress Bar\"><br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVRb9PCdHqbjiNhSVioW5m0_R2gkwjUaWh-PyXwj22KQuzyFCDKnZghyswKo6b5csrOWDzqP52p9ne_maWVYolKe7kvCTG5_64jQMBUEHGujdu87VzwuSoY5IwZArIchIz5WrEmP9uaYKhZ2PyhPZ7_1g=w1918-h937-no?authuser=0\" alt=\"Progress Bar\"></p>\n<p>進度圈圈的部分比較複雜，我是參考 Figma Community 的人分享作法 <a href=\"https://www.figma.com/community/file/826647128105027386\">Progress Bar Animations</a>。</p>\n<p>最後附上 progress 完成的樣子，動畫看起來很順暢呢~<br><a href=\"https://capture.dropbox.com/58G1NI28rLLtZ3Vw\">progress 完成影片連結在此</a></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.youtube.com/watch?v=ReNbXhaL3Xk\">Figma tutorial: Interactive components</a></li>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360061175334-Create-interactive-components-with-variants\">Create interactive components with variants</a></li>\n<li><a href=\"https://www.figma.com/community/file/826647128105027386\">Progress Bar Animations</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","excerpt":"<p>最近 10 月份 Figma 團隊出的 Interative Components Youtube 教學影片，讓我對這個新功能感到很興奮。簡單來說，就是 Checkbox, Radio, Switch… 等元件，可以製作獨立的動畫，讓 user 透過互動看到切換狀態的過程。話不多說，立刻就來試試看。</p>","more":"<h1 id=\"Checkbox-amp-Switch\"><a href=\"#Checkbox-amp-Switch\" class=\"headerlink\" title=\"Checkbox &amp; Switch\"></a>Checkbox &amp; Switch</h1><ol>\n<li><p>先把要做動畫的元件一起選取起來，會發現右邊 Design 面板出現 <code>Variants</code> 的按鈕，點擊 <code>Combine as variants</code><br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUYkzoSOnLFpn6ATIlBoqS-_u3ym2Guf-jv4yG6ZIrCdgzR5DyviN79bdDsDvOjsnd3AQ9veceIzZGLUYgBI8VFxvC0w9voimHvR-8z1PMHYHe4xLaNBKbY0OvSOwlEl8kU9VPTZd13DWKgV722lu4zAg=w1920-h937-no?authuser=0\" alt=\"Checkbox\"></p>\n</li>\n<li><p>接著在 Prototype 面板設定動畫如下圖所示(Onclick&#x2F;Change to&#x2F;Instant)，即可完成<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVKR9z6Vn4KyeGFzBGwrYkimvKGMKcuexDz7QnNpiL54lqcS8XLpF65YmO2-f1rqo8M6WpueD7qXy95ZgBYG-RI5cIncMQtjuJ4qiq4qLZw3r3nQJZGCGIQSK7Awbbs_TDQByeotTiWiv5a_jcH-n0MnQ=w1920-h935-no?authuser=0\" alt=\"Checkbox\"></p>\n</li>\n</ol>\n<p>Switch 的做法差不多，只是 Animation 選擇 Smart animate (Onclick&#x2F;Change to&#x2F;Smart animate)<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVGQdknSE70a2Zjfr6J091KiFjWDWxXXFDQbi5cntP6rzQ9u1gFTPxikC85qHJdaBJ4ce7lCJHBOASzPthPMKHluWtLWnE9V-zoa-xvuqk6V-SjGgNhBByczLxlegxLCzoD5d3YRpBDmi9barNT_CrLHw=w1920-h937-no?authuser=0\" alt=\"Switch\"></p>\n<p>完成後，就可以執行 prototype，對元件做點選的動作，可以看到互動的效果優~<br><a href=\"https://capture.dropbox.com/oMIXKTN9A4opyRqs\">互動效果影片連結在此</a></p>\n<h1 id=\"Progress-Bar-amp-Progress-Circle\"><a href=\"#Progress-Bar-amp-Progress-Circle\" class=\"headerlink\" title=\"Progress Bar &amp; Progress Circle\"></a>Progress Bar &amp; Progress Circle</h1><p>另外，進度條或進度圈圈也可以做自動的動畫。</p>\n<p>可以參考下圖做進度條。<br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLX3LsnOhXLrfoPvbk2q2e5ZiTuvr6MBIEbdSwNaypcDUnv12FLOi-0ZM-e7UDBoTVazbUjAZonW3DPuC0EsTs0q9qlCN64jZwiteeCsYwEoJ_OeS2l_OIjxVvm4V7ANt_G1mgfv8P-jWncBAg2poIw7uQ=w1920-h934-no?authuser=0\" alt=\"Progress Bar\"><br><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVRb9PCdHqbjiNhSVioW5m0_R2gkwjUaWh-PyXwj22KQuzyFCDKnZghyswKo6b5csrOWDzqP52p9ne_maWVYolKe7kvCTG5_64jQMBUEHGujdu87VzwuSoY5IwZArIchIz5WrEmP9uaYKhZ2PyhPZ7_1g=w1918-h937-no?authuser=0\" alt=\"Progress Bar\"></p>\n<p>進度圈圈的部分比較複雜，我是參考 Figma Community 的人分享作法 <a href=\"https://www.figma.com/community/file/826647128105027386\">Progress Bar Animations</a>。</p>\n<p>最後附上 progress 完成的樣子，動畫看起來很順暢呢~<br><a href=\"https://capture.dropbox.com/58G1NI28rLLtZ3Vw\">progress 完成影片連結在此</a></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.youtube.com/watch?v=ReNbXhaL3Xk\">Figma tutorial: Interactive components</a></li>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360061175334-Create-interactive-components-with-variants\">Create interactive components with variants</a></li>\n<li><a href=\"https://www.figma.com/community/file/826647128105027386\">Progress Bar Animations</a></li>\n</ul>"},{"title":"Git Control for Using Abstract to Manage Sketch Files","thumbnailImage":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no","coverMeta":"out","date":"2018-11-03T16:00:00.000Z","updated":"2018-11-03T16:00:00.000Z","_content":"\n這篇要來介紹 `Abstract` 的主要功能，和我平常會怎麼使用他來做版本控制。\n\n<!--more-->\n\n***\n## Projects 所有專案\n\n登入後的首頁就是顯示所有專案的頁面。專案分為 `ACTIVE` 和 `ARCHIVED`，這兩個分類主要是讓設計師團隊去區分哪些專案是還在進行的，哪些專案是已經結案的。專案只會越來越多，所以我覺得這個功能很好，可以在團隊合作時能很快的找到要設計的專案。我自己目前是一人設計，但目前管理的專案就有十幾個以上，往後專案數量只會遞增，所以我覺得這個功能對設計師來說是十分貼心。但要注意若要使用專案分類的話，是要自己去手動設定的喔，並不會自動知道你的專案已經結案了，所以這部分是手動設定也蠻合理的。\n\n![Projects/ACTIVE](https://lh3.googleusercontent.com/-2IXT8A9fh8LNqeFa7pv9eOVku3fBO0fYRQR3T7GdbaMUgaEmddURlFrA2RvBF-PI3HAzqHw3M40mKvpZAwAFo7YYD5Xleugxzc5K88Ty2XkOqwKLBiIghOtch6ycWlYTaJrLtd95nbmUUS60JO9tz_xGIl9M9eYuwH2sik7ddUyvx8bVVAt75p_mIVPHcQ-6Eo2IhZCGq-KG4VkLA7AcbAAC6jcWpuy5H3OgaTTGf2N_lSwtlm-gwLgIHhJlB2E56Q1QZDPaDAebgJ8c8t3PyD5nDw_AML2BgqdQISujtesJBi3P34_PhzG_HD63suwNy_0n72Qb3Y-mnIJKCA7Nnvjh-towFitQn9gex7mEk7Sk0Q_cYnlPH4t7oCRp5bx5x4iSkYXfG5xr_MWAF2N3dAJeCr5JPNjMBEUWjPhJfJPMFIqGtNhBDknNnqBc93OgeP3Y1lGxvbD2M30nb1QGijbr6m_g3ouzva4kUqZ--NlsXdJwueyJJv7v6HSNx3LSfOYAEvsUIaqb7PcY8am89PIdW4rK_BWMIpVRIVISs61xeD3uYoBRQ1enaWUQY18eMRB2BErTh9dGQg3uOzYKUE7L1kg5W6XteSJozWp9XvZBvVMo4T0B5x8263RZw0jwbsiXT8RfOgjx-GqAFRWUWTkoGzy2XkU=w1023-h619-no \"Projects/ACTIVE\")\n\n![Projects/ARCHIVED](https://lh3.googleusercontent.com/pAv7exhVOlv-orzAfufPHGAP6I_hX345rCvKJHQcynwpP_L_X1fyAjLPwO3wGHyqCJ9073wuy0hPH6nU8tOIKwESYswPLMypk37S0xWQ00tYAYGy7w3cADAxDn3Xmb85VHEydHzqk1MA34BaH6wEjO7m_js3q8esOO07JE702_ee2yeisNnbny--tD54E_lZd_agJcSgLcr-I7cjEWiyZHB72S2BXMx0Ybn3Ylstvie5hYL69Im8LZN4QKgmOU-9gMm6rZxiyzDU8Sh1-qPpNqQ7YROhDP0UpIhE6Ju8yIQv3ElBZN8hhSQF5gpcMrFKsk_BVTAb9ZLz88_q9o_tAk18f5l8VaN97rO9JQzcytg2z-4qj-Jxu2OjuB9TLnCNjiPuUftI0vkiPJ2GuTXFiiI5Zr7iXJKu9az639PP3-hbj3Hx6x8_9dSXgWG12e8Jy4Fwni59R8_BN0zx6FYAngfSV1-k8I416Egj81_Tn98LQD-3JsShYEMfJrAix_qx9yyO-VesL2UEslhRF7rd87TYNtZNPe9g1LDHwlrDl89gpvB9dP1g6zNfMmr5gUB6yQvGDlFtkhZ8dzqptGSUtoYc4EbYxVGdLOUnRcQ8E31foJLkv3hubyklf7J4Dy4Q5Hf7SJ15BwkjX0vZHqYoXbA05z4L59MR=w1023-h618-no \"Projects/ARCHIVED\")\n\n> Tip: 預設專案的排序是照名稱，如果想要專案特別置頂的話，可以按專案卡片上的星星就會強制置頂囉～\n\n要開新專案就按 `New Project` 新增，詳細操作可以參考官網的[說明](https://www.goabstract.com/how-it-works/)，這裡就不再贅述。\n\n![New Project](https://lh3.googleusercontent.com/1Vz2DcZM1aWCJjYeOv6hLGZ6Tc0n0cLd75Ap7ze5z2Lng3k24WvV8lGII0UsFLgsyZNnhu8eWe5uI5StppnBqSzSARjP93-FYEHrBRtSLujEWPwDitK5Ve0NofifsEDeDeplzpaouF_w9vrIwMJ7F9ESivEMZfm8EGLu8CspQXcn24eBgwJReBCv1HbmKZScDjbrOnSUs6MbITqwS5QLYLpLePRPGx-dBEBggKGNKq3i8qB5tEnQijuqyVjryDlGMJqLLjxNHVBIysXKV0rviQNJFB-kk3u4Y1FeJs2NzCSuZHXjxKIv-Hbc44EzsfDz10-YsDzWOym2UsukCu8QLdbueDe20oiF71qQTI8zE1aVaIF54Fb45PUtg0FPqP7Fl3bCpWeHf9tBcyo6g31dJRHUKAJ68Yx9nJhBCE2ZoVjYCbnTgqyvYHmthzyJNDgaGZGtIFsSBGjTXYMMNJVHUAmJjcnw3aqd8AKBX9qZVZG0c76YqSv0KIHCEmWd1oKVcpevvrafRQrxcLMGXV0ycAwmvQF2f6Jg30Gxfbs8fQ48IJK1cELVXm7mW5LMih7APLgpCdr-M0wYrPgOJN-FSuu6-6rU_jqej25j6ogYKuFI6Erzy81uV9HRbA65Mg6GxWXzJnzeX8H-2F1kWIKS03EX-ZuX5v5h=w1023-h614-no \"New Project\")\n\n***\n## Project Overview 專案概況\n\n點擊進入單一專案後，會看到 `Overview` 頁面，這頁是把專案的概況整理成一張張的小卡，讓設計師能快速回憶過往設計並能儘快進入狀態。比較特別的是其中有一個小卡 `About`，類似小白板的感覺，主要功能是紀錄專案的描述和相關文件的參照，我覺得這個部分超棒的！！！因為要設計一個專案，絕對是有許許多多的需求，這些需求總有一個管理的地方，而 Abstract 運用了這張卡片讓流程可以順利的參照。但美中不足的是如果可以像 `Azure Devops` 有個 task board 聯繫 git，並在 merge 的時候有 close task 的功能，將會對設計師團隊有很大的助益。\n\n![Project Overview](https://lh3.googleusercontent.com/-_oB_2ao_K1fbmbMm1DD7plg9BaWkLBzZrRxVLAQK-_2EB9YldTsNHBkz27nljxApmRpBEEbP6fEVZaoxlBuxeiOgF6BU65lUnYTJaSKpprANPD4KGXmB8swyIFyQTtQBz7RcyqxzlYtTy7Bo53kkQl96iiqOvoUaxTsdpTJVuHwE_yWmsu7lz52wr0MhbT6axYvYrrHqKYda_JIOLkGkpyxofVzRM4U79UM_kS9oieYbckdHEcT7t_gyxqUdeygLyewc1rZxXrq2yzQjNs7W6vxYvR6PTh6-1jt97NrH32wl6sPLQpGe7nMUQc8-c4fyQR1dOnX9uQ3ndczBLumUGvSUlmsjkm-GzdEumIySQO3-DeIxZb20wRCVsgUAcO5uGsZO2iGwxgeVWyfjIe0vtX-WKtO6H2XKAwVXsT7_a-7QvYZEa1Vu-uz5mZnlb5vaseRwB7tiv_UnB1wwnXjbLrlaTUAsNGvfQmPIPdJKcQNGi_rfpx_sRG-_6fbgej0HCkzFRokgKP10CFesWbD9BpnnYWx9DS9_NYAJEZonLDdrbY3wDzTd8zpAHTObHzet1Q4DUw7spKDT5rBmgMnZU1YthqYBh5nBZh1ICphlxBP2Dn5Ugb-xMOO63qp2-kNMF5ra1tGdODUhJcMnVA4E0yfXnC-ETHj=w1023-h619-no \"Project Overview\")\n\n***\n## Project Master 專案主分支\n\nMaster 就是此專案的主要 branch，分為 Overview/Commits/Files 三個小功能。正常來說 `Abstract` 不會讓設計師去 commit Master branch，所以如果在這裡去點擊 `EDIT IN SKETCH` 做任何變更是不會讓使用者 commit 上去的。在 Master branch 設計師只會有兩種選擇，要麻獨立開啟檔案不給你做 commit，要麻就是建議你開 branch 做完後再 merge 回來，這一點跟一般的 git 不太一樣，畢竟設計檔案也不會有用到 hotfix 的時候，所以這樣防呆也比較安全。\n\n![Project Master Files](https://lh3.googleusercontent.com/gjq4zyufwjTpLB7hQ_wg9Rusr5hnnhsqpdIKEbIT3EDk3Rnm5YQ-tk81C4ASq3dEgPx43wb3mxsjD6z8I0FZjJnRa_IgtyoLWmXutsxrnqYfCMmcftB1vKkk0LV8im7JxZ1nu0dbVFtA4NnfqstnC34WTBcSdrcjhQcC0nuW7SnRBaY_6OVWCt7TTV6hLdA-9Q_0AdniVqOjcOzgB3pLXPhtX1xUOZqFVS5Vsd2EEsAeOkz_DcEZlsMJ8k_a-MCywYO6HEmepK3ZgKAyCPMmA2WmINZt4TvwlbOp9yffx1TDcQ4ZwHPtaLgwOqO6bsyUPrUSSj7_9Dj53UuickyDTAYGbGWKK-UG8bFBBclYMGeksorPu4VV2oeevIeroJsPl8bGNgqByyTimoO0qIG7Qc_8691kwEfHRh19my6xaD6CPKCry6Pzsi8P-KKGjVZCR-iiEy0NpBWMwOYmj4RlrXonRjm62nd8QWK4SIjHcHWglFTVGQ44BL4dgD-k7kQsd28qTBRzpfj0uOIY8CLTpwkTuW10OP6KHeZ56EqcJR538Ae2cuoKvc2Wd93WRySCdf9yL2gR-twyNnxEW5RxiTLP9Fbw4P8DOdkqx1T60CvdXZwI5PgyyA0Ck2LnK33F32FxjHElds3NJiWil9rrCdntPU7tW3yl=w1022-h620-no \"Project Master Files\")\n\n![Project Master Commits](https://lh3.googleusercontent.com/znS0iAXuVEvPOlhIOL_wlzCmYt9VgJCLEWJ4Lm9y0kAdCef9SfTel1NL8-h5hE1jGsra526Pp5BmxWDsLJnuE2cKNIirE8jQDcIOuDfKQi_SfBWFZvjBUKOyL5OtChPUQD26xUEW-xajZoHKmrJnAYKSfIPMqseCJzSQkrL_90DDnA_N20B-43SG4lYwBHHdQHe_XOPLkGt4fa6voR9KhnxBI4TCmx8Ba2AyRCnKp_u3XEUSTHR32Z-QjO-_z1GE8AKi3S2WJjDHRoIyAtW85D7YxZ3sXDpdzAr9cEAdreouTY_8bTt0zK9TzmhZfUuYnOJ6CoFTwA7YcBm5k4_x9qIA2FF1BSNHCqDvNnu4nyWlzVYiyA7JrBulgeodU7tCLCrdvpiUKXaPQ2yzM4LD8paoUFU6ljHYtYxVV6-4KOd4DDDnfYIqGpfSqrGEmQGoVejG7HJ-KJ90a-kycmgnFz08CrZ145IHu-9Bk2KZUAtkB5uRe769mojUtelz80Y74aA6VxD7Fn_R93-wJlMoeWIDg2GTHlMinW5aCNZdg4_7x1wsTHmNARvBeAYeLdXFdi7ZbuHJGfMum74xO4LLO5_Ym8pUzLD6o5f3vkOPqQJXm2dHulxrnt5tTER6Unh520zJO5DI8PZSxEEoNut23dntE9xeyXvR=w1026-h620-no \"Project Master Commits\")\n\n***\n## Project Branches 專案分支\n\n這個功能是 `Abstract` 的核心。上一段提到正常的版本控制流程如同 git 一般，應該要做 `NEW BRANCH` 的動作開新分隻，並在新分支做 `EDIT IN SKETCH`，儲存完後對分支進行 commit 的動作，確定都修改完成最後才會將數個 commit merge 到 Master branch。這樣做除了多人設計師可以合作外，如果像我一樣孤獨的設計師也有好處嗎？答案絕對是YES! 因為設計跟寫程式不一樣，同一個需求，常常需要多種設計方案來比較，但 BOSS 又是那種看不到畫面就感覺不到的人，所以這時候開 branch 就非常好用。不同 branch 代表不同的設計方案，這樣既不會干擾原設計，又可以將最後確定要做的 branch 做 merge，其他不需要的方案也可以留底做紀錄。超愛！！\n\n![Project Branches](https://lh3.googleusercontent.com/YMwJ6QF8ELcQyu9v149YVgKqPMBd6coFba1xGhj0pZIcFo5pIXOj__M9q8HexsG98T642rfCSG5kBsW049dAs_RkpeWYzXNifgZqt8CYVuA8JJy4w8gdeokOfsHdmZpfh25QV4RLLXKeBzeDa39zltfoKn6wm4BA2KnzNCWCjMtUu9ZyvleFX_p7xTzenabPy9nq_nO3_c0ygpVfRfrsH3dxvfwNak18bIbcMBoZAHANMZpN7aWAuXTbwSroLPvc4E2IDYuG8DvtkyLGFIeQ0DxxazXNmF6nb7AD-mH3CtRQwO10grAK9Kh3TJKRutOXmyaypvQ52ppw8ixSG3CBmnvI6q7AX0d6-LQAhox_IElE6m2nRfSIh0ATu6NY4dqEpy4UEuu3-uveuzBqpKjBdA09UctNxrbpVwZSjZkPzmHgzEzEF9zpEjClwJvjCQGOm-mMBhhxPA8nwOnVXAib6EX8yQVA9JbgjoDlpl89B57hhcu9d4vOfTRGnQLbygT3Pd3wyc0cbVikM_Z1fdkN3HVAJ3nNz2LwkyDtjiwItopNVawGu2dxBRzmak5BMCEgAFOfi4fJV1ZFTjZoQ4kLWNOXA0OWcjDKkMlyb3VJ9tZSVD_c3G8TtTtb9TlCJ1LdtaLiBKPxKqmd3d4vGyyix9UbzwBAxkDX=w1022-h616-no \"Project Branches\")\n\n> Tip: 對每張預覽圖點進去都可以做 COMMENT/COMPARE/INSPECT 的功能。 COMMENT 就是給不同設計師合作時的討論。 COMPARE 就是可以比對設計圖修改前後的不同處。 INSPECT 是新功能尚未開放，但我猜應該是讓設計師可跟工程師溝通的 spec，這部分我目前是先用 Sketch 的 plugin 輸出成互動的 HTML 解決，如果 Abstract 之後有開放此功能的話，將會是一大福音。\n\n![Pages](https://lh3.googleusercontent.com/ZRGh0dvdsa4_9yjD0zsq1rYQ4rfJjo8VxLSG4q6jD4p-KvE0s-fwPaEdBGxV26ol9LNfC15pGrfNIrjBYf-7UbK0WkGw7wsMPhvf_Nb45ecIlD_aC_bK1y844cuiP-WftQaZF3sasfinPGXm_UF6ROnCWfMafg5feUwnYSmJWh04jnVD0wUbi6D-CuCjOm3gVc-hANHCKfmDskpjmlLFn-AeMoj79-3fmkKSa8aQjQUslFHRuwn8W4XC7xTCztFy8JP7sAStDVu8BEcmECyXKS4t2WqCwVJE1Q4ptuJWszgo_8yDFzW_1v_aL3wolRUIt0F0yf9IP0BxQzlATEDgyasinQB_JGYoUtlr0mUNZjg6QFeLT47ZDQr3pqf70_FjTON7eJsubnwUclXTonbHK6ERD_pZlECnVUIRy-T1vFWQYroxlZ4upb2BrEG3l1Haum6UdAuULeQr0D6qxeoNEscYFnTAWRCV1AcRUP0iy0yiXkYRSwzBeqnU0PjFbtHxtGmanY8ijx1spIjNQ_65bmHGlDaaOPT7yvvZwHDRlPWm7HH1dTr_gK1iXYPA2ZV0WKIn-sUV7vDkSMMH-0do6REnQvRT_Sp4S3jBSbWWeEnH-Ky9Cwpknc-_EDfZpaUvEN7Txx3qQACbTMqUyAurEepMlViHatVQ=w1023-h621-no \"Pages\")\n\n***\n## 2018 對應 Sketch Library 的功能\n\nSketch 的新功能 `Library`， Abstract 也有支援，而且使用起來相當順暢。當已經有一組設計元件/框架想要共用多個不同的專案時，我們可以開一個單獨的專案並將其 sketch 檔案 import 為 Library 做管理。在另一個要使用此 Library 的專案在 Files 的子頁面做 `Link Library` 的動作。這樣只要原本 Library 的元件有做修改，有使用到此共用元件的專案也會一併更新，如此一來就可以做到 Library 和一般專案分開管理，又可以做到互相關聯。這個新功能雖然是 Sketch 研發，但搭配上 Abstract 後更是如虎添翼，打 BOSS 嚇嚇叫！詳細實作可參考官網[說明](https://support.goabstract.com/hc/en-us/articles/360016370931-Build-a-Library)。\n\n> Tip: `Import Sketch file as Library` 後檔案的 icon 會變成粉紫色鑽石（預設是橘黃色），這樣就表示有新增 Library 成功喔～\n\n![Library](https://lh3.googleusercontent.com/AmGnIR7k0l-SdY5hD_94kR6OO-pCMseKchuEeBcrfPtlgEtmule4zv5GB-GCFafrWYnuB_WgLM-HUbq1MSn19wvglEBu_SZ330zh-lu3GTdbiPotoc6KAR7ZCCGL-4NHj8lfL23FxkM3Yc-wSD9Ecu8L5WWx0vMUznNXsSFOcKXOjnBS8uk_n2XefeKGlS7ZZrvXLmHi5vlY8bVrz-rRoBTSwZft6njuqlKpBw5KP5nmjqqEaIpO9rxbB3GT5nwbLmAZeVITJjVnJoOsPR5hX6Z_WD2j0Qn6Q8jj-mKr-Pu9gWRmdYy4oT6G5ZemDpRHtq7I5NcgO9-hDgOFGTXDEneff0tdKfuu7lfyKz7MDimBAqZELILN5dCf6V8gzIhoUHNHSU7XndmlXXUP-CUn_vJJxWeOBNlVB0tnbsG8UziCyG_hj0hKmyIHvEeYwxPwGwX_2uWOH_tt1MIguJGu1SXJIrzYOL9lTY7crgjFduWMztg5IoBv5F8pbXFBdNBGnPgPlf8p8SHfKm5-nKcsqgHnDd4ADyYuuDPIhDtenZc97AuLnBj6oJVkZwVoxvf8IZdrZACuDIIOiZJ02b9HNvUzIMvegeUBxxjKisJdd_yT81jTwq7rcXhW4vacP6RvdPriXhQ61zE6qm5vQLLMGfWL3Hjd3kxi=w1021-h619-no \"Library\")","source":"_posts/UXUI/Git-Control-for-Using-Abstract-to-Manage-Sketch-Files.md","raw":"---\ntitle: Git Control for Using Abstract to Manage Sketch Files\ncategories:\n  - UXUI\nthumbnailImage: https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no\ncoverMeta: out\ntags: [Sketch, Abstract, UX, UI]\ndate: 2018/11/04\nupdated: 2018/11/04\n---\n\n這篇要來介紹 `Abstract` 的主要功能，和我平常會怎麼使用他來做版本控制。\n\n<!--more-->\n\n***\n## Projects 所有專案\n\n登入後的首頁就是顯示所有專案的頁面。專案分為 `ACTIVE` 和 `ARCHIVED`，這兩個分類主要是讓設計師團隊去區分哪些專案是還在進行的，哪些專案是已經結案的。專案只會越來越多，所以我覺得這個功能很好，可以在團隊合作時能很快的找到要設計的專案。我自己目前是一人設計，但目前管理的專案就有十幾個以上，往後專案數量只會遞增，所以我覺得這個功能對設計師來說是十分貼心。但要注意若要使用專案分類的話，是要自己去手動設定的喔，並不會自動知道你的專案已經結案了，所以這部分是手動設定也蠻合理的。\n\n![Projects/ACTIVE](https://lh3.googleusercontent.com/-2IXT8A9fh8LNqeFa7pv9eOVku3fBO0fYRQR3T7GdbaMUgaEmddURlFrA2RvBF-PI3HAzqHw3M40mKvpZAwAFo7YYD5Xleugxzc5K88Ty2XkOqwKLBiIghOtch6ycWlYTaJrLtd95nbmUUS60JO9tz_xGIl9M9eYuwH2sik7ddUyvx8bVVAt75p_mIVPHcQ-6Eo2IhZCGq-KG4VkLA7AcbAAC6jcWpuy5H3OgaTTGf2N_lSwtlm-gwLgIHhJlB2E56Q1QZDPaDAebgJ8c8t3PyD5nDw_AML2BgqdQISujtesJBi3P34_PhzG_HD63suwNy_0n72Qb3Y-mnIJKCA7Nnvjh-towFitQn9gex7mEk7Sk0Q_cYnlPH4t7oCRp5bx5x4iSkYXfG5xr_MWAF2N3dAJeCr5JPNjMBEUWjPhJfJPMFIqGtNhBDknNnqBc93OgeP3Y1lGxvbD2M30nb1QGijbr6m_g3ouzva4kUqZ--NlsXdJwueyJJv7v6HSNx3LSfOYAEvsUIaqb7PcY8am89PIdW4rK_BWMIpVRIVISs61xeD3uYoBRQ1enaWUQY18eMRB2BErTh9dGQg3uOzYKUE7L1kg5W6XteSJozWp9XvZBvVMo4T0B5x8263RZw0jwbsiXT8RfOgjx-GqAFRWUWTkoGzy2XkU=w1023-h619-no \"Projects/ACTIVE\")\n\n![Projects/ARCHIVED](https://lh3.googleusercontent.com/pAv7exhVOlv-orzAfufPHGAP6I_hX345rCvKJHQcynwpP_L_X1fyAjLPwO3wGHyqCJ9073wuy0hPH6nU8tOIKwESYswPLMypk37S0xWQ00tYAYGy7w3cADAxDn3Xmb85VHEydHzqk1MA34BaH6wEjO7m_js3q8esOO07JE702_ee2yeisNnbny--tD54E_lZd_agJcSgLcr-I7cjEWiyZHB72S2BXMx0Ybn3Ylstvie5hYL69Im8LZN4QKgmOU-9gMm6rZxiyzDU8Sh1-qPpNqQ7YROhDP0UpIhE6Ju8yIQv3ElBZN8hhSQF5gpcMrFKsk_BVTAb9ZLz88_q9o_tAk18f5l8VaN97rO9JQzcytg2z-4qj-Jxu2OjuB9TLnCNjiPuUftI0vkiPJ2GuTXFiiI5Zr7iXJKu9az639PP3-hbj3Hx6x8_9dSXgWG12e8Jy4Fwni59R8_BN0zx6FYAngfSV1-k8I416Egj81_Tn98LQD-3JsShYEMfJrAix_qx9yyO-VesL2UEslhRF7rd87TYNtZNPe9g1LDHwlrDl89gpvB9dP1g6zNfMmr5gUB6yQvGDlFtkhZ8dzqptGSUtoYc4EbYxVGdLOUnRcQ8E31foJLkv3hubyklf7J4Dy4Q5Hf7SJ15BwkjX0vZHqYoXbA05z4L59MR=w1023-h618-no \"Projects/ARCHIVED\")\n\n> Tip: 預設專案的排序是照名稱，如果想要專案特別置頂的話，可以按專案卡片上的星星就會強制置頂囉～\n\n要開新專案就按 `New Project` 新增，詳細操作可以參考官網的[說明](https://www.goabstract.com/how-it-works/)，這裡就不再贅述。\n\n![New Project](https://lh3.googleusercontent.com/1Vz2DcZM1aWCJjYeOv6hLGZ6Tc0n0cLd75Ap7ze5z2Lng3k24WvV8lGII0UsFLgsyZNnhu8eWe5uI5StppnBqSzSARjP93-FYEHrBRtSLujEWPwDitK5Ve0NofifsEDeDeplzpaouF_w9vrIwMJ7F9ESivEMZfm8EGLu8CspQXcn24eBgwJReBCv1HbmKZScDjbrOnSUs6MbITqwS5QLYLpLePRPGx-dBEBggKGNKq3i8qB5tEnQijuqyVjryDlGMJqLLjxNHVBIysXKV0rviQNJFB-kk3u4Y1FeJs2NzCSuZHXjxKIv-Hbc44EzsfDz10-YsDzWOym2UsukCu8QLdbueDe20oiF71qQTI8zE1aVaIF54Fb45PUtg0FPqP7Fl3bCpWeHf9tBcyo6g31dJRHUKAJ68Yx9nJhBCE2ZoVjYCbnTgqyvYHmthzyJNDgaGZGtIFsSBGjTXYMMNJVHUAmJjcnw3aqd8AKBX9qZVZG0c76YqSv0KIHCEmWd1oKVcpevvrafRQrxcLMGXV0ycAwmvQF2f6Jg30Gxfbs8fQ48IJK1cELVXm7mW5LMih7APLgpCdr-M0wYrPgOJN-FSuu6-6rU_jqej25j6ogYKuFI6Erzy81uV9HRbA65Mg6GxWXzJnzeX8H-2F1kWIKS03EX-ZuX5v5h=w1023-h614-no \"New Project\")\n\n***\n## Project Overview 專案概況\n\n點擊進入單一專案後，會看到 `Overview` 頁面，這頁是把專案的概況整理成一張張的小卡，讓設計師能快速回憶過往設計並能儘快進入狀態。比較特別的是其中有一個小卡 `About`，類似小白板的感覺，主要功能是紀錄專案的描述和相關文件的參照，我覺得這個部分超棒的！！！因為要設計一個專案，絕對是有許許多多的需求，這些需求總有一個管理的地方，而 Abstract 運用了這張卡片讓流程可以順利的參照。但美中不足的是如果可以像 `Azure Devops` 有個 task board 聯繫 git，並在 merge 的時候有 close task 的功能，將會對設計師團隊有很大的助益。\n\n![Project Overview](https://lh3.googleusercontent.com/-_oB_2ao_K1fbmbMm1DD7plg9BaWkLBzZrRxVLAQK-_2EB9YldTsNHBkz27nljxApmRpBEEbP6fEVZaoxlBuxeiOgF6BU65lUnYTJaSKpprANPD4KGXmB8swyIFyQTtQBz7RcyqxzlYtTy7Bo53kkQl96iiqOvoUaxTsdpTJVuHwE_yWmsu7lz52wr0MhbT6axYvYrrHqKYda_JIOLkGkpyxofVzRM4U79UM_kS9oieYbckdHEcT7t_gyxqUdeygLyewc1rZxXrq2yzQjNs7W6vxYvR6PTh6-1jt97NrH32wl6sPLQpGe7nMUQc8-c4fyQR1dOnX9uQ3ndczBLumUGvSUlmsjkm-GzdEumIySQO3-DeIxZb20wRCVsgUAcO5uGsZO2iGwxgeVWyfjIe0vtX-WKtO6H2XKAwVXsT7_a-7QvYZEa1Vu-uz5mZnlb5vaseRwB7tiv_UnB1wwnXjbLrlaTUAsNGvfQmPIPdJKcQNGi_rfpx_sRG-_6fbgej0HCkzFRokgKP10CFesWbD9BpnnYWx9DS9_NYAJEZonLDdrbY3wDzTd8zpAHTObHzet1Q4DUw7spKDT5rBmgMnZU1YthqYBh5nBZh1ICphlxBP2Dn5Ugb-xMOO63qp2-kNMF5ra1tGdODUhJcMnVA4E0yfXnC-ETHj=w1023-h619-no \"Project Overview\")\n\n***\n## Project Master 專案主分支\n\nMaster 就是此專案的主要 branch，分為 Overview/Commits/Files 三個小功能。正常來說 `Abstract` 不會讓設計師去 commit Master branch，所以如果在這裡去點擊 `EDIT IN SKETCH` 做任何變更是不會讓使用者 commit 上去的。在 Master branch 設計師只會有兩種選擇，要麻獨立開啟檔案不給你做 commit，要麻就是建議你開 branch 做完後再 merge 回來，這一點跟一般的 git 不太一樣，畢竟設計檔案也不會有用到 hotfix 的時候，所以這樣防呆也比較安全。\n\n![Project Master Files](https://lh3.googleusercontent.com/gjq4zyufwjTpLB7hQ_wg9Rusr5hnnhsqpdIKEbIT3EDk3Rnm5YQ-tk81C4ASq3dEgPx43wb3mxsjD6z8I0FZjJnRa_IgtyoLWmXutsxrnqYfCMmcftB1vKkk0LV8im7JxZ1nu0dbVFtA4NnfqstnC34WTBcSdrcjhQcC0nuW7SnRBaY_6OVWCt7TTV6hLdA-9Q_0AdniVqOjcOzgB3pLXPhtX1xUOZqFVS5Vsd2EEsAeOkz_DcEZlsMJ8k_a-MCywYO6HEmepK3ZgKAyCPMmA2WmINZt4TvwlbOp9yffx1TDcQ4ZwHPtaLgwOqO6bsyUPrUSSj7_9Dj53UuickyDTAYGbGWKK-UG8bFBBclYMGeksorPu4VV2oeevIeroJsPl8bGNgqByyTimoO0qIG7Qc_8691kwEfHRh19my6xaD6CPKCry6Pzsi8P-KKGjVZCR-iiEy0NpBWMwOYmj4RlrXonRjm62nd8QWK4SIjHcHWglFTVGQ44BL4dgD-k7kQsd28qTBRzpfj0uOIY8CLTpwkTuW10OP6KHeZ56EqcJR538Ae2cuoKvc2Wd93WRySCdf9yL2gR-twyNnxEW5RxiTLP9Fbw4P8DOdkqx1T60CvdXZwI5PgyyA0Ck2LnK33F32FxjHElds3NJiWil9rrCdntPU7tW3yl=w1022-h620-no \"Project Master Files\")\n\n![Project Master Commits](https://lh3.googleusercontent.com/znS0iAXuVEvPOlhIOL_wlzCmYt9VgJCLEWJ4Lm9y0kAdCef9SfTel1NL8-h5hE1jGsra526Pp5BmxWDsLJnuE2cKNIirE8jQDcIOuDfKQi_SfBWFZvjBUKOyL5OtChPUQD26xUEW-xajZoHKmrJnAYKSfIPMqseCJzSQkrL_90DDnA_N20B-43SG4lYwBHHdQHe_XOPLkGt4fa6voR9KhnxBI4TCmx8Ba2AyRCnKp_u3XEUSTHR32Z-QjO-_z1GE8AKi3S2WJjDHRoIyAtW85D7YxZ3sXDpdzAr9cEAdreouTY_8bTt0zK9TzmhZfUuYnOJ6CoFTwA7YcBm5k4_x9qIA2FF1BSNHCqDvNnu4nyWlzVYiyA7JrBulgeodU7tCLCrdvpiUKXaPQ2yzM4LD8paoUFU6ljHYtYxVV6-4KOd4DDDnfYIqGpfSqrGEmQGoVejG7HJ-KJ90a-kycmgnFz08CrZ145IHu-9Bk2KZUAtkB5uRe769mojUtelz80Y74aA6VxD7Fn_R93-wJlMoeWIDg2GTHlMinW5aCNZdg4_7x1wsTHmNARvBeAYeLdXFdi7ZbuHJGfMum74xO4LLO5_Ym8pUzLD6o5f3vkOPqQJXm2dHulxrnt5tTER6Unh520zJO5DI8PZSxEEoNut23dntE9xeyXvR=w1026-h620-no \"Project Master Commits\")\n\n***\n## Project Branches 專案分支\n\n這個功能是 `Abstract` 的核心。上一段提到正常的版本控制流程如同 git 一般，應該要做 `NEW BRANCH` 的動作開新分隻，並在新分支做 `EDIT IN SKETCH`，儲存完後對分支進行 commit 的動作，確定都修改完成最後才會將數個 commit merge 到 Master branch。這樣做除了多人設計師可以合作外，如果像我一樣孤獨的設計師也有好處嗎？答案絕對是YES! 因為設計跟寫程式不一樣，同一個需求，常常需要多種設計方案來比較，但 BOSS 又是那種看不到畫面就感覺不到的人，所以這時候開 branch 就非常好用。不同 branch 代表不同的設計方案，這樣既不會干擾原設計，又可以將最後確定要做的 branch 做 merge，其他不需要的方案也可以留底做紀錄。超愛！！\n\n![Project Branches](https://lh3.googleusercontent.com/YMwJ6QF8ELcQyu9v149YVgKqPMBd6coFba1xGhj0pZIcFo5pIXOj__M9q8HexsG98T642rfCSG5kBsW049dAs_RkpeWYzXNifgZqt8CYVuA8JJy4w8gdeokOfsHdmZpfh25QV4RLLXKeBzeDa39zltfoKn6wm4BA2KnzNCWCjMtUu9ZyvleFX_p7xTzenabPy9nq_nO3_c0ygpVfRfrsH3dxvfwNak18bIbcMBoZAHANMZpN7aWAuXTbwSroLPvc4E2IDYuG8DvtkyLGFIeQ0DxxazXNmF6nb7AD-mH3CtRQwO10grAK9Kh3TJKRutOXmyaypvQ52ppw8ixSG3CBmnvI6q7AX0d6-LQAhox_IElE6m2nRfSIh0ATu6NY4dqEpy4UEuu3-uveuzBqpKjBdA09UctNxrbpVwZSjZkPzmHgzEzEF9zpEjClwJvjCQGOm-mMBhhxPA8nwOnVXAib6EX8yQVA9JbgjoDlpl89B57hhcu9d4vOfTRGnQLbygT3Pd3wyc0cbVikM_Z1fdkN3HVAJ3nNz2LwkyDtjiwItopNVawGu2dxBRzmak5BMCEgAFOfi4fJV1ZFTjZoQ4kLWNOXA0OWcjDKkMlyb3VJ9tZSVD_c3G8TtTtb9TlCJ1LdtaLiBKPxKqmd3d4vGyyix9UbzwBAxkDX=w1022-h616-no \"Project Branches\")\n\n> Tip: 對每張預覽圖點進去都可以做 COMMENT/COMPARE/INSPECT 的功能。 COMMENT 就是給不同設計師合作時的討論。 COMPARE 就是可以比對設計圖修改前後的不同處。 INSPECT 是新功能尚未開放，但我猜應該是讓設計師可跟工程師溝通的 spec，這部分我目前是先用 Sketch 的 plugin 輸出成互動的 HTML 解決，如果 Abstract 之後有開放此功能的話，將會是一大福音。\n\n![Pages](https://lh3.googleusercontent.com/ZRGh0dvdsa4_9yjD0zsq1rYQ4rfJjo8VxLSG4q6jD4p-KvE0s-fwPaEdBGxV26ol9LNfC15pGrfNIrjBYf-7UbK0WkGw7wsMPhvf_Nb45ecIlD_aC_bK1y844cuiP-WftQaZF3sasfinPGXm_UF6ROnCWfMafg5feUwnYSmJWh04jnVD0wUbi6D-CuCjOm3gVc-hANHCKfmDskpjmlLFn-AeMoj79-3fmkKSa8aQjQUslFHRuwn8W4XC7xTCztFy8JP7sAStDVu8BEcmECyXKS4t2WqCwVJE1Q4ptuJWszgo_8yDFzW_1v_aL3wolRUIt0F0yf9IP0BxQzlATEDgyasinQB_JGYoUtlr0mUNZjg6QFeLT47ZDQr3pqf70_FjTON7eJsubnwUclXTonbHK6ERD_pZlECnVUIRy-T1vFWQYroxlZ4upb2BrEG3l1Haum6UdAuULeQr0D6qxeoNEscYFnTAWRCV1AcRUP0iy0yiXkYRSwzBeqnU0PjFbtHxtGmanY8ijx1spIjNQ_65bmHGlDaaOPT7yvvZwHDRlPWm7HH1dTr_gK1iXYPA2ZV0WKIn-sUV7vDkSMMH-0do6REnQvRT_Sp4S3jBSbWWeEnH-Ky9Cwpknc-_EDfZpaUvEN7Txx3qQACbTMqUyAurEepMlViHatVQ=w1023-h621-no \"Pages\")\n\n***\n## 2018 對應 Sketch Library 的功能\n\nSketch 的新功能 `Library`， Abstract 也有支援，而且使用起來相當順暢。當已經有一組設計元件/框架想要共用多個不同的專案時，我們可以開一個單獨的專案並將其 sketch 檔案 import 為 Library 做管理。在另一個要使用此 Library 的專案在 Files 的子頁面做 `Link Library` 的動作。這樣只要原本 Library 的元件有做修改，有使用到此共用元件的專案也會一併更新，如此一來就可以做到 Library 和一般專案分開管理，又可以做到互相關聯。這個新功能雖然是 Sketch 研發，但搭配上 Abstract 後更是如虎添翼，打 BOSS 嚇嚇叫！詳細實作可參考官網[說明](https://support.goabstract.com/hc/en-us/articles/360016370931-Build-a-Library)。\n\n> Tip: `Import Sketch file as Library` 後檔案的 icon 會變成粉紫色鑽石（預設是橘黃色），這樣就表示有新增 Library 成功喔～\n\n![Library](https://lh3.googleusercontent.com/AmGnIR7k0l-SdY5hD_94kR6OO-pCMseKchuEeBcrfPtlgEtmule4zv5GB-GCFafrWYnuB_WgLM-HUbq1MSn19wvglEBu_SZ330zh-lu3GTdbiPotoc6KAR7ZCCGL-4NHj8lfL23FxkM3Yc-wSD9Ecu8L5WWx0vMUznNXsSFOcKXOjnBS8uk_n2XefeKGlS7ZZrvXLmHi5vlY8bVrz-rRoBTSwZft6njuqlKpBw5KP5nmjqqEaIpO9rxbB3GT5nwbLmAZeVITJjVnJoOsPR5hX6Z_WD2j0Qn6Q8jj-mKr-Pu9gWRmdYy4oT6G5ZemDpRHtq7I5NcgO9-hDgOFGTXDEneff0tdKfuu7lfyKz7MDimBAqZELILN5dCf6V8gzIhoUHNHSU7XndmlXXUP-CUn_vJJxWeOBNlVB0tnbsG8UziCyG_hj0hKmyIHvEeYwxPwGwX_2uWOH_tt1MIguJGu1SXJIrzYOL9lTY7crgjFduWMztg5IoBv5F8pbXFBdNBGnPgPlf8p8SHfKm5-nKcsqgHnDd4ADyYuuDPIhDtenZc97AuLnBj6oJVkZwVoxvf8IZdrZACuDIIOiZJ02b9HNvUzIMvegeUBxxjKisJdd_yT81jTwq7rcXhW4vacP6RvdPriXhQ61zE6qm5vQLLMGfWL3Hjd3kxi=w1021-h619-no \"Library\")","slug":"UXUI/Git-Control-for-Using-Abstract-to-Manage-Sketch-Files","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rd002nr3y712u65v7h","content":"<p>這篇要來介紹 <code>Abstract</code> 的主要功能，和我平常會怎麼使用他來做版本控制。</p>\n<span id=\"more\"></span>\n\n<hr>\n<h2 id=\"Projects-所有專案\"><a href=\"#Projects-所有專案\" class=\"headerlink\" title=\"Projects 所有專案\"></a>Projects 所有專案</h2><p>登入後的首頁就是顯示所有專案的頁面。專案分為 <code>ACTIVE</code> 和 <code>ARCHIVED</code>，這兩個分類主要是讓設計師團隊去區分哪些專案是還在進行的，哪些專案是已經結案的。專案只會越來越多，所以我覺得這個功能很好，可以在團隊合作時能很快的找到要設計的專案。我自己目前是一人設計，但目前管理的專案就有十幾個以上，往後專案數量只會遞增，所以我覺得這個功能對設計師來說是十分貼心。但要注意若要使用專案分類的話，是要自己去手動設定的喔，並不會自動知道你的專案已經結案了，所以這部分是手動設定也蠻合理的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-2IXT8A9fh8LNqeFa7pv9eOVku3fBO0fYRQR3T7GdbaMUgaEmddURlFrA2RvBF-PI3HAzqHw3M40mKvpZAwAFo7YYD5Xleugxzc5K88Ty2XkOqwKLBiIghOtch6ycWlYTaJrLtd95nbmUUS60JO9tz_xGIl9M9eYuwH2sik7ddUyvx8bVVAt75p_mIVPHcQ-6Eo2IhZCGq-KG4VkLA7AcbAAC6jcWpuy5H3OgaTTGf2N_lSwtlm-gwLgIHhJlB2E56Q1QZDPaDAebgJ8c8t3PyD5nDw_AML2BgqdQISujtesJBi3P34_PhzG_HD63suwNy_0n72Qb3Y-mnIJKCA7Nnvjh-towFitQn9gex7mEk7Sk0Q_cYnlPH4t7oCRp5bx5x4iSkYXfG5xr_MWAF2N3dAJeCr5JPNjMBEUWjPhJfJPMFIqGtNhBDknNnqBc93OgeP3Y1lGxvbD2M30nb1QGijbr6m_g3ouzva4kUqZ--NlsXdJwueyJJv7v6HSNx3LSfOYAEvsUIaqb7PcY8am89PIdW4rK_BWMIpVRIVISs61xeD3uYoBRQ1enaWUQY18eMRB2BErTh9dGQg3uOzYKUE7L1kg5W6XteSJozWp9XvZBvVMo4T0B5x8263RZw0jwbsiXT8RfOgjx-GqAFRWUWTkoGzy2XkU=w1023-h619-no\" alt=\"Projects/ACTIVE\" title=\"Projects/ACTIVE\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pAv7exhVOlv-orzAfufPHGAP6I_hX345rCvKJHQcynwpP_L_X1fyAjLPwO3wGHyqCJ9073wuy0hPH6nU8tOIKwESYswPLMypk37S0xWQ00tYAYGy7w3cADAxDn3Xmb85VHEydHzqk1MA34BaH6wEjO7m_js3q8esOO07JE702_ee2yeisNnbny--tD54E_lZd_agJcSgLcr-I7cjEWiyZHB72S2BXMx0Ybn3Ylstvie5hYL69Im8LZN4QKgmOU-9gMm6rZxiyzDU8Sh1-qPpNqQ7YROhDP0UpIhE6Ju8yIQv3ElBZN8hhSQF5gpcMrFKsk_BVTAb9ZLz88_q9o_tAk18f5l8VaN97rO9JQzcytg2z-4qj-Jxu2OjuB9TLnCNjiPuUftI0vkiPJ2GuTXFiiI5Zr7iXJKu9az639PP3-hbj3Hx6x8_9dSXgWG12e8Jy4Fwni59R8_BN0zx6FYAngfSV1-k8I416Egj81_Tn98LQD-3JsShYEMfJrAix_qx9yyO-VesL2UEslhRF7rd87TYNtZNPe9g1LDHwlrDl89gpvB9dP1g6zNfMmr5gUB6yQvGDlFtkhZ8dzqptGSUtoYc4EbYxVGdLOUnRcQ8E31foJLkv3hubyklf7J4Dy4Q5Hf7SJ15BwkjX0vZHqYoXbA05z4L59MR=w1023-h618-no\" alt=\"Projects/ARCHIVED\" title=\"Projects/ARCHIVED\"></p>\n<blockquote>\n<p>Tip: 預設專案的排序是照名稱，如果想要專案特別置頂的話，可以按專案卡片上的星星就會強制置頂囉～</p>\n</blockquote>\n<p>要開新專案就按 <code>New Project</code> 新增，詳細操作可以參考官網的<a href=\"https://www.goabstract.com/how-it-works/\">說明</a>，這裡就不再贅述。</p>\n<p><img src=\"https://lh3.googleusercontent.com/1Vz2DcZM1aWCJjYeOv6hLGZ6Tc0n0cLd75Ap7ze5z2Lng3k24WvV8lGII0UsFLgsyZNnhu8eWe5uI5StppnBqSzSARjP93-FYEHrBRtSLujEWPwDitK5Ve0NofifsEDeDeplzpaouF_w9vrIwMJ7F9ESivEMZfm8EGLu8CspQXcn24eBgwJReBCv1HbmKZScDjbrOnSUs6MbITqwS5QLYLpLePRPGx-dBEBggKGNKq3i8qB5tEnQijuqyVjryDlGMJqLLjxNHVBIysXKV0rviQNJFB-kk3u4Y1FeJs2NzCSuZHXjxKIv-Hbc44EzsfDz10-YsDzWOym2UsukCu8QLdbueDe20oiF71qQTI8zE1aVaIF54Fb45PUtg0FPqP7Fl3bCpWeHf9tBcyo6g31dJRHUKAJ68Yx9nJhBCE2ZoVjYCbnTgqyvYHmthzyJNDgaGZGtIFsSBGjTXYMMNJVHUAmJjcnw3aqd8AKBX9qZVZG0c76YqSv0KIHCEmWd1oKVcpevvrafRQrxcLMGXV0ycAwmvQF2f6Jg30Gxfbs8fQ48IJK1cELVXm7mW5LMih7APLgpCdr-M0wYrPgOJN-FSuu6-6rU_jqej25j6ogYKuFI6Erzy81uV9HRbA65Mg6GxWXzJnzeX8H-2F1kWIKS03EX-ZuX5v5h=w1023-h614-no\" alt=\"New Project\" title=\"New Project\"></p>\n<hr>\n<h2 id=\"Project-Overview-專案概況\"><a href=\"#Project-Overview-專案概況\" class=\"headerlink\" title=\"Project Overview 專案概況\"></a>Project Overview 專案概況</h2><p>點擊進入單一專案後，會看到 <code>Overview</code> 頁面，這頁是把專案的概況整理成一張張的小卡，讓設計師能快速回憶過往設計並能儘快進入狀態。比較特別的是其中有一個小卡 <code>About</code>，類似小白板的感覺，主要功能是紀錄專案的描述和相關文件的參照，我覺得這個部分超棒的！！！因為要設計一個專案，絕對是有許許多多的需求，這些需求總有一個管理的地方，而 Abstract 運用了這張卡片讓流程可以順利的參照。但美中不足的是如果可以像 <code>Azure Devops</code> 有個 task board 聯繫 git，並在 merge 的時候有 close task 的功能，將會對設計師團隊有很大的助益。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-_oB_2ao_K1fbmbMm1DD7plg9BaWkLBzZrRxVLAQK-_2EB9YldTsNHBkz27nljxApmRpBEEbP6fEVZaoxlBuxeiOgF6BU65lUnYTJaSKpprANPD4KGXmB8swyIFyQTtQBz7RcyqxzlYtTy7Bo53kkQl96iiqOvoUaxTsdpTJVuHwE_yWmsu7lz52wr0MhbT6axYvYrrHqKYda_JIOLkGkpyxofVzRM4U79UM_kS9oieYbckdHEcT7t_gyxqUdeygLyewc1rZxXrq2yzQjNs7W6vxYvR6PTh6-1jt97NrH32wl6sPLQpGe7nMUQc8-c4fyQR1dOnX9uQ3ndczBLumUGvSUlmsjkm-GzdEumIySQO3-DeIxZb20wRCVsgUAcO5uGsZO2iGwxgeVWyfjIe0vtX-WKtO6H2XKAwVXsT7_a-7QvYZEa1Vu-uz5mZnlb5vaseRwB7tiv_UnB1wwnXjbLrlaTUAsNGvfQmPIPdJKcQNGi_rfpx_sRG-_6fbgej0HCkzFRokgKP10CFesWbD9BpnnYWx9DS9_NYAJEZonLDdrbY3wDzTd8zpAHTObHzet1Q4DUw7spKDT5rBmgMnZU1YthqYBh5nBZh1ICphlxBP2Dn5Ugb-xMOO63qp2-kNMF5ra1tGdODUhJcMnVA4E0yfXnC-ETHj=w1023-h619-no\" alt=\"Project Overview\" title=\"Project Overview\"></p>\n<hr>\n<h2 id=\"Project-Master-專案主分支\"><a href=\"#Project-Master-專案主分支\" class=\"headerlink\" title=\"Project Master 專案主分支\"></a>Project Master 專案主分支</h2><p>Master 就是此專案的主要 branch，分為 Overview&#x2F;Commits&#x2F;Files 三個小功能。正常來說 <code>Abstract</code> 不會讓設計師去 commit Master branch，所以如果在這裡去點擊 <code>EDIT IN SKETCH</code> 做任何變更是不會讓使用者 commit 上去的。在 Master branch 設計師只會有兩種選擇，要麻獨立開啟檔案不給你做 commit，要麻就是建議你開 branch 做完後再 merge 回來，這一點跟一般的 git 不太一樣，畢竟設計檔案也不會有用到 hotfix 的時候，所以這樣防呆也比較安全。</p>\n<p><img src=\"https://lh3.googleusercontent.com/gjq4zyufwjTpLB7hQ_wg9Rusr5hnnhsqpdIKEbIT3EDk3Rnm5YQ-tk81C4ASq3dEgPx43wb3mxsjD6z8I0FZjJnRa_IgtyoLWmXutsxrnqYfCMmcftB1vKkk0LV8im7JxZ1nu0dbVFtA4NnfqstnC34WTBcSdrcjhQcC0nuW7SnRBaY_6OVWCt7TTV6hLdA-9Q_0AdniVqOjcOzgB3pLXPhtX1xUOZqFVS5Vsd2EEsAeOkz_DcEZlsMJ8k_a-MCywYO6HEmepK3ZgKAyCPMmA2WmINZt4TvwlbOp9yffx1TDcQ4ZwHPtaLgwOqO6bsyUPrUSSj7_9Dj53UuickyDTAYGbGWKK-UG8bFBBclYMGeksorPu4VV2oeevIeroJsPl8bGNgqByyTimoO0qIG7Qc_8691kwEfHRh19my6xaD6CPKCry6Pzsi8P-KKGjVZCR-iiEy0NpBWMwOYmj4RlrXonRjm62nd8QWK4SIjHcHWglFTVGQ44BL4dgD-k7kQsd28qTBRzpfj0uOIY8CLTpwkTuW10OP6KHeZ56EqcJR538Ae2cuoKvc2Wd93WRySCdf9yL2gR-twyNnxEW5RxiTLP9Fbw4P8DOdkqx1T60CvdXZwI5PgyyA0Ck2LnK33F32FxjHElds3NJiWil9rrCdntPU7tW3yl=w1022-h620-no\" alt=\"Project Master Files\" title=\"Project Master Files\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/znS0iAXuVEvPOlhIOL_wlzCmYt9VgJCLEWJ4Lm9y0kAdCef9SfTel1NL8-h5hE1jGsra526Pp5BmxWDsLJnuE2cKNIirE8jQDcIOuDfKQi_SfBWFZvjBUKOyL5OtChPUQD26xUEW-xajZoHKmrJnAYKSfIPMqseCJzSQkrL_90DDnA_N20B-43SG4lYwBHHdQHe_XOPLkGt4fa6voR9KhnxBI4TCmx8Ba2AyRCnKp_u3XEUSTHR32Z-QjO-_z1GE8AKi3S2WJjDHRoIyAtW85D7YxZ3sXDpdzAr9cEAdreouTY_8bTt0zK9TzmhZfUuYnOJ6CoFTwA7YcBm5k4_x9qIA2FF1BSNHCqDvNnu4nyWlzVYiyA7JrBulgeodU7tCLCrdvpiUKXaPQ2yzM4LD8paoUFU6ljHYtYxVV6-4KOd4DDDnfYIqGpfSqrGEmQGoVejG7HJ-KJ90a-kycmgnFz08CrZ145IHu-9Bk2KZUAtkB5uRe769mojUtelz80Y74aA6VxD7Fn_R93-wJlMoeWIDg2GTHlMinW5aCNZdg4_7x1wsTHmNARvBeAYeLdXFdi7ZbuHJGfMum74xO4LLO5_Ym8pUzLD6o5f3vkOPqQJXm2dHulxrnt5tTER6Unh520zJO5DI8PZSxEEoNut23dntE9xeyXvR=w1026-h620-no\" alt=\"Project Master Commits\" title=\"Project Master Commits\"></p>\n<hr>\n<h2 id=\"Project-Branches-專案分支\"><a href=\"#Project-Branches-專案分支\" class=\"headerlink\" title=\"Project Branches 專案分支\"></a>Project Branches 專案分支</h2><p>這個功能是 <code>Abstract</code> 的核心。上一段提到正常的版本控制流程如同 git 一般，應該要做 <code>NEW BRANCH</code> 的動作開新分隻，並在新分支做 <code>EDIT IN SKETCH</code>，儲存完後對分支進行 commit 的動作，確定都修改完成最後才會將數個 commit merge 到 Master branch。這樣做除了多人設計師可以合作外，如果像我一樣孤獨的設計師也有好處嗎？答案絕對是YES! 因為設計跟寫程式不一樣，同一個需求，常常需要多種設計方案來比較，但 BOSS 又是那種看不到畫面就感覺不到的人，所以這時候開 branch 就非常好用。不同 branch 代表不同的設計方案，這樣既不會干擾原設計，又可以將最後確定要做的 branch 做 merge，其他不需要的方案也可以留底做紀錄。超愛！！</p>\n<p><img src=\"https://lh3.googleusercontent.com/YMwJ6QF8ELcQyu9v149YVgKqPMBd6coFba1xGhj0pZIcFo5pIXOj__M9q8HexsG98T642rfCSG5kBsW049dAs_RkpeWYzXNifgZqt8CYVuA8JJy4w8gdeokOfsHdmZpfh25QV4RLLXKeBzeDa39zltfoKn6wm4BA2KnzNCWCjMtUu9ZyvleFX_p7xTzenabPy9nq_nO3_c0ygpVfRfrsH3dxvfwNak18bIbcMBoZAHANMZpN7aWAuXTbwSroLPvc4E2IDYuG8DvtkyLGFIeQ0DxxazXNmF6nb7AD-mH3CtRQwO10grAK9Kh3TJKRutOXmyaypvQ52ppw8ixSG3CBmnvI6q7AX0d6-LQAhox_IElE6m2nRfSIh0ATu6NY4dqEpy4UEuu3-uveuzBqpKjBdA09UctNxrbpVwZSjZkPzmHgzEzEF9zpEjClwJvjCQGOm-mMBhhxPA8nwOnVXAib6EX8yQVA9JbgjoDlpl89B57hhcu9d4vOfTRGnQLbygT3Pd3wyc0cbVikM_Z1fdkN3HVAJ3nNz2LwkyDtjiwItopNVawGu2dxBRzmak5BMCEgAFOfi4fJV1ZFTjZoQ4kLWNOXA0OWcjDKkMlyb3VJ9tZSVD_c3G8TtTtb9TlCJ1LdtaLiBKPxKqmd3d4vGyyix9UbzwBAxkDX=w1022-h616-no\" alt=\"Project Branches\" title=\"Project Branches\"></p>\n<blockquote>\n<p>Tip: 對每張預覽圖點進去都可以做 COMMENT&#x2F;COMPARE&#x2F;INSPECT 的功能。 COMMENT 就是給不同設計師合作時的討論。 COMPARE 就是可以比對設計圖修改前後的不同處。 INSPECT 是新功能尚未開放，但我猜應該是讓設計師可跟工程師溝通的 spec，這部分我目前是先用 Sketch 的 plugin 輸出成互動的 HTML 解決，如果 Abstract 之後有開放此功能的話，將會是一大福音。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/ZRGh0dvdsa4_9yjD0zsq1rYQ4rfJjo8VxLSG4q6jD4p-KvE0s-fwPaEdBGxV26ol9LNfC15pGrfNIrjBYf-7UbK0WkGw7wsMPhvf_Nb45ecIlD_aC_bK1y844cuiP-WftQaZF3sasfinPGXm_UF6ROnCWfMafg5feUwnYSmJWh04jnVD0wUbi6D-CuCjOm3gVc-hANHCKfmDskpjmlLFn-AeMoj79-3fmkKSa8aQjQUslFHRuwn8W4XC7xTCztFy8JP7sAStDVu8BEcmECyXKS4t2WqCwVJE1Q4ptuJWszgo_8yDFzW_1v_aL3wolRUIt0F0yf9IP0BxQzlATEDgyasinQB_JGYoUtlr0mUNZjg6QFeLT47ZDQr3pqf70_FjTON7eJsubnwUclXTonbHK6ERD_pZlECnVUIRy-T1vFWQYroxlZ4upb2BrEG3l1Haum6UdAuULeQr0D6qxeoNEscYFnTAWRCV1AcRUP0iy0yiXkYRSwzBeqnU0PjFbtHxtGmanY8ijx1spIjNQ_65bmHGlDaaOPT7yvvZwHDRlPWm7HH1dTr_gK1iXYPA2ZV0WKIn-sUV7vDkSMMH-0do6REnQvRT_Sp4S3jBSbWWeEnH-Ky9Cwpknc-_EDfZpaUvEN7Txx3qQACbTMqUyAurEepMlViHatVQ=w1023-h621-no\" alt=\"Pages\" title=\"Pages\"></p>\n<hr>\n<h2 id=\"2018-對應-Sketch-Library-的功能\"><a href=\"#2018-對應-Sketch-Library-的功能\" class=\"headerlink\" title=\"2018 對應 Sketch Library 的功能\"></a>2018 對應 Sketch Library 的功能</h2><p>Sketch 的新功能 <code>Library</code>， Abstract 也有支援，而且使用起來相當順暢。當已經有一組設計元件&#x2F;框架想要共用多個不同的專案時，我們可以開一個單獨的專案並將其 sketch 檔案 import 為 Library 做管理。在另一個要使用此 Library 的專案在 Files 的子頁面做 <code>Link Library</code> 的動作。這樣只要原本 Library 的元件有做修改，有使用到此共用元件的專案也會一併更新，如此一來就可以做到 Library 和一般專案分開管理，又可以做到互相關聯。這個新功能雖然是 Sketch 研發，但搭配上 Abstract 後更是如虎添翼，打 BOSS 嚇嚇叫！詳細實作可參考官網<a href=\"https://support.goabstract.com/hc/en-us/articles/360016370931-Build-a-Library\">說明</a>。</p>\n<blockquote>\n<p>Tip: <code>Import Sketch file as Library</code> 後檔案的 icon 會變成粉紫色鑽石（預設是橘黃色），這樣就表示有新增 Library 成功喔～</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/AmGnIR7k0l-SdY5hD_94kR6OO-pCMseKchuEeBcrfPtlgEtmule4zv5GB-GCFafrWYnuB_WgLM-HUbq1MSn19wvglEBu_SZ330zh-lu3GTdbiPotoc6KAR7ZCCGL-4NHj8lfL23FxkM3Yc-wSD9Ecu8L5WWx0vMUznNXsSFOcKXOjnBS8uk_n2XefeKGlS7ZZrvXLmHi5vlY8bVrz-rRoBTSwZft6njuqlKpBw5KP5nmjqqEaIpO9rxbB3GT5nwbLmAZeVITJjVnJoOsPR5hX6Z_WD2j0Qn6Q8jj-mKr-Pu9gWRmdYy4oT6G5ZemDpRHtq7I5NcgO9-hDgOFGTXDEneff0tdKfuu7lfyKz7MDimBAqZELILN5dCf6V8gzIhoUHNHSU7XndmlXXUP-CUn_vJJxWeOBNlVB0tnbsG8UziCyG_hj0hKmyIHvEeYwxPwGwX_2uWOH_tt1MIguJGu1SXJIrzYOL9lTY7crgjFduWMztg5IoBv5F8pbXFBdNBGnPgPlf8p8SHfKm5-nKcsqgHnDd4ADyYuuDPIhDtenZc97AuLnBj6oJVkZwVoxvf8IZdrZACuDIIOiZJ02b9HNvUzIMvegeUBxxjKisJdd_yT81jTwq7rcXhW4vacP6RvdPriXhQ61zE6qm5vQLLMGfWL3Hjd3kxi=w1021-h619-no\" alt=\"Library\" title=\"Library\"></p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","excerpt":"<p>這篇要來介紹 <code>Abstract</code> 的主要功能，和我平常會怎麼使用他來做版本控制。</p>","more":"<hr>\n<h2 id=\"Projects-所有專案\"><a href=\"#Projects-所有專案\" class=\"headerlink\" title=\"Projects 所有專案\"></a>Projects 所有專案</h2><p>登入後的首頁就是顯示所有專案的頁面。專案分為 <code>ACTIVE</code> 和 <code>ARCHIVED</code>，這兩個分類主要是讓設計師團隊去區分哪些專案是還在進行的，哪些專案是已經結案的。專案只會越來越多，所以我覺得這個功能很好，可以在團隊合作時能很快的找到要設計的專案。我自己目前是一人設計，但目前管理的專案就有十幾個以上，往後專案數量只會遞增，所以我覺得這個功能對設計師來說是十分貼心。但要注意若要使用專案分類的話，是要自己去手動設定的喔，並不會自動知道你的專案已經結案了，所以這部分是手動設定也蠻合理的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-2IXT8A9fh8LNqeFa7pv9eOVku3fBO0fYRQR3T7GdbaMUgaEmddURlFrA2RvBF-PI3HAzqHw3M40mKvpZAwAFo7YYD5Xleugxzc5K88Ty2XkOqwKLBiIghOtch6ycWlYTaJrLtd95nbmUUS60JO9tz_xGIl9M9eYuwH2sik7ddUyvx8bVVAt75p_mIVPHcQ-6Eo2IhZCGq-KG4VkLA7AcbAAC6jcWpuy5H3OgaTTGf2N_lSwtlm-gwLgIHhJlB2E56Q1QZDPaDAebgJ8c8t3PyD5nDw_AML2BgqdQISujtesJBi3P34_PhzG_HD63suwNy_0n72Qb3Y-mnIJKCA7Nnvjh-towFitQn9gex7mEk7Sk0Q_cYnlPH4t7oCRp5bx5x4iSkYXfG5xr_MWAF2N3dAJeCr5JPNjMBEUWjPhJfJPMFIqGtNhBDknNnqBc93OgeP3Y1lGxvbD2M30nb1QGijbr6m_g3ouzva4kUqZ--NlsXdJwueyJJv7v6HSNx3LSfOYAEvsUIaqb7PcY8am89PIdW4rK_BWMIpVRIVISs61xeD3uYoBRQ1enaWUQY18eMRB2BErTh9dGQg3uOzYKUE7L1kg5W6XteSJozWp9XvZBvVMo4T0B5x8263RZw0jwbsiXT8RfOgjx-GqAFRWUWTkoGzy2XkU=w1023-h619-no\" alt=\"Projects/ACTIVE\" title=\"Projects/ACTIVE\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pAv7exhVOlv-orzAfufPHGAP6I_hX345rCvKJHQcynwpP_L_X1fyAjLPwO3wGHyqCJ9073wuy0hPH6nU8tOIKwESYswPLMypk37S0xWQ00tYAYGy7w3cADAxDn3Xmb85VHEydHzqk1MA34BaH6wEjO7m_js3q8esOO07JE702_ee2yeisNnbny--tD54E_lZd_agJcSgLcr-I7cjEWiyZHB72S2BXMx0Ybn3Ylstvie5hYL69Im8LZN4QKgmOU-9gMm6rZxiyzDU8Sh1-qPpNqQ7YROhDP0UpIhE6Ju8yIQv3ElBZN8hhSQF5gpcMrFKsk_BVTAb9ZLz88_q9o_tAk18f5l8VaN97rO9JQzcytg2z-4qj-Jxu2OjuB9TLnCNjiPuUftI0vkiPJ2GuTXFiiI5Zr7iXJKu9az639PP3-hbj3Hx6x8_9dSXgWG12e8Jy4Fwni59R8_BN0zx6FYAngfSV1-k8I416Egj81_Tn98LQD-3JsShYEMfJrAix_qx9yyO-VesL2UEslhRF7rd87TYNtZNPe9g1LDHwlrDl89gpvB9dP1g6zNfMmr5gUB6yQvGDlFtkhZ8dzqptGSUtoYc4EbYxVGdLOUnRcQ8E31foJLkv3hubyklf7J4Dy4Q5Hf7SJ15BwkjX0vZHqYoXbA05z4L59MR=w1023-h618-no\" alt=\"Projects/ARCHIVED\" title=\"Projects/ARCHIVED\"></p>\n<blockquote>\n<p>Tip: 預設專案的排序是照名稱，如果想要專案特別置頂的話，可以按專案卡片上的星星就會強制置頂囉～</p>\n</blockquote>\n<p>要開新專案就按 <code>New Project</code> 新增，詳細操作可以參考官網的<a href=\"https://www.goabstract.com/how-it-works/\">說明</a>，這裡就不再贅述。</p>\n<p><img src=\"https://lh3.googleusercontent.com/1Vz2DcZM1aWCJjYeOv6hLGZ6Tc0n0cLd75Ap7ze5z2Lng3k24WvV8lGII0UsFLgsyZNnhu8eWe5uI5StppnBqSzSARjP93-FYEHrBRtSLujEWPwDitK5Ve0NofifsEDeDeplzpaouF_w9vrIwMJ7F9ESivEMZfm8EGLu8CspQXcn24eBgwJReBCv1HbmKZScDjbrOnSUs6MbITqwS5QLYLpLePRPGx-dBEBggKGNKq3i8qB5tEnQijuqyVjryDlGMJqLLjxNHVBIysXKV0rviQNJFB-kk3u4Y1FeJs2NzCSuZHXjxKIv-Hbc44EzsfDz10-YsDzWOym2UsukCu8QLdbueDe20oiF71qQTI8zE1aVaIF54Fb45PUtg0FPqP7Fl3bCpWeHf9tBcyo6g31dJRHUKAJ68Yx9nJhBCE2ZoVjYCbnTgqyvYHmthzyJNDgaGZGtIFsSBGjTXYMMNJVHUAmJjcnw3aqd8AKBX9qZVZG0c76YqSv0KIHCEmWd1oKVcpevvrafRQrxcLMGXV0ycAwmvQF2f6Jg30Gxfbs8fQ48IJK1cELVXm7mW5LMih7APLgpCdr-M0wYrPgOJN-FSuu6-6rU_jqej25j6ogYKuFI6Erzy81uV9HRbA65Mg6GxWXzJnzeX8H-2F1kWIKS03EX-ZuX5v5h=w1023-h614-no\" alt=\"New Project\" title=\"New Project\"></p>\n<hr>\n<h2 id=\"Project-Overview-專案概況\"><a href=\"#Project-Overview-專案概況\" class=\"headerlink\" title=\"Project Overview 專案概況\"></a>Project Overview 專案概況</h2><p>點擊進入單一專案後，會看到 <code>Overview</code> 頁面，這頁是把專案的概況整理成一張張的小卡，讓設計師能快速回憶過往設計並能儘快進入狀態。比較特別的是其中有一個小卡 <code>About</code>，類似小白板的感覺，主要功能是紀錄專案的描述和相關文件的參照，我覺得這個部分超棒的！！！因為要設計一個專案，絕對是有許許多多的需求，這些需求總有一個管理的地方，而 Abstract 運用了這張卡片讓流程可以順利的參照。但美中不足的是如果可以像 <code>Azure Devops</code> 有個 task board 聯繫 git，並在 merge 的時候有 close task 的功能，將會對設計師團隊有很大的助益。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-_oB_2ao_K1fbmbMm1DD7plg9BaWkLBzZrRxVLAQK-_2EB9YldTsNHBkz27nljxApmRpBEEbP6fEVZaoxlBuxeiOgF6BU65lUnYTJaSKpprANPD4KGXmB8swyIFyQTtQBz7RcyqxzlYtTy7Bo53kkQl96iiqOvoUaxTsdpTJVuHwE_yWmsu7lz52wr0MhbT6axYvYrrHqKYda_JIOLkGkpyxofVzRM4U79UM_kS9oieYbckdHEcT7t_gyxqUdeygLyewc1rZxXrq2yzQjNs7W6vxYvR6PTh6-1jt97NrH32wl6sPLQpGe7nMUQc8-c4fyQR1dOnX9uQ3ndczBLumUGvSUlmsjkm-GzdEumIySQO3-DeIxZb20wRCVsgUAcO5uGsZO2iGwxgeVWyfjIe0vtX-WKtO6H2XKAwVXsT7_a-7QvYZEa1Vu-uz5mZnlb5vaseRwB7tiv_UnB1wwnXjbLrlaTUAsNGvfQmPIPdJKcQNGi_rfpx_sRG-_6fbgej0HCkzFRokgKP10CFesWbD9BpnnYWx9DS9_NYAJEZonLDdrbY3wDzTd8zpAHTObHzet1Q4DUw7spKDT5rBmgMnZU1YthqYBh5nBZh1ICphlxBP2Dn5Ugb-xMOO63qp2-kNMF5ra1tGdODUhJcMnVA4E0yfXnC-ETHj=w1023-h619-no\" alt=\"Project Overview\" title=\"Project Overview\"></p>\n<hr>\n<h2 id=\"Project-Master-專案主分支\"><a href=\"#Project-Master-專案主分支\" class=\"headerlink\" title=\"Project Master 專案主分支\"></a>Project Master 專案主分支</h2><p>Master 就是此專案的主要 branch，分為 Overview&#x2F;Commits&#x2F;Files 三個小功能。正常來說 <code>Abstract</code> 不會讓設計師去 commit Master branch，所以如果在這裡去點擊 <code>EDIT IN SKETCH</code> 做任何變更是不會讓使用者 commit 上去的。在 Master branch 設計師只會有兩種選擇，要麻獨立開啟檔案不給你做 commit，要麻就是建議你開 branch 做完後再 merge 回來，這一點跟一般的 git 不太一樣，畢竟設計檔案也不會有用到 hotfix 的時候，所以這樣防呆也比較安全。</p>\n<p><img src=\"https://lh3.googleusercontent.com/gjq4zyufwjTpLB7hQ_wg9Rusr5hnnhsqpdIKEbIT3EDk3Rnm5YQ-tk81C4ASq3dEgPx43wb3mxsjD6z8I0FZjJnRa_IgtyoLWmXutsxrnqYfCMmcftB1vKkk0LV8im7JxZ1nu0dbVFtA4NnfqstnC34WTBcSdrcjhQcC0nuW7SnRBaY_6OVWCt7TTV6hLdA-9Q_0AdniVqOjcOzgB3pLXPhtX1xUOZqFVS5Vsd2EEsAeOkz_DcEZlsMJ8k_a-MCywYO6HEmepK3ZgKAyCPMmA2WmINZt4TvwlbOp9yffx1TDcQ4ZwHPtaLgwOqO6bsyUPrUSSj7_9Dj53UuickyDTAYGbGWKK-UG8bFBBclYMGeksorPu4VV2oeevIeroJsPl8bGNgqByyTimoO0qIG7Qc_8691kwEfHRh19my6xaD6CPKCry6Pzsi8P-KKGjVZCR-iiEy0NpBWMwOYmj4RlrXonRjm62nd8QWK4SIjHcHWglFTVGQ44BL4dgD-k7kQsd28qTBRzpfj0uOIY8CLTpwkTuW10OP6KHeZ56EqcJR538Ae2cuoKvc2Wd93WRySCdf9yL2gR-twyNnxEW5RxiTLP9Fbw4P8DOdkqx1T60CvdXZwI5PgyyA0Ck2LnK33F32FxjHElds3NJiWil9rrCdntPU7tW3yl=w1022-h620-no\" alt=\"Project Master Files\" title=\"Project Master Files\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/znS0iAXuVEvPOlhIOL_wlzCmYt9VgJCLEWJ4Lm9y0kAdCef9SfTel1NL8-h5hE1jGsra526Pp5BmxWDsLJnuE2cKNIirE8jQDcIOuDfKQi_SfBWFZvjBUKOyL5OtChPUQD26xUEW-xajZoHKmrJnAYKSfIPMqseCJzSQkrL_90DDnA_N20B-43SG4lYwBHHdQHe_XOPLkGt4fa6voR9KhnxBI4TCmx8Ba2AyRCnKp_u3XEUSTHR32Z-QjO-_z1GE8AKi3S2WJjDHRoIyAtW85D7YxZ3sXDpdzAr9cEAdreouTY_8bTt0zK9TzmhZfUuYnOJ6CoFTwA7YcBm5k4_x9qIA2FF1BSNHCqDvNnu4nyWlzVYiyA7JrBulgeodU7tCLCrdvpiUKXaPQ2yzM4LD8paoUFU6ljHYtYxVV6-4KOd4DDDnfYIqGpfSqrGEmQGoVejG7HJ-KJ90a-kycmgnFz08CrZ145IHu-9Bk2KZUAtkB5uRe769mojUtelz80Y74aA6VxD7Fn_R93-wJlMoeWIDg2GTHlMinW5aCNZdg4_7x1wsTHmNARvBeAYeLdXFdi7ZbuHJGfMum74xO4LLO5_Ym8pUzLD6o5f3vkOPqQJXm2dHulxrnt5tTER6Unh520zJO5DI8PZSxEEoNut23dntE9xeyXvR=w1026-h620-no\" alt=\"Project Master Commits\" title=\"Project Master Commits\"></p>\n<hr>\n<h2 id=\"Project-Branches-專案分支\"><a href=\"#Project-Branches-專案分支\" class=\"headerlink\" title=\"Project Branches 專案分支\"></a>Project Branches 專案分支</h2><p>這個功能是 <code>Abstract</code> 的核心。上一段提到正常的版本控制流程如同 git 一般，應該要做 <code>NEW BRANCH</code> 的動作開新分隻，並在新分支做 <code>EDIT IN SKETCH</code>，儲存完後對分支進行 commit 的動作，確定都修改完成最後才會將數個 commit merge 到 Master branch。這樣做除了多人設計師可以合作外，如果像我一樣孤獨的設計師也有好處嗎？答案絕對是YES! 因為設計跟寫程式不一樣，同一個需求，常常需要多種設計方案來比較，但 BOSS 又是那種看不到畫面就感覺不到的人，所以這時候開 branch 就非常好用。不同 branch 代表不同的設計方案，這樣既不會干擾原設計，又可以將最後確定要做的 branch 做 merge，其他不需要的方案也可以留底做紀錄。超愛！！</p>\n<p><img src=\"https://lh3.googleusercontent.com/YMwJ6QF8ELcQyu9v149YVgKqPMBd6coFba1xGhj0pZIcFo5pIXOj__M9q8HexsG98T642rfCSG5kBsW049dAs_RkpeWYzXNifgZqt8CYVuA8JJy4w8gdeokOfsHdmZpfh25QV4RLLXKeBzeDa39zltfoKn6wm4BA2KnzNCWCjMtUu9ZyvleFX_p7xTzenabPy9nq_nO3_c0ygpVfRfrsH3dxvfwNak18bIbcMBoZAHANMZpN7aWAuXTbwSroLPvc4E2IDYuG8DvtkyLGFIeQ0DxxazXNmF6nb7AD-mH3CtRQwO10grAK9Kh3TJKRutOXmyaypvQ52ppw8ixSG3CBmnvI6q7AX0d6-LQAhox_IElE6m2nRfSIh0ATu6NY4dqEpy4UEuu3-uveuzBqpKjBdA09UctNxrbpVwZSjZkPzmHgzEzEF9zpEjClwJvjCQGOm-mMBhhxPA8nwOnVXAib6EX8yQVA9JbgjoDlpl89B57hhcu9d4vOfTRGnQLbygT3Pd3wyc0cbVikM_Z1fdkN3HVAJ3nNz2LwkyDtjiwItopNVawGu2dxBRzmak5BMCEgAFOfi4fJV1ZFTjZoQ4kLWNOXA0OWcjDKkMlyb3VJ9tZSVD_c3G8TtTtb9TlCJ1LdtaLiBKPxKqmd3d4vGyyix9UbzwBAxkDX=w1022-h616-no\" alt=\"Project Branches\" title=\"Project Branches\"></p>\n<blockquote>\n<p>Tip: 對每張預覽圖點進去都可以做 COMMENT&#x2F;COMPARE&#x2F;INSPECT 的功能。 COMMENT 就是給不同設計師合作時的討論。 COMPARE 就是可以比對設計圖修改前後的不同處。 INSPECT 是新功能尚未開放，但我猜應該是讓設計師可跟工程師溝通的 spec，這部分我目前是先用 Sketch 的 plugin 輸出成互動的 HTML 解決，如果 Abstract 之後有開放此功能的話，將會是一大福音。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/ZRGh0dvdsa4_9yjD0zsq1rYQ4rfJjo8VxLSG4q6jD4p-KvE0s-fwPaEdBGxV26ol9LNfC15pGrfNIrjBYf-7UbK0WkGw7wsMPhvf_Nb45ecIlD_aC_bK1y844cuiP-WftQaZF3sasfinPGXm_UF6ROnCWfMafg5feUwnYSmJWh04jnVD0wUbi6D-CuCjOm3gVc-hANHCKfmDskpjmlLFn-AeMoj79-3fmkKSa8aQjQUslFHRuwn8W4XC7xTCztFy8JP7sAStDVu8BEcmECyXKS4t2WqCwVJE1Q4ptuJWszgo_8yDFzW_1v_aL3wolRUIt0F0yf9IP0BxQzlATEDgyasinQB_JGYoUtlr0mUNZjg6QFeLT47ZDQr3pqf70_FjTON7eJsubnwUclXTonbHK6ERD_pZlECnVUIRy-T1vFWQYroxlZ4upb2BrEG3l1Haum6UdAuULeQr0D6qxeoNEscYFnTAWRCV1AcRUP0iy0yiXkYRSwzBeqnU0PjFbtHxtGmanY8ijx1spIjNQ_65bmHGlDaaOPT7yvvZwHDRlPWm7HH1dTr_gK1iXYPA2ZV0WKIn-sUV7vDkSMMH-0do6REnQvRT_Sp4S3jBSbWWeEnH-Ky9Cwpknc-_EDfZpaUvEN7Txx3qQACbTMqUyAurEepMlViHatVQ=w1023-h621-no\" alt=\"Pages\" title=\"Pages\"></p>\n<hr>\n<h2 id=\"2018-對應-Sketch-Library-的功能\"><a href=\"#2018-對應-Sketch-Library-的功能\" class=\"headerlink\" title=\"2018 對應 Sketch Library 的功能\"></a>2018 對應 Sketch Library 的功能</h2><p>Sketch 的新功能 <code>Library</code>， Abstract 也有支援，而且使用起來相當順暢。當已經有一組設計元件&#x2F;框架想要共用多個不同的專案時，我們可以開一個單獨的專案並將其 sketch 檔案 import 為 Library 做管理。在另一個要使用此 Library 的專案在 Files 的子頁面做 <code>Link Library</code> 的動作。這樣只要原本 Library 的元件有做修改，有使用到此共用元件的專案也會一併更新，如此一來就可以做到 Library 和一般專案分開管理，又可以做到互相關聯。這個新功能雖然是 Sketch 研發，但搭配上 Abstract 後更是如虎添翼，打 BOSS 嚇嚇叫！詳細實作可參考官網<a href=\"https://support.goabstract.com/hc/en-us/articles/360016370931-Build-a-Library\">說明</a>。</p>\n<blockquote>\n<p>Tip: <code>Import Sketch file as Library</code> 後檔案的 icon 會變成粉紫色鑽石（預設是橘黃色），這樣就表示有新增 Library 成功喔～</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/AmGnIR7k0l-SdY5hD_94kR6OO-pCMseKchuEeBcrfPtlgEtmule4zv5GB-GCFafrWYnuB_WgLM-HUbq1MSn19wvglEBu_SZ330zh-lu3GTdbiPotoc6KAR7ZCCGL-4NHj8lfL23FxkM3Yc-wSD9Ecu8L5WWx0vMUznNXsSFOcKXOjnBS8uk_n2XefeKGlS7ZZrvXLmHi5vlY8bVrz-rRoBTSwZft6njuqlKpBw5KP5nmjqqEaIpO9rxbB3GT5nwbLmAZeVITJjVnJoOsPR5hX6Z_WD2j0Qn6Q8jj-mKr-Pu9gWRmdYy4oT6G5ZemDpRHtq7I5NcgO9-hDgOFGTXDEneff0tdKfuu7lfyKz7MDimBAqZELILN5dCf6V8gzIhoUHNHSU7XndmlXXUP-CUn_vJJxWeOBNlVB0tnbsG8UziCyG_hj0hKmyIHvEeYwxPwGwX_2uWOH_tt1MIguJGu1SXJIrzYOL9lTY7crgjFduWMztg5IoBv5F8pbXFBdNBGnPgPlf8p8SHfKm5-nKcsqgHnDd4ADyYuuDPIhDtenZc97AuLnBj6oJVkZwVoxvf8IZdrZACuDIIOiZJ02b9HNvUzIMvegeUBxxjKisJdd_yT81jTwq7rcXhW4vacP6RvdPriXhQ61zE6qm5vQLLMGfWL3Hjd3kxi=w1021-h619-no\" alt=\"Library\" title=\"Library\"></p>"},{"title":"Google Material Design - Introduction","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Hfurrx3NHOuac_WreNWxG-2qdKjliIx_%2Fintro-illo-metaphor.png","coverMeta":"out","date":"2019-02-08T16:00:00.000Z","updated":"2019-02-08T16:00:00.000Z","_content":"\n從 2018 年 8 月開始 Material Design 進行大幅度的更新。到目前為止發展出許多豐富的資源、工具和工作流，讓設計師、工程師們合作更順利，也積極舉辦比賽、研討會並分享業界使用示例讓大家有更多互相學習的空間，最近會寫一系列關於 Google Material Design 的文章，雖然已經使用 Material Design 超過一年了，但還是想透過閱讀新文件的機會，來邊學邊分享給大家XD\n\n<!--more-->\n\n## Introduction - Google Material Design\n\n### 設計目標 Goals\n\n1. 創建(Create)：創建一種視覺語言，將好的設計原則與科技結合。\n\n2. 統一(Unify)：跨平台設備下開發單一的底層系統，統一用戶體驗。\n\n3. 客製化(Customize)：擴展 Material 的視覺語言，為創新和品牌識別提供可靈活變化的基礎程式。\n\n### 設計原則 Principles\n\nMaterial 是一種譬喻。Material Design 的靈感來自物理世界和其組成，包括它們如何反射光線和投射陰影。把我們所使用的媒介重新想像成紙張和墨水材質的變化。\n\n1. 大膽、圖形導向、有意象的：Material Design 是依印刷設計方法來設計，包含字體設計(typography)、格線系統(grids)、間距(space)、比例(scale)、顏色(color)和意象(imagery)等。Material Design 創造層次感且有意義的體驗，讓使用者沈浸在環境中。\n\n2. 互動(Motion)蘊含意義：透過細微的反饋和關聯的漸變，來保持使用者動作的連續性和聚焦的效果。當元素出現在屏幕上時，它們會變化並重新組織環境，並通過互動產生新的變化。\n\n3. 靈活的基礎程式：Material Design 系統可以依品牌來擴展其視覺語言。它是由許多客製化的程式基底組成，可以無痛依設計加入組件(components)、插件(plug-ins)和設計元素(design elements)。\n\n4. 跨平台：Material Design 在不同平台保持相同的 UI，在 Android、 iOS、Flutter 和 web 上使用相同的共用組件。\n\n\nMaterial Design 維持每月更新的速度，對設計和工程師呈現其功能和擴展性，有興趣可以在官方[github](https://github.com/material-components/material-components/blob/develop/ROADMAP.md/)看到最新的釋出內容。下回我們將介紹 Material Design 的 Workflow 工作流，還有許多超好用的工具，我們下回見！\n\n\n## 參考資料\n\n* [Material Design Introduction](https://material.io/design/introduction/#)","source":"_posts/UXUI/Google-Material-Design-Introduction.md","raw":"---\ntitle: Google Material Design - Introduction\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Hfurrx3NHOuac_WreNWxG-2qdKjliIx_%2Fintro-illo-metaphor.png\ncoverMeta: out\ntags: [UX, UI, Material Design]\ndate: 2019/02/09\nupdated: 2019/02/09\n---\n\n從 2018 年 8 月開始 Material Design 進行大幅度的更新。到目前為止發展出許多豐富的資源、工具和工作流，讓設計師、工程師們合作更順利，也積極舉辦比賽、研討會並分享業界使用示例讓大家有更多互相學習的空間，最近會寫一系列關於 Google Material Design 的文章，雖然已經使用 Material Design 超過一年了，但還是想透過閱讀新文件的機會，來邊學邊分享給大家XD\n\n<!--more-->\n\n## Introduction - Google Material Design\n\n### 設計目標 Goals\n\n1. 創建(Create)：創建一種視覺語言，將好的設計原則與科技結合。\n\n2. 統一(Unify)：跨平台設備下開發單一的底層系統，統一用戶體驗。\n\n3. 客製化(Customize)：擴展 Material 的視覺語言，為創新和品牌識別提供可靈活變化的基礎程式。\n\n### 設計原則 Principles\n\nMaterial 是一種譬喻。Material Design 的靈感來自物理世界和其組成，包括它們如何反射光線和投射陰影。把我們所使用的媒介重新想像成紙張和墨水材質的變化。\n\n1. 大膽、圖形導向、有意象的：Material Design 是依印刷設計方法來設計，包含字體設計(typography)、格線系統(grids)、間距(space)、比例(scale)、顏色(color)和意象(imagery)等。Material Design 創造層次感且有意義的體驗，讓使用者沈浸在環境中。\n\n2. 互動(Motion)蘊含意義：透過細微的反饋和關聯的漸變，來保持使用者動作的連續性和聚焦的效果。當元素出現在屏幕上時，它們會變化並重新組織環境，並通過互動產生新的變化。\n\n3. 靈活的基礎程式：Material Design 系統可以依品牌來擴展其視覺語言。它是由許多客製化的程式基底組成，可以無痛依設計加入組件(components)、插件(plug-ins)和設計元素(design elements)。\n\n4. 跨平台：Material Design 在不同平台保持相同的 UI，在 Android、 iOS、Flutter 和 web 上使用相同的共用組件。\n\n\nMaterial Design 維持每月更新的速度，對設計和工程師呈現其功能和擴展性，有興趣可以在官方[github](https://github.com/material-components/material-components/blob/develop/ROADMAP.md/)看到最新的釋出內容。下回我們將介紹 Material Design 的 Workflow 工作流，還有許多超好用的工具，我們下回見！\n\n\n## 參考資料\n\n* [Material Design Introduction](https://material.io/design/introduction/#)","slug":"UXUI/Google-Material-Design-Introduction","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9re002sr3y760w71mzu","content":"<p>從 2018 年 8 月開始 Material Design 進行大幅度的更新。到目前為止發展出許多豐富的資源、工具和工作流，讓設計師、工程師們合作更順利，也積極舉辦比賽、研討會並分享業界使用示例讓大家有更多互相學習的空間，最近會寫一系列關於 Google Material Design 的文章，雖然已經使用 Material Design 超過一年了，但還是想透過閱讀新文件的機會，來邊學邊分享給大家XD</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Introduction-Google-Material-Design\"><a href=\"#Introduction-Google-Material-Design\" class=\"headerlink\" title=\"Introduction - Google Material Design\"></a>Introduction - Google Material Design</h2><h3 id=\"設計目標-Goals\"><a href=\"#設計目標-Goals\" class=\"headerlink\" title=\"設計目標 Goals\"></a>設計目標 Goals</h3><ol>\n<li><p>創建(Create)：創建一種視覺語言，將好的設計原則與科技結合。</p>\n</li>\n<li><p>統一(Unify)：跨平台設備下開發單一的底層系統，統一用戶體驗。</p>\n</li>\n<li><p>客製化(Customize)：擴展 Material 的視覺語言，為創新和品牌識別提供可靈活變化的基礎程式。</p>\n</li>\n</ol>\n<h3 id=\"設計原則-Principles\"><a href=\"#設計原則-Principles\" class=\"headerlink\" title=\"設計原則 Principles\"></a>設計原則 Principles</h3><p>Material 是一種譬喻。Material Design 的靈感來自物理世界和其組成，包括它們如何反射光線和投射陰影。把我們所使用的媒介重新想像成紙張和墨水材質的變化。</p>\n<ol>\n<li><p>大膽、圖形導向、有意象的：Material Design 是依印刷設計方法來設計，包含字體設計(typography)、格線系統(grids)、間距(space)、比例(scale)、顏色(color)和意象(imagery)等。Material Design 創造層次感且有意義的體驗，讓使用者沈浸在環境中。</p>\n</li>\n<li><p>互動(Motion)蘊含意義：透過細微的反饋和關聯的漸變，來保持使用者動作的連續性和聚焦的效果。當元素出現在屏幕上時，它們會變化並重新組織環境，並通過互動產生新的變化。</p>\n</li>\n<li><p>靈活的基礎程式：Material Design 系統可以依品牌來擴展其視覺語言。它是由許多客製化的程式基底組成，可以無痛依設計加入組件(components)、插件(plug-ins)和設計元素(design elements)。</p>\n</li>\n<li><p>跨平台：Material Design 在不同平台保持相同的 UI，在 Android、 iOS、Flutter 和 web 上使用相同的共用組件。</p>\n</li>\n</ol>\n<p>Material Design 維持每月更新的速度，對設計和工程師呈現其功能和擴展性，有興趣可以在官方<a href=\"https://github.com/material-components/material-components/blob/develop/ROADMAP.md/\">github</a>看到最新的釋出內容。下回我們將介紹 Material Design 的 Workflow 工作流，還有許多超好用的工具，我們下回見！</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/introduction/#\">Material Design Introduction</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>從 2018 年 8 月開始 Material Design 進行大幅度的更新。到目前為止發展出許多豐富的資源、工具和工作流，讓設計師、工程師們合作更順利，也積極舉辦比賽、研討會並分享業界使用示例讓大家有更多互相學習的空間，最近會寫一系列關於 Google Material Design 的文章，雖然已經使用 Material Design 超過一年了，但還是想透過閱讀新文件的機會，來邊學邊分享給大家XD</p>","more":"<h2 id=\"Introduction-Google-Material-Design\"><a href=\"#Introduction-Google-Material-Design\" class=\"headerlink\" title=\"Introduction - Google Material Design\"></a>Introduction - Google Material Design</h2><h3 id=\"設計目標-Goals\"><a href=\"#設計目標-Goals\" class=\"headerlink\" title=\"設計目標 Goals\"></a>設計目標 Goals</h3><ol>\n<li><p>創建(Create)：創建一種視覺語言，將好的設計原則與科技結合。</p>\n</li>\n<li><p>統一(Unify)：跨平台設備下開發單一的底層系統，統一用戶體驗。</p>\n</li>\n<li><p>客製化(Customize)：擴展 Material 的視覺語言，為創新和品牌識別提供可靈活變化的基礎程式。</p>\n</li>\n</ol>\n<h3 id=\"設計原則-Principles\"><a href=\"#設計原則-Principles\" class=\"headerlink\" title=\"設計原則 Principles\"></a>設計原則 Principles</h3><p>Material 是一種譬喻。Material Design 的靈感來自物理世界和其組成，包括它們如何反射光線和投射陰影。把我們所使用的媒介重新想像成紙張和墨水材質的變化。</p>\n<ol>\n<li><p>大膽、圖形導向、有意象的：Material Design 是依印刷設計方法來設計，包含字體設計(typography)、格線系統(grids)、間距(space)、比例(scale)、顏色(color)和意象(imagery)等。Material Design 創造層次感且有意義的體驗，讓使用者沈浸在環境中。</p>\n</li>\n<li><p>互動(Motion)蘊含意義：透過細微的反饋和關聯的漸變，來保持使用者動作的連續性和聚焦的效果。當元素出現在屏幕上時，它們會變化並重新組織環境，並通過互動產生新的變化。</p>\n</li>\n<li><p>靈活的基礎程式：Material Design 系統可以依品牌來擴展其視覺語言。它是由許多客製化的程式基底組成，可以無痛依設計加入組件(components)、插件(plug-ins)和設計元素(design elements)。</p>\n</li>\n<li><p>跨平台：Material Design 在不同平台保持相同的 UI，在 Android、 iOS、Flutter 和 web 上使用相同的共用組件。</p>\n</li>\n</ol>\n<p>Material Design 維持每月更新的速度，對設計和工程師呈現其功能和擴展性，有興趣可以在官方<a href=\"https://github.com/material-components/material-components/blob/develop/ROADMAP.md/\">github</a>看到最新的釋出內容。下回我們將介紹 Material Design 的 Workflow 工作流，還有許多超好用的工具，我們下回見！</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/introduction/#\">Material Design Introduction</a></li>\n</ul>"},{"title":"Google Material Design - Sliders","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/upVaaE4cnUBQCPV5vEgNqmjtPb8CsDQzfP-UV3hXZEFzjyAFJnUIltPUDeo5Z5XJXkgz87SzpFOZX_YpbsUyyJAkKQi7zApg60uHqA=w1064-v0","coverMeta":"out","date":"2020-11-06T16:00:00.000Z","updated":"2020-11-06T16:00:00.000Z","_content":"\n近期收到 Material Design 對 component 的更新訊息，趁此機會重新審視組件的使用方式。這次主要來看 Sliders。\n\n<!--more-->\n\n# 使用方式\n\nSliders 組件讓使用者在範圍內的值做選取。可用在調整音量,亮度或調整圖片濾鏡等場景。 Sliders 可以在兩端點使用 icon 來表示數值或相對的關係。使用者可以透過和 icon 互動改變 Slider 的值，像是調整音量。\n\n## 即時效果\n\n使用 Sliders 改變值是立即性的，讓使用者調整 slider 達到選取值的目的。Sliders 不應該在使用者回饋上有任何的延遲。\n\n## 當前狀態\n\nSliders 會直接反應當前值的狀態。\n\n如下圖，上方是連續的 slider。下方式離散的 slider。\n![上方是連續的 slider。下方式分散的 slider。](https://lh3.googleusercontent.com/HyBNA4jg-7mZ_wvptdv2BFs2COwO21hYtonNR3SzbfeO6pFyvfiqxHXKpbuBq6tkI2TKeqWgtE4_Cps3P1PVDcX7HAQJXze6KDEHlA=w1064-v0)\n\n# Sliders 值\n\n## 可編輯的數值\n\n![可編輯的數值](https://lh3.googleusercontent.com/CqyD0Td-8cE2mN0BnVZHhbz3NjLULgvGEQkc2i2cnc2wQ0aLyAiClOW8EcekqcgAO-PB2sBg3X4yxwg-3SY37N3LVLKgyceEDHdaDw=w1064-v0)\n\n可調整的 Slider 值讓使用者能精確的選取需要的數字。\n\n透過選取點選 Slider 按鈕拖曳改變值，或是使用輸入框直接輸入需要的值。使用者輸入後， Slider 按鈕要立即改變位置與使用者輸入的值相同。請注意輸入框不包含在 Slider 組件內，而是開發者需要自行開發的功能。研究發現輸入框有助於使用者選取需要的值。\n\n## 值的順序\n\n對於從左到右顯示的語言（例如英語），範圍的最小值顯示在左側，最大值顯示在右側。\n對於從右到左的語言（例如阿拉伯語），應該顛倒值的位置，將最大值放在左邊，將最小值放在右邊。\n\n# Sliders 種類\n\n## 連續 Sliders\n\n連續 Sliders 讓使用者在主觀範圍內選擇。不需要將值標示出來。\n\n![連續 Sliders](https://lh3.googleusercontent.com/EHxl03Dqn-evX03HVg5lEDFagSPySmmkiCyGqFawQSVlPByfvLUwJVl5YMSF5MszxMtofLEainftW77JtMafBPqyVa8X3cmtPXS2=w1064-v0)\n\n## 離散 Sliders\n\n離散 Sliders 可通過按鈕來調整為特定值。可以用刻度的方式讓按鈕吸附對應的值。\n\n![離散 Sliders](https://lh3.googleusercontent.com/BxmR3b_1Oa-yyXsyb_wDaX_SkLxv1W1wtRmw9IyvS8T1WYTC_gtECiYIX64p0YS6CFv55qyA57zzjxDbZjt0vo8aCS79CFN-_b7-lw=w1064-v0)\n\n# 主題客製化\n\n可依據主題客製化所需的 Slider 如下圖。\n\n![Sliders 客製化](https://lh3.googleusercontent.com/cT5ehcw23NHD15r64eCvvUWYFCYQn5m04BK9ITt6sCZZE4bsHC2xNXgsxoxyqwNL1emATR9eTNM3QUGUCyZOhVLFTQBONiYweBMce1Q=w1064-v0)\n\n目前專案中還沒有適合使用 Slider 的時機點，若往後有機會可以嘗試加入此組件。\n\n# 參考資料\n\n* [Material Design - Sliders](https://material.io/components/sliders)","source":"_posts/UXUI/Google-Material-Design-Sliders.md","raw":"---\ntitle: Google Material Design - Sliders\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/upVaaE4cnUBQCPV5vEgNqmjtPb8CsDQzfP-UV3hXZEFzjyAFJnUIltPUDeo5Z5XJXkgz87SzpFOZX_YpbsUyyJAkKQi7zApg60uHqA=w1064-v0\ncoverMeta: out\ntags: [UX, UI, Material Design]\ndate: 2020/11/07\nupdated: 2020/11/07\n---\n\n近期收到 Material Design 對 component 的更新訊息，趁此機會重新審視組件的使用方式。這次主要來看 Sliders。\n\n<!--more-->\n\n# 使用方式\n\nSliders 組件讓使用者在範圍內的值做選取。可用在調整音量,亮度或調整圖片濾鏡等場景。 Sliders 可以在兩端點使用 icon 來表示數值或相對的關係。使用者可以透過和 icon 互動改變 Slider 的值，像是調整音量。\n\n## 即時效果\n\n使用 Sliders 改變值是立即性的，讓使用者調整 slider 達到選取值的目的。Sliders 不應該在使用者回饋上有任何的延遲。\n\n## 當前狀態\n\nSliders 會直接反應當前值的狀態。\n\n如下圖，上方是連續的 slider。下方式離散的 slider。\n![上方是連續的 slider。下方式分散的 slider。](https://lh3.googleusercontent.com/HyBNA4jg-7mZ_wvptdv2BFs2COwO21hYtonNR3SzbfeO6pFyvfiqxHXKpbuBq6tkI2TKeqWgtE4_Cps3P1PVDcX7HAQJXze6KDEHlA=w1064-v0)\n\n# Sliders 值\n\n## 可編輯的數值\n\n![可編輯的數值](https://lh3.googleusercontent.com/CqyD0Td-8cE2mN0BnVZHhbz3NjLULgvGEQkc2i2cnc2wQ0aLyAiClOW8EcekqcgAO-PB2sBg3X4yxwg-3SY37N3LVLKgyceEDHdaDw=w1064-v0)\n\n可調整的 Slider 值讓使用者能精確的選取需要的數字。\n\n透過選取點選 Slider 按鈕拖曳改變值，或是使用輸入框直接輸入需要的值。使用者輸入後， Slider 按鈕要立即改變位置與使用者輸入的值相同。請注意輸入框不包含在 Slider 組件內，而是開發者需要自行開發的功能。研究發現輸入框有助於使用者選取需要的值。\n\n## 值的順序\n\n對於從左到右顯示的語言（例如英語），範圍的最小值顯示在左側，最大值顯示在右側。\n對於從右到左的語言（例如阿拉伯語），應該顛倒值的位置，將最大值放在左邊，將最小值放在右邊。\n\n# Sliders 種類\n\n## 連續 Sliders\n\n連續 Sliders 讓使用者在主觀範圍內選擇。不需要將值標示出來。\n\n![連續 Sliders](https://lh3.googleusercontent.com/EHxl03Dqn-evX03HVg5lEDFagSPySmmkiCyGqFawQSVlPByfvLUwJVl5YMSF5MszxMtofLEainftW77JtMafBPqyVa8X3cmtPXS2=w1064-v0)\n\n## 離散 Sliders\n\n離散 Sliders 可通過按鈕來調整為特定值。可以用刻度的方式讓按鈕吸附對應的值。\n\n![離散 Sliders](https://lh3.googleusercontent.com/BxmR3b_1Oa-yyXsyb_wDaX_SkLxv1W1wtRmw9IyvS8T1WYTC_gtECiYIX64p0YS6CFv55qyA57zzjxDbZjt0vo8aCS79CFN-_b7-lw=w1064-v0)\n\n# 主題客製化\n\n可依據主題客製化所需的 Slider 如下圖。\n\n![Sliders 客製化](https://lh3.googleusercontent.com/cT5ehcw23NHD15r64eCvvUWYFCYQn5m04BK9ITt6sCZZE4bsHC2xNXgsxoxyqwNL1emATR9eTNM3QUGUCyZOhVLFTQBONiYweBMce1Q=w1064-v0)\n\n目前專案中還沒有適合使用 Slider 的時機點，若往後有機會可以嘗試加入此組件。\n\n# 參考資料\n\n* [Material Design - Sliders](https://material.io/components/sliders)","slug":"UXUI/Google-Material-Design-Sliders","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rf002tr3y7049w6jgb","content":"<p>近期收到 Material Design 對 component 的更新訊息，趁此機會重新審視組件的使用方式。這次主要來看 Sliders。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"使用方式\"><a href=\"#使用方式\" class=\"headerlink\" title=\"使用方式\"></a>使用方式</h1><p>Sliders 組件讓使用者在範圍內的值做選取。可用在調整音量,亮度或調整圖片濾鏡等場景。 Sliders 可以在兩端點使用 icon 來表示數值或相對的關係。使用者可以透過和 icon 互動改變 Slider 的值，像是調整音量。</p>\n<h2 id=\"即時效果\"><a href=\"#即時效果\" class=\"headerlink\" title=\"即時效果\"></a>即時效果</h2><p>使用 Sliders 改變值是立即性的，讓使用者調整 slider 達到選取值的目的。Sliders 不應該在使用者回饋上有任何的延遲。</p>\n<h2 id=\"當前狀態\"><a href=\"#當前狀態\" class=\"headerlink\" title=\"當前狀態\"></a>當前狀態</h2><p>Sliders 會直接反應當前值的狀態。</p>\n<p>如下圖，上方是連續的 slider。下方式離散的 slider。<br><img src=\"https://lh3.googleusercontent.com/HyBNA4jg-7mZ_wvptdv2BFs2COwO21hYtonNR3SzbfeO6pFyvfiqxHXKpbuBq6tkI2TKeqWgtE4_Cps3P1PVDcX7HAQJXze6KDEHlA=w1064-v0\" alt=\"上方是連續的 slider。下方式分散的 slider。\"></p>\n<h1 id=\"Sliders-值\"><a href=\"#Sliders-值\" class=\"headerlink\" title=\"Sliders 值\"></a>Sliders 值</h1><h2 id=\"可編輯的數值\"><a href=\"#可編輯的數值\" class=\"headerlink\" title=\"可編輯的數值\"></a>可編輯的數值</h2><p><img src=\"https://lh3.googleusercontent.com/CqyD0Td-8cE2mN0BnVZHhbz3NjLULgvGEQkc2i2cnc2wQ0aLyAiClOW8EcekqcgAO-PB2sBg3X4yxwg-3SY37N3LVLKgyceEDHdaDw=w1064-v0\" alt=\"可編輯的數值\"></p>\n<p>可調整的 Slider 值讓使用者能精確的選取需要的數字。</p>\n<p>透過選取點選 Slider 按鈕拖曳改變值，或是使用輸入框直接輸入需要的值。使用者輸入後， Slider 按鈕要立即改變位置與使用者輸入的值相同。請注意輸入框不包含在 Slider 組件內，而是開發者需要自行開發的功能。研究發現輸入框有助於使用者選取需要的值。</p>\n<h2 id=\"值的順序\"><a href=\"#值的順序\" class=\"headerlink\" title=\"值的順序\"></a>值的順序</h2><p>對於從左到右顯示的語言（例如英語），範圍的最小值顯示在左側，最大值顯示在右側。<br>對於從右到左的語言（例如阿拉伯語），應該顛倒值的位置，將最大值放在左邊，將最小值放在右邊。</p>\n<h1 id=\"Sliders-種類\"><a href=\"#Sliders-種類\" class=\"headerlink\" title=\"Sliders 種類\"></a>Sliders 種類</h1><h2 id=\"連續-Sliders\"><a href=\"#連續-Sliders\" class=\"headerlink\" title=\"連續 Sliders\"></a>連續 Sliders</h2><p>連續 Sliders 讓使用者在主觀範圍內選擇。不需要將值標示出來。</p>\n<p><img src=\"https://lh3.googleusercontent.com/EHxl03Dqn-evX03HVg5lEDFagSPySmmkiCyGqFawQSVlPByfvLUwJVl5YMSF5MszxMtofLEainftW77JtMafBPqyVa8X3cmtPXS2=w1064-v0\" alt=\"連續 Sliders\"></p>\n<h2 id=\"離散-Sliders\"><a href=\"#離散-Sliders\" class=\"headerlink\" title=\"離散 Sliders\"></a>離散 Sliders</h2><p>離散 Sliders 可通過按鈕來調整為特定值。可以用刻度的方式讓按鈕吸附對應的值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/BxmR3b_1Oa-yyXsyb_wDaX_SkLxv1W1wtRmw9IyvS8T1WYTC_gtECiYIX64p0YS6CFv55qyA57zzjxDbZjt0vo8aCS79CFN-_b7-lw=w1064-v0\" alt=\"離散 Sliders\"></p>\n<h1 id=\"主題客製化\"><a href=\"#主題客製化\" class=\"headerlink\" title=\"主題客製化\"></a>主題客製化</h1><p>可依據主題客製化所需的 Slider 如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/cT5ehcw23NHD15r64eCvvUWYFCYQn5m04BK9ITt6sCZZE4bsHC2xNXgsxoxyqwNL1emATR9eTNM3QUGUCyZOhVLFTQBONiYweBMce1Q=w1064-v0\" alt=\"Sliders 客製化\"></p>\n<p>目前專案中還沒有適合使用 Slider 的時機點，若往後有機會可以嘗試加入此組件。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://material.io/components/sliders\">Material Design - Sliders</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>近期收到 Material Design 對 component 的更新訊息，趁此機會重新審視組件的使用方式。這次主要來看 Sliders。</p>","more":"<h1 id=\"使用方式\"><a href=\"#使用方式\" class=\"headerlink\" title=\"使用方式\"></a>使用方式</h1><p>Sliders 組件讓使用者在範圍內的值做選取。可用在調整音量,亮度或調整圖片濾鏡等場景。 Sliders 可以在兩端點使用 icon 來表示數值或相對的關係。使用者可以透過和 icon 互動改變 Slider 的值，像是調整音量。</p>\n<h2 id=\"即時效果\"><a href=\"#即時效果\" class=\"headerlink\" title=\"即時效果\"></a>即時效果</h2><p>使用 Sliders 改變值是立即性的，讓使用者調整 slider 達到選取值的目的。Sliders 不應該在使用者回饋上有任何的延遲。</p>\n<h2 id=\"當前狀態\"><a href=\"#當前狀態\" class=\"headerlink\" title=\"當前狀態\"></a>當前狀態</h2><p>Sliders 會直接反應當前值的狀態。</p>\n<p>如下圖，上方是連續的 slider。下方式離散的 slider。<br><img src=\"https://lh3.googleusercontent.com/HyBNA4jg-7mZ_wvptdv2BFs2COwO21hYtonNR3SzbfeO6pFyvfiqxHXKpbuBq6tkI2TKeqWgtE4_Cps3P1PVDcX7HAQJXze6KDEHlA=w1064-v0\" alt=\"上方是連續的 slider。下方式分散的 slider。\"></p>\n<h1 id=\"Sliders-值\"><a href=\"#Sliders-值\" class=\"headerlink\" title=\"Sliders 值\"></a>Sliders 值</h1><h2 id=\"可編輯的數值\"><a href=\"#可編輯的數值\" class=\"headerlink\" title=\"可編輯的數值\"></a>可編輯的數值</h2><p><img src=\"https://lh3.googleusercontent.com/CqyD0Td-8cE2mN0BnVZHhbz3NjLULgvGEQkc2i2cnc2wQ0aLyAiClOW8EcekqcgAO-PB2sBg3X4yxwg-3SY37N3LVLKgyceEDHdaDw=w1064-v0\" alt=\"可編輯的數值\"></p>\n<p>可調整的 Slider 值讓使用者能精確的選取需要的數字。</p>\n<p>透過選取點選 Slider 按鈕拖曳改變值，或是使用輸入框直接輸入需要的值。使用者輸入後， Slider 按鈕要立即改變位置與使用者輸入的值相同。請注意輸入框不包含在 Slider 組件內，而是開發者需要自行開發的功能。研究發現輸入框有助於使用者選取需要的值。</p>\n<h2 id=\"值的順序\"><a href=\"#值的順序\" class=\"headerlink\" title=\"值的順序\"></a>值的順序</h2><p>對於從左到右顯示的語言（例如英語），範圍的最小值顯示在左側，最大值顯示在右側。<br>對於從右到左的語言（例如阿拉伯語），應該顛倒值的位置，將最大值放在左邊，將最小值放在右邊。</p>\n<h1 id=\"Sliders-種類\"><a href=\"#Sliders-種類\" class=\"headerlink\" title=\"Sliders 種類\"></a>Sliders 種類</h1><h2 id=\"連續-Sliders\"><a href=\"#連續-Sliders\" class=\"headerlink\" title=\"連續 Sliders\"></a>連續 Sliders</h2><p>連續 Sliders 讓使用者在主觀範圍內選擇。不需要將值標示出來。</p>\n<p><img src=\"https://lh3.googleusercontent.com/EHxl03Dqn-evX03HVg5lEDFagSPySmmkiCyGqFawQSVlPByfvLUwJVl5YMSF5MszxMtofLEainftW77JtMafBPqyVa8X3cmtPXS2=w1064-v0\" alt=\"連續 Sliders\"></p>\n<h2 id=\"離散-Sliders\"><a href=\"#離散-Sliders\" class=\"headerlink\" title=\"離散 Sliders\"></a>離散 Sliders</h2><p>離散 Sliders 可通過按鈕來調整為特定值。可以用刻度的方式讓按鈕吸附對應的值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/BxmR3b_1Oa-yyXsyb_wDaX_SkLxv1W1wtRmw9IyvS8T1WYTC_gtECiYIX64p0YS6CFv55qyA57zzjxDbZjt0vo8aCS79CFN-_b7-lw=w1064-v0\" alt=\"離散 Sliders\"></p>\n<h1 id=\"主題客製化\"><a href=\"#主題客製化\" class=\"headerlink\" title=\"主題客製化\"></a>主題客製化</h1><p>可依據主題客製化所需的 Slider 如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/cT5ehcw23NHD15r64eCvvUWYFCYQn5m04BK9ITt6sCZZE4bsHC2xNXgsxoxyqwNL1emATR9eTNM3QUGUCyZOhVLFTQBONiYweBMce1Q=w1064-v0\" alt=\"Sliders 客製化\"></p>\n<p>目前專案中還沒有適合使用 Slider 的時機點，若往後有機會可以嘗試加入此組件。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://material.io/components/sliders\">Material Design - Sliders</a></li>\n</ul>"},{"title":"Google Material Studies - Rally","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MvqIqiMU-07zdfL5gFNeKeg1DrzFHOtj%2Fcasestudies-rally-main.png","coverMeta":"out","date":"2019-04-04T16:00:00.000Z","updated":"2019-04-04T16:00:00.000Z","_content":"\nMaterial Guildline 應該很多設計師都閱讀過 N 遍了，但要設計時如何在框架下做到客制這件事應該還是很疑惑。官網上提出了幾個業界的實例分享，這點讓我很有興趣，所以接下來我會一一對這些案例做介紹。因為我上班做的案子比較多是系統類的設計，所以我第一個想介紹比較類似的是 Rally 這個案例。下面內容會一邊介紹，一邊穿插自己在職場上的一些心得或想法。\n\n<!--more-->\n\n# 案例背景\n\nRally 是一個管理財務的 APP，它會追蹤使用者的花費習慣並產生預測和適當的警示通知。Rally 是設計來呈現大量且密集的資訊，讓使用者可管理和研究資料模式。\n\n### 數據性導向之美 (Data-driven aesthetic)\n\nUI 採用暗灰色提高質感，並用亮色系凸顯資料。在資料與背景顏色高對比之下，讓使用者更容易閱讀 APP 內的圖表。\n\n![Rally UI](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F16CNi69TWdOluvYdoeNwd5QK4P5nkE48-%2Fcasestudies-rally-brandattributes.png \"Rally UI\")\n\nUI 設計專注在查看、研究和了解資料。圖表呈現在儀表板上，讓使用者查看花費摘要和單一交易的細節。此 UI 設計透過排版、顏色和形狀的凸顯，讓畫面是密集且直覺的。\n\n> 心得：蠻喜歡這樣的暗色背景搭亮色的配色，但因目前公司的一般使用者還是比較習慣白色背景的配色模式，所以暗色背景的搭配在考慮時間和緊急度下，我自己是只敢用在自己小組內部用的專案上，比較沒有時間上的壓力。\n\n# 產品架構\n\nRally 架構是層級式的，讓使用者透過不同分類查看他們的財務。\n\n內容根據個人財務區分不同的 sections，像是帳戶、預算、帳單。首頁著重在讓使用者前往這些 sections 的導向。\n\n### 導覽列\n\n因為 Rally 專注在呈現和描述不同面向的財務資訊，所以如何讓使用者能輕易的在這些sections 移動是很重要的。Rally 有一個固定位置的導覽列讓使用者能方便的切換 sections。在桌機和平板，Rally 使用的是直列式的導覽列。在手機，則是用橫向標籤的方式。這項的導航模式很理想，雖然它們總是在屏幕上，但佔用的空間非常小。\n\n![Rally 導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PIJeS6GJLIExYX9mWOmb7UzWB0-Nl5VB%2Fcasestudies-family-rally.png \"Rally 導覽列\")\n\n在直列式的導覽列中，每個目的地會用一個獨特的 icon 呈現。當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 下方。\n\n![直列式的導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qsgxAELdMrSDPRKV-l-N_2dW5fYeljj%2Fcasestudies-rally-rail.png \"直列式的導覽列\")\n\n在橫向標籤導覽中，當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 右方，其他 icon 將會適當的移動位置。\n\n![橫向標籤導覽](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dHfpA4R1RVHn5zRSxInMllujv_C7pxv7%2Fcasestudies-rally-tabs.png \"橫向標籤導覽\")\n\n> 心得：這邊如果導覽項目數目很少，這樣設計ok。但要注意往後的擴充性，若是 section 的數目增加是否要增加 sub section，手機上方 tab 的空間是否會不夠呈現，這些都是可能會碰到的問題。\n\n# 排版\n\nRally 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1lAQUZTvSoen3matP1gpDJqVpKnZpARy6%2Fcasestudies-rally-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 視覺層級\n\nRally 使用色彩或紗幕來區分視覺上的層級。\n\n舉例：當使用者滑動下方資料的時候，為確保統計圖固定在上方，使用不同的色彩來區分視覺層級。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dq6I1nDovqvUydVHH5jTeI9VA6ftfz7H%2Frally-flow1-170808-casestudies-rally-elevation-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n舉例：當有 popup 出現時，背景使用紗幕霧化背景。\n\n![霧化背景](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1eBiwYfz1_8oSLrlWN_9uNjA_TGVqRBS2%2Fcasestudies-rally-elevation-scrim.png \"霧化背景\")\n\n> 心得：用色彩和霧化效果來做層級區分我覺得還蠻實用且能提升質感。但在霧化背景的方式，需要考量到開發者是否能配合。若還有捨棄不了 IE 瀏覽器的公司，則會因為裝置的限制而必須要有第二方案來替代霧化的方式，比如說改用暗色且透明度低的樣式。\n\n# 顏色\n\n有時候需要顯示多個圖表在一個螢幕上，且每個圖表包含多個 sections。為了能足夠表達狀態， Rally 的配色採用 1 個主色調加上 5 個配色。這個設計讓系統呈現可讀性高且獨特的信息圖表。\n\n當三個圖表出現在同一個螢幕上，每個圖表使用其中的兩個顏色。\n\n1. Primary Green and Dark Green.\n2. Orange and Yellow.\n3. Purple and Blue.\n\n![配色](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1TnwFyAe31SQDfL21qM9hZ1dcGQVRyB23%2Fcasestudies-rally-color-75percentzoom.png \"配色\")\n\n### 顏色主題\n\n除了 6 色以外， Rally 還有一個針對這 6 個顏色延伸 10 色版的調色盤。如下圖。\n\n* 圓圈形狀代表在此 APP 中有用到的色版\n* \"P\" 代表主色調\n* 其他沒有文字的圓圈則是配色\n\n![顏色主題](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F17gZmwIGdzlDr-Hl2jTu2SSgc_ATBGaPt%2Fcasestudies-rally-color-palettes.png \"顏色主題\")\n\n> 心得：我還沒用過那麼多的配色設計過，因為顏色越多，需要考量的點會更複雜，可能需要找時間嘗試看看。\n\n# 文字與圖示\n\nRally 用兩種字體：Eczar 和 Roboto Condensed。\n\n1. Roboto Condensed：介面預設字體，適合密集的佈局。\n2. Eczar：只用在首要標題和純數字清單，適合呈現數據。\n\n![字體](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1t7i8LPPdmRkpdLV4u-p0oHvlhRTRbEb3%2Fcasestudies-rally-type.png \"字體\")\n\nRally 使用客製化的 icon 來呈現不同的 sections。\n\n1. 所有圖示使用一樣的格線架構確保一致性。\n2. 所有 Rally 圖示\n\n![圖示](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1zqz0w6AEK_D9Kxb8ntWTb8lXJHkGjakk%2Fcasestudies-rally-icons.png \"圖示\")\n\n> 心得：在數據表達的部分使用另一種字體這是一個不錯的點子，可以凸顯出數據的呈現，會想要嘗試看看。圖示的部分，在統一格線架構下設計很合理，但在一般專案時間不足的狀況下，通常我會直接使用 Material Icons ，省去設計圖示這塊。\n\n# 形狀\n\n元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：\n\n1. 小元件 (S)：文字輸入區塊(Filled text fields)。\n2. 中元件 (M)：卡片(Cards)。\n3. 大元件 (L)：數據表格(Data Tables)。\n\n元件都是 0 圓角。\n\n![形狀分類](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1RpTrPB3UprQBcFfZh6ZnI4xNtUEyThIQ%2Frally-shape.png \"形狀分類\")\n\n![形狀元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuOHmVEu0rKr8Bfes708nHM9osOWiHIm%2Frally-shape-b.png \"形狀元件\")\n\n# 元件\n\n### 卡片和清單\n\n在 overview 頁面使用卡片去呈現多個財務摘要，像是 Accounts 和 Bills。\n\n![卡片](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1gDGHc1gTW-FsOvmmXjZ6i5UF_U9CS0Ga%2Fcasestudies-rally-cards-1.png \"卡片\")\n\n當點選 Accounts，摘要資訊卡片會展開顯示更多細節在清單中。\n\n![清單](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F128elUbInT1Me7Ra3gJGsndRDRq6JbAcn%2Fcasestudies-rally-list.png \"清單\")\n\n### 橫幅、提示bar和對話框\n\n* 橫幅(Banners)：比較不那麼重要的訊息選擇用橫幅的方式呈現，通常會搭配圖示。\n* 提示 bar 和對話框(Snackbars and dialogs)：重要的訊息則是用提示 bar 和對話框呈現，並不會包含圖示。\n\n在平板上的橫幅呈現在導覽列旁。\n\n![橫幅 - 平板](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1X3ShTSv1KbUgazHtrp7wzXApy36TH1na%2Fcasestudies-rally-alerts-tablet.png \"橫幅 - 平板\")\n\n在手機上的橫幅呈現在最上方。\n\n![橫幅 - 手機](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1qcuHjBEJaoYI-_Vel0SlCTr4MXrlO3Ta%2Fcasestudies-rally-alerts-mobile.png \"橫幅 - 手機\")\n\n在桌機上的橫幅則是自己一個直欄位專門呈現。\n\n![橫幅 - 桌機](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1aEZcxrXD6L__739kup3Zzi5x73UFoIiz%2Fcasestudies-rally-alerts-desktop.png \"橫幅 - 桌機\")\n\n重要訊息出現提示 bar 或對話框。\n\n![對話框](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1UGbGapFacfgXBv5ijUiAjwNBKmw2v9yh%2Fcasestudies-rally-dialogs-mobile.png \"對話框\")\n\n![提示 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ccB2eglPzvAai1YC4QgkxgYlFErDtJFs%2Fcasestudies-rally-snackbar.png \"提示 bar\")\n\n> 心得：沒有將這三個元件一起混用的經驗，頂多用其中的兩個而已，所以他這樣從訊息的重要性來區分用哪種元件的方式很值得參考。\n\n# 交互動作\n\nRally 在登入頁面顯示動畫 logo 增加 APP 的印象。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SdTGjLEmVjxVQfQHUxjrbWEO9GEnbHab%2F01-rally-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當用戶點開一個帳戶時，畫面會使用從內到外漸變展開的子頁面。點選返回後，則會從外到內漸變縮合回上一頁。加強使用者對深度的感知。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SjV2Eky-4d80UhOL4dm9k-EhG-r8IDm2%2F02-rally-parentchild.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n點選頁籤則是使用左右滑動的漸變動畫。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SkeVD6imJA_MwjipNR-DbNh1xw4au9yy%2F02-rally-tabs.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當引入新頁面元素時會使用上方的進度條作為導引。使用時間差的轉圈動畫來凸顯圓餅圖。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SmqucW2ugbXboWf8SSjVngVtm63_VLxf%2F03-rally-sequencing.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n對話框使用彈跳的方式，以傳達訊息的急迫感。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SrDQ1yFyIyFYWewhvEIIBZ9Mm0S-6G2z%2F04-rally-overshoot.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於父子頁面漸變展開的動畫提升深度感知這點很認同，但在實作上還沒有真正的實行過，可以思考或和其他程式開發者討論實際在 web 或 app 撰寫時的執行難度。\n\n總結：讀完這篇研究後，對於 Material Design 在系統設計上的應用來說，我覺得是很實用的，畢竟要做系統通常都是要大量顯示資訊，如何有條理讓使用者理解顯示資訊變得很重要。這篇在配色和交互動作的部分是很值得參考的案例。\n\n## 參考資料\n\n* [Material Studies - Rally](https://material.io/design/material-studies/rally.html)","source":"_posts/UXUI/Google-Material-Studies-Rally.md","raw":"---\ntitle: Google Material Studies - Rally\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MvqIqiMU-07zdfL5gFNeKeg1DrzFHOtj%2Fcasestudies-rally-main.png\ncoverMeta: out\ntags: [UX, UI, Material Design]\ndate: 2019/04/05\nupdated: 2019/04/05\n---\n\nMaterial Guildline 應該很多設計師都閱讀過 N 遍了，但要設計時如何在框架下做到客制這件事應該還是很疑惑。官網上提出了幾個業界的實例分享，這點讓我很有興趣，所以接下來我會一一對這些案例做介紹。因為我上班做的案子比較多是系統類的設計，所以我第一個想介紹比較類似的是 Rally 這個案例。下面內容會一邊介紹，一邊穿插自己在職場上的一些心得或想法。\n\n<!--more-->\n\n# 案例背景\n\nRally 是一個管理財務的 APP，它會追蹤使用者的花費習慣並產生預測和適當的警示通知。Rally 是設計來呈現大量且密集的資訊，讓使用者可管理和研究資料模式。\n\n### 數據性導向之美 (Data-driven aesthetic)\n\nUI 採用暗灰色提高質感，並用亮色系凸顯資料。在資料與背景顏色高對比之下，讓使用者更容易閱讀 APP 內的圖表。\n\n![Rally UI](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F16CNi69TWdOluvYdoeNwd5QK4P5nkE48-%2Fcasestudies-rally-brandattributes.png \"Rally UI\")\n\nUI 設計專注在查看、研究和了解資料。圖表呈現在儀表板上，讓使用者查看花費摘要和單一交易的細節。此 UI 設計透過排版、顏色和形狀的凸顯，讓畫面是密集且直覺的。\n\n> 心得：蠻喜歡這樣的暗色背景搭亮色的配色，但因目前公司的一般使用者還是比較習慣白色背景的配色模式，所以暗色背景的搭配在考慮時間和緊急度下，我自己是只敢用在自己小組內部用的專案上，比較沒有時間上的壓力。\n\n# 產品架構\n\nRally 架構是層級式的，讓使用者透過不同分類查看他們的財務。\n\n內容根據個人財務區分不同的 sections，像是帳戶、預算、帳單。首頁著重在讓使用者前往這些 sections 的導向。\n\n### 導覽列\n\n因為 Rally 專注在呈現和描述不同面向的財務資訊，所以如何讓使用者能輕易的在這些sections 移動是很重要的。Rally 有一個固定位置的導覽列讓使用者能方便的切換 sections。在桌機和平板，Rally 使用的是直列式的導覽列。在手機，則是用橫向標籤的方式。這項的導航模式很理想，雖然它們總是在屏幕上，但佔用的空間非常小。\n\n![Rally 導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PIJeS6GJLIExYX9mWOmb7UzWB0-Nl5VB%2Fcasestudies-family-rally.png \"Rally 導覽列\")\n\n在直列式的導覽列中，每個目的地會用一個獨特的 icon 呈現。當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 下方。\n\n![直列式的導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qsgxAELdMrSDPRKV-l-N_2dW5fYeljj%2Fcasestudies-rally-rail.png \"直列式的導覽列\")\n\n在橫向標籤導覽中，當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 右方，其他 icon 將會適當的移動位置。\n\n![橫向標籤導覽](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dHfpA4R1RVHn5zRSxInMllujv_C7pxv7%2Fcasestudies-rally-tabs.png \"橫向標籤導覽\")\n\n> 心得：這邊如果導覽項目數目很少，這樣設計ok。但要注意往後的擴充性，若是 section 的數目增加是否要增加 sub section，手機上方 tab 的空間是否會不夠呈現，這些都是可能會碰到的問題。\n\n# 排版\n\nRally 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1lAQUZTvSoen3matP1gpDJqVpKnZpARy6%2Fcasestudies-rally-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 視覺層級\n\nRally 使用色彩或紗幕來區分視覺上的層級。\n\n舉例：當使用者滑動下方資料的時候，為確保統計圖固定在上方，使用不同的色彩來區分視覺層級。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dq6I1nDovqvUydVHH5jTeI9VA6ftfz7H%2Frally-flow1-170808-casestudies-rally-elevation-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n舉例：當有 popup 出現時，背景使用紗幕霧化背景。\n\n![霧化背景](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1eBiwYfz1_8oSLrlWN_9uNjA_TGVqRBS2%2Fcasestudies-rally-elevation-scrim.png \"霧化背景\")\n\n> 心得：用色彩和霧化效果來做層級區分我覺得還蠻實用且能提升質感。但在霧化背景的方式，需要考量到開發者是否能配合。若還有捨棄不了 IE 瀏覽器的公司，則會因為裝置的限制而必須要有第二方案來替代霧化的方式，比如說改用暗色且透明度低的樣式。\n\n# 顏色\n\n有時候需要顯示多個圖表在一個螢幕上，且每個圖表包含多個 sections。為了能足夠表達狀態， Rally 的配色採用 1 個主色調加上 5 個配色。這個設計讓系統呈現可讀性高且獨特的信息圖表。\n\n當三個圖表出現在同一個螢幕上，每個圖表使用其中的兩個顏色。\n\n1. Primary Green and Dark Green.\n2. Orange and Yellow.\n3. Purple and Blue.\n\n![配色](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1TnwFyAe31SQDfL21qM9hZ1dcGQVRyB23%2Fcasestudies-rally-color-75percentzoom.png \"配色\")\n\n### 顏色主題\n\n除了 6 色以外， Rally 還有一個針對這 6 個顏色延伸 10 色版的調色盤。如下圖。\n\n* 圓圈形狀代表在此 APP 中有用到的色版\n* \"P\" 代表主色調\n* 其他沒有文字的圓圈則是配色\n\n![顏色主題](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F17gZmwIGdzlDr-Hl2jTu2SSgc_ATBGaPt%2Fcasestudies-rally-color-palettes.png \"顏色主題\")\n\n> 心得：我還沒用過那麼多的配色設計過，因為顏色越多，需要考量的點會更複雜，可能需要找時間嘗試看看。\n\n# 文字與圖示\n\nRally 用兩種字體：Eczar 和 Roboto Condensed。\n\n1. Roboto Condensed：介面預設字體，適合密集的佈局。\n2. Eczar：只用在首要標題和純數字清單，適合呈現數據。\n\n![字體](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1t7i8LPPdmRkpdLV4u-p0oHvlhRTRbEb3%2Fcasestudies-rally-type.png \"字體\")\n\nRally 使用客製化的 icon 來呈現不同的 sections。\n\n1. 所有圖示使用一樣的格線架構確保一致性。\n2. 所有 Rally 圖示\n\n![圖示](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1zqz0w6AEK_D9Kxb8ntWTb8lXJHkGjakk%2Fcasestudies-rally-icons.png \"圖示\")\n\n> 心得：在數據表達的部分使用另一種字體這是一個不錯的點子，可以凸顯出數據的呈現，會想要嘗試看看。圖示的部分，在統一格線架構下設計很合理，但在一般專案時間不足的狀況下，通常我會直接使用 Material Icons ，省去設計圖示這塊。\n\n# 形狀\n\n元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：\n\n1. 小元件 (S)：文字輸入區塊(Filled text fields)。\n2. 中元件 (M)：卡片(Cards)。\n3. 大元件 (L)：數據表格(Data Tables)。\n\n元件都是 0 圓角。\n\n![形狀分類](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1RpTrPB3UprQBcFfZh6ZnI4xNtUEyThIQ%2Frally-shape.png \"形狀分類\")\n\n![形狀元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuOHmVEu0rKr8Bfes708nHM9osOWiHIm%2Frally-shape-b.png \"形狀元件\")\n\n# 元件\n\n### 卡片和清單\n\n在 overview 頁面使用卡片去呈現多個財務摘要，像是 Accounts 和 Bills。\n\n![卡片](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1gDGHc1gTW-FsOvmmXjZ6i5UF_U9CS0Ga%2Fcasestudies-rally-cards-1.png \"卡片\")\n\n當點選 Accounts，摘要資訊卡片會展開顯示更多細節在清單中。\n\n![清單](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F128elUbInT1Me7Ra3gJGsndRDRq6JbAcn%2Fcasestudies-rally-list.png \"清單\")\n\n### 橫幅、提示bar和對話框\n\n* 橫幅(Banners)：比較不那麼重要的訊息選擇用橫幅的方式呈現，通常會搭配圖示。\n* 提示 bar 和對話框(Snackbars and dialogs)：重要的訊息則是用提示 bar 和對話框呈現，並不會包含圖示。\n\n在平板上的橫幅呈現在導覽列旁。\n\n![橫幅 - 平板](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1X3ShTSv1KbUgazHtrp7wzXApy36TH1na%2Fcasestudies-rally-alerts-tablet.png \"橫幅 - 平板\")\n\n在手機上的橫幅呈現在最上方。\n\n![橫幅 - 手機](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1qcuHjBEJaoYI-_Vel0SlCTr4MXrlO3Ta%2Fcasestudies-rally-alerts-mobile.png \"橫幅 - 手機\")\n\n在桌機上的橫幅則是自己一個直欄位專門呈現。\n\n![橫幅 - 桌機](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1aEZcxrXD6L__739kup3Zzi5x73UFoIiz%2Fcasestudies-rally-alerts-desktop.png \"橫幅 - 桌機\")\n\n重要訊息出現提示 bar 或對話框。\n\n![對話框](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1UGbGapFacfgXBv5ijUiAjwNBKmw2v9yh%2Fcasestudies-rally-dialogs-mobile.png \"對話框\")\n\n![提示 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ccB2eglPzvAai1YC4QgkxgYlFErDtJFs%2Fcasestudies-rally-snackbar.png \"提示 bar\")\n\n> 心得：沒有將這三個元件一起混用的經驗，頂多用其中的兩個而已，所以他這樣從訊息的重要性來區分用哪種元件的方式很值得參考。\n\n# 交互動作\n\nRally 在登入頁面顯示動畫 logo 增加 APP 的印象。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SdTGjLEmVjxVQfQHUxjrbWEO9GEnbHab%2F01-rally-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當用戶點開一個帳戶時，畫面會使用從內到外漸變展開的子頁面。點選返回後，則會從外到內漸變縮合回上一頁。加強使用者對深度的感知。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SjV2Eky-4d80UhOL4dm9k-EhG-r8IDm2%2F02-rally-parentchild.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n點選頁籤則是使用左右滑動的漸變動畫。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SkeVD6imJA_MwjipNR-DbNh1xw4au9yy%2F02-rally-tabs.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當引入新頁面元素時會使用上方的進度條作為導引。使用時間差的轉圈動畫來凸顯圓餅圖。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SmqucW2ugbXboWf8SSjVngVtm63_VLxf%2F03-rally-sequencing.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n對話框使用彈跳的方式，以傳達訊息的急迫感。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SrDQ1yFyIyFYWewhvEIIBZ9Mm0S-6G2z%2F04-rally-overshoot.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於父子頁面漸變展開的動畫提升深度感知這點很認同，但在實作上還沒有真正的實行過，可以思考或和其他程式開發者討論實際在 web 或 app 撰寫時的執行難度。\n\n總結：讀完這篇研究後，對於 Material Design 在系統設計上的應用來說，我覺得是很實用的，畢竟要做系統通常都是要大量顯示資訊，如何有條理讓使用者理解顯示資訊變得很重要。這篇在配色和交互動作的部分是很值得參考的案例。\n\n## 參考資料\n\n* [Material Studies - Rally](https://material.io/design/material-studies/rally.html)","slug":"UXUI/Google-Material-Studies-Rally","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rh002xr3y700jv01wf","content":"<p>Material Guildline 應該很多設計師都閱讀過 N 遍了，但要設計時如何在框架下做到客制這件事應該還是很疑惑。官網上提出了幾個業界的實例分享，這點讓我很有興趣，所以接下來我會一一對這些案例做介紹。因為我上班做的案子比較多是系統類的設計，所以我第一個想介紹比較類似的是 Rally 這個案例。下面內容會一邊介紹，一邊穿插自己在職場上的一些心得或想法。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Rally 是一個管理財務的 APP，它會追蹤使用者的花費習慣並產生預測和適當的警示通知。Rally 是設計來呈現大量且密集的資訊，讓使用者可管理和研究資料模式。</p>\n<h3 id=\"數據性導向之美-Data-driven-aesthetic\"><a href=\"#數據性導向之美-Data-driven-aesthetic\" class=\"headerlink\" title=\"數據性導向之美 (Data-driven aesthetic)\"></a>數據性導向之美 (Data-driven aesthetic)</h3><p>UI 採用暗灰色提高質感，並用亮色系凸顯資料。在資料與背景顏色高對比之下，讓使用者更容易閱讀 APP 內的圖表。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F16CNi69TWdOluvYdoeNwd5QK4P5nkE48-%2Fcasestudies-rally-brandattributes.png\" alt=\"Rally UI\" title=\"Rally UI\"></p>\n<p>UI 設計專注在查看、研究和了解資料。圖表呈現在儀表板上，讓使用者查看花費摘要和單一交易的細節。此 UI 設計透過排版、顏色和形狀的凸顯，讓畫面是密集且直覺的。</p>\n<blockquote>\n<p>心得：蠻喜歡這樣的暗色背景搭亮色的配色，但因目前公司的一般使用者還是比較習慣白色背景的配色模式，所以暗色背景的搭配在考慮時間和緊急度下，我自己是只敢用在自己小組內部用的專案上，比較沒有時間上的壓力。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Rally 架構是層級式的，讓使用者透過不同分類查看他們的財務。</p>\n<p>內容根據個人財務區分不同的 sections，像是帳戶、預算、帳單。首頁著重在讓使用者前往這些 sections 的導向。</p>\n<h3 id=\"導覽列\"><a href=\"#導覽列\" class=\"headerlink\" title=\"導覽列\"></a>導覽列</h3><p>因為 Rally 專注在呈現和描述不同面向的財務資訊，所以如何讓使用者能輕易的在這些sections 移動是很重要的。Rally 有一個固定位置的導覽列讓使用者能方便的切換 sections。在桌機和平板，Rally 使用的是直列式的導覽列。在手機，則是用橫向標籤的方式。這項的導航模式很理想，雖然它們總是在屏幕上，但佔用的空間非常小。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PIJeS6GJLIExYX9mWOmb7UzWB0-Nl5VB%2Fcasestudies-family-rally.png\" alt=\"Rally 導覽列\" title=\"Rally 導覽列\"></p>\n<p>在直列式的導覽列中，每個目的地會用一個獨特的 icon 呈現。當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 下方。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qsgxAELdMrSDPRKV-l-N_2dW5fYeljj%2Fcasestudies-rally-rail.png\" alt=\"直列式的導覽列\" title=\"直列式的導覽列\"></p>\n<p>在橫向標籤導覽中，當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 右方，其他 icon 將會適當的移動位置。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dHfpA4R1RVHn5zRSxInMllujv_C7pxv7%2Fcasestudies-rally-tabs.png\" alt=\"橫向標籤導覽\" title=\"橫向標籤導覽\"></p>\n<blockquote>\n<p>心得：這邊如果導覽項目數目很少，這樣設計ok。但要注意往後的擴充性，若是 section 的數目增加是否要增加 sub section，手機上方 tab 的空間是否會不夠呈現，這些都是可能會碰到的問題。</p>\n</blockquote>\n<h1 id=\"排版\"><a href=\"#排版\" class=\"headerlink\" title=\"排版\"></a>排版</h1><p>Rally 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1lAQUZTvSoen3matP1gpDJqVpKnZpARy6%2Fcasestudies-rally-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"視覺層級\"><a href=\"#視覺層級\" class=\"headerlink\" title=\"視覺層級\"></a>視覺層級</h3><p>Rally 使用色彩或紗幕來區分視覺上的層級。</p>\n<p>舉例：當使用者滑動下方資料的時候，為確保統計圖固定在上方，使用不同的色彩來區分視覺層級。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dq6I1nDovqvUydVHH5jTeI9VA6ftfz7H%2Frally-flow1-170808-casestudies-rally-elevation-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>舉例：當有 popup 出現時，背景使用紗幕霧化背景。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1eBiwYfz1_8oSLrlWN_9uNjA_TGVqRBS2%2Fcasestudies-rally-elevation-scrim.png\" alt=\"霧化背景\" title=\"霧化背景\"></p>\n<blockquote>\n<p>心得：用色彩和霧化效果來做層級區分我覺得還蠻實用且能提升質感。但在霧化背景的方式，需要考量到開發者是否能配合。若還有捨棄不了 IE 瀏覽器的公司，則會因為裝置的限制而必須要有第二方案來替代霧化的方式，比如說改用暗色且透明度低的樣式。</p>\n</blockquote>\n<h1 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h1><p>有時候需要顯示多個圖表在一個螢幕上，且每個圖表包含多個 sections。為了能足夠表達狀態， Rally 的配色採用 1 個主色調加上 5 個配色。這個設計讓系統呈現可讀性高且獨特的信息圖表。</p>\n<p>當三個圖表出現在同一個螢幕上，每個圖表使用其中的兩個顏色。</p>\n<ol>\n<li>Primary Green and Dark Green.</li>\n<li>Orange and Yellow.</li>\n<li>Purple and Blue.</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1TnwFyAe31SQDfL21qM9hZ1dcGQVRyB23%2Fcasestudies-rally-color-75percentzoom.png\" alt=\"配色\" title=\"配色\"></p>\n<h3 id=\"顏色主題\"><a href=\"#顏色主題\" class=\"headerlink\" title=\"顏色主題\"></a>顏色主題</h3><p>除了 6 色以外， Rally 還有一個針對這 6 個顏色延伸 10 色版的調色盤。如下圖。</p>\n<ul>\n<li>圓圈形狀代表在此 APP 中有用到的色版</li>\n<li>“P” 代表主色調</li>\n<li>其他沒有文字的圓圈則是配色</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F17gZmwIGdzlDr-Hl2jTu2SSgc_ATBGaPt%2Fcasestudies-rally-color-palettes.png\" alt=\"顏色主題\" title=\"顏色主題\"></p>\n<blockquote>\n<p>心得：我還沒用過那麼多的配色設計過，因為顏色越多，需要考量的點會更複雜，可能需要找時間嘗試看看。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Rally 用兩種字體：Eczar 和 Roboto Condensed。</p>\n<ol>\n<li>Roboto Condensed：介面預設字體，適合密集的佈局。</li>\n<li>Eczar：只用在首要標題和純數字清單，適合呈現數據。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1t7i8LPPdmRkpdLV4u-p0oHvlhRTRbEb3%2Fcasestudies-rally-type.png\" alt=\"字體\" title=\"字體\"></p>\n<p>Rally 使用客製化的 icon 來呈現不同的 sections。</p>\n<ol>\n<li>所有圖示使用一樣的格線架構確保一致性。</li>\n<li>所有 Rally 圖示</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1zqz0w6AEK_D9Kxb8ntWTb8lXJHkGjakk%2Fcasestudies-rally-icons.png\" alt=\"圖示\" title=\"圖示\"></p>\n<blockquote>\n<p>心得：在數據表達的部分使用另一種字體這是一個不錯的點子，可以凸顯出數據的呈現，會想要嘗試看看。圖示的部分，在統一格線架構下設計很合理，但在一般專案時間不足的狀況下，通常我會直接使用 Material Icons ，省去設計圖示這塊。</p>\n</blockquote>\n<h1 id=\"形狀\"><a href=\"#形狀\" class=\"headerlink\" title=\"形狀\"></a>形狀</h1><p>元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：</p>\n<ol>\n<li>小元件 (S)：文字輸入區塊(Filled text fields)。</li>\n<li>中元件 (M)：卡片(Cards)。</li>\n<li>大元件 (L)：數據表格(Data Tables)。</li>\n</ol>\n<p>元件都是 0 圓角。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1RpTrPB3UprQBcFfZh6ZnI4xNtUEyThIQ%2Frally-shape.png\" alt=\"形狀分類\" title=\"形狀分類\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuOHmVEu0rKr8Bfes708nHM9osOWiHIm%2Frally-shape-b.png\" alt=\"形狀元件\" title=\"形狀元件\"></p>\n<h1 id=\"元件\"><a href=\"#元件\" class=\"headerlink\" title=\"元件\"></a>元件</h1><h3 id=\"卡片和清單\"><a href=\"#卡片和清單\" class=\"headerlink\" title=\"卡片和清單\"></a>卡片和清單</h3><p>在 overview 頁面使用卡片去呈現多個財務摘要，像是 Accounts 和 Bills。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1gDGHc1gTW-FsOvmmXjZ6i5UF_U9CS0Ga%2Fcasestudies-rally-cards-1.png\" alt=\"卡片\" title=\"卡片\"></p>\n<p>當點選 Accounts，摘要資訊卡片會展開顯示更多細節在清單中。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F128elUbInT1Me7Ra3gJGsndRDRq6JbAcn%2Fcasestudies-rally-list.png\" alt=\"清單\" title=\"清單\"></p>\n<h3 id=\"橫幅、提示bar和對話框\"><a href=\"#橫幅、提示bar和對話框\" class=\"headerlink\" title=\"橫幅、提示bar和對話框\"></a>橫幅、提示bar和對話框</h3><ul>\n<li>橫幅(Banners)：比較不那麼重要的訊息選擇用橫幅的方式呈現，通常會搭配圖示。</li>\n<li>提示 bar 和對話框(Snackbars and dialogs)：重要的訊息則是用提示 bar 和對話框呈現，並不會包含圖示。</li>\n</ul>\n<p>在平板上的橫幅呈現在導覽列旁。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1X3ShTSv1KbUgazHtrp7wzXApy36TH1na%2Fcasestudies-rally-alerts-tablet.png\" alt=\"橫幅 - 平板\" title=\"橫幅 - 平板\"></p>\n<p>在手機上的橫幅呈現在最上方。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1qcuHjBEJaoYI-_Vel0SlCTr4MXrlO3Ta%2Fcasestudies-rally-alerts-mobile.png\" alt=\"橫幅 - 手機\" title=\"橫幅 - 手機\"></p>\n<p>在桌機上的橫幅則是自己一個直欄位專門呈現。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1aEZcxrXD6L__739kup3Zzi5x73UFoIiz%2Fcasestudies-rally-alerts-desktop.png\" alt=\"橫幅 - 桌機\" title=\"橫幅 - 桌機\"></p>\n<p>重要訊息出現提示 bar 或對話框。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1UGbGapFacfgXBv5ijUiAjwNBKmw2v9yh%2Fcasestudies-rally-dialogs-mobile.png\" alt=\"對話框\" title=\"對話框\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ccB2eglPzvAai1YC4QgkxgYlFErDtJFs%2Fcasestudies-rally-snackbar.png\" alt=\"提示 bar\" title=\"提示 bar\"></p>\n<blockquote>\n<p>心得：沒有將這三個元件一起混用的經驗，頂多用其中的兩個而已，所以他這樣從訊息的重要性來區分用哪種元件的方式很值得參考。</p>\n</blockquote>\n<h1 id=\"交互動作\"><a href=\"#交互動作\" class=\"headerlink\" title=\"交互動作\"></a>交互動作</h1><p>Rally 在登入頁面顯示動畫 logo 增加 APP 的印象。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SdTGjLEmVjxVQfQHUxjrbWEO9GEnbHab%2F01-rally-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當用戶點開一個帳戶時，畫面會使用從內到外漸變展開的子頁面。點選返回後，則會從外到內漸變縮合回上一頁。加強使用者對深度的感知。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SjV2Eky-4d80UhOL4dm9k-EhG-r8IDm2%2F02-rally-parentchild.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>點選頁籤則是使用左右滑動的漸變動畫。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SkeVD6imJA_MwjipNR-DbNh1xw4au9yy%2F02-rally-tabs.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當引入新頁面元素時會使用上方的進度條作為導引。使用時間差的轉圈動畫來凸顯圓餅圖。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SmqucW2ugbXboWf8SSjVngVtm63_VLxf%2F03-rally-sequencing.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>對話框使用彈跳的方式，以傳達訊息的急迫感。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SrDQ1yFyIyFYWewhvEIIBZ9Mm0S-6G2z%2F04-rally-overshoot.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於父子頁面漸變展開的動畫提升深度感知這點很認同，但在實作上還沒有真正的實行過，可以思考或和其他程式開發者討論實際在 web 或 app 撰寫時的執行難度。</p>\n</blockquote>\n<p>總結：讀完這篇研究後，對於 Material Design 在系統設計上的應用來說，我覺得是很實用的，畢竟要做系統通常都是要大量顯示資訊，如何有條理讓使用者理解顯示資訊變得很重要。這篇在配色和交互動作的部分是很值得參考的案例。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/rally.html\">Material Studies - Rally</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>Material Guildline 應該很多設計師都閱讀過 N 遍了，但要設計時如何在框架下做到客制這件事應該還是很疑惑。官網上提出了幾個業界的實例分享，這點讓我很有興趣，所以接下來我會一一對這些案例做介紹。因為我上班做的案子比較多是系統類的設計，所以我第一個想介紹比較類似的是 Rally 這個案例。下面內容會一邊介紹，一邊穿插自己在職場上的一些心得或想法。</p>","more":"<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Rally 是一個管理財務的 APP，它會追蹤使用者的花費習慣並產生預測和適當的警示通知。Rally 是設計來呈現大量且密集的資訊，讓使用者可管理和研究資料模式。</p>\n<h3 id=\"數據性導向之美-Data-driven-aesthetic\"><a href=\"#數據性導向之美-Data-driven-aesthetic\" class=\"headerlink\" title=\"數據性導向之美 (Data-driven aesthetic)\"></a>數據性導向之美 (Data-driven aesthetic)</h3><p>UI 採用暗灰色提高質感，並用亮色系凸顯資料。在資料與背景顏色高對比之下，讓使用者更容易閱讀 APP 內的圖表。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F16CNi69TWdOluvYdoeNwd5QK4P5nkE48-%2Fcasestudies-rally-brandattributes.png\" alt=\"Rally UI\" title=\"Rally UI\"></p>\n<p>UI 設計專注在查看、研究和了解資料。圖表呈現在儀表板上，讓使用者查看花費摘要和單一交易的細節。此 UI 設計透過排版、顏色和形狀的凸顯，讓畫面是密集且直覺的。</p>\n<blockquote>\n<p>心得：蠻喜歡這樣的暗色背景搭亮色的配色，但因目前公司的一般使用者還是比較習慣白色背景的配色模式，所以暗色背景的搭配在考慮時間和緊急度下，我自己是只敢用在自己小組內部用的專案上，比較沒有時間上的壓力。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Rally 架構是層級式的，讓使用者透過不同分類查看他們的財務。</p>\n<p>內容根據個人財務區分不同的 sections，像是帳戶、預算、帳單。首頁著重在讓使用者前往這些 sections 的導向。</p>\n<h3 id=\"導覽列\"><a href=\"#導覽列\" class=\"headerlink\" title=\"導覽列\"></a>導覽列</h3><p>因為 Rally 專注在呈現和描述不同面向的財務資訊，所以如何讓使用者能輕易的在這些sections 移動是很重要的。Rally 有一個固定位置的導覽列讓使用者能方便的切換 sections。在桌機和平板，Rally 使用的是直列式的導覽列。在手機，則是用橫向標籤的方式。這項的導航模式很理想，雖然它們總是在屏幕上，但佔用的空間非常小。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PIJeS6GJLIExYX9mWOmb7UzWB0-Nl5VB%2Fcasestudies-family-rally.png\" alt=\"Rally 導覽列\" title=\"Rally 導覽列\"></p>\n<p>在直列式的導覽列中，每個目的地會用一個獨特的 icon 呈現。當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 下方。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qsgxAELdMrSDPRKV-l-N_2dW5fYeljj%2Fcasestudies-rally-rail.png\" alt=\"直列式的導覽列\" title=\"直列式的導覽列\"></p>\n<p>在橫向標籤導覽中，當 section 被點選的時候，icon 就會變亮且標題會出現在 icon 右方，其他 icon 將會適當的移動位置。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dHfpA4R1RVHn5zRSxInMllujv_C7pxv7%2Fcasestudies-rally-tabs.png\" alt=\"橫向標籤導覽\" title=\"橫向標籤導覽\"></p>\n<blockquote>\n<p>心得：這邊如果導覽項目數目很少，這樣設計ok。但要注意往後的擴充性，若是 section 的數目增加是否要增加 sub section，手機上方 tab 的空間是否會不夠呈現，這些都是可能會碰到的問題。</p>\n</blockquote>\n<h1 id=\"排版\"><a href=\"#排版\" class=\"headerlink\" title=\"排版\"></a>排版</h1><p>Rally 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1lAQUZTvSoen3matP1gpDJqVpKnZpARy6%2Fcasestudies-rally-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"視覺層級\"><a href=\"#視覺層級\" class=\"headerlink\" title=\"視覺層級\"></a>視覺層級</h3><p>Rally 使用色彩或紗幕來區分視覺上的層級。</p>\n<p>舉例：當使用者滑動下方資料的時候，為確保統計圖固定在上方，使用不同的色彩來區分視覺層級。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dq6I1nDovqvUydVHH5jTeI9VA6ftfz7H%2Frally-flow1-170808-casestudies-rally-elevation-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>舉例：當有 popup 出現時，背景使用紗幕霧化背景。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1eBiwYfz1_8oSLrlWN_9uNjA_TGVqRBS2%2Fcasestudies-rally-elevation-scrim.png\" alt=\"霧化背景\" title=\"霧化背景\"></p>\n<blockquote>\n<p>心得：用色彩和霧化效果來做層級區分我覺得還蠻實用且能提升質感。但在霧化背景的方式，需要考量到開發者是否能配合。若還有捨棄不了 IE 瀏覽器的公司，則會因為裝置的限制而必須要有第二方案來替代霧化的方式，比如說改用暗色且透明度低的樣式。</p>\n</blockquote>\n<h1 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h1><p>有時候需要顯示多個圖表在一個螢幕上，且每個圖表包含多個 sections。為了能足夠表達狀態， Rally 的配色採用 1 個主色調加上 5 個配色。這個設計讓系統呈現可讀性高且獨特的信息圖表。</p>\n<p>當三個圖表出現在同一個螢幕上，每個圖表使用其中的兩個顏色。</p>\n<ol>\n<li>Primary Green and Dark Green.</li>\n<li>Orange and Yellow.</li>\n<li>Purple and Blue.</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1TnwFyAe31SQDfL21qM9hZ1dcGQVRyB23%2Fcasestudies-rally-color-75percentzoom.png\" alt=\"配色\" title=\"配色\"></p>\n<h3 id=\"顏色主題\"><a href=\"#顏色主題\" class=\"headerlink\" title=\"顏色主題\"></a>顏色主題</h3><p>除了 6 色以外， Rally 還有一個針對這 6 個顏色延伸 10 色版的調色盤。如下圖。</p>\n<ul>\n<li>圓圈形狀代表在此 APP 中有用到的色版</li>\n<li>“P” 代表主色調</li>\n<li>其他沒有文字的圓圈則是配色</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F17gZmwIGdzlDr-Hl2jTu2SSgc_ATBGaPt%2Fcasestudies-rally-color-palettes.png\" alt=\"顏色主題\" title=\"顏色主題\"></p>\n<blockquote>\n<p>心得：我還沒用過那麼多的配色設計過，因為顏色越多，需要考量的點會更複雜，可能需要找時間嘗試看看。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Rally 用兩種字體：Eczar 和 Roboto Condensed。</p>\n<ol>\n<li>Roboto Condensed：介面預設字體，適合密集的佈局。</li>\n<li>Eczar：只用在首要標題和純數字清單，適合呈現數據。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1t7i8LPPdmRkpdLV4u-p0oHvlhRTRbEb3%2Fcasestudies-rally-type.png\" alt=\"字體\" title=\"字體\"></p>\n<p>Rally 使用客製化的 icon 來呈現不同的 sections。</p>\n<ol>\n<li>所有圖示使用一樣的格線架構確保一致性。</li>\n<li>所有 Rally 圖示</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1zqz0w6AEK_D9Kxb8ntWTb8lXJHkGjakk%2Fcasestudies-rally-icons.png\" alt=\"圖示\" title=\"圖示\"></p>\n<blockquote>\n<p>心得：在數據表達的部分使用另一種字體這是一個不錯的點子，可以凸顯出數據的呈現，會想要嘗試看看。圖示的部分，在統一格線架構下設計很合理，但在一般專案時間不足的狀況下，通常我會直接使用 Material Icons ，省去設計圖示這塊。</p>\n</blockquote>\n<h1 id=\"形狀\"><a href=\"#形狀\" class=\"headerlink\" title=\"形狀\"></a>形狀</h1><p>元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：</p>\n<ol>\n<li>小元件 (S)：文字輸入區塊(Filled text fields)。</li>\n<li>中元件 (M)：卡片(Cards)。</li>\n<li>大元件 (L)：數據表格(Data Tables)。</li>\n</ol>\n<p>元件都是 0 圓角。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1RpTrPB3UprQBcFfZh6ZnI4xNtUEyThIQ%2Frally-shape.png\" alt=\"形狀分類\" title=\"形狀分類\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuOHmVEu0rKr8Bfes708nHM9osOWiHIm%2Frally-shape-b.png\" alt=\"形狀元件\" title=\"形狀元件\"></p>\n<h1 id=\"元件\"><a href=\"#元件\" class=\"headerlink\" title=\"元件\"></a>元件</h1><h3 id=\"卡片和清單\"><a href=\"#卡片和清單\" class=\"headerlink\" title=\"卡片和清單\"></a>卡片和清單</h3><p>在 overview 頁面使用卡片去呈現多個財務摘要，像是 Accounts 和 Bills。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1gDGHc1gTW-FsOvmmXjZ6i5UF_U9CS0Ga%2Fcasestudies-rally-cards-1.png\" alt=\"卡片\" title=\"卡片\"></p>\n<p>當點選 Accounts，摘要資訊卡片會展開顯示更多細節在清單中。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F128elUbInT1Me7Ra3gJGsndRDRq6JbAcn%2Fcasestudies-rally-list.png\" alt=\"清單\" title=\"清單\"></p>\n<h3 id=\"橫幅、提示bar和對話框\"><a href=\"#橫幅、提示bar和對話框\" class=\"headerlink\" title=\"橫幅、提示bar和對話框\"></a>橫幅、提示bar和對話框</h3><ul>\n<li>橫幅(Banners)：比較不那麼重要的訊息選擇用橫幅的方式呈現，通常會搭配圖示。</li>\n<li>提示 bar 和對話框(Snackbars and dialogs)：重要的訊息則是用提示 bar 和對話框呈現，並不會包含圖示。</li>\n</ul>\n<p>在平板上的橫幅呈現在導覽列旁。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1X3ShTSv1KbUgazHtrp7wzXApy36TH1na%2Fcasestudies-rally-alerts-tablet.png\" alt=\"橫幅 - 平板\" title=\"橫幅 - 平板\"></p>\n<p>在手機上的橫幅呈現在最上方。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1qcuHjBEJaoYI-_Vel0SlCTr4MXrlO3Ta%2Fcasestudies-rally-alerts-mobile.png\" alt=\"橫幅 - 手機\" title=\"橫幅 - 手機\"></p>\n<p>在桌機上的橫幅則是自己一個直欄位專門呈現。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1aEZcxrXD6L__739kup3Zzi5x73UFoIiz%2Fcasestudies-rally-alerts-desktop.png\" alt=\"橫幅 - 桌機\" title=\"橫幅 - 桌機\"></p>\n<p>重要訊息出現提示 bar 或對話框。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1UGbGapFacfgXBv5ijUiAjwNBKmw2v9yh%2Fcasestudies-rally-dialogs-mobile.png\" alt=\"對話框\" title=\"對話框\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ccB2eglPzvAai1YC4QgkxgYlFErDtJFs%2Fcasestudies-rally-snackbar.png\" alt=\"提示 bar\" title=\"提示 bar\"></p>\n<blockquote>\n<p>心得：沒有將這三個元件一起混用的經驗，頂多用其中的兩個而已，所以他這樣從訊息的重要性來區分用哪種元件的方式很值得參考。</p>\n</blockquote>\n<h1 id=\"交互動作\"><a href=\"#交互動作\" class=\"headerlink\" title=\"交互動作\"></a>交互動作</h1><p>Rally 在登入頁面顯示動畫 logo 增加 APP 的印象。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SdTGjLEmVjxVQfQHUxjrbWEO9GEnbHab%2F01-rally-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當用戶點開一個帳戶時，畫面會使用從內到外漸變展開的子頁面。點選返回後，則會從外到內漸變縮合回上一頁。加強使用者對深度的感知。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SjV2Eky-4d80UhOL4dm9k-EhG-r8IDm2%2F02-rally-parentchild.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>點選頁籤則是使用左右滑動的漸變動畫。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SkeVD6imJA_MwjipNR-DbNh1xw4au9yy%2F02-rally-tabs.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當引入新頁面元素時會使用上方的進度條作為導引。使用時間差的轉圈動畫來凸顯圓餅圖。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SmqucW2ugbXboWf8SSjVngVtm63_VLxf%2F03-rally-sequencing.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>對話框使用彈跳的方式，以傳達訊息的急迫感。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SrDQ1yFyIyFYWewhvEIIBZ9Mm0S-6G2z%2F04-rally-overshoot.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於父子頁面漸變展開的動畫提升深度感知這點很認同，但在實作上還沒有真正的實行過，可以思考或和其他程式開發者討論實際在 web 或 app 撰寫時的執行難度。</p>\n</blockquote>\n<p>總結：讀完這篇研究後，對於 Material Design 在系統設計上的應用來說，我覺得是很實用的，畢竟要做系統通常都是要大量顯示資訊，如何有條理讓使用者理解顯示資訊變得很重要。這篇在配色和交互動作的部分是很值得參考的案例。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/rally.html\">Material Studies - Rally</a></li>\n</ul>"},{"title":"Google Material Studies - Reply","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SQ4QjhRgR9OjvjBR80HVXxxMOSg9U7Zs%2Fcasestudies-reply-brandattributes.png","coverMeta":"out","date":"2019-04-30T16:00:00.000Z","updated":"2019-04-30T16:00:00.000Z","_content":"\n上次介紹的 Rally 是關於統計分析型的系統，這次要來看的是偏向應用型的系統 Reply。\n\n<!--more-->\n\n# 案例背景\n\nReply 是一款幫助個人和群組溝通的 APP，其設計理念為提供清晰、易讀、直觀和易用的應用程式。\n\n### 功能性導向之美 (Functional aesthetic)\n\nReply 的品牌精神強調溝通的重要性。因此，設計著重於功能品質，放置許多易用性元素。\n\nReply 的品牌時常伴隨著用戶的操作動作，例如從品牌的 logo 點擊展開導覽列。\n\n> 心得：這種會讓使用者頻繁編輯操作的 APP 也常常出現在公司內部，例如報價單、簽核表單等等的應用程式，所以在許多使用者操作行為下，如何清楚的呈現資訊和導引使用者動作變得非常重要。\n\n# 產品架構\n\nReply 使用類似於其他電子郵件應用程序的產品結構：包含新郵件和存檔郵件的收件箱，以及圍繞在組織和執行與這些郵件相關操作的 UI 。郵件可以加上星星標示、發送、刪除、標記為垃圾郵件，或以使用者自定義方式來整理郵件。\n\n### 專注在使用者任務\n\n由於使用者任務主要涉及內容生產和處理，因此螢幕空間專注於內容呈現而非其他 UI 元素。為確保內容和導航列都有足夠的空間，Reply 會針對桌機、平板、手機裝置使用不同的導航模式。\n\n![Reply 導覽模式](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XRLqbRWX43Sm4h1u8y04J4O7SKLY1ASs%2Fcasestudies-reply-family.png \"Reply 導覽模式\")\n\n### 抽屜式導覽列\n\n在桌機，Reply 使用標準的抽屜式導覽列。導覽列同時使用 icon 和文字。最上方包含設置、切換帳號和有搭配箭頭的 logo 拿來縮合導覽列。點擊搭配箭頭的 logo，將會縮合成軌道式導覽列。\n\n![Reply 桌機導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1odXyicfqCiZ-NfE4Oi8iNP4wO-rmEZZ9%2Fcasestudies-reply-productarch.png \"Reply 桌機導覽列\")\n\n### 底部 bar 導覽列\n\n在手機，Reply 使用底部 bar 導覽列。點擊左下角的 Reply icon ，他會從底部展開顯示抽屜式導航列，其中包含設定、切換帳戶頭像等動作。再次點擊 Reply icon 時，導航會關閉，導航列會關閉並返回底部預設的 bar 狀態。\n\n![Reply 手機導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1OVQU4zWktolBn0pEaT9fu_5xCxGsXzm9%2Fcasestudies-reply-bottomsheet.png \"Reply 手機導覽列\")\n\n### 軌道式導覽列\n\n透過點擊 Reply logo，軌道式導覽列可以展開變成抽屜式導覽列。Logo 旁邊的箭頭表明 Reply logo 是可交互的。\n\n軌道式導覽列非常適合在平板電腦上使用，因為它可以顯示大量的目的地，且佔用很小的空間。當軌道式導覽列被展開時會顯示使用者創建的資料夾，讓用戶讀取資料夾的標題文字。\n\n當收合時，軌道式導覽列不顯示使用者創建的資料夾。因為這些自創的資料夾都使用同個 icon，他們無法用單一 icon 做區別。\n\n![Reply 平板導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1tr41eJcVoKTnE7rq9vDBpaWUlVLdTlPa%2Fcasestudies-reply-railnav.png \"Reply 平板導覽列\")\n\n> 心得：手機底部的導覽列是我沒嘗試過的設計，因為工作上比較常做 Web 的應用，所以通常會使用上方 bar。但這樣使用下方 bar ，可以讓內容集中在上方，對於大量內容的呈現是很好的選擇。\n\n# 排版\n\nReply 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuRM4KXNObz38eqqiQsqUusTWe_iua8E%2Fcasestudies-reply-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 視覺層級\n\nReply 使用顏色來區分不同的元件。例如，卡片容器是可見的，因為卡片具有白色表面顏色，而應用程式的背景是灰色的。\n\n由於 Reply 有時候會顯示密集的內容，因此將陰影移除會降低視覺的複雜性。並將項目的間距拉小，從而為內容流出更多的空間。\n\n![視覺層級](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1EmDZJ6SLz0CwwbxPiaYXqkTDbt2n_FKI%2Fcasestudies-reply-elevation.png \"視覺層級\")\n\n> 心得：利用小間距和去除陰影來顯示密集的內容，這點我在工作上也常常用到，最近剛做產線人員掃條碼顯示 64 條資料要同時呈現在一個畫面上，光是設計就佔了很重要的角色，畢竟在寫程式之前可以先有個底，才不用花費大量時間在調整版面上。\n\n# 顏色\n\nReply 的顏色主題使用一個主色調(深藍灰色)和一個輔助色(橘色)。\n\n由於輔助色很少用到，因此 Reply 的 UI 通常是單色的，主要使用主色調的深淺變化。這種微妙的顏色主題可以輕鬆閱讀內容而不會分心，並且可以輕鬆看到頭像。\n\n每當使用輔助色的時候，視覺上都會產生明顯的影響。\n\n![顏色主題](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XUGSUZeLYqhH--JBBHWLkRnJzVmX13oR%2Fcasestudies-reply-color.png \"顏色主題\")\n\n> 心得：這種配色是我平常常用的方式，因為顏色少的話在配色方面比較不容易混亂，相較於上一篇介紹 [Rally](../../../../../2019/04/05/UXUI/Google-Material-Studies-Rally/) 的 6 色，Reply 就是保守派。\n\n# 文字與圖示\n\nReply 使用 Work Sans 作為字體。不同比例的 Work Sans 提供了 Reply 內容所需的種類。透過使用六種不同的權重來呈現內容：Light，Regular，Medium，SemiBold和Bold。\n\n![字體](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WzYaZo4FsrHq8dgXw-hQ0OViJ56dRDNM%2Freplytypescale.png \"字體\")\n\nReply 的 icon 具有細微的風格，表達品牌也同時專注於 icon 識別與功能。\n\n1. 所有圖示使用一樣的格線架構確保一致性。\n2. 所有 Reply 圖示\n\n![圖示](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J1sfDmQOyuvwfqAID1GY5d9bO66G5wVm%2Fcasestudies-reply-icons-alt.png \"圖示\")\n\n# 形狀\n\n元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：\n\n1. 小元件 (S)：延伸的 FAB (floating action button)。圓角 50%。\n2. 中元件 (M)：卡片 (Cards)。圓角 0。\n3. 大元件 (L)：底部清單 (Bottom sheets)。圓角 12dp 12dp 0 0。\n\n![形狀分類](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Zv545CazM0c_SvUuZqnUg6hE7Dv-S3m0%2Freply-shape.png \"形狀分類\")\n\n![形狀元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J8hIuMxjeCb-xIkot0krL8abdBIIIqfw%2Freply-shape-b.png \"形狀元件\")\n\n# 元件\n\n### 浮動動作按鈕 (Floating action button)\n\n在手機上， Reply 在底部嵌入自定義的 FAB (Floating action button)。\n\n![手機自定義的 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1GhRm29BQNQHyLVPO0q_JdgYN4G82YjUS%2Fcasestudies-reply-nestedfab.png \"手機自定義的 FAB\")\n\n在桌機上， Reply 使用自定義的 FAB 延伸，和抽屜式導覽做搭配。\n\n![桌機自定義的 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1wNWnttN_BLCzr5bi2w-8VDEbCTV8sh66%2Fcasestudies-reply-extendedfab.png \"桌機自定義的 FAB\")\n\n### 底部 bar, 底部清單\n\n在手機，Reply 使用客制的底部 bar 和動作按鈕。\n\n1. 預設的底部 bar\n2. Reply 的底部 bar 使用客制的 icon, 顏色和形狀。Reply logo 做為選單功能 icon 被包含在元件中。客制形狀的底部 bar 包含浮動動作按鈕。\n\n![底部 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1jTk6oF1ib0k1wIhXnjTLn0kgEZxNznl5%2Fcasestudies-reply-bottombar-compare.png \"底部 bar\")\n\n在手機，底部 bar 是切換導覽和進行動作的主要方式。\n當使用者選取多個進行動作時，底部 bar 會變成內文動作 bar。\n\n![內文動作 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-17T_B8F7nlrJc9pJ6opEdFG-cuccmZ%2Fcasestudies-reply-contextualactionbar.png \"內文動作 bar\")\n\n當使用者滑動頁面的時候，底部 bar 會從螢幕消失，只剩下 FAB 按鈕。\n\n![滑動頁面剩下 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1I1RcG9mNZYJgCPZu9u_wsYBaiHxNIJ8Q%2Fcasestudies-reply-floatingfab.png \"滑動頁面剩下 FAB\")\n\n### 卡片\n\nReply 將郵件呈現在客制的方角卡片上。每張卡片的間距非常小，因為顏色代表每張卡片的邊界(沒有使用任何陰影)。小間距讓更多內容可以呈現在螢幕上。\n\n當卡片往右邊滑時，會出現對郵件標示星號的動作按鈕。\n\n![卡片往右滑](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1FJEijR5c1uTkUcHsUUU0GHLuupehX39-%2Fcasestudies-reply-cards-1.png \"卡片往右滑\")\n\n當卡片往左邊滑時，會出現對郵件刪除的動作按鈕。\n\n![卡片往左滑](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WZlOkz0ZWCN4BhIWrvM7H4NsvlNxt5OI%2Fcasestudies-reply-cards-2.png \"卡片往左滑\")\n\n### 小標籤 (Chips)\n\nReply 的小標籤 (Chips) 使用客制的文字、顏色和圖像大小。在視覺上和品牌相吻合。\n\n![小標籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bQe04HeiZ4CLLKEVXGs_B-yYd4mc_Ztx%2Fcasestudies-reply-chips-alt.png \"小標籤\")\n\n> 心得：此專案對許多 material components 做客製化的樣式修改，礙於工作要同時做設計和開發的時間限制下，我比較沒有對這方面下過功夫，或許下次我可以從微調一些元件樣式來增加對品牌的塑造。\n\n# 交互動作\n\nReply logo 的動畫其描繪靈感來自捲曲紙張路徑。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1CmJcj6oa4Qwo_i8KkNaruAtMOCNnnpfw%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\nReply 使用較短的動畫時間來加強動作效率。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MfIr9GSQ4iAfUNoAtKIUKX0lP6Kxt8kC%2F02-reply-navtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n插圖動畫在用戶使用的關鍵點出現，例如完成收件夾中每個項目的存檔後，觸發了一個慶祝動畫。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SapnI_EXJwjkvMb87hWWakpTMLIKoxiQ%2F03-reply-inboxzero.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當使用者將頁面往下拉重新整理時， Reply 的 logo 動畫會出現在上方。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F120IhHIDr-BHTPrTmFnXpEHfsOJEdVsg8%2F04-reply-pulltorefresh.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：logo 動畫二次使用在 Refresh 頁面上，我覺得這點非常不錯，除了讓畫面生動起來也可以節省設計時間。\n\n總結：Reply 讓我學到更多對 material component 做更細微設計的靈感，希望之後有機會多做一點有趣的元件設計提升品牌形象。\n\n## 參考資料\n\n* [Material Studies - Reply](https://material.io/design/material-studies/reply.html)","source":"_posts/UXUI/Google-Material-Studies-Reply.md","raw":"---\ntitle: Google Material Studies - Reply\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SQ4QjhRgR9OjvjBR80HVXxxMOSg9U7Zs%2Fcasestudies-reply-brandattributes.png\ncoverMeta: out\ntags: [UX, UI, Material Design]\ndate: 2019/05/01\nupdated: 2019/05/01\n---\n\n上次介紹的 Rally 是關於統計分析型的系統，這次要來看的是偏向應用型的系統 Reply。\n\n<!--more-->\n\n# 案例背景\n\nReply 是一款幫助個人和群組溝通的 APP，其設計理念為提供清晰、易讀、直觀和易用的應用程式。\n\n### 功能性導向之美 (Functional aesthetic)\n\nReply 的品牌精神強調溝通的重要性。因此，設計著重於功能品質，放置許多易用性元素。\n\nReply 的品牌時常伴隨著用戶的操作動作，例如從品牌的 logo 點擊展開導覽列。\n\n> 心得：這種會讓使用者頻繁編輯操作的 APP 也常常出現在公司內部，例如報價單、簽核表單等等的應用程式，所以在許多使用者操作行為下，如何清楚的呈現資訊和導引使用者動作變得非常重要。\n\n# 產品架構\n\nReply 使用類似於其他電子郵件應用程序的產品結構：包含新郵件和存檔郵件的收件箱，以及圍繞在組織和執行與這些郵件相關操作的 UI 。郵件可以加上星星標示、發送、刪除、標記為垃圾郵件，或以使用者自定義方式來整理郵件。\n\n### 專注在使用者任務\n\n由於使用者任務主要涉及內容生產和處理，因此螢幕空間專注於內容呈現而非其他 UI 元素。為確保內容和導航列都有足夠的空間，Reply 會針對桌機、平板、手機裝置使用不同的導航模式。\n\n![Reply 導覽模式](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XRLqbRWX43Sm4h1u8y04J4O7SKLY1ASs%2Fcasestudies-reply-family.png \"Reply 導覽模式\")\n\n### 抽屜式導覽列\n\n在桌機，Reply 使用標準的抽屜式導覽列。導覽列同時使用 icon 和文字。最上方包含設置、切換帳號和有搭配箭頭的 logo 拿來縮合導覽列。點擊搭配箭頭的 logo，將會縮合成軌道式導覽列。\n\n![Reply 桌機導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1odXyicfqCiZ-NfE4Oi8iNP4wO-rmEZZ9%2Fcasestudies-reply-productarch.png \"Reply 桌機導覽列\")\n\n### 底部 bar 導覽列\n\n在手機，Reply 使用底部 bar 導覽列。點擊左下角的 Reply icon ，他會從底部展開顯示抽屜式導航列，其中包含設定、切換帳戶頭像等動作。再次點擊 Reply icon 時，導航會關閉，導航列會關閉並返回底部預設的 bar 狀態。\n\n![Reply 手機導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1OVQU4zWktolBn0pEaT9fu_5xCxGsXzm9%2Fcasestudies-reply-bottomsheet.png \"Reply 手機導覽列\")\n\n### 軌道式導覽列\n\n透過點擊 Reply logo，軌道式導覽列可以展開變成抽屜式導覽列。Logo 旁邊的箭頭表明 Reply logo 是可交互的。\n\n軌道式導覽列非常適合在平板電腦上使用，因為它可以顯示大量的目的地，且佔用很小的空間。當軌道式導覽列被展開時會顯示使用者創建的資料夾，讓用戶讀取資料夾的標題文字。\n\n當收合時，軌道式導覽列不顯示使用者創建的資料夾。因為這些自創的資料夾都使用同個 icon，他們無法用單一 icon 做區別。\n\n![Reply 平板導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1tr41eJcVoKTnE7rq9vDBpaWUlVLdTlPa%2Fcasestudies-reply-railnav.png \"Reply 平板導覽列\")\n\n> 心得：手機底部的導覽列是我沒嘗試過的設計，因為工作上比較常做 Web 的應用，所以通常會使用上方 bar。但這樣使用下方 bar ，可以讓內容集中在上方，對於大量內容的呈現是很好的選擇。\n\n# 排版\n\nReply 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuRM4KXNObz38eqqiQsqUusTWe_iua8E%2Fcasestudies-reply-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 視覺層級\n\nReply 使用顏色來區分不同的元件。例如，卡片容器是可見的，因為卡片具有白色表面顏色，而應用程式的背景是灰色的。\n\n由於 Reply 有時候會顯示密集的內容，因此將陰影移除會降低視覺的複雜性。並將項目的間距拉小，從而為內容流出更多的空間。\n\n![視覺層級](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1EmDZJ6SLz0CwwbxPiaYXqkTDbt2n_FKI%2Fcasestudies-reply-elevation.png \"視覺層級\")\n\n> 心得：利用小間距和去除陰影來顯示密集的內容，這點我在工作上也常常用到，最近剛做產線人員掃條碼顯示 64 條資料要同時呈現在一個畫面上，光是設計就佔了很重要的角色，畢竟在寫程式之前可以先有個底，才不用花費大量時間在調整版面上。\n\n# 顏色\n\nReply 的顏色主題使用一個主色調(深藍灰色)和一個輔助色(橘色)。\n\n由於輔助色很少用到，因此 Reply 的 UI 通常是單色的，主要使用主色調的深淺變化。這種微妙的顏色主題可以輕鬆閱讀內容而不會分心，並且可以輕鬆看到頭像。\n\n每當使用輔助色的時候，視覺上都會產生明顯的影響。\n\n![顏色主題](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XUGSUZeLYqhH--JBBHWLkRnJzVmX13oR%2Fcasestudies-reply-color.png \"顏色主題\")\n\n> 心得：這種配色是我平常常用的方式，因為顏色少的話在配色方面比較不容易混亂，相較於上一篇介紹 [Rally](../../../../../2019/04/05/UXUI/Google-Material-Studies-Rally/) 的 6 色，Reply 就是保守派。\n\n# 文字與圖示\n\nReply 使用 Work Sans 作為字體。不同比例的 Work Sans 提供了 Reply 內容所需的種類。透過使用六種不同的權重來呈現內容：Light，Regular，Medium，SemiBold和Bold。\n\n![字體](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WzYaZo4FsrHq8dgXw-hQ0OViJ56dRDNM%2Freplytypescale.png \"字體\")\n\nReply 的 icon 具有細微的風格，表達品牌也同時專注於 icon 識別與功能。\n\n1. 所有圖示使用一樣的格線架構確保一致性。\n2. 所有 Reply 圖示\n\n![圖示](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J1sfDmQOyuvwfqAID1GY5d9bO66G5wVm%2Fcasestudies-reply-icons-alt.png \"圖示\")\n\n# 形狀\n\n元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：\n\n1. 小元件 (S)：延伸的 FAB (floating action button)。圓角 50%。\n2. 中元件 (M)：卡片 (Cards)。圓角 0。\n3. 大元件 (L)：底部清單 (Bottom sheets)。圓角 12dp 12dp 0 0。\n\n![形狀分類](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Zv545CazM0c_SvUuZqnUg6hE7Dv-S3m0%2Freply-shape.png \"形狀分類\")\n\n![形狀元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J8hIuMxjeCb-xIkot0krL8abdBIIIqfw%2Freply-shape-b.png \"形狀元件\")\n\n# 元件\n\n### 浮動動作按鈕 (Floating action button)\n\n在手機上， Reply 在底部嵌入自定義的 FAB (Floating action button)。\n\n![手機自定義的 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1GhRm29BQNQHyLVPO0q_JdgYN4G82YjUS%2Fcasestudies-reply-nestedfab.png \"手機自定義的 FAB\")\n\n在桌機上， Reply 使用自定義的 FAB 延伸，和抽屜式導覽做搭配。\n\n![桌機自定義的 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1wNWnttN_BLCzr5bi2w-8VDEbCTV8sh66%2Fcasestudies-reply-extendedfab.png \"桌機自定義的 FAB\")\n\n### 底部 bar, 底部清單\n\n在手機，Reply 使用客制的底部 bar 和動作按鈕。\n\n1. 預設的底部 bar\n2. Reply 的底部 bar 使用客制的 icon, 顏色和形狀。Reply logo 做為選單功能 icon 被包含在元件中。客制形狀的底部 bar 包含浮動動作按鈕。\n\n![底部 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1jTk6oF1ib0k1wIhXnjTLn0kgEZxNznl5%2Fcasestudies-reply-bottombar-compare.png \"底部 bar\")\n\n在手機，底部 bar 是切換導覽和進行動作的主要方式。\n當使用者選取多個進行動作時，底部 bar 會變成內文動作 bar。\n\n![內文動作 bar](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-17T_B8F7nlrJc9pJ6opEdFG-cuccmZ%2Fcasestudies-reply-contextualactionbar.png \"內文動作 bar\")\n\n當使用者滑動頁面的時候，底部 bar 會從螢幕消失，只剩下 FAB 按鈕。\n\n![滑動頁面剩下 FAB](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1I1RcG9mNZYJgCPZu9u_wsYBaiHxNIJ8Q%2Fcasestudies-reply-floatingfab.png \"滑動頁面剩下 FAB\")\n\n### 卡片\n\nReply 將郵件呈現在客制的方角卡片上。每張卡片的間距非常小，因為顏色代表每張卡片的邊界(沒有使用任何陰影)。小間距讓更多內容可以呈現在螢幕上。\n\n當卡片往右邊滑時，會出現對郵件標示星號的動作按鈕。\n\n![卡片往右滑](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1FJEijR5c1uTkUcHsUUU0GHLuupehX39-%2Fcasestudies-reply-cards-1.png \"卡片往右滑\")\n\n當卡片往左邊滑時，會出現對郵件刪除的動作按鈕。\n\n![卡片往左滑](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WZlOkz0ZWCN4BhIWrvM7H4NsvlNxt5OI%2Fcasestudies-reply-cards-2.png \"卡片往左滑\")\n\n### 小標籤 (Chips)\n\nReply 的小標籤 (Chips) 使用客制的文字、顏色和圖像大小。在視覺上和品牌相吻合。\n\n![小標籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bQe04HeiZ4CLLKEVXGs_B-yYd4mc_Ztx%2Fcasestudies-reply-chips-alt.png \"小標籤\")\n\n> 心得：此專案對許多 material components 做客製化的樣式修改，礙於工作要同時做設計和開發的時間限制下，我比較沒有對這方面下過功夫，或許下次我可以從微調一些元件樣式來增加對品牌的塑造。\n\n# 交互動作\n\nReply logo 的動畫其描繪靈感來自捲曲紙張路徑。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1CmJcj6oa4Qwo_i8KkNaruAtMOCNnnpfw%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\nReply 使用較短的動畫時間來加強動作效率。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MfIr9GSQ4iAfUNoAtKIUKX0lP6Kxt8kC%2F02-reply-navtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n插圖動畫在用戶使用的關鍵點出現，例如完成收件夾中每個項目的存檔後，觸發了一個慶祝動畫。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SapnI_EXJwjkvMb87hWWakpTMLIKoxiQ%2F03-reply-inboxzero.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n當使用者將頁面往下拉重新整理時， Reply 的 logo 動畫會出現在上方。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F120IhHIDr-BHTPrTmFnXpEHfsOJEdVsg8%2F04-reply-pulltorefresh.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：logo 動畫二次使用在 Refresh 頁面上，我覺得這點非常不錯，除了讓畫面生動起來也可以節省設計時間。\n\n總結：Reply 讓我學到更多對 material component 做更細微設計的靈感，希望之後有機會多做一點有趣的元件設計提升品牌形象。\n\n## 參考資料\n\n* [Material Studies - Reply](https://material.io/design/material-studies/reply.html)","slug":"UXUI/Google-Material-Studies-Reply","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ri002yr3y752clg4er","content":"<p>上次介紹的 Rally 是關於統計分析型的系統，這次要來看的是偏向應用型的系統 Reply。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Reply 是一款幫助個人和群組溝通的 APP，其設計理念為提供清晰、易讀、直觀和易用的應用程式。</p>\n<h3 id=\"功能性導向之美-Functional-aesthetic\"><a href=\"#功能性導向之美-Functional-aesthetic\" class=\"headerlink\" title=\"功能性導向之美 (Functional aesthetic)\"></a>功能性導向之美 (Functional aesthetic)</h3><p>Reply 的品牌精神強調溝通的重要性。因此，設計著重於功能品質，放置許多易用性元素。</p>\n<p>Reply 的品牌時常伴隨著用戶的操作動作，例如從品牌的 logo 點擊展開導覽列。</p>\n<blockquote>\n<p>心得：這種會讓使用者頻繁編輯操作的 APP 也常常出現在公司內部，例如報價單、簽核表單等等的應用程式，所以在許多使用者操作行為下，如何清楚的呈現資訊和導引使用者動作變得非常重要。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Reply 使用類似於其他電子郵件應用程序的產品結構：包含新郵件和存檔郵件的收件箱，以及圍繞在組織和執行與這些郵件相關操作的 UI 。郵件可以加上星星標示、發送、刪除、標記為垃圾郵件，或以使用者自定義方式來整理郵件。</p>\n<h3 id=\"專注在使用者任務\"><a href=\"#專注在使用者任務\" class=\"headerlink\" title=\"專注在使用者任務\"></a>專注在使用者任務</h3><p>由於使用者任務主要涉及內容生產和處理，因此螢幕空間專注於內容呈現而非其他 UI 元素。為確保內容和導航列都有足夠的空間，Reply 會針對桌機、平板、手機裝置使用不同的導航模式。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XRLqbRWX43Sm4h1u8y04J4O7SKLY1ASs%2Fcasestudies-reply-family.png\" alt=\"Reply 導覽模式\" title=\"Reply 導覽模式\"></p>\n<h3 id=\"抽屜式導覽列\"><a href=\"#抽屜式導覽列\" class=\"headerlink\" title=\"抽屜式導覽列\"></a>抽屜式導覽列</h3><p>在桌機，Reply 使用標準的抽屜式導覽列。導覽列同時使用 icon 和文字。最上方包含設置、切換帳號和有搭配箭頭的 logo 拿來縮合導覽列。點擊搭配箭頭的 logo，將會縮合成軌道式導覽列。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1odXyicfqCiZ-NfE4Oi8iNP4wO-rmEZZ9%2Fcasestudies-reply-productarch.png\" alt=\"Reply 桌機導覽列\" title=\"Reply 桌機導覽列\"></p>\n<h3 id=\"底部-bar-導覽列\"><a href=\"#底部-bar-導覽列\" class=\"headerlink\" title=\"底部 bar 導覽列\"></a>底部 bar 導覽列</h3><p>在手機，Reply 使用底部 bar 導覽列。點擊左下角的 Reply icon ，他會從底部展開顯示抽屜式導航列，其中包含設定、切換帳戶頭像等動作。再次點擊 Reply icon 時，導航會關閉，導航列會關閉並返回底部預設的 bar 狀態。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1OVQU4zWktolBn0pEaT9fu_5xCxGsXzm9%2Fcasestudies-reply-bottomsheet.png\" alt=\"Reply 手機導覽列\" title=\"Reply 手機導覽列\"></p>\n<h3 id=\"軌道式導覽列\"><a href=\"#軌道式導覽列\" class=\"headerlink\" title=\"軌道式導覽列\"></a>軌道式導覽列</h3><p>透過點擊 Reply logo，軌道式導覽列可以展開變成抽屜式導覽列。Logo 旁邊的箭頭表明 Reply logo 是可交互的。</p>\n<p>軌道式導覽列非常適合在平板電腦上使用，因為它可以顯示大量的目的地，且佔用很小的空間。當軌道式導覽列被展開時會顯示使用者創建的資料夾，讓用戶讀取資料夾的標題文字。</p>\n<p>當收合時，軌道式導覽列不顯示使用者創建的資料夾。因為這些自創的資料夾都使用同個 icon，他們無法用單一 icon 做區別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1tr41eJcVoKTnE7rq9vDBpaWUlVLdTlPa%2Fcasestudies-reply-railnav.png\" alt=\"Reply 平板導覽列\" title=\"Reply 平板導覽列\"></p>\n<blockquote>\n<p>心得：手機底部的導覽列是我沒嘗試過的設計，因為工作上比較常做 Web 的應用，所以通常會使用上方 bar。但這樣使用下方 bar ，可以讓內容集中在上方，對於大量內容的呈現是很好的選擇。</p>\n</blockquote>\n<h1 id=\"排版\"><a href=\"#排版\" class=\"headerlink\" title=\"排版\"></a>排版</h1><p>Reply 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuRM4KXNObz38eqqiQsqUusTWe_iua8E%2Fcasestudies-reply-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"視覺層級\"><a href=\"#視覺層級\" class=\"headerlink\" title=\"視覺層級\"></a>視覺層級</h3><p>Reply 使用顏色來區分不同的元件。例如，卡片容器是可見的，因為卡片具有白色表面顏色，而應用程式的背景是灰色的。</p>\n<p>由於 Reply 有時候會顯示密集的內容，因此將陰影移除會降低視覺的複雜性。並將項目的間距拉小，從而為內容流出更多的空間。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1EmDZJ6SLz0CwwbxPiaYXqkTDbt2n_FKI%2Fcasestudies-reply-elevation.png\" alt=\"視覺層級\" title=\"視覺層級\"></p>\n<blockquote>\n<p>心得：利用小間距和去除陰影來顯示密集的內容，這點我在工作上也常常用到，最近剛做產線人員掃條碼顯示 64 條資料要同時呈現在一個畫面上，光是設計就佔了很重要的角色，畢竟在寫程式之前可以先有個底，才不用花費大量時間在調整版面上。</p>\n</blockquote>\n<h1 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h1><p>Reply 的顏色主題使用一個主色調(深藍灰色)和一個輔助色(橘色)。</p>\n<p>由於輔助色很少用到，因此 Reply 的 UI 通常是單色的，主要使用主色調的深淺變化。這種微妙的顏色主題可以輕鬆閱讀內容而不會分心，並且可以輕鬆看到頭像。</p>\n<p>每當使用輔助色的時候，視覺上都會產生明顯的影響。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XUGSUZeLYqhH--JBBHWLkRnJzVmX13oR%2Fcasestudies-reply-color.png\" alt=\"顏色主題\" title=\"顏色主題\"></p>\n<blockquote>\n<p>心得：這種配色是我平常常用的方式，因為顏色少的話在配色方面比較不容易混亂，相較於上一篇介紹 <a href=\"../../../../../2019/04/05/UXUI/Google-Material-Studies-Rally/\">Rally</a> 的 6 色，Reply 就是保守派。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Reply 使用 Work Sans 作為字體。不同比例的 Work Sans 提供了 Reply 內容所需的種類。透過使用六種不同的權重來呈現內容：Light，Regular，Medium，SemiBold和Bold。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WzYaZo4FsrHq8dgXw-hQ0OViJ56dRDNM%2Freplytypescale.png\" alt=\"字體\" title=\"字體\"></p>\n<p>Reply 的 icon 具有細微的風格，表達品牌也同時專注於 icon 識別與功能。</p>\n<ol>\n<li>所有圖示使用一樣的格線架構確保一致性。</li>\n<li>所有 Reply 圖示</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J1sfDmQOyuvwfqAID1GY5d9bO66G5wVm%2Fcasestudies-reply-icons-alt.png\" alt=\"圖示\" title=\"圖示\"></p>\n<h1 id=\"形狀\"><a href=\"#形狀\" class=\"headerlink\" title=\"形狀\"></a>形狀</h1><p>元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：</p>\n<ol>\n<li>小元件 (S)：延伸的 FAB (floating action button)。圓角 50%。</li>\n<li>中元件 (M)：卡片 (Cards)。圓角 0。</li>\n<li>大元件 (L)：底部清單 (Bottom sheets)。圓角 12dp 12dp 0 0。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Zv545CazM0c_SvUuZqnUg6hE7Dv-S3m0%2Freply-shape.png\" alt=\"形狀分類\" title=\"形狀分類\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J8hIuMxjeCb-xIkot0krL8abdBIIIqfw%2Freply-shape-b.png\" alt=\"形狀元件\" title=\"形狀元件\"></p>\n<h1 id=\"元件\"><a href=\"#元件\" class=\"headerlink\" title=\"元件\"></a>元件</h1><h3 id=\"浮動動作按鈕-Floating-action-button\"><a href=\"#浮動動作按鈕-Floating-action-button\" class=\"headerlink\" title=\"浮動動作按鈕 (Floating action button)\"></a>浮動動作按鈕 (Floating action button)</h3><p>在手機上， Reply 在底部嵌入自定義的 FAB (Floating action button)。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1GhRm29BQNQHyLVPO0q_JdgYN4G82YjUS%2Fcasestudies-reply-nestedfab.png\" alt=\"手機自定義的 FAB\" title=\"手機自定義的 FAB\"></p>\n<p>在桌機上， Reply 使用自定義的 FAB 延伸，和抽屜式導覽做搭配。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1wNWnttN_BLCzr5bi2w-8VDEbCTV8sh66%2Fcasestudies-reply-extendedfab.png\" alt=\"桌機自定義的 FAB\" title=\"桌機自定義的 FAB\"></p>\n<h3 id=\"底部-bar-底部清單\"><a href=\"#底部-bar-底部清單\" class=\"headerlink\" title=\"底部 bar, 底部清單\"></a>底部 bar, 底部清單</h3><p>在手機，Reply 使用客制的底部 bar 和動作按鈕。</p>\n<ol>\n<li>預設的底部 bar</li>\n<li>Reply 的底部 bar 使用客制的 icon, 顏色和形狀。Reply logo 做為選單功能 icon 被包含在元件中。客制形狀的底部 bar 包含浮動動作按鈕。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1jTk6oF1ib0k1wIhXnjTLn0kgEZxNznl5%2Fcasestudies-reply-bottombar-compare.png\" alt=\"底部 bar\" title=\"底部 bar\"></p>\n<p>在手機，底部 bar 是切換導覽和進行動作的主要方式。<br>當使用者選取多個進行動作時，底部 bar 會變成內文動作 bar。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-17T_B8F7nlrJc9pJ6opEdFG-cuccmZ%2Fcasestudies-reply-contextualactionbar.png\" alt=\"內文動作 bar\" title=\"內文動作 bar\"></p>\n<p>當使用者滑動頁面的時候，底部 bar 會從螢幕消失，只剩下 FAB 按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1I1RcG9mNZYJgCPZu9u_wsYBaiHxNIJ8Q%2Fcasestudies-reply-floatingfab.png\" alt=\"滑動頁面剩下 FAB\" title=\"滑動頁面剩下 FAB\"></p>\n<h3 id=\"卡片\"><a href=\"#卡片\" class=\"headerlink\" title=\"卡片\"></a>卡片</h3><p>Reply 將郵件呈現在客制的方角卡片上。每張卡片的間距非常小，因為顏色代表每張卡片的邊界(沒有使用任何陰影)。小間距讓更多內容可以呈現在螢幕上。</p>\n<p>當卡片往右邊滑時，會出現對郵件標示星號的動作按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1FJEijR5c1uTkUcHsUUU0GHLuupehX39-%2Fcasestudies-reply-cards-1.png\" alt=\"卡片往右滑\" title=\"卡片往右滑\"></p>\n<p>當卡片往左邊滑時，會出現對郵件刪除的動作按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WZlOkz0ZWCN4BhIWrvM7H4NsvlNxt5OI%2Fcasestudies-reply-cards-2.png\" alt=\"卡片往左滑\" title=\"卡片往左滑\"></p>\n<h3 id=\"小標籤-Chips\"><a href=\"#小標籤-Chips\" class=\"headerlink\" title=\"小標籤 (Chips)\"></a>小標籤 (Chips)</h3><p>Reply 的小標籤 (Chips) 使用客制的文字、顏色和圖像大小。在視覺上和品牌相吻合。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bQe04HeiZ4CLLKEVXGs_B-yYd4mc_Ztx%2Fcasestudies-reply-chips-alt.png\" alt=\"小標籤\" title=\"小標籤\"></p>\n<blockquote>\n<p>心得：此專案對許多 material components 做客製化的樣式修改，礙於工作要同時做設計和開發的時間限制下，我比較沒有對這方面下過功夫，或許下次我可以從微調一些元件樣式來增加對品牌的塑造。</p>\n</blockquote>\n<h1 id=\"交互動作\"><a href=\"#交互動作\" class=\"headerlink\" title=\"交互動作\"></a>交互動作</h1><p>Reply logo 的動畫其描繪靈感來自捲曲紙張路徑。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1CmJcj6oa4Qwo_i8KkNaruAtMOCNnnpfw%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>Reply 使用較短的動畫時間來加強動作效率。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MfIr9GSQ4iAfUNoAtKIUKX0lP6Kxt8kC%2F02-reply-navtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>插圖動畫在用戶使用的關鍵點出現，例如完成收件夾中每個項目的存檔後，觸發了一個慶祝動畫。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SapnI_EXJwjkvMb87hWWakpTMLIKoxiQ%2F03-reply-inboxzero.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當使用者將頁面往下拉重新整理時， Reply 的 logo 動畫會出現在上方。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F120IhHIDr-BHTPrTmFnXpEHfsOJEdVsg8%2F04-reply-pulltorefresh.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：logo 動畫二次使用在 Refresh 頁面上，我覺得這點非常不錯，除了讓畫面生動起來也可以節省設計時間。</p>\n</blockquote>\n<p>總結：Reply 讓我學到更多對 material component 做更細微設計的靈感，希望之後有機會多做一點有趣的元件設計提升品牌形象。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/reply.html\">Material Studies - Reply</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>上次介紹的 Rally 是關於統計分析型的系統，這次要來看的是偏向應用型的系統 Reply。</p>","more":"<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Reply 是一款幫助個人和群組溝通的 APP，其設計理念為提供清晰、易讀、直觀和易用的應用程式。</p>\n<h3 id=\"功能性導向之美-Functional-aesthetic\"><a href=\"#功能性導向之美-Functional-aesthetic\" class=\"headerlink\" title=\"功能性導向之美 (Functional aesthetic)\"></a>功能性導向之美 (Functional aesthetic)</h3><p>Reply 的品牌精神強調溝通的重要性。因此，設計著重於功能品質，放置許多易用性元素。</p>\n<p>Reply 的品牌時常伴隨著用戶的操作動作，例如從品牌的 logo 點擊展開導覽列。</p>\n<blockquote>\n<p>心得：這種會讓使用者頻繁編輯操作的 APP 也常常出現在公司內部，例如報價單、簽核表單等等的應用程式，所以在許多使用者操作行為下，如何清楚的呈現資訊和導引使用者動作變得非常重要。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Reply 使用類似於其他電子郵件應用程序的產品結構：包含新郵件和存檔郵件的收件箱，以及圍繞在組織和執行與這些郵件相關操作的 UI 。郵件可以加上星星標示、發送、刪除、標記為垃圾郵件，或以使用者自定義方式來整理郵件。</p>\n<h3 id=\"專注在使用者任務\"><a href=\"#專注在使用者任務\" class=\"headerlink\" title=\"專注在使用者任務\"></a>專注在使用者任務</h3><p>由於使用者任務主要涉及內容生產和處理，因此螢幕空間專注於內容呈現而非其他 UI 元素。為確保內容和導航列都有足夠的空間，Reply 會針對桌機、平板、手機裝置使用不同的導航模式。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XRLqbRWX43Sm4h1u8y04J4O7SKLY1ASs%2Fcasestudies-reply-family.png\" alt=\"Reply 導覽模式\" title=\"Reply 導覽模式\"></p>\n<h3 id=\"抽屜式導覽列\"><a href=\"#抽屜式導覽列\" class=\"headerlink\" title=\"抽屜式導覽列\"></a>抽屜式導覽列</h3><p>在桌機，Reply 使用標準的抽屜式導覽列。導覽列同時使用 icon 和文字。最上方包含設置、切換帳號和有搭配箭頭的 logo 拿來縮合導覽列。點擊搭配箭頭的 logo，將會縮合成軌道式導覽列。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1odXyicfqCiZ-NfE4Oi8iNP4wO-rmEZZ9%2Fcasestudies-reply-productarch.png\" alt=\"Reply 桌機導覽列\" title=\"Reply 桌機導覽列\"></p>\n<h3 id=\"底部-bar-導覽列\"><a href=\"#底部-bar-導覽列\" class=\"headerlink\" title=\"底部 bar 導覽列\"></a>底部 bar 導覽列</h3><p>在手機，Reply 使用底部 bar 導覽列。點擊左下角的 Reply icon ，他會從底部展開顯示抽屜式導航列，其中包含設定、切換帳戶頭像等動作。再次點擊 Reply icon 時，導航會關閉，導航列會關閉並返回底部預設的 bar 狀態。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1OVQU4zWktolBn0pEaT9fu_5xCxGsXzm9%2Fcasestudies-reply-bottomsheet.png\" alt=\"Reply 手機導覽列\" title=\"Reply 手機導覽列\"></p>\n<h3 id=\"軌道式導覽列\"><a href=\"#軌道式導覽列\" class=\"headerlink\" title=\"軌道式導覽列\"></a>軌道式導覽列</h3><p>透過點擊 Reply logo，軌道式導覽列可以展開變成抽屜式導覽列。Logo 旁邊的箭頭表明 Reply logo 是可交互的。</p>\n<p>軌道式導覽列非常適合在平板電腦上使用，因為它可以顯示大量的目的地，且佔用很小的空間。當軌道式導覽列被展開時會顯示使用者創建的資料夾，讓用戶讀取資料夾的標題文字。</p>\n<p>當收合時，軌道式導覽列不顯示使用者創建的資料夾。因為這些自創的資料夾都使用同個 icon，他們無法用單一 icon 做區別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1tr41eJcVoKTnE7rq9vDBpaWUlVLdTlPa%2Fcasestudies-reply-railnav.png\" alt=\"Reply 平板導覽列\" title=\"Reply 平板導覽列\"></p>\n<blockquote>\n<p>心得：手機底部的導覽列是我沒嘗試過的設計，因為工作上比較常做 Web 的應用，所以通常會使用上方 bar。但這樣使用下方 bar ，可以讓內容集中在上方，對於大量內容的呈現是很好的選擇。</p>\n</blockquote>\n<h1 id=\"排版\"><a href=\"#排版\" class=\"headerlink\" title=\"排版\"></a>排版</h1><p>Reply 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1HuRM4KXNObz38eqqiQsqUusTWe_iua8E%2Fcasestudies-reply-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"視覺層級\"><a href=\"#視覺層級\" class=\"headerlink\" title=\"視覺層級\"></a>視覺層級</h3><p>Reply 使用顏色來區分不同的元件。例如，卡片容器是可見的，因為卡片具有白色表面顏色，而應用程式的背景是灰色的。</p>\n<p>由於 Reply 有時候會顯示密集的內容，因此將陰影移除會降低視覺的複雜性。並將項目的間距拉小，從而為內容流出更多的空間。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1EmDZJ6SLz0CwwbxPiaYXqkTDbt2n_FKI%2Fcasestudies-reply-elevation.png\" alt=\"視覺層級\" title=\"視覺層級\"></p>\n<blockquote>\n<p>心得：利用小間距和去除陰影來顯示密集的內容，這點我在工作上也常常用到，最近剛做產線人員掃條碼顯示 64 條資料要同時呈現在一個畫面上，光是設計就佔了很重要的角色，畢竟在寫程式之前可以先有個底，才不用花費大量時間在調整版面上。</p>\n</blockquote>\n<h1 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h1><p>Reply 的顏色主題使用一個主色調(深藍灰色)和一個輔助色(橘色)。</p>\n<p>由於輔助色很少用到，因此 Reply 的 UI 通常是單色的，主要使用主色調的深淺變化。這種微妙的顏色主題可以輕鬆閱讀內容而不會分心，並且可以輕鬆看到頭像。</p>\n<p>每當使用輔助色的時候，視覺上都會產生明顯的影響。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XUGSUZeLYqhH--JBBHWLkRnJzVmX13oR%2Fcasestudies-reply-color.png\" alt=\"顏色主題\" title=\"顏色主題\"></p>\n<blockquote>\n<p>心得：這種配色是我平常常用的方式，因為顏色少的話在配色方面比較不容易混亂，相較於上一篇介紹 <a href=\"../../../../../2019/04/05/UXUI/Google-Material-Studies-Rally/\">Rally</a> 的 6 色，Reply 就是保守派。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Reply 使用 Work Sans 作為字體。不同比例的 Work Sans 提供了 Reply 內容所需的種類。透過使用六種不同的權重來呈現內容：Light，Regular，Medium，SemiBold和Bold。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WzYaZo4FsrHq8dgXw-hQ0OViJ56dRDNM%2Freplytypescale.png\" alt=\"字體\" title=\"字體\"></p>\n<p>Reply 的 icon 具有細微的風格，表達品牌也同時專注於 icon 識別與功能。</p>\n<ol>\n<li>所有圖示使用一樣的格線架構確保一致性。</li>\n<li>所有 Reply 圖示</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J1sfDmQOyuvwfqAID1GY5d9bO66G5wVm%2Fcasestudies-reply-icons-alt.png\" alt=\"圖示\" title=\"圖示\"></p>\n<h1 id=\"形狀\"><a href=\"#形狀\" class=\"headerlink\" title=\"形狀\"></a>形狀</h1><p>元件根據大小使用不同的形狀類型，將形狀做分類可以讓螢幕一次放多個元件，分類包含：</p>\n<ol>\n<li>小元件 (S)：延伸的 FAB (floating action button)。圓角 50%。</li>\n<li>中元件 (M)：卡片 (Cards)。圓角 0。</li>\n<li>大元件 (L)：底部清單 (Bottom sheets)。圓角 12dp 12dp 0 0。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Zv545CazM0c_SvUuZqnUg6hE7Dv-S3m0%2Freply-shape.png\" alt=\"形狀分類\" title=\"形狀分類\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1J8hIuMxjeCb-xIkot0krL8abdBIIIqfw%2Freply-shape-b.png\" alt=\"形狀元件\" title=\"形狀元件\"></p>\n<h1 id=\"元件\"><a href=\"#元件\" class=\"headerlink\" title=\"元件\"></a>元件</h1><h3 id=\"浮動動作按鈕-Floating-action-button\"><a href=\"#浮動動作按鈕-Floating-action-button\" class=\"headerlink\" title=\"浮動動作按鈕 (Floating action button)\"></a>浮動動作按鈕 (Floating action button)</h3><p>在手機上， Reply 在底部嵌入自定義的 FAB (Floating action button)。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1GhRm29BQNQHyLVPO0q_JdgYN4G82YjUS%2Fcasestudies-reply-nestedfab.png\" alt=\"手機自定義的 FAB\" title=\"手機自定義的 FAB\"></p>\n<p>在桌機上， Reply 使用自定義的 FAB 延伸，和抽屜式導覽做搭配。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1wNWnttN_BLCzr5bi2w-8VDEbCTV8sh66%2Fcasestudies-reply-extendedfab.png\" alt=\"桌機自定義的 FAB\" title=\"桌機自定義的 FAB\"></p>\n<h3 id=\"底部-bar-底部清單\"><a href=\"#底部-bar-底部清單\" class=\"headerlink\" title=\"底部 bar, 底部清單\"></a>底部 bar, 底部清單</h3><p>在手機，Reply 使用客制的底部 bar 和動作按鈕。</p>\n<ol>\n<li>預設的底部 bar</li>\n<li>Reply 的底部 bar 使用客制的 icon, 顏色和形狀。Reply logo 做為選單功能 icon 被包含在元件中。客制形狀的底部 bar 包含浮動動作按鈕。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1jTk6oF1ib0k1wIhXnjTLn0kgEZxNznl5%2Fcasestudies-reply-bottombar-compare.png\" alt=\"底部 bar\" title=\"底部 bar\"></p>\n<p>在手機，底部 bar 是切換導覽和進行動作的主要方式。<br>當使用者選取多個進行動作時，底部 bar 會變成內文動作 bar。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-17T_B8F7nlrJc9pJ6opEdFG-cuccmZ%2Fcasestudies-reply-contextualactionbar.png\" alt=\"內文動作 bar\" title=\"內文動作 bar\"></p>\n<p>當使用者滑動頁面的時候，底部 bar 會從螢幕消失，只剩下 FAB 按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1I1RcG9mNZYJgCPZu9u_wsYBaiHxNIJ8Q%2Fcasestudies-reply-floatingfab.png\" alt=\"滑動頁面剩下 FAB\" title=\"滑動頁面剩下 FAB\"></p>\n<h3 id=\"卡片\"><a href=\"#卡片\" class=\"headerlink\" title=\"卡片\"></a>卡片</h3><p>Reply 將郵件呈現在客制的方角卡片上。每張卡片的間距非常小，因為顏色代表每張卡片的邊界(沒有使用任何陰影)。小間距讓更多內容可以呈現在螢幕上。</p>\n<p>當卡片往右邊滑時，會出現對郵件標示星號的動作按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1FJEijR5c1uTkUcHsUUU0GHLuupehX39-%2Fcasestudies-reply-cards-1.png\" alt=\"卡片往右滑\" title=\"卡片往右滑\"></p>\n<p>當卡片往左邊滑時，會出現對郵件刪除的動作按鈕。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1WZlOkz0ZWCN4BhIWrvM7H4NsvlNxt5OI%2Fcasestudies-reply-cards-2.png\" alt=\"卡片往左滑\" title=\"卡片往左滑\"></p>\n<h3 id=\"小標籤-Chips\"><a href=\"#小標籤-Chips\" class=\"headerlink\" title=\"小標籤 (Chips)\"></a>小標籤 (Chips)</h3><p>Reply 的小標籤 (Chips) 使用客制的文字、顏色和圖像大小。在視覺上和品牌相吻合。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bQe04HeiZ4CLLKEVXGs_B-yYd4mc_Ztx%2Fcasestudies-reply-chips-alt.png\" alt=\"小標籤\" title=\"小標籤\"></p>\n<blockquote>\n<p>心得：此專案對許多 material components 做客製化的樣式修改，礙於工作要同時做設計和開發的時間限制下，我比較沒有對這方面下過功夫，或許下次我可以從微調一些元件樣式來增加對品牌的塑造。</p>\n</blockquote>\n<h1 id=\"交互動作\"><a href=\"#交互動作\" class=\"headerlink\" title=\"交互動作\"></a>交互動作</h1><p>Reply logo 的動畫其描繪靈感來自捲曲紙張路徑。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1CmJcj6oa4Qwo_i8KkNaruAtMOCNnnpfw%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>Reply 使用較短的動畫時間來加強動作效率。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1MfIr9GSQ4iAfUNoAtKIUKX0lP6Kxt8kC%2F02-reply-navtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>插圖動畫在用戶使用的關鍵點出現，例如完成收件夾中每個項目的存檔後，觸發了一個慶祝動畫。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SapnI_EXJwjkvMb87hWWakpTMLIKoxiQ%2F03-reply-inboxzero.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<p>當使用者將頁面往下拉重新整理時， Reply 的 logo 動畫會出現在上方。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F120IhHIDr-BHTPrTmFnXpEHfsOJEdVsg8%2F04-reply-pulltorefresh.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：logo 動畫二次使用在 Refresh 頁面上，我覺得這點非常不錯，除了讓畫面生動起來也可以節省設計時間。</p>\n</blockquote>\n<p>總結：Reply 讓我學到更多對 material component 做更細微設計的靈感，希望之後有機會多做一點有趣的元件設計提升品牌形象。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/reply.html\">Material Studies - Reply</a></li>\n</ul>"},{"title":"Google Material Studies - Shrine","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XfN9LumqsUoSt6nDckGhoja4ll8EAmZI%2Fcasestudies-shrine-brandattributes.png","coverMeta":"out","date":"2019-06-06T16:00:00.000Z","updated":"2019-06-06T16:00:00.000Z","_content":"\n這次 Material Design 案例介紹零售業的 APP 設計，相信大家都不陌生，如何呈現大量商品給使用者也是一門學問。\n\n<!--more-->\n\n# 案例背景\n\nShrine APP 是一個線上市場，透過推播標籤 (promoted labels) 來表達生活方式和時尚產品的特色。Shrine 的品牌美學為現代、优雅、精致。Shrine 在展示各品牌和產品背后，有著一致的美學概念。\n\n### 極簡美學\n\nShrine 的極簡主義將使用者體驗著重在產品内容和 APP 互動。作為展示各種產品和品牌核心的统一架構，Shrine 的品牌扮演着重要的角色。\n\n### 視覺主題\n\nShrine 的視覺主題採用去角的剪裁設計，應用在各種組件和元素上。這些元素代表 Shrine logo 的形狀，且為 Shrine 品牌的延伸設計。\n\n![Shrine 去角的剪裁設計](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1KZq-VRhEx9j2HydlT4ZW9H7tR-WoOZAe%2Fcasestudies-shrine-logo-alt.png \"Shrine 去角的剪裁設計\")\n\nShrine 的互動模型是由三個重疊的圖層組成。\n\n1. 最下層為導航和品牌元素\n2. 中間層為主要內容\n3. 最上層為購物車\n\n![Shrine 三個重疊的圖層](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-_JDAJTous0ko4miSjAgVwJPHQB2hHe%2Fcasestudies-shrine-elevationchart.png \"Shrine 三個重疊的圖層\")\n\n> 心得：以前做過大量分類的內容網站，如何讓使用者快速找到他要的類別是一門學問。極簡風格的好處是將操作簡化，並專注於呈現產品給使用者。\n\n# 產品架構\n\nShrine 應用程序的資訊架構是由目錄(catalog)結構組成。一個目錄包含各分類資訊，母類別可能包含子類別。Shrine 的母類別將大群組的物品分類，例如：鞋子、配飾、連衣裙，如此一來，使用者可以看到相關的內容。採用目錄結構讓使用者瀏覽有興趣的項目、互相比對不同的產品和查看特定的產品資訊。\n\n### 導覽列\n\nShrine 在桌機、平板和手機上使用不同形式的導覽列。\n手機將導覽列放在最後一個圖層，需要藉由回上頁的元件做返回的動作。\n平板使用頁籤(tabs)的方式導覽。\n桌機使用標準的導覽收納欄位。\n\n![Shrine 導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qYMfjqAbsMb9O-lJNIsaHcKhO_p4O_s%2Fcasestudies-shrine-family.png \"Shrine 導覽列\")\n\n### 項目指標\n\n所有導覽列共用同一個選取狀態模式：當一個項目被選取，項目背後會有一個三角圖樣代表被選取的狀態。項目指標確保使用者知道他們目前所在的類別。\n\n![Shrine 項目指標](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1l0DbKUHyQKvedhajBXcnaVN8UZbn7eSF%2Fcasestudies-shrine-nav.png \"Shrine 項目指標\")\n\n### 購物車\n\n購物車可以在螢幕右下角找到。當物品加入或從購物車移除，購物清單會動態更新並反映變化。\n購物清單可以透過點擊 icon ，展開內容細目，或是帶使用者到購物畫面。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dgcMYf6_2L_xYYriPRcoACs_woD5LIFm%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：項目指標用圖示的方式標示在分類文字背後，我覺得這個用法蠻大膽的，若是想要增加潮流感的話很適合。但若是在公司企業內部用的軟體可能需要考慮使用者的接受度。\n\n# 排版和顏色\n\nShrine 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1JSMNlunwZaOV3F0t0eSsBqn3EhwN4Idk%2Fcasestudies-shrine-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 水平格線\n\nShrine 的手機和平板排版採用水平滑動的格線。欄位、間距和邊距都是從左到右，並不是我們一般常用的上到下。\n\n![Shrine 水平格線](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png \"Shrine 水平格線\")\n\n### 顏色\n\nShrine 的顏色主題是單色系的，將主色調 Shrine Pink 使用不同亮暗做變化。底層使用 Shrine 的主色調 (Shrine Pink 100)，下方購物車使用次色調(Shrine Pink 50)。主要內容在白色背景並使用深色 Shrine Pink 900 作為文字和圖示的顏色。\n\n![Shrine 色調](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PqdLRDr8EpuHTdhT9f9HtIzxzGOjecJP%2Fcasestudies-shrine-color-1.png \"Shrine 色調\")\n\n1. Shrine Pink 100 用在 “add to cart” 來凸顯按鈕。\n2. 標籤(chips)外框使用 Shrine Pink 100，用深色的 900 來代表被選取的標籤。\n\n![Shrine Pink](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ocq8e1RNTZOmpP2MXjRF1rAB4hk9nw4a%2Fcasestudies-shrine-colorcomponents.png \"Shrine Pink\")\n\nShrine 使用圖像處理來表示狀態的變化(例如被選取的狀態)，或是背後的半透明遮罩。客制的圖像是一種加強 Shrine 品牌的方式。\n\n![Shrine 被選取的狀態](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Vzs31NWpv0YlZ2ejSZl6PEYqofYiNSFM%2Fcasestudies-shrine-color-imagerytreatment-duotone.png \"Shrine 被選取的狀態\")\n\n![Shrine 半透明遮罩](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F176hAMN80PxLeqkcw4zypAG5RZJFEIlq3%2Fcasestudies-shrine-color-imagerytreatment-patternscrim.png \"Shrine 半透明遮罩\")\n\n> 心得：使用水平格線設計我覺得是很大的挑戰，因為目前大宗的使用方向還是垂直為主。不推薦水平格線的設計，除非是遊戲、活動或各分類展示等特殊需求，否則可慮使用者需長期瀏覽的狀態下，水平左右滑動並不方便。\n\n# 文字與圖示\n\nShrine 的文字比例提供各種內容所需。所有比例皆使用 Rubik 作為字體，包含 Rubik Light、Regular和Medium。\n\n![Shrine 字體 Rubik](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1VcsKVTP1QNKoPl52cNCHauFM0_526cdN%2Fshrinetypescale.png \"Shrine 字體 Rubik\")\n\nRubik 是非襯線字體，有著略為的圓角和多種的粗細可選擇。Rubik 是非常適合 Shrine 的字體，因為他是一種清晰、時尚、現代的字體，且他的圓角帶給人溫暖、友善和有趣的感覺。\n\n![Shrine Rubik](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1rec2nbnEXesSPYTicV_qbE6D9jmCuO5h%2Fcasestudies-shrine-type-1.png \"Shrine Rubik\")\n\nShrine 使用 Material Design 預設的 icon 系統。這些 icon 在小尺寸的時候也能保持清晰和俐落。\n\n![Shrine icon](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F15IUNXILSXZmMGcH2q8W_vbS8YlO91vzt%2Fcasestudies-shrine-icons-alt.png \"Shrine icon\")\n\n> 心得：文字選用不同於 Roboto 的圓角字體，營造柔和感是不錯的選擇。\n\n# 形狀和元件\n\n元件的形狀根據他們的大小來分類。形狀分類讓你可一次性設定多個元件尺寸。形狀分類包含：\n\n1. 小元件 (Small components):浮動動作按鈕。角落各切 4dp 斜角。\n2. 中元件 (Medium components):選單。角落各切 8dp 斜角。\n3. 大元件 (Large components):內容區塊。左上角切 24dp 斜角。\n\n![Shrine 元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1f_u-uvDtYKjS0LEIevjDCbb1ALeH2Lks%2Fshrine-shape-b.png \"Shrine 元件\")\n\n### 按鈕\n\n1. 文字按鈕：按鈕沒有邊框和陰影。\n\n![Shrine 文字按鈕](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ZfoWLGKLkJhKTvX0Bfjc19jk_4teiBRF%2Fcasestudies-shrine-textbutton.png \"Shrine 文字按鈕\")\n\n2. 主要按鈕：使用主色調 Shrine Pink 100，無陰影，圓角和細長形狀。\n\n![Shrine 主要按鈕](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dkaLfu-vECfRflUXOQDvYwFVHPmvIo_4%2Fcasestudies-shrine-buttonemphasis.png \"Shrine 主要按鈕\")\n\n### 標籤 Chips\n\nShrine 在產品細節頁面使用可選擇的標籤。這些客制標籤有著圓角的邊線和按鈕做區別。\n\n![Shrine 標籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1D0EwzNkf19srLxcQ8jLzRgYddPbDYaRB%2Fcasestudies-shrine-chips.png \"Shrine 標籤\")\n\n### 頁籤\n\nShrine 在桌機和平板使用頁籤當作導覽列。他們使用客制顏色、文字和狀態。\n\n![Shrine 頁籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1BkLfpj3qECEoZ41gclPvw1w6NaQNM6jm%2Fcasestudies-shrine-tabs.png \"Shrine 頁籤\")\n\n### 導覽列和背景區塊\n\nShrine 使用客制的導覽抽屜在手機上。他可以透過點擊左上角的返回元件來展開導覽。\nShrine 的導覽抽屜使用客製化的文字、顏色和狀態。置中的文字是另一個客制的特點。\nShrine 的返回元件使用客制的顏色和形狀。背後圖層使用 app 的主色調，前圖層的左上角有一個客制的斜切角。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1o4ts_Rfz0X97TaapdQ-9YON6O3WzE3WZ%2Fcasestudies-shrine-backdrop-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 圖像列表\n\nShrine 使用編排過的圖像列表來展示內容。編排過的圖像列表穿插使用不同大小（相同比例）的區塊創造有韻律的排版，且非常適合水平瀏覽內容。\n\n編排過的圖像列表對於內容來說非常理想，因為他提升了每個商品的重點和新穎性，讓使用者不會過快的掃描內容。\n\n![Shrine 圖像列表](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png \"Shrine 圖像列表\")\n\n### 購物清單\n\nShrine 使用可展開的底部清單讓使用者可以簡單的到達購物車。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F10tATQMRwpM8VtaVZKbVnBv3uzaXVDEMT%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於圖像列表的水平滾動方式我不是很贊同，因為大多數使用者只會對前幾樣商品用比較慢的速度查看，到後面都會變成掃描式的，故意編排成眼睛不易掃瞄商品的方式，只會讓使用者變得不想用，因為他沒辦法快速的查看大量商品做比較。\n\n# 互動\n\nShrine 的互動設計使用增強的淡入、較長的延遲時間來漸進式營造優雅和愉悅的環境。\n\n### 起始畫面\n\nShrine 的產品 icon 動畫透過幾何的形狀變化來表達 logo。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1z58j-BuFmvDzpsnkpzPnpBENPAmy-RWb%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### icon 動畫\n\n動畫 icon 增加樂趣且引領使用者操作。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1fghiYco9yt2kaHxdvpvvG5H1Rfys8xyi%2F02-icons.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 漸變得導覽列\n\nShrine 的導覽漸變動畫強調淡出和長時間下達到放鬆和優雅的氣氛。時間延遲用於引起對重要元件的注意，例如購物車和結帳按鈕。在背後圖層使用交錯的淡入淡出來產生關連的效果。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a5xbi_QBcDBvNwKFyY10vXqAE4oJlSAb%2F03-navigationtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 示範\n\n當第一次增加商品到購物車時，一個示範的動畫將展示商品已放置在購物車中。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SlTir4qcIH6gcKn2ZwVzAF5dA20rFtHF%2F04-tutorial.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於會動的 icon 和示範商品放入購物車這兩個設計很有興趣，若有機會的話會想要嘗試放在專案中嘗試。\n\n總結：Shrine 這個案例除了上述提到的水平滾動設計我不是很贊同外，其他的部分都很值得學習借鏡。是個很不錯的案例，那我們下次見囉～\n\n## 參考資料\n\n* [Material Studies - Shrine](https://material.io/design/material-studies/shrine.html)","source":"_posts/UXUI/Google-Material-Studies-Shrine.md","raw":"---\ntitle: Google Material Studies - Shrine\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1XfN9LumqsUoSt6nDckGhoja4ll8EAmZI%2Fcasestudies-shrine-brandattributes.png\ncoverMeta: out\ntags: [UX, UI, Material Design]\ndate: 2019/06/07\nupdated: 2019/06/07\n---\n\n這次 Material Design 案例介紹零售業的 APP 設計，相信大家都不陌生，如何呈現大量商品給使用者也是一門學問。\n\n<!--more-->\n\n# 案例背景\n\nShrine APP 是一個線上市場，透過推播標籤 (promoted labels) 來表達生活方式和時尚產品的特色。Shrine 的品牌美學為現代、优雅、精致。Shrine 在展示各品牌和產品背后，有著一致的美學概念。\n\n### 極簡美學\n\nShrine 的極簡主義將使用者體驗著重在產品内容和 APP 互動。作為展示各種產品和品牌核心的统一架構，Shrine 的品牌扮演着重要的角色。\n\n### 視覺主題\n\nShrine 的視覺主題採用去角的剪裁設計，應用在各種組件和元素上。這些元素代表 Shrine logo 的形狀，且為 Shrine 品牌的延伸設計。\n\n![Shrine 去角的剪裁設計](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1KZq-VRhEx9j2HydlT4ZW9H7tR-WoOZAe%2Fcasestudies-shrine-logo-alt.png \"Shrine 去角的剪裁設計\")\n\nShrine 的互動模型是由三個重疊的圖層組成。\n\n1. 最下層為導航和品牌元素\n2. 中間層為主要內容\n3. 最上層為購物車\n\n![Shrine 三個重疊的圖層](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-_JDAJTous0ko4miSjAgVwJPHQB2hHe%2Fcasestudies-shrine-elevationchart.png \"Shrine 三個重疊的圖層\")\n\n> 心得：以前做過大量分類的內容網站，如何讓使用者快速找到他要的類別是一門學問。極簡風格的好處是將操作簡化，並專注於呈現產品給使用者。\n\n# 產品架構\n\nShrine 應用程序的資訊架構是由目錄(catalog)結構組成。一個目錄包含各分類資訊，母類別可能包含子類別。Shrine 的母類別將大群組的物品分類，例如：鞋子、配飾、連衣裙，如此一來，使用者可以看到相關的內容。採用目錄結構讓使用者瀏覽有興趣的項目、互相比對不同的產品和查看特定的產品資訊。\n\n### 導覽列\n\nShrine 在桌機、平板和手機上使用不同形式的導覽列。\n手機將導覽列放在最後一個圖層，需要藉由回上頁的元件做返回的動作。\n平板使用頁籤(tabs)的方式導覽。\n桌機使用標準的導覽收納欄位。\n\n![Shrine 導覽列](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qYMfjqAbsMb9O-lJNIsaHcKhO_p4O_s%2Fcasestudies-shrine-family.png \"Shrine 導覽列\")\n\n### 項目指標\n\n所有導覽列共用同一個選取狀態模式：當一個項目被選取，項目背後會有一個三角圖樣代表被選取的狀態。項目指標確保使用者知道他們目前所在的類別。\n\n![Shrine 項目指標](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1l0DbKUHyQKvedhajBXcnaVN8UZbn7eSF%2Fcasestudies-shrine-nav.png \"Shrine 項目指標\")\n\n### 購物車\n\n購物車可以在螢幕右下角找到。當物品加入或從購物車移除，購物清單會動態更新並反映變化。\n購物清單可以透過點擊 icon ，展開內容細目，或是帶使用者到購物畫面。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dgcMYf6_2L_xYYriPRcoACs_woD5LIFm%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：項目指標用圖示的方式標示在分類文字背後，我覺得這個用法蠻大膽的，若是想要增加潮流感的話很適合。但若是在公司企業內部用的軟體可能需要考慮使用者的接受度。\n\n# 排版和顏色\n\nShrine 使用 12 grid system。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1JSMNlunwZaOV3F0t0eSsBqn3EhwN4Idk%2Fcasestudies-shrine-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 水平格線\n\nShrine 的手機和平板排版採用水平滑動的格線。欄位、間距和邊距都是從左到右，並不是我們一般常用的上到下。\n\n![Shrine 水平格線](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png \"Shrine 水平格線\")\n\n### 顏色\n\nShrine 的顏色主題是單色系的，將主色調 Shrine Pink 使用不同亮暗做變化。底層使用 Shrine 的主色調 (Shrine Pink 100)，下方購物車使用次色調(Shrine Pink 50)。主要內容在白色背景並使用深色 Shrine Pink 900 作為文字和圖示的顏色。\n\n![Shrine 色調](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PqdLRDr8EpuHTdhT9f9HtIzxzGOjecJP%2Fcasestudies-shrine-color-1.png \"Shrine 色調\")\n\n1. Shrine Pink 100 用在 “add to cart” 來凸顯按鈕。\n2. 標籤(chips)外框使用 Shrine Pink 100，用深色的 900 來代表被選取的標籤。\n\n![Shrine Pink](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ocq8e1RNTZOmpP2MXjRF1rAB4hk9nw4a%2Fcasestudies-shrine-colorcomponents.png \"Shrine Pink\")\n\nShrine 使用圖像處理來表示狀態的變化(例如被選取的狀態)，或是背後的半透明遮罩。客制的圖像是一種加強 Shrine 品牌的方式。\n\n![Shrine 被選取的狀態](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Vzs31NWpv0YlZ2ejSZl6PEYqofYiNSFM%2Fcasestudies-shrine-color-imagerytreatment-duotone.png \"Shrine 被選取的狀態\")\n\n![Shrine 半透明遮罩](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F176hAMN80PxLeqkcw4zypAG5RZJFEIlq3%2Fcasestudies-shrine-color-imagerytreatment-patternscrim.png \"Shrine 半透明遮罩\")\n\n> 心得：使用水平格線設計我覺得是很大的挑戰，因為目前大宗的使用方向還是垂直為主。不推薦水平格線的設計，除非是遊戲、活動或各分類展示等特殊需求，否則可慮使用者需長期瀏覽的狀態下，水平左右滑動並不方便。\n\n# 文字與圖示\n\nShrine 的文字比例提供各種內容所需。所有比例皆使用 Rubik 作為字體，包含 Rubik Light、Regular和Medium。\n\n![Shrine 字體 Rubik](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1VcsKVTP1QNKoPl52cNCHauFM0_526cdN%2Fshrinetypescale.png \"Shrine 字體 Rubik\")\n\nRubik 是非襯線字體，有著略為的圓角和多種的粗細可選擇。Rubik 是非常適合 Shrine 的字體，因為他是一種清晰、時尚、現代的字體，且他的圓角帶給人溫暖、友善和有趣的感覺。\n\n![Shrine Rubik](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1rec2nbnEXesSPYTicV_qbE6D9jmCuO5h%2Fcasestudies-shrine-type-1.png \"Shrine Rubik\")\n\nShrine 使用 Material Design 預設的 icon 系統。這些 icon 在小尺寸的時候也能保持清晰和俐落。\n\n![Shrine icon](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F15IUNXILSXZmMGcH2q8W_vbS8YlO91vzt%2Fcasestudies-shrine-icons-alt.png \"Shrine icon\")\n\n> 心得：文字選用不同於 Roboto 的圓角字體，營造柔和感是不錯的選擇。\n\n# 形狀和元件\n\n元件的形狀根據他們的大小來分類。形狀分類讓你可一次性設定多個元件尺寸。形狀分類包含：\n\n1. 小元件 (Small components):浮動動作按鈕。角落各切 4dp 斜角。\n2. 中元件 (Medium components):選單。角落各切 8dp 斜角。\n3. 大元件 (Large components):內容區塊。左上角切 24dp 斜角。\n\n![Shrine 元件](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1f_u-uvDtYKjS0LEIevjDCbb1ALeH2Lks%2Fshrine-shape-b.png \"Shrine 元件\")\n\n### 按鈕\n\n1. 文字按鈕：按鈕沒有邊框和陰影。\n\n![Shrine 文字按鈕](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ZfoWLGKLkJhKTvX0Bfjc19jk_4teiBRF%2Fcasestudies-shrine-textbutton.png \"Shrine 文字按鈕\")\n\n2. 主要按鈕：使用主色調 Shrine Pink 100，無陰影，圓角和細長形狀。\n\n![Shrine 主要按鈕](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dkaLfu-vECfRflUXOQDvYwFVHPmvIo_4%2Fcasestudies-shrine-buttonemphasis.png \"Shrine 主要按鈕\")\n\n### 標籤 Chips\n\nShrine 在產品細節頁面使用可選擇的標籤。這些客制標籤有著圓角的邊線和按鈕做區別。\n\n![Shrine 標籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1D0EwzNkf19srLxcQ8jLzRgYddPbDYaRB%2Fcasestudies-shrine-chips.png \"Shrine 標籤\")\n\n### 頁籤\n\nShrine 在桌機和平板使用頁籤當作導覽列。他們使用客制顏色、文字和狀態。\n\n![Shrine 頁籤](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1BkLfpj3qECEoZ41gclPvw1w6NaQNM6jm%2Fcasestudies-shrine-tabs.png \"Shrine 頁籤\")\n\n### 導覽列和背景區塊\n\nShrine 使用客制的導覽抽屜在手機上。他可以透過點擊左上角的返回元件來展開導覽。\nShrine 的導覽抽屜使用客製化的文字、顏色和狀態。置中的文字是另一個客制的特點。\nShrine 的返回元件使用客制的顏色和形狀。背後圖層使用 app 的主色調，前圖層的左上角有一個客制的斜切角。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1o4ts_Rfz0X97TaapdQ-9YON6O3WzE3WZ%2Fcasestudies-shrine-backdrop-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 圖像列表\n\nShrine 使用編排過的圖像列表來展示內容。編排過的圖像列表穿插使用不同大小（相同比例）的區塊創造有韻律的排版，且非常適合水平瀏覽內容。\n\n編排過的圖像列表對於內容來說非常理想，因為他提升了每個商品的重點和新穎性，讓使用者不會過快的掃描內容。\n\n![Shrine 圖像列表](https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png \"Shrine 圖像列表\")\n\n### 購物清單\n\nShrine 使用可展開的底部清單讓使用者可以簡單的到達購物車。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F10tATQMRwpM8VtaVZKbVnBv3uzaXVDEMT%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於圖像列表的水平滾動方式我不是很贊同，因為大多數使用者只會對前幾樣商品用比較慢的速度查看，到後面都會變成掃描式的，故意編排成眼睛不易掃瞄商品的方式，只會讓使用者變得不想用，因為他沒辦法快速的查看大量商品做比較。\n\n# 互動\n\nShrine 的互動設計使用增強的淡入、較長的延遲時間來漸進式營造優雅和愉悅的環境。\n\n### 起始畫面\n\nShrine 的產品 icon 動畫透過幾何的形狀變化來表達 logo。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1z58j-BuFmvDzpsnkpzPnpBENPAmy-RWb%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### icon 動畫\n\n動畫 icon 增加樂趣且引領使用者操作。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1fghiYco9yt2kaHxdvpvvG5H1Rfys8xyi%2F02-icons.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 漸變得導覽列\n\nShrine 的導覽漸變動畫強調淡出和長時間下達到放鬆和優雅的氣氛。時間延遲用於引起對重要元件的注意，例如購物車和結帳按鈕。在背後圖層使用交錯的淡入淡出來產生關連的效果。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a5xbi_QBcDBvNwKFyY10vXqAE4oJlSAb%2F03-navigationtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### 示範\n\n當第一次增加商品到購物車時，一個示範的動畫將展示商品已放置在購物車中。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SlTir4qcIH6gcKn2ZwVzAF5dA20rFtHF%2F04-tutorial.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n> 心得：對於會動的 icon 和示範商品放入購物車這兩個設計很有興趣，若有機會的話會想要嘗試放在專案中嘗試。\n\n總結：Shrine 這個案例除了上述提到的水平滾動設計我不是很贊同外，其他的部分都很值得學習借鏡。是個很不錯的案例，那我們下次見囉～\n\n## 參考資料\n\n* [Material Studies - Shrine](https://material.io/design/material-studies/shrine.html)","slug":"UXUI/Google-Material-Studies-Shrine","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rk0032r3y7b5cyee5f","content":"<p>這次 Material Design 案例介紹零售業的 APP 設計，相信大家都不陌生，如何呈現大量商品給使用者也是一門學問。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Shrine APP 是一個線上市場，透過推播標籤 (promoted labels) 來表達生活方式和時尚產品的特色。Shrine 的品牌美學為現代、优雅、精致。Shrine 在展示各品牌和產品背后，有著一致的美學概念。</p>\n<h3 id=\"極簡美學\"><a href=\"#極簡美學\" class=\"headerlink\" title=\"極簡美學\"></a>極簡美學</h3><p>Shrine 的極簡主義將使用者體驗著重在產品内容和 APP 互動。作為展示各種產品和品牌核心的统一架構，Shrine 的品牌扮演着重要的角色。</p>\n<h3 id=\"視覺主題\"><a href=\"#視覺主題\" class=\"headerlink\" title=\"視覺主題\"></a>視覺主題</h3><p>Shrine 的視覺主題採用去角的剪裁設計，應用在各種組件和元素上。這些元素代表 Shrine logo 的形狀，且為 Shrine 品牌的延伸設計。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1KZq-VRhEx9j2HydlT4ZW9H7tR-WoOZAe%2Fcasestudies-shrine-logo-alt.png\" alt=\"Shrine 去角的剪裁設計\" title=\"Shrine 去角的剪裁設計\"></p>\n<p>Shrine 的互動模型是由三個重疊的圖層組成。</p>\n<ol>\n<li>最下層為導航和品牌元素</li>\n<li>中間層為主要內容</li>\n<li>最上層為購物車</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-_JDAJTous0ko4miSjAgVwJPHQB2hHe%2Fcasestudies-shrine-elevationchart.png\" alt=\"Shrine 三個重疊的圖層\" title=\"Shrine 三個重疊的圖層\"></p>\n<blockquote>\n<p>心得：以前做過大量分類的內容網站，如何讓使用者快速找到他要的類別是一門學問。極簡風格的好處是將操作簡化，並專注於呈現產品給使用者。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Shrine 應用程序的資訊架構是由目錄(catalog)結構組成。一個目錄包含各分類資訊，母類別可能包含子類別。Shrine 的母類別將大群組的物品分類，例如：鞋子、配飾、連衣裙，如此一來，使用者可以看到相關的內容。採用目錄結構讓使用者瀏覽有興趣的項目、互相比對不同的產品和查看特定的產品資訊。</p>\n<h3 id=\"導覽列\"><a href=\"#導覽列\" class=\"headerlink\" title=\"導覽列\"></a>導覽列</h3><p>Shrine 在桌機、平板和手機上使用不同形式的導覽列。<br>手機將導覽列放在最後一個圖層，需要藉由回上頁的元件做返回的動作。<br>平板使用頁籤(tabs)的方式導覽。<br>桌機使用標準的導覽收納欄位。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qYMfjqAbsMb9O-lJNIsaHcKhO_p4O_s%2Fcasestudies-shrine-family.png\" alt=\"Shrine 導覽列\" title=\"Shrine 導覽列\"></p>\n<h3 id=\"項目指標\"><a href=\"#項目指標\" class=\"headerlink\" title=\"項目指標\"></a>項目指標</h3><p>所有導覽列共用同一個選取狀態模式：當一個項目被選取，項目背後會有一個三角圖樣代表被選取的狀態。項目指標確保使用者知道他們目前所在的類別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1l0DbKUHyQKvedhajBXcnaVN8UZbn7eSF%2Fcasestudies-shrine-nav.png\" alt=\"Shrine 項目指標\" title=\"Shrine 項目指標\"></p>\n<h3 id=\"購物車\"><a href=\"#購物車\" class=\"headerlink\" title=\"購物車\"></a>購物車</h3><p>購物車可以在螢幕右下角找到。當物品加入或從購物車移除，購物清單會動態更新並反映變化。<br>購物清單可以透過點擊 icon ，展開內容細目，或是帶使用者到購物畫面。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dgcMYf6_2L_xYYriPRcoACs_woD5LIFm%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：項目指標用圖示的方式標示在分類文字背後，我覺得這個用法蠻大膽的，若是想要增加潮流感的話很適合。但若是在公司企業內部用的軟體可能需要考慮使用者的接受度。</p>\n</blockquote>\n<h1 id=\"排版和顏色\"><a href=\"#排版和顏色\" class=\"headerlink\" title=\"排版和顏色\"></a>排版和顏色</h1><p>Shrine 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1JSMNlunwZaOV3F0t0eSsBqn3EhwN4Idk%2Fcasestudies-shrine-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"水平格線\"><a href=\"#水平格線\" class=\"headerlink\" title=\"水平格線\"></a>水平格線</h3><p>Shrine 的手機和平板排版採用水平滑動的格線。欄位、間距和邊距都是從左到右，並不是我們一般常用的上到下。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png\" alt=\"Shrine 水平格線\" title=\"Shrine 水平格線\"></p>\n<h3 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h3><p>Shrine 的顏色主題是單色系的，將主色調 Shrine Pink 使用不同亮暗做變化。底層使用 Shrine 的主色調 (Shrine Pink 100)，下方購物車使用次色調(Shrine Pink 50)。主要內容在白色背景並使用深色 Shrine Pink 900 作為文字和圖示的顏色。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PqdLRDr8EpuHTdhT9f9HtIzxzGOjecJP%2Fcasestudies-shrine-color-1.png\" alt=\"Shrine 色調\" title=\"Shrine 色調\"></p>\n<ol>\n<li>Shrine Pink 100 用在 “add to cart” 來凸顯按鈕。</li>\n<li>標籤(chips)外框使用 Shrine Pink 100，用深色的 900 來代表被選取的標籤。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ocq8e1RNTZOmpP2MXjRF1rAB4hk9nw4a%2Fcasestudies-shrine-colorcomponents.png\" alt=\"Shrine Pink\" title=\"Shrine Pink\"></p>\n<p>Shrine 使用圖像處理來表示狀態的變化(例如被選取的狀態)，或是背後的半透明遮罩。客制的圖像是一種加強 Shrine 品牌的方式。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Vzs31NWpv0YlZ2ejSZl6PEYqofYiNSFM%2Fcasestudies-shrine-color-imagerytreatment-duotone.png\" alt=\"Shrine 被選取的狀態\" title=\"Shrine 被選取的狀態\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F176hAMN80PxLeqkcw4zypAG5RZJFEIlq3%2Fcasestudies-shrine-color-imagerytreatment-patternscrim.png\" alt=\"Shrine 半透明遮罩\" title=\"Shrine 半透明遮罩\"></p>\n<blockquote>\n<p>心得：使用水平格線設計我覺得是很大的挑戰，因為目前大宗的使用方向還是垂直為主。不推薦水平格線的設計，除非是遊戲、活動或各分類展示等特殊需求，否則可慮使用者需長期瀏覽的狀態下，水平左右滑動並不方便。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Shrine 的文字比例提供各種內容所需。所有比例皆使用 Rubik 作為字體，包含 Rubik Light、Regular和Medium。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1VcsKVTP1QNKoPl52cNCHauFM0_526cdN%2Fshrinetypescale.png\" alt=\"Shrine 字體 Rubik\" title=\"Shrine 字體 Rubik\"></p>\n<p>Rubik 是非襯線字體，有著略為的圓角和多種的粗細可選擇。Rubik 是非常適合 Shrine 的字體，因為他是一種清晰、時尚、現代的字體，且他的圓角帶給人溫暖、友善和有趣的感覺。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1rec2nbnEXesSPYTicV_qbE6D9jmCuO5h%2Fcasestudies-shrine-type-1.png\" alt=\"Shrine Rubik\" title=\"Shrine Rubik\"></p>\n<p>Shrine 使用 Material Design 預設的 icon 系統。這些 icon 在小尺寸的時候也能保持清晰和俐落。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F15IUNXILSXZmMGcH2q8W_vbS8YlO91vzt%2Fcasestudies-shrine-icons-alt.png\" alt=\"Shrine icon\" title=\"Shrine icon\"></p>\n<blockquote>\n<p>心得：文字選用不同於 Roboto 的圓角字體，營造柔和感是不錯的選擇。</p>\n</blockquote>\n<h1 id=\"形狀和元件\"><a href=\"#形狀和元件\" class=\"headerlink\" title=\"形狀和元件\"></a>形狀和元件</h1><p>元件的形狀根據他們的大小來分類。形狀分類讓你可一次性設定多個元件尺寸。形狀分類包含：</p>\n<ol>\n<li>小元件 (Small components):浮動動作按鈕。角落各切 4dp 斜角。</li>\n<li>中元件 (Medium components):選單。角落各切 8dp 斜角。</li>\n<li>大元件 (Large components):內容區塊。左上角切 24dp 斜角。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1f_u-uvDtYKjS0LEIevjDCbb1ALeH2Lks%2Fshrine-shape-b.png\" alt=\"Shrine 元件\" title=\"Shrine 元件\"></p>\n<h3 id=\"按鈕\"><a href=\"#按鈕\" class=\"headerlink\" title=\"按鈕\"></a>按鈕</h3><ol>\n<li>文字按鈕：按鈕沒有邊框和陰影。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ZfoWLGKLkJhKTvX0Bfjc19jk_4teiBRF%2Fcasestudies-shrine-textbutton.png\" alt=\"Shrine 文字按鈕\" title=\"Shrine 文字按鈕\"></p>\n<ol start=\"2\">\n<li>主要按鈕：使用主色調 Shrine Pink 100，無陰影，圓角和細長形狀。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dkaLfu-vECfRflUXOQDvYwFVHPmvIo_4%2Fcasestudies-shrine-buttonemphasis.png\" alt=\"Shrine 主要按鈕\" title=\"Shrine 主要按鈕\"></p>\n<h3 id=\"標籤-Chips\"><a href=\"#標籤-Chips\" class=\"headerlink\" title=\"標籤 Chips\"></a>標籤 Chips</h3><p>Shrine 在產品細節頁面使用可選擇的標籤。這些客制標籤有著圓角的邊線和按鈕做區別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1D0EwzNkf19srLxcQ8jLzRgYddPbDYaRB%2Fcasestudies-shrine-chips.png\" alt=\"Shrine 標籤\" title=\"Shrine 標籤\"></p>\n<h3 id=\"頁籤\"><a href=\"#頁籤\" class=\"headerlink\" title=\"頁籤\"></a>頁籤</h3><p>Shrine 在桌機和平板使用頁籤當作導覽列。他們使用客制顏色、文字和狀態。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1BkLfpj3qECEoZ41gclPvw1w6NaQNM6jm%2Fcasestudies-shrine-tabs.png\" alt=\"Shrine 頁籤\" title=\"Shrine 頁籤\"></p>\n<h3 id=\"導覽列和背景區塊\"><a href=\"#導覽列和背景區塊\" class=\"headerlink\" title=\"導覽列和背景區塊\"></a>導覽列和背景區塊</h3><p>Shrine 使用客制的導覽抽屜在手機上。他可以透過點擊左上角的返回元件來展開導覽。<br>Shrine 的導覽抽屜使用客製化的文字、顏色和狀態。置中的文字是另一個客制的特點。<br>Shrine 的返回元件使用客制的顏色和形狀。背後圖層使用 app 的主色調，前圖層的左上角有一個客制的斜切角。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1o4ts_Rfz0X97TaapdQ-9YON6O3WzE3WZ%2Fcasestudies-shrine-backdrop-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"圖像列表\"><a href=\"#圖像列表\" class=\"headerlink\" title=\"圖像列表\"></a>圖像列表</h3><p>Shrine 使用編排過的圖像列表來展示內容。編排過的圖像列表穿插使用不同大小（相同比例）的區塊創造有韻律的排版，且非常適合水平瀏覽內容。</p>\n<p>編排過的圖像列表對於內容來說非常理想，因為他提升了每個商品的重點和新穎性，讓使用者不會過快的掃描內容。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png\" alt=\"Shrine 圖像列表\" title=\"Shrine 圖像列表\"></p>\n<h3 id=\"購物清單\"><a href=\"#購物清單\" class=\"headerlink\" title=\"購物清單\"></a>購物清單</h3><p>Shrine 使用可展開的底部清單讓使用者可以簡單的到達購物車。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F10tATQMRwpM8VtaVZKbVnBv3uzaXVDEMT%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於圖像列表的水平滾動方式我不是很贊同，因為大多數使用者只會對前幾樣商品用比較慢的速度查看，到後面都會變成掃描式的，故意編排成眼睛不易掃瞄商品的方式，只會讓使用者變得不想用，因為他沒辦法快速的查看大量商品做比較。</p>\n</blockquote>\n<h1 id=\"互動\"><a href=\"#互動\" class=\"headerlink\" title=\"互動\"></a>互動</h1><p>Shrine 的互動設計使用增強的淡入、較長的延遲時間來漸進式營造優雅和愉悅的環境。</p>\n<h3 id=\"起始畫面\"><a href=\"#起始畫面\" class=\"headerlink\" title=\"起始畫面\"></a>起始畫面</h3><p>Shrine 的產品 icon 動畫透過幾何的形狀變化來表達 logo。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1z58j-BuFmvDzpsnkpzPnpBENPAmy-RWb%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"icon-動畫\"><a href=\"#icon-動畫\" class=\"headerlink\" title=\"icon 動畫\"></a>icon 動畫</h3><p>動畫 icon 增加樂趣且引領使用者操作。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1fghiYco9yt2kaHxdvpvvG5H1Rfys8xyi%2F02-icons.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"漸變得導覽列\"><a href=\"#漸變得導覽列\" class=\"headerlink\" title=\"漸變得導覽列\"></a>漸變得導覽列</h3><p>Shrine 的導覽漸變動畫強調淡出和長時間下達到放鬆和優雅的氣氛。時間延遲用於引起對重要元件的注意，例如購物車和結帳按鈕。在背後圖層使用交錯的淡入淡出來產生關連的效果。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a5xbi_QBcDBvNwKFyY10vXqAE4oJlSAb%2F03-navigationtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"示範\"><a href=\"#示範\" class=\"headerlink\" title=\"示範\"></a>示範</h3><p>當第一次增加商品到購物車時，一個示範的動畫將展示商品已放置在購物車中。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SlTir4qcIH6gcKn2ZwVzAF5dA20rFtHF%2F04-tutorial.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於會動的 icon 和示範商品放入購物車這兩個設計很有興趣，若有機會的話會想要嘗試放在專案中嘗試。</p>\n</blockquote>\n<p>總結：Shrine 這個案例除了上述提到的水平滾動設計我不是很贊同外，其他的部分都很值得學習借鏡。是個很不錯的案例，那我們下次見囉～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/shrine.html\">Material Studies - Shrine</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>這次 Material Design 案例介紹零售業的 APP 設計，相信大家都不陌生，如何呈現大量商品給使用者也是一門學問。</p>","more":"<h1 id=\"案例背景\"><a href=\"#案例背景\" class=\"headerlink\" title=\"案例背景\"></a>案例背景</h1><p>Shrine APP 是一個線上市場，透過推播標籤 (promoted labels) 來表達生活方式和時尚產品的特色。Shrine 的品牌美學為現代、优雅、精致。Shrine 在展示各品牌和產品背后，有著一致的美學概念。</p>\n<h3 id=\"極簡美學\"><a href=\"#極簡美學\" class=\"headerlink\" title=\"極簡美學\"></a>極簡美學</h3><p>Shrine 的極簡主義將使用者體驗著重在產品内容和 APP 互動。作為展示各種產品和品牌核心的统一架構，Shrine 的品牌扮演着重要的角色。</p>\n<h3 id=\"視覺主題\"><a href=\"#視覺主題\" class=\"headerlink\" title=\"視覺主題\"></a>視覺主題</h3><p>Shrine 的視覺主題採用去角的剪裁設計，應用在各種組件和元素上。這些元素代表 Shrine logo 的形狀，且為 Shrine 品牌的延伸設計。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1KZq-VRhEx9j2HydlT4ZW9H7tR-WoOZAe%2Fcasestudies-shrine-logo-alt.png\" alt=\"Shrine 去角的剪裁設計\" title=\"Shrine 去角的剪裁設計\"></p>\n<p>Shrine 的互動模型是由三個重疊的圖層組成。</p>\n<ol>\n<li>最下層為導航和品牌元素</li>\n<li>中間層為主要內容</li>\n<li>最上層為購物車</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a-_JDAJTous0ko4miSjAgVwJPHQB2hHe%2Fcasestudies-shrine-elevationchart.png\" alt=\"Shrine 三個重疊的圖層\" title=\"Shrine 三個重疊的圖層\"></p>\n<blockquote>\n<p>心得：以前做過大量分類的內容網站，如何讓使用者快速找到他要的類別是一門學問。極簡風格的好處是將操作簡化，並專注於呈現產品給使用者。</p>\n</blockquote>\n<h1 id=\"產品架構\"><a href=\"#產品架構\" class=\"headerlink\" title=\"產品架構\"></a>產品架構</h1><p>Shrine 應用程序的資訊架構是由目錄(catalog)結構組成。一個目錄包含各分類資訊，母類別可能包含子類別。Shrine 的母類別將大群組的物品分類，例如：鞋子、配飾、連衣裙，如此一來，使用者可以看到相關的內容。採用目錄結構讓使用者瀏覽有興趣的項目、互相比對不同的產品和查看特定的產品資訊。</p>\n<h3 id=\"導覽列\"><a href=\"#導覽列\" class=\"headerlink\" title=\"導覽列\"></a>導覽列</h3><p>Shrine 在桌機、平板和手機上使用不同形式的導覽列。<br>手機將導覽列放在最後一個圖層，需要藉由回上頁的元件做返回的動作。<br>平板使用頁籤(tabs)的方式導覽。<br>桌機使用標準的導覽收納欄位。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1-qYMfjqAbsMb9O-lJNIsaHcKhO_p4O_s%2Fcasestudies-shrine-family.png\" alt=\"Shrine 導覽列\" title=\"Shrine 導覽列\"></p>\n<h3 id=\"項目指標\"><a href=\"#項目指標\" class=\"headerlink\" title=\"項目指標\"></a>項目指標</h3><p>所有導覽列共用同一個選取狀態模式：當一個項目被選取，項目背後會有一個三角圖樣代表被選取的狀態。項目指標確保使用者知道他們目前所在的類別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1l0DbKUHyQKvedhajBXcnaVN8UZbn7eSF%2Fcasestudies-shrine-nav.png\" alt=\"Shrine 項目指標\" title=\"Shrine 項目指標\"></p>\n<h3 id=\"購物車\"><a href=\"#購物車\" class=\"headerlink\" title=\"購物車\"></a>購物車</h3><p>購物車可以在螢幕右下角找到。當物品加入或從購物車移除，購物清單會動態更新並反映變化。<br>購物清單可以透過點擊 icon ，展開內容細目，或是帶使用者到購物畫面。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dgcMYf6_2L_xYYriPRcoACs_woD5LIFm%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：項目指標用圖示的方式標示在分類文字背後，我覺得這個用法蠻大膽的，若是想要增加潮流感的話很適合。但若是在公司企業內部用的軟體可能需要考慮使用者的接受度。</p>\n</blockquote>\n<h1 id=\"排版和顏色\"><a href=\"#排版和顏色\" class=\"headerlink\" title=\"排版和顏色\"></a>排版和顏色</h1><p>Shrine 使用 12 grid system。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1JSMNlunwZaOV3F0t0eSsBqn3EhwN4Idk%2Fcasestudies-shrine-grid-1a.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"水平格線\"><a href=\"#水平格線\" class=\"headerlink\" title=\"水平格線\"></a>水平格線</h3><p>Shrine 的手機和平板排版採用水平滑動的格線。欄位、間距和邊距都是從左到右，並不是我們一般常用的上到下。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png\" alt=\"Shrine 水平格線\" title=\"Shrine 水平格線\"></p>\n<h3 id=\"顏色\"><a href=\"#顏色\" class=\"headerlink\" title=\"顏色\"></a>顏色</h3><p>Shrine 的顏色主題是單色系的，將主色調 Shrine Pink 使用不同亮暗做變化。底層使用 Shrine 的主色調 (Shrine Pink 100)，下方購物車使用次色調(Shrine Pink 50)。主要內容在白色背景並使用深色 Shrine Pink 900 作為文字和圖示的顏色。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1PqdLRDr8EpuHTdhT9f9HtIzxzGOjecJP%2Fcasestudies-shrine-color-1.png\" alt=\"Shrine 色調\" title=\"Shrine 色調\"></p>\n<ol>\n<li>Shrine Pink 100 用在 “add to cart” 來凸顯按鈕。</li>\n<li>標籤(chips)外框使用 Shrine Pink 100，用深色的 900 來代表被選取的標籤。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ocq8e1RNTZOmpP2MXjRF1rAB4hk9nw4a%2Fcasestudies-shrine-colorcomponents.png\" alt=\"Shrine Pink\" title=\"Shrine Pink\"></p>\n<p>Shrine 使用圖像處理來表示狀態的變化(例如被選取的狀態)，或是背後的半透明遮罩。客制的圖像是一種加強 Shrine 品牌的方式。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Vzs31NWpv0YlZ2ejSZl6PEYqofYiNSFM%2Fcasestudies-shrine-color-imagerytreatment-duotone.png\" alt=\"Shrine 被選取的狀態\" title=\"Shrine 被選取的狀態\"></p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F176hAMN80PxLeqkcw4zypAG5RZJFEIlq3%2Fcasestudies-shrine-color-imagerytreatment-patternscrim.png\" alt=\"Shrine 半透明遮罩\" title=\"Shrine 半透明遮罩\"></p>\n<blockquote>\n<p>心得：使用水平格線設計我覺得是很大的挑戰，因為目前大宗的使用方向還是垂直為主。不推薦水平格線的設計，除非是遊戲、活動或各分類展示等特殊需求，否則可慮使用者需長期瀏覽的狀態下，水平左右滑動並不方便。</p>\n</blockquote>\n<h1 id=\"文字與圖示\"><a href=\"#文字與圖示\" class=\"headerlink\" title=\"文字與圖示\"></a>文字與圖示</h1><p>Shrine 的文字比例提供各種內容所需。所有比例皆使用 Rubik 作為字體，包含 Rubik Light、Regular和Medium。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1VcsKVTP1QNKoPl52cNCHauFM0_526cdN%2Fshrinetypescale.png\" alt=\"Shrine 字體 Rubik\" title=\"Shrine 字體 Rubik\"></p>\n<p>Rubik 是非襯線字體，有著略為的圓角和多種的粗細可選擇。Rubik 是非常適合 Shrine 的字體，因為他是一種清晰、時尚、現代的字體，且他的圓角帶給人溫暖、友善和有趣的感覺。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1rec2nbnEXesSPYTicV_qbE6D9jmCuO5h%2Fcasestudies-shrine-type-1.png\" alt=\"Shrine Rubik\" title=\"Shrine Rubik\"></p>\n<p>Shrine 使用 Material Design 預設的 icon 系統。這些 icon 在小尺寸的時候也能保持清晰和俐落。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F15IUNXILSXZmMGcH2q8W_vbS8YlO91vzt%2Fcasestudies-shrine-icons-alt.png\" alt=\"Shrine icon\" title=\"Shrine icon\"></p>\n<blockquote>\n<p>心得：文字選用不同於 Roboto 的圓角字體，營造柔和感是不錯的選擇。</p>\n</blockquote>\n<h1 id=\"形狀和元件\"><a href=\"#形狀和元件\" class=\"headerlink\" title=\"形狀和元件\"></a>形狀和元件</h1><p>元件的形狀根據他們的大小來分類。形狀分類讓你可一次性設定多個元件尺寸。形狀分類包含：</p>\n<ol>\n<li>小元件 (Small components):浮動動作按鈕。角落各切 4dp 斜角。</li>\n<li>中元件 (Medium components):選單。角落各切 8dp 斜角。</li>\n<li>大元件 (Large components):內容區塊。左上角切 24dp 斜角。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1f_u-uvDtYKjS0LEIevjDCbb1ALeH2Lks%2Fshrine-shape-b.png\" alt=\"Shrine 元件\" title=\"Shrine 元件\"></p>\n<h3 id=\"按鈕\"><a href=\"#按鈕\" class=\"headerlink\" title=\"按鈕\"></a>按鈕</h3><ol>\n<li>文字按鈕：按鈕沒有邊框和陰影。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1ZfoWLGKLkJhKTvX0Bfjc19jk_4teiBRF%2Fcasestudies-shrine-textbutton.png\" alt=\"Shrine 文字按鈕\" title=\"Shrine 文字按鈕\"></p>\n<ol start=\"2\">\n<li>主要按鈕：使用主色調 Shrine Pink 100，無陰影，圓角和細長形狀。</li>\n</ol>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1dkaLfu-vECfRflUXOQDvYwFVHPmvIo_4%2Fcasestudies-shrine-buttonemphasis.png\" alt=\"Shrine 主要按鈕\" title=\"Shrine 主要按鈕\"></p>\n<h3 id=\"標籤-Chips\"><a href=\"#標籤-Chips\" class=\"headerlink\" title=\"標籤 Chips\"></a>標籤 Chips</h3><p>Shrine 在產品細節頁面使用可選擇的標籤。這些客制標籤有著圓角的邊線和按鈕做區別。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1D0EwzNkf19srLxcQ8jLzRgYddPbDYaRB%2Fcasestudies-shrine-chips.png\" alt=\"Shrine 標籤\" title=\"Shrine 標籤\"></p>\n<h3 id=\"頁籤\"><a href=\"#頁籤\" class=\"headerlink\" title=\"頁籤\"></a>頁籤</h3><p>Shrine 在桌機和平板使用頁籤當作導覽列。他們使用客制顏色、文字和狀態。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1BkLfpj3qECEoZ41gclPvw1w6NaQNM6jm%2Fcasestudies-shrine-tabs.png\" alt=\"Shrine 頁籤\" title=\"Shrine 頁籤\"></p>\n<h3 id=\"導覽列和背景區塊\"><a href=\"#導覽列和背景區塊\" class=\"headerlink\" title=\"導覽列和背景區塊\"></a>導覽列和背景區塊</h3><p>Shrine 使用客制的導覽抽屜在手機上。他可以透過點擊左上角的返回元件來展開導覽。<br>Shrine 的導覽抽屜使用客製化的文字、顏色和狀態。置中的文字是另一個客制的特點。<br>Shrine 的返回元件使用客制的顏色和形狀。背後圖層使用 app 的主色調，前圖層的左上角有一個客制的斜切角。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1o4ts_Rfz0X97TaapdQ-9YON6O3WzE3WZ%2Fcasestudies-shrine-backdrop-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"圖像列表\"><a href=\"#圖像列表\" class=\"headerlink\" title=\"圖像列表\"></a>圖像列表</h3><p>Shrine 使用編排過的圖像列表來展示內容。編排過的圖像列表穿插使用不同大小（相同比例）的區塊創造有韻律的排版，且非常適合水平瀏覽內容。</p>\n<p>編排過的圖像列表對於內容來說非常理想，因為他提升了每個商品的重點和新穎性，讓使用者不會過快的掃描內容。</p>\n<p><img src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1bzYYXTPp9EKoZ_D98LDkdpmmekDIUAK1%2Fcasestudies-shrine-horizontalimagegrid.png\" alt=\"Shrine 圖像列表\" title=\"Shrine 圖像列表\"></p>\n<h3 id=\"購物清單\"><a href=\"#購物清單\" class=\"headerlink\" title=\"購物清單\"></a>購物清單</h3><p>Shrine 使用可展開的底部清單讓使用者可以簡單的到達購物車。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F10tATQMRwpM8VtaVZKbVnBv3uzaXVDEMT%2Fcasestudies-shrine-shoppingcart-1b.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於圖像列表的水平滾動方式我不是很贊同，因為大多數使用者只會對前幾樣商品用比較慢的速度查看，到後面都會變成掃描式的，故意編排成眼睛不易掃瞄商品的方式，只會讓使用者變得不想用，因為他沒辦法快速的查看大量商品做比較。</p>\n</blockquote>\n<h1 id=\"互動\"><a href=\"#互動\" class=\"headerlink\" title=\"互動\"></a>互動</h1><p>Shrine 的互動設計使用增強的淡入、較長的延遲時間來漸進式營造優雅和愉悅的環境。</p>\n<h3 id=\"起始畫面\"><a href=\"#起始畫面\" class=\"headerlink\" title=\"起始畫面\"></a>起始畫面</h3><p>Shrine 的產品 icon 動畫透過幾何的形狀變化來表達 logo。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1z58j-BuFmvDzpsnkpzPnpBENPAmy-RWb%2F01-launch.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"icon-動畫\"><a href=\"#icon-動畫\" class=\"headerlink\" title=\"icon 動畫\"></a>icon 動畫</h3><p>動畫 icon 增加樂趣且引領使用者操作。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1fghiYco9yt2kaHxdvpvvG5H1Rfys8xyi%2F02-icons.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"漸變得導覽列\"><a href=\"#漸變得導覽列\" class=\"headerlink\" title=\"漸變得導覽列\"></a>漸變得導覽列</h3><p>Shrine 的導覽漸變動畫強調淡出和長時間下達到放鬆和優雅的氣氛。時間延遲用於引起對重要元件的注意，例如購物車和結帳按鈕。在背後圖層使用交錯的淡入淡出來產生關連的效果。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1a5xbi_QBcDBvNwKFyY10vXqAE4oJlSAb%2F03-navigationtransitions.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"示範\"><a href=\"#示範\" class=\"headerlink\" title=\"示範\"></a>示範</h3><p>當第一次增加商品到購物車時，一個示範的動畫將展示商品已放置在購物車中。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1SlTir4qcIH6gcKn2ZwVzAF5dA20rFtHF%2F04-tutorial.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<blockquote>\n<p>心得：對於會動的 icon 和示範商品放入購物車這兩個設計很有興趣，若有機會的話會想要嘗試放在專案中嘗試。</p>\n</blockquote>\n<p>總結：Shrine 這個案例除了上述提到的水平滾動設計我不是很贊同外，其他的部分都很值得學習借鏡。是個很不錯的案例，那我們下次見囉～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-studies/shrine.html\">Material Studies - Shrine</a></li>\n</ul>"},{"title":"Google Material Theming - Workflow Tools","thumbnailImage":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","thumbnailImagePosition":"left","coverImage":"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Hfurrx3NHOuac_WreNWxG-2qdKjliIx_%2Fintro-illo-metaphor.png","coverMeta":"out","date":"2019-02-28T16:00:00.000Z","updated":"2019-02-28T16:00:00.000Z","_content":"\n之前我有寫過一篇[我的 Design Workflow](/2018/09/13/UXUI/UX-UI-Workflow-Tool-in-2018/)，主要使用 `Sketch` 設計、 `XD` 做 prototype ，並利用 `Abstract` 做版控。 Material Design 官方也有一套 Workflow 並有配套的 Tools，今天就帶大家來一探究竟 Material 的 Workflow Tools。\n\n<!--more-->\n\n## Material Theming\n\n在介紹 Tool 前我們先來看看 `Material Theming` 是什麼？ Material Theming 就是將 Material Design 系統性的做客制，能更好地突出品牌識別效果。那如何將客制系統化呢？Tools 就佔了很重要的地位，我們來看看下列幾個系統化的工具吧。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1b7zteqiB7LCxy1R_NQwQZZ3_c8JqLE7T%2Ftheming-overview-applyingtheming.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### Material Theme Editor\n\n`Material Theme Editor` 我第一次看就嚇到了！怎麼會有這麼好用的共用元件工具。Material Theme Editor 透過在 Sketch 安裝 plugin，自動生成共用 Material Design Library，且透過此 plugin 還可以快速改變整個 Library 的 style ，像是圓角、配色組合、文字樣式等等。突然覺得我自己之前做的共用 Material Design Library 好手工喔ORZ～超喜歡這個很有彈性的 Tool 設計，我考慮下個新專案開始將 Material Theme Editor 生成的 Library 加入使用行列，到時候心有餘力再分享一篇使用心得囉～\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-tools%2Fassets%2F1U9gJolER8kqyFS1QzU7qhCRa7KRgebPb%2Ftheme-editor-sitecrop-hero-final.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### Color Tool\n\n配色工具的網站外面比比皆是。但是此 Color Tool 主要是在 Material 的指導原則下自動生成配色，在使用者選擇主色調後，經過演算挑出系統化的配色。我覺得這對設計師來說也節省了更多時間，不用再自己查相近色、互補色等，程式會自動為你配出適合的顏色。我下個新專案等不急要來 try try 看了~ XD\n\n![Color Tool](https://lh3.googleusercontent.com/5Ip9FQt2c2JtXLPPXOgai8VCRRRr0qqtgmNqfpkrrrlBuGp1sncZznYZGc36duWsII70lShboiE2QbpN8vr5EzGa3-jAYV6xpzyx8177CrHiBjgvVv6KCmtac_w26TZL4vTUMvDe71-fX4A5y_fIMszYyjYqrP3TztfoydN9Uhnw5em2ahPQ5D3Bh3dPVrV7B511Vb68ea0annnJHlavVc-nrEUxhTBwMKVCB_kuSRB_qpxeOaaVCdgrVsTB6CLAgzqUQ2vG22E6PYCGhFVK3rJ1CSzZiqvpAETfKExUea13-DLb8U1Tzgj4B1MDIGdo0YmKWoetXtHbxBoUpv0qxbYMd3HX2STODN_wkZB1AlSdYayr6hq8OFVEOuomuBZ2l700WA4bOH63yQptUoMpjZQCuhN4G7DGX2ch_yTjkgpvyDYoQlqHJHJbo_S3yu-WjTKGB72dRg9L12Q4102lsteagt9cAY2oClVRZ23dHIw5eERBphsQnO9i5dLdE0PxFQ7qL6cP3Ifidbvpw0bM2oKTGIOdtkptScaceuj-OzdJB8ahlHqDmY6Iw_1dqKrSZ6Dpkxd65ueOM8fnaJQ2OUdb-ky4Z-meu8wbDYcAihdF6Qp2pwy8xwUXQ2yp3wpG4GTc2qQjfqikyCmigAdtJegPDUEcxZVs=w2206-h1192-no \"Color Tool\")\n\n### Gallery\n\n之前有用過 `Zeplin` 分享設計量測 prototype 給 developer，但因為要付費就不想用了。現在很多設計工具都可以線上分享 prototype ， sketch、XD 都可以。Google 也自己開發了一套 gallery 的功能可以線上分享 prototype ，他除了可以觀察每個設計元件的 spec 和評語外，還可以設定螢幕要鎖定成手機、平板、桌電等尺寸，重點是他免費而且無空間限制，更多 Gallery 用法可參考[連結](https://material.io/tools/gallery/about.html#more-tips-on-using-gallery)。最近剛好有案子前端需要多人協同合作就拿來放在 Gallery，我覺得意外好用，只是就一定要有 google 的帳號才能看 Gallery 有點不合理，希望他以後改成只要有 email 就能加入 share 中。\n\n![Gallery](https://cdn-images-1.medium.com/max/1200/1*IsLM8aDdA9MZCD7T_x8FjA.gif \"Gallery\")\n\n\n目前我個人是非常看好這幾個 Material Tools 的，希望新專案能慢慢加入使用，讓 Design & Developer Workflow 更流暢。\n\n\n## 參考資料\n\n* [Material Theming](https://material.io/design/material-theming/#)\n* [Material Theme Editor](https://material.io/tools/theme-editor/)\n* [Material Design Color Tool](https://material.io/tools/color/#!/?view.left=0&view.right=0&primary.color=6002ee)\n* [Google Gallery](https://gallery.io)\n* [More tips on using Gallery](https://material.io/tools/gallery/about.html#more-tips-on-using-gallery)\n* [First week of using Google Gallery + Sketch](https://medium.com/sketch-app-sources/first-week-of-using-google-gallery-sketch-c97dd94c8676)","source":"_posts/UXUI/Google-Material-Theming-Workflow-Tools.md","raw":"---\ntitle: Google Material Theming - Workflow Tools\ncategories:\n  - UXUI\n  - Material Design\nthumbnailImage: https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no\nthumbnailImagePosition: left\ncoverImage: https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1Hfurrx3NHOuac_WreNWxG-2qdKjliIx_%2Fintro-illo-metaphor.png\ncoverMeta: out\ntags: [Sketch, UX, UI, Material Design]\ndate: 2019/03/01\nupdated: 2019/03/01\n---\n\n之前我有寫過一篇[我的 Design Workflow](/2018/09/13/UXUI/UX-UI-Workflow-Tool-in-2018/)，主要使用 `Sketch` 設計、 `XD` 做 prototype ，並利用 `Abstract` 做版控。 Material Design 官方也有一套 Workflow 並有配套的 Tools，今天就帶大家來一探究竟 Material 的 Workflow Tools。\n\n<!--more-->\n\n## Material Theming\n\n在介紹 Tool 前我們先來看看 `Material Theming` 是什麼？ Material Theming 就是將 Material Design 系統性的做客制，能更好地突出品牌識別效果。那如何將客制系統化呢？Tools 就佔了很重要的地位，我們來看看下列幾個系統化的工具吧。\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1b7zteqiB7LCxy1R_NQwQZZ3_c8JqLE7T%2Ftheming-overview-applyingtheming.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### Material Theme Editor\n\n`Material Theme Editor` 我第一次看就嚇到了！怎麼會有這麼好用的共用元件工具。Material Theme Editor 透過在 Sketch 安裝 plugin，自動生成共用 Material Design Library，且透過此 plugin 還可以快速改變整個 Library 的 style ，像是圓角、配色組合、文字樣式等等。突然覺得我自己之前做的共用 Material Design Library 好手工喔ORZ～超喜歡這個很有彈性的 Tool 設計，我考慮下個新專案開始將 Material Theme Editor 生成的 Library 加入使用行列，到時候心有餘力再分享一篇使用心得囉～\n\n<video src=\"https://storage.googleapis.com/spec-host-backup/mio-tools%2Fassets%2F1U9gJolER8kqyFS1QzU7qhCRa7KRgebPb%2Ftheme-editor-sitecrop-hero-final.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video>\n\n### Color Tool\n\n配色工具的網站外面比比皆是。但是此 Color Tool 主要是在 Material 的指導原則下自動生成配色，在使用者選擇主色調後，經過演算挑出系統化的配色。我覺得這對設計師來說也節省了更多時間，不用再自己查相近色、互補色等，程式會自動為你配出適合的顏色。我下個新專案等不急要來 try try 看了~ XD\n\n![Color Tool](https://lh3.googleusercontent.com/5Ip9FQt2c2JtXLPPXOgai8VCRRRr0qqtgmNqfpkrrrlBuGp1sncZznYZGc36duWsII70lShboiE2QbpN8vr5EzGa3-jAYV6xpzyx8177CrHiBjgvVv6KCmtac_w26TZL4vTUMvDe71-fX4A5y_fIMszYyjYqrP3TztfoydN9Uhnw5em2ahPQ5D3Bh3dPVrV7B511Vb68ea0annnJHlavVc-nrEUxhTBwMKVCB_kuSRB_qpxeOaaVCdgrVsTB6CLAgzqUQ2vG22E6PYCGhFVK3rJ1CSzZiqvpAETfKExUea13-DLb8U1Tzgj4B1MDIGdo0YmKWoetXtHbxBoUpv0qxbYMd3HX2STODN_wkZB1AlSdYayr6hq8OFVEOuomuBZ2l700WA4bOH63yQptUoMpjZQCuhN4G7DGX2ch_yTjkgpvyDYoQlqHJHJbo_S3yu-WjTKGB72dRg9L12Q4102lsteagt9cAY2oClVRZ23dHIw5eERBphsQnO9i5dLdE0PxFQ7qL6cP3Ifidbvpw0bM2oKTGIOdtkptScaceuj-OzdJB8ahlHqDmY6Iw_1dqKrSZ6Dpkxd65ueOM8fnaJQ2OUdb-ky4Z-meu8wbDYcAihdF6Qp2pwy8xwUXQ2yp3wpG4GTc2qQjfqikyCmigAdtJegPDUEcxZVs=w2206-h1192-no \"Color Tool\")\n\n### Gallery\n\n之前有用過 `Zeplin` 分享設計量測 prototype 給 developer，但因為要付費就不想用了。現在很多設計工具都可以線上分享 prototype ， sketch、XD 都可以。Google 也自己開發了一套 gallery 的功能可以線上分享 prototype ，他除了可以觀察每個設計元件的 spec 和評語外，還可以設定螢幕要鎖定成手機、平板、桌電等尺寸，重點是他免費而且無空間限制，更多 Gallery 用法可參考[連結](https://material.io/tools/gallery/about.html#more-tips-on-using-gallery)。最近剛好有案子前端需要多人協同合作就拿來放在 Gallery，我覺得意外好用，只是就一定要有 google 的帳號才能看 Gallery 有點不合理，希望他以後改成只要有 email 就能加入 share 中。\n\n![Gallery](https://cdn-images-1.medium.com/max/1200/1*IsLM8aDdA9MZCD7T_x8FjA.gif \"Gallery\")\n\n\n目前我個人是非常看好這幾個 Material Tools 的，希望新專案能慢慢加入使用，讓 Design & Developer Workflow 更流暢。\n\n\n## 參考資料\n\n* [Material Theming](https://material.io/design/material-theming/#)\n* [Material Theme Editor](https://material.io/tools/theme-editor/)\n* [Material Design Color Tool](https://material.io/tools/color/#!/?view.left=0&view.right=0&primary.color=6002ee)\n* [Google Gallery](https://gallery.io)\n* [More tips on using Gallery](https://material.io/tools/gallery/about.html#more-tips-on-using-gallery)\n* [First week of using Google Gallery + Sketch](https://medium.com/sketch-app-sources/first-week-of-using-google-gallery-sketch-c97dd94c8676)","slug":"UXUI/Google-Material-Theming-Workflow-Tools","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rl0034r3y755g8ez0n","content":"<p>之前我有寫過一篇<a href=\"/2018/09/13/UXUI/UX-UI-Workflow-Tool-in-2018/\">我的 Design Workflow</a>，主要使用 <code>Sketch</code> 設計、 <code>XD</code> 做 prototype ，並利用 <code>Abstract</code> 做版控。 Material Design 官方也有一套 Workflow 並有配套的 Tools，今天就帶大家來一探究竟 Material 的 Workflow Tools。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Material-Theming\"><a href=\"#Material-Theming\" class=\"headerlink\" title=\"Material Theming\"></a>Material Theming</h2><p>在介紹 Tool 前我們先來看看 <code>Material Theming</code> 是什麼？ Material Theming 就是將 Material Design 系統性的做客制，能更好地突出品牌識別效果。那如何將客制系統化呢？Tools 就佔了很重要的地位，我們來看看下列幾個系統化的工具吧。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1b7zteqiB7LCxy1R_NQwQZZ3_c8JqLE7T%2Ftheming-overview-applyingtheming.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"Material-Theme-Editor\"><a href=\"#Material-Theme-Editor\" class=\"headerlink\" title=\"Material Theme Editor\"></a>Material Theme Editor</h3><p><code>Material Theme Editor</code> 我第一次看就嚇到了！怎麼會有這麼好用的共用元件工具。Material Theme Editor 透過在 Sketch 安裝 plugin，自動生成共用 Material Design Library，且透過此 plugin 還可以快速改變整個 Library 的 style ，像是圓角、配色組合、文字樣式等等。突然覺得我自己之前做的共用 Material Design Library 好手工喔ORZ～超喜歡這個很有彈性的 Tool 設計，我考慮下個新專案開始將 Material Theme Editor 生成的 Library 加入使用行列，到時候心有餘力再分享一篇使用心得囉～</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-tools%2Fassets%2F1U9gJolER8kqyFS1QzU7qhCRa7KRgebPb%2Ftheme-editor-sitecrop-hero-final.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"Color-Tool\"><a href=\"#Color-Tool\" class=\"headerlink\" title=\"Color Tool\"></a>Color Tool</h3><p>配色工具的網站外面比比皆是。但是此 Color Tool 主要是在 Material 的指導原則下自動生成配色，在使用者選擇主色調後，經過演算挑出系統化的配色。我覺得這對設計師來說也節省了更多時間，不用再自己查相近色、互補色等，程式會自動為你配出適合的顏色。我下個新專案等不急要來 try try 看了~ XD</p>\n<p><img src=\"https://lh3.googleusercontent.com/5Ip9FQt2c2JtXLPPXOgai8VCRRRr0qqtgmNqfpkrrrlBuGp1sncZznYZGc36duWsII70lShboiE2QbpN8vr5EzGa3-jAYV6xpzyx8177CrHiBjgvVv6KCmtac_w26TZL4vTUMvDe71-fX4A5y_fIMszYyjYqrP3TztfoydN9Uhnw5em2ahPQ5D3Bh3dPVrV7B511Vb68ea0annnJHlavVc-nrEUxhTBwMKVCB_kuSRB_qpxeOaaVCdgrVsTB6CLAgzqUQ2vG22E6PYCGhFVK3rJ1CSzZiqvpAETfKExUea13-DLb8U1Tzgj4B1MDIGdo0YmKWoetXtHbxBoUpv0qxbYMd3HX2STODN_wkZB1AlSdYayr6hq8OFVEOuomuBZ2l700WA4bOH63yQptUoMpjZQCuhN4G7DGX2ch_yTjkgpvyDYoQlqHJHJbo_S3yu-WjTKGB72dRg9L12Q4102lsteagt9cAY2oClVRZ23dHIw5eERBphsQnO9i5dLdE0PxFQ7qL6cP3Ifidbvpw0bM2oKTGIOdtkptScaceuj-OzdJB8ahlHqDmY6Iw_1dqKrSZ6Dpkxd65ueOM8fnaJQ2OUdb-ky4Z-meu8wbDYcAihdF6Qp2pwy8xwUXQ2yp3wpG4GTc2qQjfqikyCmigAdtJegPDUEcxZVs=w2206-h1192-no\" alt=\"Color Tool\" title=\"Color Tool\"></p>\n<h3 id=\"Gallery\"><a href=\"#Gallery\" class=\"headerlink\" title=\"Gallery\"></a>Gallery</h3><p>之前有用過 <code>Zeplin</code> 分享設計量測 prototype 給 developer，但因為要付費就不想用了。現在很多設計工具都可以線上分享 prototype ， sketch、XD 都可以。Google 也自己開發了一套 gallery 的功能可以線上分享 prototype ，他除了可以觀察每個設計元件的 spec 和評語外，還可以設定螢幕要鎖定成手機、平板、桌電等尺寸，重點是他免費而且無空間限制，更多 Gallery 用法可參考<a href=\"https://material.io/tools/gallery/about.html#more-tips-on-using-gallery\">連結</a>。最近剛好有案子前端需要多人協同合作就拿來放在 Gallery，我覺得意外好用，只是就一定要有 google 的帳號才能看 Gallery 有點不合理，希望他以後改成只要有 email 就能加入 share 中。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1200/1*IsLM8aDdA9MZCD7T_x8FjA.gif\" alt=\"Gallery\" title=\"Gallery\"></p>\n<p>目前我個人是非常看好這幾個 Material Tools 的，希望新專案能慢慢加入使用，讓 Design &amp; Developer Workflow 更流暢。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-theming/#\">Material Theming</a></li>\n<li><a href=\"https://material.io/tools/theme-editor/\">Material Theme Editor</a></li>\n<li><a href=\"https://material.io/tools/color/#!/?view.left=0&view.right=0&primary.color=6002ee\">Material Design Color Tool</a></li>\n<li><a href=\"https://gallery.io/\">Google Gallery</a></li>\n<li><a href=\"https://material.io/tools/gallery/about.html#more-tips-on-using-gallery\">More tips on using Gallery</a></li>\n<li><a href=\"https://medium.com/sketch-app-sources/first-week-of-using-google-gallery-sketch-c97dd94c8676\">First week of using Google Gallery + Sketch</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/NmeFZOUv61q1keVwsDGU-SYe54WbcTGUaBK4MUv2qpnOZUeBmoIQnctDY2i30Xg9Piub1aUE1hhv_YZkN6aeZ0OeEiFqYy4nQix_M2k6M5Zn1uy6_0BDfTzuD0YfrlezhMtIGlKoVprSIU8jy4204KOqm7k4QJL31RCgQZ6ruuJMX-Ad84Uoyr-4LqIjRdDKG63wsyVnef7GFtHTFFyAcwRfD0D0hqZfDL6X5xZ0IomCU1mnvbPi3kWvWJzFbhypokNRRLGiTRxemhwQmV1IltU_lmZ7S6pdwwsz8GaVW7T7WTXImkmvePksormq21WQJgFdgWndEQDMPoCtQZLarnSNMaHynca_Wi-33a1VAI78aI0jIIXKP7RYmh7JRVY9Mobf2qBFOGFkd64E7uBatZ5VZ8GHwqXWazRZ-I4pFF_medM8ecpPLRTar-KY01iKGMu3zYZ2Z9xMO_AI0x3ibI7XAR71_8hquDpzvUGffIOXqvX5r3H49xYpWMCpPpwfT7NYd3k1W24ncV6TLWE_9cj5pRsY1qCHeqdn2HfkRLBGY0czDFb5J47OwXn0vBzNOuYtWbLGauqZ-sUVSTeO15j2A9gMm3BR0ZmiFb7c1azsyO4n-_-0GCHvJckr4-iRRg7GocwbYjZZdsTlDGvf0bHXkAmhFhWY=s225-no","excerpt":"<p>之前我有寫過一篇<a href=\"/2018/09/13/UXUI/UX-UI-Workflow-Tool-in-2018/\">我的 Design Workflow</a>，主要使用 <code>Sketch</code> 設計、 <code>XD</code> 做 prototype ，並利用 <code>Abstract</code> 做版控。 Material Design 官方也有一套 Workflow 並有配套的 Tools，今天就帶大家來一探究竟 Material 的 Workflow Tools。</p>","more":"<h2 id=\"Material-Theming\"><a href=\"#Material-Theming\" class=\"headerlink\" title=\"Material Theming\"></a>Material Theming</h2><p>在介紹 Tool 前我們先來看看 <code>Material Theming</code> 是什麼？ Material Theming 就是將 Material Design 系統性的做客制，能更好地突出品牌識別效果。那如何將客制系統化呢？Tools 就佔了很重要的地位，我們來看看下列幾個系統化的工具吧。</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-design%2Fassets%2F1b7zteqiB7LCxy1R_NQwQZZ3_c8JqLE7T%2Ftheming-overview-applyingtheming.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"Material-Theme-Editor\"><a href=\"#Material-Theme-Editor\" class=\"headerlink\" title=\"Material Theme Editor\"></a>Material Theme Editor</h3><p><code>Material Theme Editor</code> 我第一次看就嚇到了！怎麼會有這麼好用的共用元件工具。Material Theme Editor 透過在 Sketch 安裝 plugin，自動生成共用 Material Design Library，且透過此 plugin 還可以快速改變整個 Library 的 style ，像是圓角、配色組合、文字樣式等等。突然覺得我自己之前做的共用 Material Design Library 好手工喔ORZ～超喜歡這個很有彈性的 Tool 設計，我考慮下個新專案開始將 Material Theme Editor 生成的 Library 加入使用行列，到時候心有餘力再分享一篇使用心得囉～</p>\n<p><video src=\"https://storage.googleapis.com/spec-host-backup/mio-tools%2Fassets%2F1U9gJolER8kqyFS1QzU7qhCRa7KRgebPb%2Ftheme-editor-sitecrop-hero-final.mp4\" autoplay loop style=\"max-width: 100%; display: block; margin-left: auto; margin-right: auto;\">your browser does not support the video tag</video></p>\n<h3 id=\"Color-Tool\"><a href=\"#Color-Tool\" class=\"headerlink\" title=\"Color Tool\"></a>Color Tool</h3><p>配色工具的網站外面比比皆是。但是此 Color Tool 主要是在 Material 的指導原則下自動生成配色，在使用者選擇主色調後，經過演算挑出系統化的配色。我覺得這對設計師來說也節省了更多時間，不用再自己查相近色、互補色等，程式會自動為你配出適合的顏色。我下個新專案等不急要來 try try 看了~ XD</p>\n<p><img src=\"https://lh3.googleusercontent.com/5Ip9FQt2c2JtXLPPXOgai8VCRRRr0qqtgmNqfpkrrrlBuGp1sncZznYZGc36duWsII70lShboiE2QbpN8vr5EzGa3-jAYV6xpzyx8177CrHiBjgvVv6KCmtac_w26TZL4vTUMvDe71-fX4A5y_fIMszYyjYqrP3TztfoydN9Uhnw5em2ahPQ5D3Bh3dPVrV7B511Vb68ea0annnJHlavVc-nrEUxhTBwMKVCB_kuSRB_qpxeOaaVCdgrVsTB6CLAgzqUQ2vG22E6PYCGhFVK3rJ1CSzZiqvpAETfKExUea13-DLb8U1Tzgj4B1MDIGdo0YmKWoetXtHbxBoUpv0qxbYMd3HX2STODN_wkZB1AlSdYayr6hq8OFVEOuomuBZ2l700WA4bOH63yQptUoMpjZQCuhN4G7DGX2ch_yTjkgpvyDYoQlqHJHJbo_S3yu-WjTKGB72dRg9L12Q4102lsteagt9cAY2oClVRZ23dHIw5eERBphsQnO9i5dLdE0PxFQ7qL6cP3Ifidbvpw0bM2oKTGIOdtkptScaceuj-OzdJB8ahlHqDmY6Iw_1dqKrSZ6Dpkxd65ueOM8fnaJQ2OUdb-ky4Z-meu8wbDYcAihdF6Qp2pwy8xwUXQ2yp3wpG4GTc2qQjfqikyCmigAdtJegPDUEcxZVs=w2206-h1192-no\" alt=\"Color Tool\" title=\"Color Tool\"></p>\n<h3 id=\"Gallery\"><a href=\"#Gallery\" class=\"headerlink\" title=\"Gallery\"></a>Gallery</h3><p>之前有用過 <code>Zeplin</code> 分享設計量測 prototype 給 developer，但因為要付費就不想用了。現在很多設計工具都可以線上分享 prototype ， sketch、XD 都可以。Google 也自己開發了一套 gallery 的功能可以線上分享 prototype ，他除了可以觀察每個設計元件的 spec 和評語外，還可以設定螢幕要鎖定成手機、平板、桌電等尺寸，重點是他免費而且無空間限制，更多 Gallery 用法可參考<a href=\"https://material.io/tools/gallery/about.html#more-tips-on-using-gallery\">連結</a>。最近剛好有案子前端需要多人協同合作就拿來放在 Gallery，我覺得意外好用，只是就一定要有 google 的帳號才能看 Gallery 有點不合理，希望他以後改成只要有 email 就能加入 share 中。</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1200/1*IsLM8aDdA9MZCD7T_x8FjA.gif\" alt=\"Gallery\" title=\"Gallery\"></p>\n<p>目前我個人是非常看好這幾個 Material Tools 的，希望新專案能慢慢加入使用，讓 Design &amp; Developer Workflow 更流暢。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://material.io/design/material-theming/#\">Material Theming</a></li>\n<li><a href=\"https://material.io/tools/theme-editor/\">Material Theme Editor</a></li>\n<li><a href=\"https://material.io/tools/color/#!/?view.left=0&view.right=0&primary.color=6002ee\">Material Design Color Tool</a></li>\n<li><a href=\"https://gallery.io/\">Google Gallery</a></li>\n<li><a href=\"https://material.io/tools/gallery/about.html#more-tips-on-using-gallery\">More tips on using Gallery</a></li>\n<li><a href=\"https://medium.com/sketch-app-sources/first-week-of-using-google-gallery-sketch-c97dd94c8676\">First week of using Google Gallery + Sketch</a></li>\n</ul>"},{"title":"Naver Study Case - National Assembly election special page","thumbnailImage":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0","coverMeta":"out","date":"2020-05-03T16:00:00.000Z","updated":"2020-05-03T16:00:00.000Z","_content":"\n繼上次分享 Naver study case 訂餐 APP 後感覺意猶未盡，剛好看到一個是關於第21屆國民議會選舉特別頁面的設計，覺得很有興趣，我們就來一起看看吧～\n\n<!--more-->\n\n原定於4月15日舉行的第21屆國民議會選舉的選舉日現在提前一個月。\nNaver News製作了一個“特殊頁面”，該頁面提供有關每次選舉的全面信息。\n在2020年大選中，將快速準確地提供有關選舉的信息以及相關新聞。 \n\n![第21屆國民議會選舉特別頁面](https://lh3.googleusercontent.com/gHll-6CMUZTF8E2Oe7feyDPlcuV9hHkS1UOCY-_Mj6XZgjh3bvsm65VqR07kyJfzn7WD_em_64tR4opuZNVv0j16jfDpe1MF3dAerQKNtXCu5xB58ToH3OTEL26fcD6niW9BMvyE_RP2NOAkJ168t-X-pI7kgGXsHPDaPE4iEClkw9BOgLLyTVkzgXhIv8_udSRz_SdQx-35ID6S_K0YfC0c_0TcIPnj1YE1LRm609KGiGhao7CaNzn2lN98CVb7qsBojMPe2Yev1hQjdgeY1boGRslYUwmQGlOEAGpFWTpF6GiMme1_kd8D12db158rxBZKoZe5EJL18p1363mxhjPfA5ZUbyLFAD6snftrkYhSzKwF8R2dVVppPgOEmmBL4a3TckLtEQhMI1MGOA5sb0_n_D_RCZsUZ0vCgg6Xf81bRyhQnS7T9y3BqxUEUXheaiMgr2-TC4yxPdkc2mzxFg-GQIDhEsPXhexq7blbDEeGqpgo9qZdu9ECL8IkzcxVH4jTcUQpbDdZADsnrPIOUk00IWoEqCWyFCUn6OFl8UkNlbT3BZWp9H7vphl1CYNMs3UvRNiF9IAf7vsFeoUo7J8cmhnPvRZI-50Y5jCKBEIzKAKVwm3N_juiQlyxzRS1vM2UyRz5EQ4DU2QALRVPQVeQb_Y-CK1B6L_AzHJuc9xN7yQypD2s6FrPau0kT8gpMC_WNE1HJSOhQpos7xuYke8OZsXJgO3usynY_BNaUM43xKzZqtrZd1gG=w966-h1078-no)\n\n# 通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！ \n\n2020年大選特別頁面的重點是提高與選舉相關的推薦內容的質量，以滿足個人興趣。 利用AiRS開發的“關鍵字新聞”，可以自動提取具有很高用戶興趣的關鍵字，並添加一個完全個性化的域。為了提高資源管理的效率，僅根據上次選舉功能頁面的指示選擇常用組件。Naver News 創建了一個特殊頁面。除了擴展個性化功能外，“ Pick Press”也是一家媒體，該媒體收集與編輯選舉相關的新聞，對其進行改進，可以從各個角度使用選舉新聞：從選舉出版物和統計數據。我們試圖通過“專用觀眾”和“信息圖表”更有效地進行投放。  \n\n因此，第21屆國會選舉專頁服務理念的關鍵詞，可以通過三種方式進行組織：\n\n![服務理念的關鍵詞可通過三種方式進行組織](https://lh3.googleusercontent.com/zJpBnTEaW-a1pDmU64QNHOcAyEVwfT5vp95LB1a0PCBrElQUW0i0MuFjzsrRI_CjJPxfm873ofN-g8OTBsucRh-AaYJC0NnltAKjdYCV6pjElun7VeRKT6QzTB58XdmSFeOOGz01BQipGD8fk0Xvp-MdJf2te7dnPJSWH8StyF6pX6R5yEgouInJHCPRCvn9U5BdrO9jVnXHwX1pcoMU9BmKDax0zGH2AXhTwbM0Qn9aSUWT8U9dETyebXRyppLKvYGUPY881E4mJtBfSwsl0B0TtC4rdQAWJ7OYuxTsVk3Dy5v45SQojqe97WXSEidL46Se2TEDbhBFenlosOOvItZmGPVfpceheV3T4i1vFTC5PubsYJknLCtyEpK50b6y2ld5EaaOfj98isZpyf3dEmFURXj2kYgcZ-2a-IKQv0UlrdcdQe2697Da_YzraQXf2TaKGlJenI9TVwCdXmw3-G4_a8cprwBkLKVDsvKSmkcbEli0-NBqIXmjAMr7LrW5Iwe0h8h_lV9mU_D7RjX0eQSy1fRjzmBpK0iyl4TyC9TlsJMQ-COf-nj_0AMhGXMKv77wn3oIcGhhSH0LC910Qy0CRyQEuQiMtt4LL3T6_6VR4ZR6oc8J35Ze61rqVZhdZd4HZRJ0LzkFztfGdNgVQ1pLCTIHnxY7Dw0_wxav2S421719zA1lV_Wg1I-30ojPp-sgZXehdfda8KEREA0GE6fB3I-ns5Au9CgF7wN0Foz3INLtHyO_YkfQ=w966-h451-no)\n\n# 建立可重複使用的選舉頁面模板，提高資源管理效率！\n\n第21屆國會選舉專頁的關鍵改進點是`組件化`。由於每隔幾年會重複進行一次選舉，因此每次都會使用一些常用的模板，專為高效可重複用而設計。由於這些組件可以組合使用，因此在特殊情況下也可以處理它們。利用每次選舉的概念和品牌標識，無需花費大量資源即可構建每次選舉的功能頁面。 這些節省的資源可用於提高內容質量。 因此，我們希望進一步提高選舉服務的質量，並將其價值傳遞給用戶。\n\n![組件化模組](https://lh3.googleusercontent.com/FjSEajlmRI0IjzQwBMUR5zooRMiUQSIqeVSHyfpDRm_tlIxF4FFHcdD82mC9fZ7hhx5jcaoHnIsCCxJu1u-UEe9rDV70CIpEOH8PtzM62LpXAhiMmslsYvqDbLEz2IiD2H4KfTfLExY9fLdqftebKN1r9nm1VwQboMQF_St1fU6a8aHQzZG6uzM3ePAj5mIgkrdMpuPhU_CRKJ9eoD8rxLknrDD2c2-_txIH1W8xqkw3yCgaODkLw3Uf1ze5lQl0YRGPpqeovQ_eIZH3NeKWaT5o4uRVzSJBpUjC09LGaBwzim4mDEQ6sycKKoI71HqQIc0dxu1BiHY2LjJ6V9AEEO9g-lWcAHepmgLkPgmegS2UFsioNF01Q9BXJrCWbe9LyHPfGXa3crhDuhELsUpuyEZlg5P5Wn4EifyZN0gPoeOYTflnt6KeTU7w3pAAsxnnW-C7t8EVPm-drr22U-5ptN77JKZ6nKwtV7PcyXf8qtET3eZ5b7sXe0OjBuhuWtBAxMHw-YX0RSGyXfFBnM_3PuIDQ-GZKoMA7rHy0ECCdiQlfq2I25mDVH2AlovaZ3sLIa3HJh29p17hB9Vgcx2llPdWupnb9u1YNR15QhYYcDgl2XgNwNBl-Q1fGrAhGdTHD4Uol2KJAk4a4V87kBruyErJLl4zu6cQIlFgHBzsuJkgIcW3tY6Gk2uy110nUK5kNuPBrHaf1gPMFsJZq31V6VltfKedXw6TueOzwpMw5qE7say5uEOdE6LO=w966-h566-no)\n\n![PC, Mobile 設計](https://lh3.googleusercontent.com/BFhl4KF04dslmVH-2z-2ohDdBLBlp3Yj6sr4R69KI1HnZkWESXMlohSoGVTEcbigpRH4mvAl7lR5R1mry-Y_-ZovJlvwdq41L0RuJmuKUneM_fiL8OeX34g9h_L6Pgbsnjo4oBE7IJ6wER3twGc4kWIm8YwVFXKSsjli0jr9iYf-hyozLH9foW2yD5VknLSMxAoAmZjPMgyY-G4jGoZsiGb92DY1-L_Ii9Ac6xqJp-AV4cR6g3IZ8gQSJpmRDAOlwFWZHYgJoK2n5tX07fDLzFWGDvYzRUA8GH36T1XNGMhm99ucu1_xzqLntKOqTqMzbXbo8LhBlWXWqmG3OqZexAU-RdKP_6-vaozbX5mieWg2ETNTTAIoCe6OaoroHYF7iiTjgeBWVS0tmDBNprT_8dHJBXgS2Ld5dO4MSjYqq8a8N33kBNko-W29t8zHXzdYxuQt7wfeJYeVUBqqAsagJAepQwAn4TmFSYFUct0e8wstosD5j7d6PX3ryeMiB0_pD4oKRX9xh5bBY0wbm8XQtQYo-R6_kluiPb3yli2nbT9MKds64vGPamLkriBruWIG7WXpW4nhAg-8hkB5aWOoiWKUgYQRuBuuiBR7p38fM4FfFP6mZl5hk6iF51UV576YiLSnO_MnEA6fWIC8cwoKmBdsLsM3gboiwdLodtWYdpPvc2jaSfyB5gbGc75Rh1-BWcPBL5c5y_XWPfjsovBgCyzVE_JYn_gkkCrp-EC8_ZhBGSFzs0Nm139T=w966-h1129-no)\n\n![頭條新聞模板](https://lh3.googleusercontent.com/0IWJhj4Xfw7odRDnDDYdNqN3-E-VvvDkZnn5UgSfKc7DfSLpJ8e99EzdIyvhHHFXmGKzFL6zftXeZcjEs3T6W0I9lOyg2doZqaONhjjyf98KqTY8tRrPGbyn7xZ7ce7iD_EFaex1DaT44Yiw5sjCD-md3titMr6GA4vpTE-pyr5I6CAMobClLcSnFq2wsW7oKtFnsLEuXbSFmjFJbPN3ySRQYfnLjs5iQX6MvXdDS1HQZgd0qNp5ZrvXPSGuncDLfRXU3xwyb82qfBfyky-mSyx46daClqK7YJpHBaotCzMZzlSCtRlnY79IfYWup4TJvHDM6J9diOTV5v1Rsj8A6CnXIIF5_YRn4zRsT99E_vCs8pMjYQzVCCVLUH4Wj9ju3QvZ_BGdHn2Xh6nTSm9lyf0eJpqR9VvssGcuUPCpzS_Wb0-s-H36-cm45_HfesLcgbkfehNrBJjcvOEJ2MqAg-eJX2CI55PJSp_b2Bku1ejL_4IL9C_ISqmnevWZFmnP5Kv3EY4yG-ZFWaMoCadosg2G5xMNh1qCkH_Mi70tnRjgPlRDJfLs2FAyu180E890-hisWv-GUjd2ZFJJPShKCvIOi67W3jvlXqq3weoSrCMfOU2oIstr1O6Zpt1aL5xzhlvEDbJBdUsw3iCiku2NKf4TR0HtriREXAzOB-v5BvrPxmHgFdndUvsopj3qSsFpB4yaocWx04UklNZABo2wkrG6t7KUkPvIpLCt83pkQt91A4HMNiC7_gwC=w966-h548-no)\n\n效率的判別是基於頭條新聞模板中的累積指標（我猜是點閱率），這些指標在構建頁面時原來由六個模板組成。去除效率低的模板，最後僅選擇了頻繁使用的三個模板。\n\n# 2020年大選品牌形象: “穩定”，“信任”和“改變”\n\n第21屆國民議會選舉的主要身份包括“穩定”，“信任”和“改變”的含義。上次選舉的特別頁面上用“圓圈”符號表示“穩定性”，用“靛藍”顏色表示“信任”。為了保持設計傳統，對它進行了保留，但是“更改”的含義是新添加上去的。\n\n## 色彩系統\n\n選擇 primary color 的最重要標準不是讓人聯想到特定政黨的顏色，而是選擇靛藍的顏色，該顏色與九個政黨的顏色並不相似，但也被像徵真誠，謙遜，穩定和信任的顏色。靛藍被選為背景色，而具有人道主義，原始和中性象徵意義的紫色則被表示為漸變，並被選為“強調色”。\n\n![色彩系統](https://lh3.googleusercontent.com/nUpf_i61hCuxXrilYf955BRrSBTp7N3teJWca78DaERi43YmtgmFA31_dCcQEcHo6aSISQ0U_qowcP_Oq_W9kI03kEd8eDvBRcFWuiLnrpKFEWpDt05FwjKG2X3_BllBkA8atbHn-YMQdn22qsMBimI25erdTozTLw5fganhmQWOBzZG-R2V37pgtX2Ebc00A2g2FB1e243dBcs0VKIWfnTjqa-Tmq1LZFEuPO3fsjdDkahORQuWQGOyie64MVATOO77_uEF8-DNpY60GvbwB1G-iqA52VZlLZ9xIXagk_-2y6AMbi0qLqD7VOjrz1b2tppimp-_o-t3VFxhbOh4EIPjOtLazYqLWSto4BY5p3gE-5avEfLcLwwlzat7s9Ql4QgZJ8L-qsShs34wxBrd9U9-hIq-289b8-QAiR92iu0APu4nW0YH4_mxtbiRGT-1HsfdmDZHzfX-mvfzukgOKx-0xkxi0m9SU0Ci3wPYdqkq96pjNx8RgQUGsR8ikx0cf_GDXzL48xefJ2Ftimt_OtF6UQPaqmalrqTZNbhJMzHpdPhnp09m6fsLtTkAzwEhQaALfKzPtqOThXqzGH1UcRZcJuECWEfTVUTT2QEAFJJAlAx2CWtkIkyT_A_-rlycvo4FbuFEuuDc3A0BSlp15o2ema8dj8v5SaYsj7YYbADd_4iMty4o0JbA9l3gYO4or9RtI7IQhxbcokm0U5tAC5d38RM3HuRRtQtw7AFRy_gP2zO4zrfZ13Ho=w966-h316-no)\n\n## 品牌識別\n\n品牌標識還使用 HG Codec 繼承了上一個選舉功能頁面的品牌元素。此字體是具有完整正方形結構的標題哥特式字體，並且在具有類比功能的同時，還以模塊化的形式表達了穩定性和現代感。這與2020年大選設計標識“穩定”，“信任”和“改變”的方向一致。\n\n![品牌識別](https://lh3.googleusercontent.com/eWiy3envwtGn9XU5ZhsO3nRev3e8BBK_v0omWv5hgZIfuQtel-tx08L3V4JXPurF74S1zYJUIMFp7W9sXri0fTpvI7C_j-j-7886qYERhLEILNNr9GyecoDw_LQRZF8yo45m8u_m0D3qR4HEoyCQqHqfRCVwil7Ly7M6UKpLbTVkor4TJ_Qa1VX2UEoDltxzWwg82034QtN28-EHzziKdo0RSJhaRRphfhRskw7T6QBhztaoANY5INUWJOTbKKkOzQFbab4sGBjzycNptrPufQLWD8H3EFbZG1sQhB2kJ-vYdqfixgsD05MAHJIZrU0BpYRFVPnn7mKH1GThLKU34wSN61z5-jol-R5jHo91rmvlXfMkfSMtJ6hBXG-Xb4j703rBGqpH13EsU1B24uWu4j2VnUi6yW31ikjBAusGTgXcNyB44WCkwj28boY_6cBN_ddnhPyGc8WXi5H2DqsOzko0LJjW5f4zebRzEj3NDq00DJJksR6pNCAZxoVY1et5WNu7KKsbC_w8oE_IwtEa2lVSlHm-nBdetGvVRaZ_-3UXLLKoYoW4deXMJEOx746SCwkV1oJVu0F-_WDxtkmN-wfu9kSlCrumLZSA86nzarHOl9lq0Cq5GqMHHfnw3aGah2VfuqQMx6VtGAXlWP1L2OrbQP28sf0-c-u-5H7Y50-qD4ng7mzVPQPQq4ZCIsqHAlwTikkBOr-A00kWxcyqBU5e7DC85aPIL-ZgMWp6hfMHVb4RivSGITsv=w966-h316-no)\n\n## 圖形系統\n\n除了“穩定”和“信任”這兩個關鍵字之外，圖形系統還試圖強調新添加的“改變”的含義。圓圈的形狀意味著很多選民，並且以各種大小表示，以包含不同年齡的人。隨著選舉年齡的減少（18歲）和強調多樣性，中士的運動試圖動態地表達“交流”和“改變”的意願，並且人們強調了多元化，並且在當前的政治領域中人們對改變的渴望與日俱增。\n\n![圖形系統 Dark](https://lh3.googleusercontent.com/lyhDNt83ya1rj7Qsuf2bsqFYWC4uh4UIEl_jCfNDOpTldDSIgw-WIGZ5HYhmd72e92corPNgs1mn_Pz9RiMdF5ZYC5GbXZ_NUAhPTGh_W298VsUtvkCybRYZGkzJEdgUdnDTsuTWHNx-5rHeyA_61DaAIR7Q9L4_U34UvLi2-KJC-NOcLznIYMVKgkxmued9npsP0Z4g-lpggcbvSF00QPNlpukELF-I4ARWnoD3Sv8fbrZZBZd2kXqLDmQCp9dB9m6-b9EUPDzuwgkmFkFi_0g5xmcX2CVrj9eR30AmwPm-dXBz9zU__SQL4eTQYOl6_3v-1oMSEzUpBgQ8lmcWquDubm2EYdD8EKEvA4Kj3bqngeeuXy-Uuuzcoz6R5daS-6AMEKWf8P5dMVpdmyMf59-1Iia9BP2rIiIy-Kqj5j0sGEQEggCYbLGCduK3xjOAqNClG4ayEWf6zLrgv6kyNA7NBmUlvPsQZ6B5Sg10cEzABVjza6OP65_VWv7MVCwNWrYBc03gHQBhv61WF6-gkr2avWG-RQ6sOF-R3Q15prkU1wvOf_kRsxNdXUWPj9QP6pdOOb93Eu8NiKymPxaF-NvRc8mVUFOG91Qefcpp4UASnC3OU6YqHmQhXEzBz83iM3iWeJ2O59WdTRSlCqx-QtSv2acL89hrtgIKzMi6vw87oJQFSDdugUEit1MTzxR5tKNPNXBJk0DC_eNXFhdSMwMb4WgiGHqzZl2fgJ4UsZtduy6oc7d321wx=w966-h316-no)\n\n![圖形系統 Light](https://lh3.googleusercontent.com/BnmxrGvjgSnf1ZWZYvj7p2wb_-cu7oEEyxpRKO48SsEas1zSEpkQvY6ATeuXJ-M2AjEZlK5RjCdtOTmWEfCOoaUO_e6V72X0vTRMD5wtDFM9qXUMtmDO_bCVg4-8_QPCKiPUy5qVqQ2emBOJYjigOETK3h7SHknIxX7hxTFnUzs0NUcSR-RXM8DeXWIRUVwziPt5WI-ohZW1xDBlKKdQg228oUiW9M3S40x_oohNuBfKWnBbo3Q_mySCeay8c8EF17_cwEDG7eIU_CqIX47ffn7DdwxU8oxq8ztuDTXRo7SjjG7C0_8rXuaLKvt1xPW13YIFDaslC8IclOlmng4F7YS3fbtE_MnBmh-gbHnG5_3bZoA_9OaRkKG2ll331hjaE7MyNZVY9-0C1KpPb4FN0wCSZbeq24_cXv_J5M-5XnuDyJiMA-gydGJHcirN-rTlCoMgmLZc8ZSf6UbjkXhDnLsOG7yotbs3kzOP8SfqNS5f362dnglG5lVVUltiCzKJmmDIJZcxPhkvsJ2Pnwwo3e4JYl-uG7l0KYvlcSi-FNR0vKHT5ZRE3pH6kNziKU_dnJag7rk_73p8Ia2Jw0h2USU_dz5Vs7SWNmHNTh19YcrkDjaOxf8QAks03Fn439Rd38yDQOhAI-SFbBPFyeumKE7BuRZFygvZSojZnvkujj617saN-Y5EJAhIZ0kN0aaLyp3UIW48-aH2hNwEnA-HZdCK70MoKixJ5zDjCqN_H6tcm19Qa_qOxEPI=w966-h316-no)\n\n# 個性化推薦新聞和媒體新聞\n\n新聞頁面的組成大致可以分為兩類：“個性化推薦區域”和“媒體新聞區域”。\n\n在“主要新聞”選項卡中，主要構成推薦內容，您可以使用“頭條新聞”（群集新聞）區域按特定問題分組和使用與選舉相關的新聞。“ AiRS推薦新聞”會自動分析用戶的興趣您可以使用推薦的個性化內容。由於此特殊頁面的服務概念側重於“個性化”，因此添加了“通用關鍵字新聞”區域，以通過根據本文提取關鍵字來為用戶提供完全個性化的內容。此外，還增加了一家新聞公司PiCK，該公司提供有關媒體直接選擇的選舉的主要文章。\n\n![個性化推薦新聞](https://lh3.googleusercontent.com/j-9dPcTkSoS9YGlWq3VmG5L6CBZVg455wpdl1Qhu7-GVVESF9JnL-amFJlYyoQEH7OPgTsqjg7L5bkAakkEj_5BMBiM0oac1ocv2SjWqMUr4WQqwGsVo1xG4LOq6BYk2W-5Dlr-O7VWMFyihZno4dU0fZj5oCH38fe0tfJ9c1L5EospyNZ5vc7i7LKw9qAdGWMZgDuJL3OdI9Cw6wu5CMO9KVPnSY4Fa4taM1zOMy1M6gFgCJNykbT-3OkKSQu3KKtSZJA6fDN33YaO9fu3VA5EgLZ2XhoZ2sP2QssLsmO4lWq8lhC5PKe5xwzmM2WU13CI5rxKlVkDIEQ0qq-eGGJjFdb5UmJukI4dz4k-F7rqL9M6X-fNJ_OAQbmocM4s5ZRwCc5uVV9I25iAdgqEll5aINQ3oKum_6CiMxaC2xE6z82XG6ehCgYhM3s3f9MyDAy5TSLbHsOoNo-Sj7-PH-HpO1IoNoBWibSERkBOsZgytHZnjpX5R7zFBwENwEqGJAXSqpNNVZtEZjqDJrnxnjneWbQUX-4ZPwNiPZOihsL0IWwiPhUp3ewgm1MVxr9-n3gFmHZHSw4FCbXolQM7saEWkqpvzdHlJRYQuOruDvW4N_vu7IW6gOAH5iADFlrt0hIDltAgCgWAvOxxEvmKPRDHn7yzQsJk45LKjvb_I47aCf5Kd_sVhSLQHFoLfKVfvB3K5e8TgTUlSIPso9rcef1KL7bSsejEJ28e4qFL7XGRwsMDZzO_hXqtK=w472-h1280-no)\n\n![媒體新聞](https://lh3.googleusercontent.com/KbjcqbXWk93P8ZQkCFORgI9pHgerFLXQbfHzuL0qUsi72s1cYHSe2HQj-L59TzRLAex9Mj1eAxltkXwWQZYq4aQtRKw2vhaUvrrKXDrsNCA5ZghHv05oqDCopTkA9lm6tTVSXTm2DsSqqNuUGJ3JKl67BJk9hQ5N9hGm7mY8VTMXvUn7rthrUy4kcoEephzxkvatV-hf14WxxOg5BaaedV7VLp0fvbksKVcxAHnAu39vVl7y4DTwAt5W8F-6uCA1qQQzZ-qY-BKczCKC2mreCpCcPC7ksMpLp2r-rRy6eWJTY6hueZl9xrACAedeWl-9kvJA6MkeP0mHDdYnOiRc0e2OufKy-phRiUwtsT80ltT4AtZq1b9egla6kAAwFGsbAbtAGHGBibWHI6S0ow-pA7v8Ld5iOVYbdgzYQB7PpTm_7I2a-JjeCl0VhR_-w4ae3mJUkc30OyXyS83Tzu7RmS7YPPpAIbcyHo0-RyeUHZNWb60HCN_bOBWbdBvnpmYtAafXi4Ril3Reuv5pvMsxDWYt9jGutyiTbBSWo1xh_V0XEbTnPcTe9Lr5vaUD1mEozw_xYaU_ryWq8jqJCVvQB2O-WkwW5KjojVBgH6K1tKio6qYuTqAmjbA3A-bypdBy5bb4BNs6RnNejP_LJJnD9hPvtww_AvgywodUqorbJ_QiLeApyLTkRz62lz6dVHfXobevbCz4FUB6Tn7pZxtVkHHMGUztC-pdiIeS6YT84XFiJrxcKfb18xz9=w966-h744-no)\n\n# 由各媒體發行，民意調查結果集中在一個地方！\n\n自2020年大選以來，Naver 提出了一種在圖表中顯示和處理意見統計的方法。目的是“使用者和媒體之間的交流更加直接。”與民意調查相關的文章，例如由媒體直接編輯和提供的政黨批准率和候選人批准率，可以在“人口調查頁面”的一個地方收集。\n\n![民意調查結果集中在一個地方](https://lh3.googleusercontent.com/G-Zv5PZYMCHG3PM0qyLs8Ll6z3wA1k1vG-p1Kv7g1mqakFqnPjcQ7cwYkOOc9yM50bprbrnXC67Cj-IeP_L_rAdRbw5UzXN3ogZpwQFGq46Y_eyUUxJ5M_wsEN5OyipM9Pv9ru9QIoAUTJJvFoZFHEcxAJg7ZjDe25RURF_8yVUD-NGVBkh13rOUwUbox4bC3B5YI5jeXDcBpcVaqX3DkgYjttNlRUdnrNdQMHVihLKB8Jcfeh6tWarB-p9diA_DGwIIuU1TlPRFbIi8LkraMbDxKwey1otEtPRxJwIffbjeEO_8PfmS_kiqQCZ64TLgMWBGH4a1WmHWNwXJYVDGGCQl62crcd5Ofd2XC_YPDVKw_y0JNSi_3J-WflpnBR08XZXjqWToJ-FwXqyYsDVbkPp30gJg1uU8MV_bW3FSFaynwbPE83CuLgrQh0OJ70VYDmT_oRMlzbew9geWh8Lpc-Ni7Icq_HEt-XUcWgJdIjtqtmIHKVIxi_5_BLvov833Nkck2LMwBwu6sKLAzToZvwVyl2mWlu1k7L2wrR8F_0zwLogp3O8QOl3Fay5-VUKSZ7BokJdKUEDWKwDfS_rWH_hRTGK0nyBFgwQuDxDVgMT55PFEBrCJxsFtOnBbi0quDv874EHSO9VWCQPXmgmTPoK9F__WZuCePF-JZYsQtWKZEQ9brhx-HsYXpg2GYKDkP7SDUYfUMVXuJOuj6QfeQbWmSCTsXc_p_mojrHKonC0bVLCSWBU1qEaZ=w966-h1066-no)\n\n# 通過可視化選舉數據，有效溝通！\n\n“過去區域選舉的投票率是多少？”，“哪個區域的投票率最高？” 選舉統計信息和有關選舉的有趣信息以圖表的形式提供。選舉頁面的信息圖用上述的色彩系統，清楚地分類和傳達信息，並在插圖中積極使用這些顏色。\n\n![可視化選舉數據](https://lh3.googleusercontent.com/D2Mcxo5J5hmivUmwxqBmm6h9TeX5E6E9HDM1AC1pqm7SKez47EaINAuI1NttePLU7XCxtCTCaDwTcuCFLDcXUGcLJdebGS-TQdrLbmhosCQ_aINNEy_YvCmpyZnEZSx9WUn9gbbI7r59NPhEkKuTUkpXdxqn0W3ZOAjAYaZf8hypdWouZ_ZBA2-N1o4JEceNMZHtNrE_Cp7hZDbUOgc-w8qe2b46yTckY6thigoToND5-BwshFD9tDetPKTi_xsj4TkbuS_SXy38wKsGgEElgrEmkTIq1Ou9IUHaf7GT67QmcGTYPFKkQXHsWv9ebY4E_Cy2EETn5L5qZvGVz3pbH4_vMz42WGjkR6uq24vwyOglumQSqdH34cteMmgRpkETFGeQLaNSWVwy0zDjxYDki08PsTzEjayZCnLlr3GXHdt3560fXkm6N7DpTMANKlJy_A0DjXxzyqaNI9OTxEUFPczXdP2XZ14Aq7wPSH3sEF5xsUTVmh7DTqvDQuvkgBTL42tBliEVQRCrA3FMJupdKoBDA3DOMFhMcprs_pjc4ONruLfG5UBD_nRqKJ68ESjnTglwVNnUYjX9TnJ_pjWQEiAbtVso3SoAZAntrLJrh1anX0b6ZnXVfVv3nX9HByrz0XwFp-yHyn_uo_fe_1reHquPGSZAkyjEH_dFe6no-ISR1XKOJLl2BVnnsNc9U02yJ-IWLng0DEom4mcFUVFksidmww4A6g4VaNwUgNxeU7eUYY8e8vKQaIjC=w966-h1066-no)\n\n![數據色票](https://lh3.googleusercontent.com/pEL562dFJAJyM-Yw4VHp0_k6jtu9bxDNw8-4sP-vC2JvuK6knMSf15Guo3Azo_QBfmqCpQ_W75rnWcqcZnpOa3vOC8c6QUK8DRkOHKiK74ft8wi17mgUySLDaLBjOwMLmo6O8P8_6AjDikg7o7O834pkk3ft-5_YisDSG9xP36b8WAhlSSa3z8FrHhU4zpQYNobH68WiOBmnQRWx0GffW3N9nn7reT33ECbqhNTn8_kjJdH6qyRCVNQkeigJoEcoI7n8Jh0mQVmNwagcYRbr6IUBJCpKFChWfT6tH2nRfBneiPqk7dMQrUMkGNjtfgC9rghVaYEAkMhwwdPM-L_Te24cp7nRdQzDDTPkv0zweLybfE7pIkXvfBgK9CNx7ZOH14mKedG6ICQb4JUeLt7za741UcwcdVygNnLzjaNqpKv7ZPaEt9NdJa7JuPwX9Bl7buxqrAnQ-HRzXNFuEUS_cm7BysU_1PRd-KqvPdgBMzpJBRVPi4zc4eWeQmfCHedLi8hTF3HcrITVYwGPGWddBtJsIu2n26ADuo42wPPqrdp_Vw08HFa2BJmH0ZPHSVxeUofpIxUoy4jwSnNZzwSrgLRlyeMOhYxnx2nBBRmNw43dV5ypphkd-5EXEEIFImMES4t68AdtbEuBpKdJ0yEvux6SOp2OmyaT9f3juCF6eym3Q_EB8ESdeUrk-v30iYIbOTzMwRE_J_LEre3d5E_HS0YdMuom_-el0Y-2CYnOmIeaI-_0X6hCoyLK=w966-h316-no)\n\n![插圖中積極使用這些顏色](https://lh3.googleusercontent.com/y7kgnDGceI-stEN5mqX6eSpT16h2An675kVne2nliakhZhOjujMvoLSezmRmr9w-1nyr-miTrg6r6_dmiMhZvkceJJr7Hmjbykm0ef4LyNS9ukq4IXnmcHd7X0EM3Zm610JbQtnrisqpmaxfPQyP4llK-sF74m2WVCEfYZVr7ylU7cqYpxPTOtXIsSzGv7uCObvUirn-wPSruojg2mqXct9ouC5-XpI8WxGcJKmZJIbC2dxlPd2x5Vcl6fd7GasJle-9w0uOV93psbOX2yGRv93CQUFM5gLTuip87ZzINR6cf2x4Ze1e_A3KpT0SKYxCAtdxSYWyQZaWlO-IEitXs1uv9BG-Q7kHfYmAxoyfrNSJl-mHRk4eXHN9YJ2LHT0xIeWiirqPq9kVUHb9KW2yfQnHgzVd5Oiz_HNWFaSQd0DBs0XM4PNbyqYEYD9hWr_Zlk5jNSCU-UzLX9kNw4zNZdRJM8bk5Zi1uelU0pcfvgm5qgqmjkLKSZce-UmVua9q8MyOhVQNxkNDeg4CzVR3flS33fu_XyDIxMeOvG9AmDzS7owY97940mtocEVUMzpghG4fbhYaFZbMpvIwmVfN6eSqXNsOykYPyulIdQMjbgqwcmok94jk74TFvURFXSMVIR9y3C2pY9MHhnd4kO5PP-Sa_tsPWlUvJfsStT91F0QfTfsp7HJUDs8EIiH_izHJGsNiRUw1RFqxYS8PhIqRF1nbqcyf8jM_rbRAzk_4lEmS6HQoYBacOj9f=w966-h521-no)\n\n> 心得：選這篇來閱讀主要的原因是裡面有許多視覺圖表的部分，他把圖表的總結寫在上方讓人很清楚地理解狀況，我覺得這點很值得學習，或許在系統 dashboard overview 的統計圖表部分可以採取類似的設計，讓使用者更能快速的掌握目標訊息。文字型的描述則能搭配同色系的插圖，讓內容更豐富，這點也令我想多多嘗試。\n\n# Reference\n\n* [제21대 국회의원선거 특집페이지 1차 오픈](https://blog.naver.com/nvr_design/221868269402)\n","source":"_posts/UXUI/Naver-Study-Case-National-Assembly-Election-Special-Page.md","raw":"---\ntitle: Naver Study Case - National Assembly election special page\ncategories:\n  - UXUI\n  - Naver\nthumbnailImage: https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0\ncoverMeta: out\ntags: [UX, UI, Naver]\ndate: 2020/05/04\nupdated: 2020/05/04\n---\n\n繼上次分享 Naver study case 訂餐 APP 後感覺意猶未盡，剛好看到一個是關於第21屆國民議會選舉特別頁面的設計，覺得很有興趣，我們就來一起看看吧～\n\n<!--more-->\n\n原定於4月15日舉行的第21屆國民議會選舉的選舉日現在提前一個月。\nNaver News製作了一個“特殊頁面”，該頁面提供有關每次選舉的全面信息。\n在2020年大選中，將快速準確地提供有關選舉的信息以及相關新聞。 \n\n![第21屆國民議會選舉特別頁面](https://lh3.googleusercontent.com/gHll-6CMUZTF8E2Oe7feyDPlcuV9hHkS1UOCY-_Mj6XZgjh3bvsm65VqR07kyJfzn7WD_em_64tR4opuZNVv0j16jfDpe1MF3dAerQKNtXCu5xB58ToH3OTEL26fcD6niW9BMvyE_RP2NOAkJ168t-X-pI7kgGXsHPDaPE4iEClkw9BOgLLyTVkzgXhIv8_udSRz_SdQx-35ID6S_K0YfC0c_0TcIPnj1YE1LRm609KGiGhao7CaNzn2lN98CVb7qsBojMPe2Yev1hQjdgeY1boGRslYUwmQGlOEAGpFWTpF6GiMme1_kd8D12db158rxBZKoZe5EJL18p1363mxhjPfA5ZUbyLFAD6snftrkYhSzKwF8R2dVVppPgOEmmBL4a3TckLtEQhMI1MGOA5sb0_n_D_RCZsUZ0vCgg6Xf81bRyhQnS7T9y3BqxUEUXheaiMgr2-TC4yxPdkc2mzxFg-GQIDhEsPXhexq7blbDEeGqpgo9qZdu9ECL8IkzcxVH4jTcUQpbDdZADsnrPIOUk00IWoEqCWyFCUn6OFl8UkNlbT3BZWp9H7vphl1CYNMs3UvRNiF9IAf7vsFeoUo7J8cmhnPvRZI-50Y5jCKBEIzKAKVwm3N_juiQlyxzRS1vM2UyRz5EQ4DU2QALRVPQVeQb_Y-CK1B6L_AzHJuc9xN7yQypD2s6FrPau0kT8gpMC_WNE1HJSOhQpos7xuYke8OZsXJgO3usynY_BNaUM43xKzZqtrZd1gG=w966-h1078-no)\n\n# 通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！ \n\n2020年大選特別頁面的重點是提高與選舉相關的推薦內容的質量，以滿足個人興趣。 利用AiRS開發的“關鍵字新聞”，可以自動提取具有很高用戶興趣的關鍵字，並添加一個完全個性化的域。為了提高資源管理的效率，僅根據上次選舉功能頁面的指示選擇常用組件。Naver News 創建了一個特殊頁面。除了擴展個性化功能外，“ Pick Press”也是一家媒體，該媒體收集與編輯選舉相關的新聞，對其進行改進，可以從各個角度使用選舉新聞：從選舉出版物和統計數據。我們試圖通過“專用觀眾”和“信息圖表”更有效地進行投放。  \n\n因此，第21屆國會選舉專頁服務理念的關鍵詞，可以通過三種方式進行組織：\n\n![服務理念的關鍵詞可通過三種方式進行組織](https://lh3.googleusercontent.com/zJpBnTEaW-a1pDmU64QNHOcAyEVwfT5vp95LB1a0PCBrElQUW0i0MuFjzsrRI_CjJPxfm873ofN-g8OTBsucRh-AaYJC0NnltAKjdYCV6pjElun7VeRKT6QzTB58XdmSFeOOGz01BQipGD8fk0Xvp-MdJf2te7dnPJSWH8StyF6pX6R5yEgouInJHCPRCvn9U5BdrO9jVnXHwX1pcoMU9BmKDax0zGH2AXhTwbM0Qn9aSUWT8U9dETyebXRyppLKvYGUPY881E4mJtBfSwsl0B0TtC4rdQAWJ7OYuxTsVk3Dy5v45SQojqe97WXSEidL46Se2TEDbhBFenlosOOvItZmGPVfpceheV3T4i1vFTC5PubsYJknLCtyEpK50b6y2ld5EaaOfj98isZpyf3dEmFURXj2kYgcZ-2a-IKQv0UlrdcdQe2697Da_YzraQXf2TaKGlJenI9TVwCdXmw3-G4_a8cprwBkLKVDsvKSmkcbEli0-NBqIXmjAMr7LrW5Iwe0h8h_lV9mU_D7RjX0eQSy1fRjzmBpK0iyl4TyC9TlsJMQ-COf-nj_0AMhGXMKv77wn3oIcGhhSH0LC910Qy0CRyQEuQiMtt4LL3T6_6VR4ZR6oc8J35Ze61rqVZhdZd4HZRJ0LzkFztfGdNgVQ1pLCTIHnxY7Dw0_wxav2S421719zA1lV_Wg1I-30ojPp-sgZXehdfda8KEREA0GE6fB3I-ns5Au9CgF7wN0Foz3INLtHyO_YkfQ=w966-h451-no)\n\n# 建立可重複使用的選舉頁面模板，提高資源管理效率！\n\n第21屆國會選舉專頁的關鍵改進點是`組件化`。由於每隔幾年會重複進行一次選舉，因此每次都會使用一些常用的模板，專為高效可重複用而設計。由於這些組件可以組合使用，因此在特殊情況下也可以處理它們。利用每次選舉的概念和品牌標識，無需花費大量資源即可構建每次選舉的功能頁面。 這些節省的資源可用於提高內容質量。 因此，我們希望進一步提高選舉服務的質量，並將其價值傳遞給用戶。\n\n![組件化模組](https://lh3.googleusercontent.com/FjSEajlmRI0IjzQwBMUR5zooRMiUQSIqeVSHyfpDRm_tlIxF4FFHcdD82mC9fZ7hhx5jcaoHnIsCCxJu1u-UEe9rDV70CIpEOH8PtzM62LpXAhiMmslsYvqDbLEz2IiD2H4KfTfLExY9fLdqftebKN1r9nm1VwQboMQF_St1fU6a8aHQzZG6uzM3ePAj5mIgkrdMpuPhU_CRKJ9eoD8rxLknrDD2c2-_txIH1W8xqkw3yCgaODkLw3Uf1ze5lQl0YRGPpqeovQ_eIZH3NeKWaT5o4uRVzSJBpUjC09LGaBwzim4mDEQ6sycKKoI71HqQIc0dxu1BiHY2LjJ6V9AEEO9g-lWcAHepmgLkPgmegS2UFsioNF01Q9BXJrCWbe9LyHPfGXa3crhDuhELsUpuyEZlg5P5Wn4EifyZN0gPoeOYTflnt6KeTU7w3pAAsxnnW-C7t8EVPm-drr22U-5ptN77JKZ6nKwtV7PcyXf8qtET3eZ5b7sXe0OjBuhuWtBAxMHw-YX0RSGyXfFBnM_3PuIDQ-GZKoMA7rHy0ECCdiQlfq2I25mDVH2AlovaZ3sLIa3HJh29p17hB9Vgcx2llPdWupnb9u1YNR15QhYYcDgl2XgNwNBl-Q1fGrAhGdTHD4Uol2KJAk4a4V87kBruyErJLl4zu6cQIlFgHBzsuJkgIcW3tY6Gk2uy110nUK5kNuPBrHaf1gPMFsJZq31V6VltfKedXw6TueOzwpMw5qE7say5uEOdE6LO=w966-h566-no)\n\n![PC, Mobile 設計](https://lh3.googleusercontent.com/BFhl4KF04dslmVH-2z-2ohDdBLBlp3Yj6sr4R69KI1HnZkWESXMlohSoGVTEcbigpRH4mvAl7lR5R1mry-Y_-ZovJlvwdq41L0RuJmuKUneM_fiL8OeX34g9h_L6Pgbsnjo4oBE7IJ6wER3twGc4kWIm8YwVFXKSsjli0jr9iYf-hyozLH9foW2yD5VknLSMxAoAmZjPMgyY-G4jGoZsiGb92DY1-L_Ii9Ac6xqJp-AV4cR6g3IZ8gQSJpmRDAOlwFWZHYgJoK2n5tX07fDLzFWGDvYzRUA8GH36T1XNGMhm99ucu1_xzqLntKOqTqMzbXbo8LhBlWXWqmG3OqZexAU-RdKP_6-vaozbX5mieWg2ETNTTAIoCe6OaoroHYF7iiTjgeBWVS0tmDBNprT_8dHJBXgS2Ld5dO4MSjYqq8a8N33kBNko-W29t8zHXzdYxuQt7wfeJYeVUBqqAsagJAepQwAn4TmFSYFUct0e8wstosD5j7d6PX3ryeMiB0_pD4oKRX9xh5bBY0wbm8XQtQYo-R6_kluiPb3yli2nbT9MKds64vGPamLkriBruWIG7WXpW4nhAg-8hkB5aWOoiWKUgYQRuBuuiBR7p38fM4FfFP6mZl5hk6iF51UV576YiLSnO_MnEA6fWIC8cwoKmBdsLsM3gboiwdLodtWYdpPvc2jaSfyB5gbGc75Rh1-BWcPBL5c5y_XWPfjsovBgCyzVE_JYn_gkkCrp-EC8_ZhBGSFzs0Nm139T=w966-h1129-no)\n\n![頭條新聞模板](https://lh3.googleusercontent.com/0IWJhj4Xfw7odRDnDDYdNqN3-E-VvvDkZnn5UgSfKc7DfSLpJ8e99EzdIyvhHHFXmGKzFL6zftXeZcjEs3T6W0I9lOyg2doZqaONhjjyf98KqTY8tRrPGbyn7xZ7ce7iD_EFaex1DaT44Yiw5sjCD-md3titMr6GA4vpTE-pyr5I6CAMobClLcSnFq2wsW7oKtFnsLEuXbSFmjFJbPN3ySRQYfnLjs5iQX6MvXdDS1HQZgd0qNp5ZrvXPSGuncDLfRXU3xwyb82qfBfyky-mSyx46daClqK7YJpHBaotCzMZzlSCtRlnY79IfYWup4TJvHDM6J9diOTV5v1Rsj8A6CnXIIF5_YRn4zRsT99E_vCs8pMjYQzVCCVLUH4Wj9ju3QvZ_BGdHn2Xh6nTSm9lyf0eJpqR9VvssGcuUPCpzS_Wb0-s-H36-cm45_HfesLcgbkfehNrBJjcvOEJ2MqAg-eJX2CI55PJSp_b2Bku1ejL_4IL9C_ISqmnevWZFmnP5Kv3EY4yG-ZFWaMoCadosg2G5xMNh1qCkH_Mi70tnRjgPlRDJfLs2FAyu180E890-hisWv-GUjd2ZFJJPShKCvIOi67W3jvlXqq3weoSrCMfOU2oIstr1O6Zpt1aL5xzhlvEDbJBdUsw3iCiku2NKf4TR0HtriREXAzOB-v5BvrPxmHgFdndUvsopj3qSsFpB4yaocWx04UklNZABo2wkrG6t7KUkPvIpLCt83pkQt91A4HMNiC7_gwC=w966-h548-no)\n\n效率的判別是基於頭條新聞模板中的累積指標（我猜是點閱率），這些指標在構建頁面時原來由六個模板組成。去除效率低的模板，最後僅選擇了頻繁使用的三個模板。\n\n# 2020年大選品牌形象: “穩定”，“信任”和“改變”\n\n第21屆國民議會選舉的主要身份包括“穩定”，“信任”和“改變”的含義。上次選舉的特別頁面上用“圓圈”符號表示“穩定性”，用“靛藍”顏色表示“信任”。為了保持設計傳統，對它進行了保留，但是“更改”的含義是新添加上去的。\n\n## 色彩系統\n\n選擇 primary color 的最重要標準不是讓人聯想到特定政黨的顏色，而是選擇靛藍的顏色，該顏色與九個政黨的顏色並不相似，但也被像徵真誠，謙遜，穩定和信任的顏色。靛藍被選為背景色，而具有人道主義，原始和中性象徵意義的紫色則被表示為漸變，並被選為“強調色”。\n\n![色彩系統](https://lh3.googleusercontent.com/nUpf_i61hCuxXrilYf955BRrSBTp7N3teJWca78DaERi43YmtgmFA31_dCcQEcHo6aSISQ0U_qowcP_Oq_W9kI03kEd8eDvBRcFWuiLnrpKFEWpDt05FwjKG2X3_BllBkA8atbHn-YMQdn22qsMBimI25erdTozTLw5fganhmQWOBzZG-R2V37pgtX2Ebc00A2g2FB1e243dBcs0VKIWfnTjqa-Tmq1LZFEuPO3fsjdDkahORQuWQGOyie64MVATOO77_uEF8-DNpY60GvbwB1G-iqA52VZlLZ9xIXagk_-2y6AMbi0qLqD7VOjrz1b2tppimp-_o-t3VFxhbOh4EIPjOtLazYqLWSto4BY5p3gE-5avEfLcLwwlzat7s9Ql4QgZJ8L-qsShs34wxBrd9U9-hIq-289b8-QAiR92iu0APu4nW0YH4_mxtbiRGT-1HsfdmDZHzfX-mvfzukgOKx-0xkxi0m9SU0Ci3wPYdqkq96pjNx8RgQUGsR8ikx0cf_GDXzL48xefJ2Ftimt_OtF6UQPaqmalrqTZNbhJMzHpdPhnp09m6fsLtTkAzwEhQaALfKzPtqOThXqzGH1UcRZcJuECWEfTVUTT2QEAFJJAlAx2CWtkIkyT_A_-rlycvo4FbuFEuuDc3A0BSlp15o2ema8dj8v5SaYsj7YYbADd_4iMty4o0JbA9l3gYO4or9RtI7IQhxbcokm0U5tAC5d38RM3HuRRtQtw7AFRy_gP2zO4zrfZ13Ho=w966-h316-no)\n\n## 品牌識別\n\n品牌標識還使用 HG Codec 繼承了上一個選舉功能頁面的品牌元素。此字體是具有完整正方形結構的標題哥特式字體，並且在具有類比功能的同時，還以模塊化的形式表達了穩定性和現代感。這與2020年大選設計標識“穩定”，“信任”和“改變”的方向一致。\n\n![品牌識別](https://lh3.googleusercontent.com/eWiy3envwtGn9XU5ZhsO3nRev3e8BBK_v0omWv5hgZIfuQtel-tx08L3V4JXPurF74S1zYJUIMFp7W9sXri0fTpvI7C_j-j-7886qYERhLEILNNr9GyecoDw_LQRZF8yo45m8u_m0D3qR4HEoyCQqHqfRCVwil7Ly7M6UKpLbTVkor4TJ_Qa1VX2UEoDltxzWwg82034QtN28-EHzziKdo0RSJhaRRphfhRskw7T6QBhztaoANY5INUWJOTbKKkOzQFbab4sGBjzycNptrPufQLWD8H3EFbZG1sQhB2kJ-vYdqfixgsD05MAHJIZrU0BpYRFVPnn7mKH1GThLKU34wSN61z5-jol-R5jHo91rmvlXfMkfSMtJ6hBXG-Xb4j703rBGqpH13EsU1B24uWu4j2VnUi6yW31ikjBAusGTgXcNyB44WCkwj28boY_6cBN_ddnhPyGc8WXi5H2DqsOzko0LJjW5f4zebRzEj3NDq00DJJksR6pNCAZxoVY1et5WNu7KKsbC_w8oE_IwtEa2lVSlHm-nBdetGvVRaZ_-3UXLLKoYoW4deXMJEOx746SCwkV1oJVu0F-_WDxtkmN-wfu9kSlCrumLZSA86nzarHOl9lq0Cq5GqMHHfnw3aGah2VfuqQMx6VtGAXlWP1L2OrbQP28sf0-c-u-5H7Y50-qD4ng7mzVPQPQq4ZCIsqHAlwTikkBOr-A00kWxcyqBU5e7DC85aPIL-ZgMWp6hfMHVb4RivSGITsv=w966-h316-no)\n\n## 圖形系統\n\n除了“穩定”和“信任”這兩個關鍵字之外，圖形系統還試圖強調新添加的“改變”的含義。圓圈的形狀意味著很多選民，並且以各種大小表示，以包含不同年齡的人。隨著選舉年齡的減少（18歲）和強調多樣性，中士的運動試圖動態地表達“交流”和“改變”的意願，並且人們強調了多元化，並且在當前的政治領域中人們對改變的渴望與日俱增。\n\n![圖形系統 Dark](https://lh3.googleusercontent.com/lyhDNt83ya1rj7Qsuf2bsqFYWC4uh4UIEl_jCfNDOpTldDSIgw-WIGZ5HYhmd72e92corPNgs1mn_Pz9RiMdF5ZYC5GbXZ_NUAhPTGh_W298VsUtvkCybRYZGkzJEdgUdnDTsuTWHNx-5rHeyA_61DaAIR7Q9L4_U34UvLi2-KJC-NOcLznIYMVKgkxmued9npsP0Z4g-lpggcbvSF00QPNlpukELF-I4ARWnoD3Sv8fbrZZBZd2kXqLDmQCp9dB9m6-b9EUPDzuwgkmFkFi_0g5xmcX2CVrj9eR30AmwPm-dXBz9zU__SQL4eTQYOl6_3v-1oMSEzUpBgQ8lmcWquDubm2EYdD8EKEvA4Kj3bqngeeuXy-Uuuzcoz6R5daS-6AMEKWf8P5dMVpdmyMf59-1Iia9BP2rIiIy-Kqj5j0sGEQEggCYbLGCduK3xjOAqNClG4ayEWf6zLrgv6kyNA7NBmUlvPsQZ6B5Sg10cEzABVjza6OP65_VWv7MVCwNWrYBc03gHQBhv61WF6-gkr2avWG-RQ6sOF-R3Q15prkU1wvOf_kRsxNdXUWPj9QP6pdOOb93Eu8NiKymPxaF-NvRc8mVUFOG91Qefcpp4UASnC3OU6YqHmQhXEzBz83iM3iWeJ2O59WdTRSlCqx-QtSv2acL89hrtgIKzMi6vw87oJQFSDdugUEit1MTzxR5tKNPNXBJk0DC_eNXFhdSMwMb4WgiGHqzZl2fgJ4UsZtduy6oc7d321wx=w966-h316-no)\n\n![圖形系統 Light](https://lh3.googleusercontent.com/BnmxrGvjgSnf1ZWZYvj7p2wb_-cu7oEEyxpRKO48SsEas1zSEpkQvY6ATeuXJ-M2AjEZlK5RjCdtOTmWEfCOoaUO_e6V72X0vTRMD5wtDFM9qXUMtmDO_bCVg4-8_QPCKiPUy5qVqQ2emBOJYjigOETK3h7SHknIxX7hxTFnUzs0NUcSR-RXM8DeXWIRUVwziPt5WI-ohZW1xDBlKKdQg228oUiW9M3S40x_oohNuBfKWnBbo3Q_mySCeay8c8EF17_cwEDG7eIU_CqIX47ffn7DdwxU8oxq8ztuDTXRo7SjjG7C0_8rXuaLKvt1xPW13YIFDaslC8IclOlmng4F7YS3fbtE_MnBmh-gbHnG5_3bZoA_9OaRkKG2ll331hjaE7MyNZVY9-0C1KpPb4FN0wCSZbeq24_cXv_J5M-5XnuDyJiMA-gydGJHcirN-rTlCoMgmLZc8ZSf6UbjkXhDnLsOG7yotbs3kzOP8SfqNS5f362dnglG5lVVUltiCzKJmmDIJZcxPhkvsJ2Pnwwo3e4JYl-uG7l0KYvlcSi-FNR0vKHT5ZRE3pH6kNziKU_dnJag7rk_73p8Ia2Jw0h2USU_dz5Vs7SWNmHNTh19YcrkDjaOxf8QAks03Fn439Rd38yDQOhAI-SFbBPFyeumKE7BuRZFygvZSojZnvkujj617saN-Y5EJAhIZ0kN0aaLyp3UIW48-aH2hNwEnA-HZdCK70MoKixJ5zDjCqN_H6tcm19Qa_qOxEPI=w966-h316-no)\n\n# 個性化推薦新聞和媒體新聞\n\n新聞頁面的組成大致可以分為兩類：“個性化推薦區域”和“媒體新聞區域”。\n\n在“主要新聞”選項卡中，主要構成推薦內容，您可以使用“頭條新聞”（群集新聞）區域按特定問題分組和使用與選舉相關的新聞。“ AiRS推薦新聞”會自動分析用戶的興趣您可以使用推薦的個性化內容。由於此特殊頁面的服務概念側重於“個性化”，因此添加了“通用關鍵字新聞”區域，以通過根據本文提取關鍵字來為用戶提供完全個性化的內容。此外，還增加了一家新聞公司PiCK，該公司提供有關媒體直接選擇的選舉的主要文章。\n\n![個性化推薦新聞](https://lh3.googleusercontent.com/j-9dPcTkSoS9YGlWq3VmG5L6CBZVg455wpdl1Qhu7-GVVESF9JnL-amFJlYyoQEH7OPgTsqjg7L5bkAakkEj_5BMBiM0oac1ocv2SjWqMUr4WQqwGsVo1xG4LOq6BYk2W-5Dlr-O7VWMFyihZno4dU0fZj5oCH38fe0tfJ9c1L5EospyNZ5vc7i7LKw9qAdGWMZgDuJL3OdI9Cw6wu5CMO9KVPnSY4Fa4taM1zOMy1M6gFgCJNykbT-3OkKSQu3KKtSZJA6fDN33YaO9fu3VA5EgLZ2XhoZ2sP2QssLsmO4lWq8lhC5PKe5xwzmM2WU13CI5rxKlVkDIEQ0qq-eGGJjFdb5UmJukI4dz4k-F7rqL9M6X-fNJ_OAQbmocM4s5ZRwCc5uVV9I25iAdgqEll5aINQ3oKum_6CiMxaC2xE6z82XG6ehCgYhM3s3f9MyDAy5TSLbHsOoNo-Sj7-PH-HpO1IoNoBWibSERkBOsZgytHZnjpX5R7zFBwENwEqGJAXSqpNNVZtEZjqDJrnxnjneWbQUX-4ZPwNiPZOihsL0IWwiPhUp3ewgm1MVxr9-n3gFmHZHSw4FCbXolQM7saEWkqpvzdHlJRYQuOruDvW4N_vu7IW6gOAH5iADFlrt0hIDltAgCgWAvOxxEvmKPRDHn7yzQsJk45LKjvb_I47aCf5Kd_sVhSLQHFoLfKVfvB3K5e8TgTUlSIPso9rcef1KL7bSsejEJ28e4qFL7XGRwsMDZzO_hXqtK=w472-h1280-no)\n\n![媒體新聞](https://lh3.googleusercontent.com/KbjcqbXWk93P8ZQkCFORgI9pHgerFLXQbfHzuL0qUsi72s1cYHSe2HQj-L59TzRLAex9Mj1eAxltkXwWQZYq4aQtRKw2vhaUvrrKXDrsNCA5ZghHv05oqDCopTkA9lm6tTVSXTm2DsSqqNuUGJ3JKl67BJk9hQ5N9hGm7mY8VTMXvUn7rthrUy4kcoEephzxkvatV-hf14WxxOg5BaaedV7VLp0fvbksKVcxAHnAu39vVl7y4DTwAt5W8F-6uCA1qQQzZ-qY-BKczCKC2mreCpCcPC7ksMpLp2r-rRy6eWJTY6hueZl9xrACAedeWl-9kvJA6MkeP0mHDdYnOiRc0e2OufKy-phRiUwtsT80ltT4AtZq1b9egla6kAAwFGsbAbtAGHGBibWHI6S0ow-pA7v8Ld5iOVYbdgzYQB7PpTm_7I2a-JjeCl0VhR_-w4ae3mJUkc30OyXyS83Tzu7RmS7YPPpAIbcyHo0-RyeUHZNWb60HCN_bOBWbdBvnpmYtAafXi4Ril3Reuv5pvMsxDWYt9jGutyiTbBSWo1xh_V0XEbTnPcTe9Lr5vaUD1mEozw_xYaU_ryWq8jqJCVvQB2O-WkwW5KjojVBgH6K1tKio6qYuTqAmjbA3A-bypdBy5bb4BNs6RnNejP_LJJnD9hPvtww_AvgywodUqorbJ_QiLeApyLTkRz62lz6dVHfXobevbCz4FUB6Tn7pZxtVkHHMGUztC-pdiIeS6YT84XFiJrxcKfb18xz9=w966-h744-no)\n\n# 由各媒體發行，民意調查結果集中在一個地方！\n\n自2020年大選以來，Naver 提出了一種在圖表中顯示和處理意見統計的方法。目的是“使用者和媒體之間的交流更加直接。”與民意調查相關的文章，例如由媒體直接編輯和提供的政黨批准率和候選人批准率，可以在“人口調查頁面”的一個地方收集。\n\n![民意調查結果集中在一個地方](https://lh3.googleusercontent.com/G-Zv5PZYMCHG3PM0qyLs8Ll6z3wA1k1vG-p1Kv7g1mqakFqnPjcQ7cwYkOOc9yM50bprbrnXC67Cj-IeP_L_rAdRbw5UzXN3ogZpwQFGq46Y_eyUUxJ5M_wsEN5OyipM9Pv9ru9QIoAUTJJvFoZFHEcxAJg7ZjDe25RURF_8yVUD-NGVBkh13rOUwUbox4bC3B5YI5jeXDcBpcVaqX3DkgYjttNlRUdnrNdQMHVihLKB8Jcfeh6tWarB-p9diA_DGwIIuU1TlPRFbIi8LkraMbDxKwey1otEtPRxJwIffbjeEO_8PfmS_kiqQCZ64TLgMWBGH4a1WmHWNwXJYVDGGCQl62crcd5Ofd2XC_YPDVKw_y0JNSi_3J-WflpnBR08XZXjqWToJ-FwXqyYsDVbkPp30gJg1uU8MV_bW3FSFaynwbPE83CuLgrQh0OJ70VYDmT_oRMlzbew9geWh8Lpc-Ni7Icq_HEt-XUcWgJdIjtqtmIHKVIxi_5_BLvov833Nkck2LMwBwu6sKLAzToZvwVyl2mWlu1k7L2wrR8F_0zwLogp3O8QOl3Fay5-VUKSZ7BokJdKUEDWKwDfS_rWH_hRTGK0nyBFgwQuDxDVgMT55PFEBrCJxsFtOnBbi0quDv874EHSO9VWCQPXmgmTPoK9F__WZuCePF-JZYsQtWKZEQ9brhx-HsYXpg2GYKDkP7SDUYfUMVXuJOuj6QfeQbWmSCTsXc_p_mojrHKonC0bVLCSWBU1qEaZ=w966-h1066-no)\n\n# 通過可視化選舉數據，有效溝通！\n\n“過去區域選舉的投票率是多少？”，“哪個區域的投票率最高？” 選舉統計信息和有關選舉的有趣信息以圖表的形式提供。選舉頁面的信息圖用上述的色彩系統，清楚地分類和傳達信息，並在插圖中積極使用這些顏色。\n\n![可視化選舉數據](https://lh3.googleusercontent.com/D2Mcxo5J5hmivUmwxqBmm6h9TeX5E6E9HDM1AC1pqm7SKez47EaINAuI1NttePLU7XCxtCTCaDwTcuCFLDcXUGcLJdebGS-TQdrLbmhosCQ_aINNEy_YvCmpyZnEZSx9WUn9gbbI7r59NPhEkKuTUkpXdxqn0W3ZOAjAYaZf8hypdWouZ_ZBA2-N1o4JEceNMZHtNrE_Cp7hZDbUOgc-w8qe2b46yTckY6thigoToND5-BwshFD9tDetPKTi_xsj4TkbuS_SXy38wKsGgEElgrEmkTIq1Ou9IUHaf7GT67QmcGTYPFKkQXHsWv9ebY4E_Cy2EETn5L5qZvGVz3pbH4_vMz42WGjkR6uq24vwyOglumQSqdH34cteMmgRpkETFGeQLaNSWVwy0zDjxYDki08PsTzEjayZCnLlr3GXHdt3560fXkm6N7DpTMANKlJy_A0DjXxzyqaNI9OTxEUFPczXdP2XZ14Aq7wPSH3sEF5xsUTVmh7DTqvDQuvkgBTL42tBliEVQRCrA3FMJupdKoBDA3DOMFhMcprs_pjc4ONruLfG5UBD_nRqKJ68ESjnTglwVNnUYjX9TnJ_pjWQEiAbtVso3SoAZAntrLJrh1anX0b6ZnXVfVv3nX9HByrz0XwFp-yHyn_uo_fe_1reHquPGSZAkyjEH_dFe6no-ISR1XKOJLl2BVnnsNc9U02yJ-IWLng0DEom4mcFUVFksidmww4A6g4VaNwUgNxeU7eUYY8e8vKQaIjC=w966-h1066-no)\n\n![數據色票](https://lh3.googleusercontent.com/pEL562dFJAJyM-Yw4VHp0_k6jtu9bxDNw8-4sP-vC2JvuK6knMSf15Guo3Azo_QBfmqCpQ_W75rnWcqcZnpOa3vOC8c6QUK8DRkOHKiK74ft8wi17mgUySLDaLBjOwMLmo6O8P8_6AjDikg7o7O834pkk3ft-5_YisDSG9xP36b8WAhlSSa3z8FrHhU4zpQYNobH68WiOBmnQRWx0GffW3N9nn7reT33ECbqhNTn8_kjJdH6qyRCVNQkeigJoEcoI7n8Jh0mQVmNwagcYRbr6IUBJCpKFChWfT6tH2nRfBneiPqk7dMQrUMkGNjtfgC9rghVaYEAkMhwwdPM-L_Te24cp7nRdQzDDTPkv0zweLybfE7pIkXvfBgK9CNx7ZOH14mKedG6ICQb4JUeLt7za741UcwcdVygNnLzjaNqpKv7ZPaEt9NdJa7JuPwX9Bl7buxqrAnQ-HRzXNFuEUS_cm7BysU_1PRd-KqvPdgBMzpJBRVPi4zc4eWeQmfCHedLi8hTF3HcrITVYwGPGWddBtJsIu2n26ADuo42wPPqrdp_Vw08HFa2BJmH0ZPHSVxeUofpIxUoy4jwSnNZzwSrgLRlyeMOhYxnx2nBBRmNw43dV5ypphkd-5EXEEIFImMES4t68AdtbEuBpKdJ0yEvux6SOp2OmyaT9f3juCF6eym3Q_EB8ESdeUrk-v30iYIbOTzMwRE_J_LEre3d5E_HS0YdMuom_-el0Y-2CYnOmIeaI-_0X6hCoyLK=w966-h316-no)\n\n![插圖中積極使用這些顏色](https://lh3.googleusercontent.com/y7kgnDGceI-stEN5mqX6eSpT16h2An675kVne2nliakhZhOjujMvoLSezmRmr9w-1nyr-miTrg6r6_dmiMhZvkceJJr7Hmjbykm0ef4LyNS9ukq4IXnmcHd7X0EM3Zm610JbQtnrisqpmaxfPQyP4llK-sF74m2WVCEfYZVr7ylU7cqYpxPTOtXIsSzGv7uCObvUirn-wPSruojg2mqXct9ouC5-XpI8WxGcJKmZJIbC2dxlPd2x5Vcl6fd7GasJle-9w0uOV93psbOX2yGRv93CQUFM5gLTuip87ZzINR6cf2x4Ze1e_A3KpT0SKYxCAtdxSYWyQZaWlO-IEitXs1uv9BG-Q7kHfYmAxoyfrNSJl-mHRk4eXHN9YJ2LHT0xIeWiirqPq9kVUHb9KW2yfQnHgzVd5Oiz_HNWFaSQd0DBs0XM4PNbyqYEYD9hWr_Zlk5jNSCU-UzLX9kNw4zNZdRJM8bk5Zi1uelU0pcfvgm5qgqmjkLKSZce-UmVua9q8MyOhVQNxkNDeg4CzVR3flS33fu_XyDIxMeOvG9AmDzS7owY97940mtocEVUMzpghG4fbhYaFZbMpvIwmVfN6eSqXNsOykYPyulIdQMjbgqwcmok94jk74TFvURFXSMVIR9y3C2pY9MHhnd4kO5PP-Sa_tsPWlUvJfsStT91F0QfTfsp7HJUDs8EIiH_izHJGsNiRUw1RFqxYS8PhIqRF1nbqcyf8jM_rbRAzk_4lEmS6HQoYBacOj9f=w966-h521-no)\n\n> 心得：選這篇來閱讀主要的原因是裡面有許多視覺圖表的部分，他把圖表的總結寫在上方讓人很清楚地理解狀況，我覺得這點很值得學習，或許在系統 dashboard overview 的統計圖表部分可以採取類似的設計，讓使用者更能快速的掌握目標訊息。文字型的描述則能搭配同色系的插圖，讓內容更豐富，這點也令我想多多嘗試。\n\n# Reference\n\n* [제21대 국회의원선거 특집페이지 1차 오픈](https://blog.naver.com/nvr_design/221868269402)\n","slug":"UXUI/Naver-Study-Case-National-Assembly-Election-Special-Page","published":1,"_id":"cl0uov9rm0039r3y7dugodvqo","comments":1,"layout":"post","photos":[],"link":"","content":"<p>繼上次分享 Naver study case 訂餐 APP 後感覺意猶未盡，剛好看到一個是關於第21屆國民議會選舉特別頁面的設計，覺得很有興趣，我們就來一起看看吧～</p>\n<span id=\"more\"></span>\n\n<p>原定於4月15日舉行的第21屆國民議會選舉的選舉日現在提前一個月。<br>Naver News製作了一個“特殊頁面”，該頁面提供有關每次選舉的全面信息。<br>在2020年大選中，將快速準確地提供有關選舉的信息以及相關新聞。 </p>\n<p><img src=\"https://lh3.googleusercontent.com/gHll-6CMUZTF8E2Oe7feyDPlcuV9hHkS1UOCY-_Mj6XZgjh3bvsm65VqR07kyJfzn7WD_em_64tR4opuZNVv0j16jfDpe1MF3dAerQKNtXCu5xB58ToH3OTEL26fcD6niW9BMvyE_RP2NOAkJ168t-X-pI7kgGXsHPDaPE4iEClkw9BOgLLyTVkzgXhIv8_udSRz_SdQx-35ID6S_K0YfC0c_0TcIPnj1YE1LRm609KGiGhao7CaNzn2lN98CVb7qsBojMPe2Yev1hQjdgeY1boGRslYUwmQGlOEAGpFWTpF6GiMme1_kd8D12db158rxBZKoZe5EJL18p1363mxhjPfA5ZUbyLFAD6snftrkYhSzKwF8R2dVVppPgOEmmBL4a3TckLtEQhMI1MGOA5sb0_n_D_RCZsUZ0vCgg6Xf81bRyhQnS7T9y3BqxUEUXheaiMgr2-TC4yxPdkc2mzxFg-GQIDhEsPXhexq7blbDEeGqpgo9qZdu9ECL8IkzcxVH4jTcUQpbDdZADsnrPIOUk00IWoEqCWyFCUn6OFl8UkNlbT3BZWp9H7vphl1CYNMs3UvRNiF9IAf7vsFeoUo7J8cmhnPvRZI-50Y5jCKBEIzKAKVwm3N_juiQlyxzRS1vM2UyRz5EQ4DU2QALRVPQVeQb_Y-CK1B6L_AzHJuc9xN7yQypD2s6FrPau0kT8gpMC_WNE1HJSOhQpos7xuYke8OZsXJgO3usynY_BNaUM43xKzZqtrZd1gG=w966-h1078-no\" alt=\"第21屆國民議會選舉特別頁面\"></p>\n<h1 id=\"通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\"><a href=\"#通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\" class=\"headerlink\" title=\"通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\"></a>通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！</h1><p>2020年大選特別頁面的重點是提高與選舉相關的推薦內容的質量，以滿足個人興趣。 利用AiRS開發的“關鍵字新聞”，可以自動提取具有很高用戶興趣的關鍵字，並添加一個完全個性化的域。為了提高資源管理的效率，僅根據上次選舉功能頁面的指示選擇常用組件。Naver News 創建了一個特殊頁面。除了擴展個性化功能外，“ Pick Press”也是一家媒體，該媒體收集與編輯選舉相關的新聞，對其進行改進，可以從各個角度使用選舉新聞：從選舉出版物和統計數據。我們試圖通過“專用觀眾”和“信息圖表”更有效地進行投放。  </p>\n<p>因此，第21屆國會選舉專頁服務理念的關鍵詞，可以通過三種方式進行組織：</p>\n<p><img src=\"https://lh3.googleusercontent.com/zJpBnTEaW-a1pDmU64QNHOcAyEVwfT5vp95LB1a0PCBrElQUW0i0MuFjzsrRI_CjJPxfm873ofN-g8OTBsucRh-AaYJC0NnltAKjdYCV6pjElun7VeRKT6QzTB58XdmSFeOOGz01BQipGD8fk0Xvp-MdJf2te7dnPJSWH8StyF6pX6R5yEgouInJHCPRCvn9U5BdrO9jVnXHwX1pcoMU9BmKDax0zGH2AXhTwbM0Qn9aSUWT8U9dETyebXRyppLKvYGUPY881E4mJtBfSwsl0B0TtC4rdQAWJ7OYuxTsVk3Dy5v45SQojqe97WXSEidL46Se2TEDbhBFenlosOOvItZmGPVfpceheV3T4i1vFTC5PubsYJknLCtyEpK50b6y2ld5EaaOfj98isZpyf3dEmFURXj2kYgcZ-2a-IKQv0UlrdcdQe2697Da_YzraQXf2TaKGlJenI9TVwCdXmw3-G4_a8cprwBkLKVDsvKSmkcbEli0-NBqIXmjAMr7LrW5Iwe0h8h_lV9mU_D7RjX0eQSy1fRjzmBpK0iyl4TyC9TlsJMQ-COf-nj_0AMhGXMKv77wn3oIcGhhSH0LC910Qy0CRyQEuQiMtt4LL3T6_6VR4ZR6oc8J35Ze61rqVZhdZd4HZRJ0LzkFztfGdNgVQ1pLCTIHnxY7Dw0_wxav2S421719zA1lV_Wg1I-30ojPp-sgZXehdfda8KEREA0GE6fB3I-ns5Au9CgF7wN0Foz3INLtHyO_YkfQ=w966-h451-no\" alt=\"服務理念的關鍵詞可通過三種方式進行組織\"></p>\n<h1 id=\"建立可重複使用的選舉頁面模板，提高資源管理效率！\"><a href=\"#建立可重複使用的選舉頁面模板，提高資源管理效率！\" class=\"headerlink\" title=\"建立可重複使用的選舉頁面模板，提高資源管理效率！\"></a>建立可重複使用的選舉頁面模板，提高資源管理效率！</h1><p>第21屆國會選舉專頁的關鍵改進點是<code>組件化</code>。由於每隔幾年會重複進行一次選舉，因此每次都會使用一些常用的模板，專為高效可重複用而設計。由於這些組件可以組合使用，因此在特殊情況下也可以處理它們。利用每次選舉的概念和品牌標識，無需花費大量資源即可構建每次選舉的功能頁面。 這些節省的資源可用於提高內容質量。 因此，我們希望進一步提高選舉服務的質量，並將其價值傳遞給用戶。</p>\n<p><img src=\"https://lh3.googleusercontent.com/FjSEajlmRI0IjzQwBMUR5zooRMiUQSIqeVSHyfpDRm_tlIxF4FFHcdD82mC9fZ7hhx5jcaoHnIsCCxJu1u-UEe9rDV70CIpEOH8PtzM62LpXAhiMmslsYvqDbLEz2IiD2H4KfTfLExY9fLdqftebKN1r9nm1VwQboMQF_St1fU6a8aHQzZG6uzM3ePAj5mIgkrdMpuPhU_CRKJ9eoD8rxLknrDD2c2-_txIH1W8xqkw3yCgaODkLw3Uf1ze5lQl0YRGPpqeovQ_eIZH3NeKWaT5o4uRVzSJBpUjC09LGaBwzim4mDEQ6sycKKoI71HqQIc0dxu1BiHY2LjJ6V9AEEO9g-lWcAHepmgLkPgmegS2UFsioNF01Q9BXJrCWbe9LyHPfGXa3crhDuhELsUpuyEZlg5P5Wn4EifyZN0gPoeOYTflnt6KeTU7w3pAAsxnnW-C7t8EVPm-drr22U-5ptN77JKZ6nKwtV7PcyXf8qtET3eZ5b7sXe0OjBuhuWtBAxMHw-YX0RSGyXfFBnM_3PuIDQ-GZKoMA7rHy0ECCdiQlfq2I25mDVH2AlovaZ3sLIa3HJh29p17hB9Vgcx2llPdWupnb9u1YNR15QhYYcDgl2XgNwNBl-Q1fGrAhGdTHD4Uol2KJAk4a4V87kBruyErJLl4zu6cQIlFgHBzsuJkgIcW3tY6Gk2uy110nUK5kNuPBrHaf1gPMFsJZq31V6VltfKedXw6TueOzwpMw5qE7say5uEOdE6LO=w966-h566-no\" alt=\"組件化模組\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/BFhl4KF04dslmVH-2z-2ohDdBLBlp3Yj6sr4R69KI1HnZkWESXMlohSoGVTEcbigpRH4mvAl7lR5R1mry-Y_-ZovJlvwdq41L0RuJmuKUneM_fiL8OeX34g9h_L6Pgbsnjo4oBE7IJ6wER3twGc4kWIm8YwVFXKSsjli0jr9iYf-hyozLH9foW2yD5VknLSMxAoAmZjPMgyY-G4jGoZsiGb92DY1-L_Ii9Ac6xqJp-AV4cR6g3IZ8gQSJpmRDAOlwFWZHYgJoK2n5tX07fDLzFWGDvYzRUA8GH36T1XNGMhm99ucu1_xzqLntKOqTqMzbXbo8LhBlWXWqmG3OqZexAU-RdKP_6-vaozbX5mieWg2ETNTTAIoCe6OaoroHYF7iiTjgeBWVS0tmDBNprT_8dHJBXgS2Ld5dO4MSjYqq8a8N33kBNko-W29t8zHXzdYxuQt7wfeJYeVUBqqAsagJAepQwAn4TmFSYFUct0e8wstosD5j7d6PX3ryeMiB0_pD4oKRX9xh5bBY0wbm8XQtQYo-R6_kluiPb3yli2nbT9MKds64vGPamLkriBruWIG7WXpW4nhAg-8hkB5aWOoiWKUgYQRuBuuiBR7p38fM4FfFP6mZl5hk6iF51UV576YiLSnO_MnEA6fWIC8cwoKmBdsLsM3gboiwdLodtWYdpPvc2jaSfyB5gbGc75Rh1-BWcPBL5c5y_XWPfjsovBgCyzVE_JYn_gkkCrp-EC8_ZhBGSFzs0Nm139T=w966-h1129-no\" alt=\"PC, Mobile 設計\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/0IWJhj4Xfw7odRDnDDYdNqN3-E-VvvDkZnn5UgSfKc7DfSLpJ8e99EzdIyvhHHFXmGKzFL6zftXeZcjEs3T6W0I9lOyg2doZqaONhjjyf98KqTY8tRrPGbyn7xZ7ce7iD_EFaex1DaT44Yiw5sjCD-md3titMr6GA4vpTE-pyr5I6CAMobClLcSnFq2wsW7oKtFnsLEuXbSFmjFJbPN3ySRQYfnLjs5iQX6MvXdDS1HQZgd0qNp5ZrvXPSGuncDLfRXU3xwyb82qfBfyky-mSyx46daClqK7YJpHBaotCzMZzlSCtRlnY79IfYWup4TJvHDM6J9diOTV5v1Rsj8A6CnXIIF5_YRn4zRsT99E_vCs8pMjYQzVCCVLUH4Wj9ju3QvZ_BGdHn2Xh6nTSm9lyf0eJpqR9VvssGcuUPCpzS_Wb0-s-H36-cm45_HfesLcgbkfehNrBJjcvOEJ2MqAg-eJX2CI55PJSp_b2Bku1ejL_4IL9C_ISqmnevWZFmnP5Kv3EY4yG-ZFWaMoCadosg2G5xMNh1qCkH_Mi70tnRjgPlRDJfLs2FAyu180E890-hisWv-GUjd2ZFJJPShKCvIOi67W3jvlXqq3weoSrCMfOU2oIstr1O6Zpt1aL5xzhlvEDbJBdUsw3iCiku2NKf4TR0HtriREXAzOB-v5BvrPxmHgFdndUvsopj3qSsFpB4yaocWx04UklNZABo2wkrG6t7KUkPvIpLCt83pkQt91A4HMNiC7_gwC=w966-h548-no\" alt=\"頭條新聞模板\"></p>\n<p>效率的判別是基於頭條新聞模板中的累積指標（我猜是點閱率），這些指標在構建頁面時原來由六個模板組成。去除效率低的模板，最後僅選擇了頻繁使用的三個模板。</p>\n<h1 id=\"2020年大選品牌形象-“穩定”，“信任”和“改變”\"><a href=\"#2020年大選品牌形象-“穩定”，“信任”和“改變”\" class=\"headerlink\" title=\"2020年大選品牌形象: “穩定”，“信任”和“改變”\"></a>2020年大選品牌形象: “穩定”，“信任”和“改變”</h1><p>第21屆國民議會選舉的主要身份包括“穩定”，“信任”和“改變”的含義。上次選舉的特別頁面上用“圓圈”符號表示“穩定性”，用“靛藍”顏色表示“信任”。為了保持設計傳統，對它進行了保留，但是“更改”的含義是新添加上去的。</p>\n<h2 id=\"色彩系統\"><a href=\"#色彩系統\" class=\"headerlink\" title=\"色彩系統\"></a>色彩系統</h2><p>選擇 primary color 的最重要標準不是讓人聯想到特定政黨的顏色，而是選擇靛藍的顏色，該顏色與九個政黨的顏色並不相似，但也被像徵真誠，謙遜，穩定和信任的顏色。靛藍被選為背景色，而具有人道主義，原始和中性象徵意義的紫色則被表示為漸變，並被選為“強調色”。</p>\n<p><img src=\"https://lh3.googleusercontent.com/nUpf_i61hCuxXrilYf955BRrSBTp7N3teJWca78DaERi43YmtgmFA31_dCcQEcHo6aSISQ0U_qowcP_Oq_W9kI03kEd8eDvBRcFWuiLnrpKFEWpDt05FwjKG2X3_BllBkA8atbHn-YMQdn22qsMBimI25erdTozTLw5fganhmQWOBzZG-R2V37pgtX2Ebc00A2g2FB1e243dBcs0VKIWfnTjqa-Tmq1LZFEuPO3fsjdDkahORQuWQGOyie64MVATOO77_uEF8-DNpY60GvbwB1G-iqA52VZlLZ9xIXagk_-2y6AMbi0qLqD7VOjrz1b2tppimp-_o-t3VFxhbOh4EIPjOtLazYqLWSto4BY5p3gE-5avEfLcLwwlzat7s9Ql4QgZJ8L-qsShs34wxBrd9U9-hIq-289b8-QAiR92iu0APu4nW0YH4_mxtbiRGT-1HsfdmDZHzfX-mvfzukgOKx-0xkxi0m9SU0Ci3wPYdqkq96pjNx8RgQUGsR8ikx0cf_GDXzL48xefJ2Ftimt_OtF6UQPaqmalrqTZNbhJMzHpdPhnp09m6fsLtTkAzwEhQaALfKzPtqOThXqzGH1UcRZcJuECWEfTVUTT2QEAFJJAlAx2CWtkIkyT_A_-rlycvo4FbuFEuuDc3A0BSlp15o2ema8dj8v5SaYsj7YYbADd_4iMty4o0JbA9l3gYO4or9RtI7IQhxbcokm0U5tAC5d38RM3HuRRtQtw7AFRy_gP2zO4zrfZ13Ho=w966-h316-no\" alt=\"色彩系統\"></p>\n<h2 id=\"品牌識別\"><a href=\"#品牌識別\" class=\"headerlink\" title=\"品牌識別\"></a>品牌識別</h2><p>品牌標識還使用 HG Codec 繼承了上一個選舉功能頁面的品牌元素。此字體是具有完整正方形結構的標題哥特式字體，並且在具有類比功能的同時，還以模塊化的形式表達了穩定性和現代感。這與2020年大選設計標識“穩定”，“信任”和“改變”的方向一致。</p>\n<p><img src=\"https://lh3.googleusercontent.com/eWiy3envwtGn9XU5ZhsO3nRev3e8BBK_v0omWv5hgZIfuQtel-tx08L3V4JXPurF74S1zYJUIMFp7W9sXri0fTpvI7C_j-j-7886qYERhLEILNNr9GyecoDw_LQRZF8yo45m8u_m0D3qR4HEoyCQqHqfRCVwil7Ly7M6UKpLbTVkor4TJ_Qa1VX2UEoDltxzWwg82034QtN28-EHzziKdo0RSJhaRRphfhRskw7T6QBhztaoANY5INUWJOTbKKkOzQFbab4sGBjzycNptrPufQLWD8H3EFbZG1sQhB2kJ-vYdqfixgsD05MAHJIZrU0BpYRFVPnn7mKH1GThLKU34wSN61z5-jol-R5jHo91rmvlXfMkfSMtJ6hBXG-Xb4j703rBGqpH13EsU1B24uWu4j2VnUi6yW31ikjBAusGTgXcNyB44WCkwj28boY_6cBN_ddnhPyGc8WXi5H2DqsOzko0LJjW5f4zebRzEj3NDq00DJJksR6pNCAZxoVY1et5WNu7KKsbC_w8oE_IwtEa2lVSlHm-nBdetGvVRaZ_-3UXLLKoYoW4deXMJEOx746SCwkV1oJVu0F-_WDxtkmN-wfu9kSlCrumLZSA86nzarHOl9lq0Cq5GqMHHfnw3aGah2VfuqQMx6VtGAXlWP1L2OrbQP28sf0-c-u-5H7Y50-qD4ng7mzVPQPQq4ZCIsqHAlwTikkBOr-A00kWxcyqBU5e7DC85aPIL-ZgMWp6hfMHVb4RivSGITsv=w966-h316-no\" alt=\"品牌識別\"></p>\n<h2 id=\"圖形系統\"><a href=\"#圖形系統\" class=\"headerlink\" title=\"圖形系統\"></a>圖形系統</h2><p>除了“穩定”和“信任”這兩個關鍵字之外，圖形系統還試圖強調新添加的“改變”的含義。圓圈的形狀意味著很多選民，並且以各種大小表示，以包含不同年齡的人。隨著選舉年齡的減少（18歲）和強調多樣性，中士的運動試圖動態地表達“交流”和“改變”的意願，並且人們強調了多元化，並且在當前的政治領域中人們對改變的渴望與日俱增。</p>\n<p><img src=\"https://lh3.googleusercontent.com/lyhDNt83ya1rj7Qsuf2bsqFYWC4uh4UIEl_jCfNDOpTldDSIgw-WIGZ5HYhmd72e92corPNgs1mn_Pz9RiMdF5ZYC5GbXZ_NUAhPTGh_W298VsUtvkCybRYZGkzJEdgUdnDTsuTWHNx-5rHeyA_61DaAIR7Q9L4_U34UvLi2-KJC-NOcLznIYMVKgkxmued9npsP0Z4g-lpggcbvSF00QPNlpukELF-I4ARWnoD3Sv8fbrZZBZd2kXqLDmQCp9dB9m6-b9EUPDzuwgkmFkFi_0g5xmcX2CVrj9eR30AmwPm-dXBz9zU__SQL4eTQYOl6_3v-1oMSEzUpBgQ8lmcWquDubm2EYdD8EKEvA4Kj3bqngeeuXy-Uuuzcoz6R5daS-6AMEKWf8P5dMVpdmyMf59-1Iia9BP2rIiIy-Kqj5j0sGEQEggCYbLGCduK3xjOAqNClG4ayEWf6zLrgv6kyNA7NBmUlvPsQZ6B5Sg10cEzABVjza6OP65_VWv7MVCwNWrYBc03gHQBhv61WF6-gkr2avWG-RQ6sOF-R3Q15prkU1wvOf_kRsxNdXUWPj9QP6pdOOb93Eu8NiKymPxaF-NvRc8mVUFOG91Qefcpp4UASnC3OU6YqHmQhXEzBz83iM3iWeJ2O59WdTRSlCqx-QtSv2acL89hrtgIKzMi6vw87oJQFSDdugUEit1MTzxR5tKNPNXBJk0DC_eNXFhdSMwMb4WgiGHqzZl2fgJ4UsZtduy6oc7d321wx=w966-h316-no\" alt=\"圖形系統 Dark\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/BnmxrGvjgSnf1ZWZYvj7p2wb_-cu7oEEyxpRKO48SsEas1zSEpkQvY6ATeuXJ-M2AjEZlK5RjCdtOTmWEfCOoaUO_e6V72X0vTRMD5wtDFM9qXUMtmDO_bCVg4-8_QPCKiPUy5qVqQ2emBOJYjigOETK3h7SHknIxX7hxTFnUzs0NUcSR-RXM8DeXWIRUVwziPt5WI-ohZW1xDBlKKdQg228oUiW9M3S40x_oohNuBfKWnBbo3Q_mySCeay8c8EF17_cwEDG7eIU_CqIX47ffn7DdwxU8oxq8ztuDTXRo7SjjG7C0_8rXuaLKvt1xPW13YIFDaslC8IclOlmng4F7YS3fbtE_MnBmh-gbHnG5_3bZoA_9OaRkKG2ll331hjaE7MyNZVY9-0C1KpPb4FN0wCSZbeq24_cXv_J5M-5XnuDyJiMA-gydGJHcirN-rTlCoMgmLZc8ZSf6UbjkXhDnLsOG7yotbs3kzOP8SfqNS5f362dnglG5lVVUltiCzKJmmDIJZcxPhkvsJ2Pnwwo3e4JYl-uG7l0KYvlcSi-FNR0vKHT5ZRE3pH6kNziKU_dnJag7rk_73p8Ia2Jw0h2USU_dz5Vs7SWNmHNTh19YcrkDjaOxf8QAks03Fn439Rd38yDQOhAI-SFbBPFyeumKE7BuRZFygvZSojZnvkujj617saN-Y5EJAhIZ0kN0aaLyp3UIW48-aH2hNwEnA-HZdCK70MoKixJ5zDjCqN_H6tcm19Qa_qOxEPI=w966-h316-no\" alt=\"圖形系統 Light\"></p>\n<h1 id=\"個性化推薦新聞和媒體新聞\"><a href=\"#個性化推薦新聞和媒體新聞\" class=\"headerlink\" title=\"個性化推薦新聞和媒體新聞\"></a>個性化推薦新聞和媒體新聞</h1><p>新聞頁面的組成大致可以分為兩類：“個性化推薦區域”和“媒體新聞區域”。</p>\n<p>在“主要新聞”選項卡中，主要構成推薦內容，您可以使用“頭條新聞”（群集新聞）區域按特定問題分組和使用與選舉相關的新聞。“ AiRS推薦新聞”會自動分析用戶的興趣您可以使用推薦的個性化內容。由於此特殊頁面的服務概念側重於“個性化”，因此添加了“通用關鍵字新聞”區域，以通過根據本文提取關鍵字來為用戶提供完全個性化的內容。此外，還增加了一家新聞公司PiCK，該公司提供有關媒體直接選擇的選舉的主要文章。</p>\n<p><img src=\"https://lh3.googleusercontent.com/j-9dPcTkSoS9YGlWq3VmG5L6CBZVg455wpdl1Qhu7-GVVESF9JnL-amFJlYyoQEH7OPgTsqjg7L5bkAakkEj_5BMBiM0oac1ocv2SjWqMUr4WQqwGsVo1xG4LOq6BYk2W-5Dlr-O7VWMFyihZno4dU0fZj5oCH38fe0tfJ9c1L5EospyNZ5vc7i7LKw9qAdGWMZgDuJL3OdI9Cw6wu5CMO9KVPnSY4Fa4taM1zOMy1M6gFgCJNykbT-3OkKSQu3KKtSZJA6fDN33YaO9fu3VA5EgLZ2XhoZ2sP2QssLsmO4lWq8lhC5PKe5xwzmM2WU13CI5rxKlVkDIEQ0qq-eGGJjFdb5UmJukI4dz4k-F7rqL9M6X-fNJ_OAQbmocM4s5ZRwCc5uVV9I25iAdgqEll5aINQ3oKum_6CiMxaC2xE6z82XG6ehCgYhM3s3f9MyDAy5TSLbHsOoNo-Sj7-PH-HpO1IoNoBWibSERkBOsZgytHZnjpX5R7zFBwENwEqGJAXSqpNNVZtEZjqDJrnxnjneWbQUX-4ZPwNiPZOihsL0IWwiPhUp3ewgm1MVxr9-n3gFmHZHSw4FCbXolQM7saEWkqpvzdHlJRYQuOruDvW4N_vu7IW6gOAH5iADFlrt0hIDltAgCgWAvOxxEvmKPRDHn7yzQsJk45LKjvb_I47aCf5Kd_sVhSLQHFoLfKVfvB3K5e8TgTUlSIPso9rcef1KL7bSsejEJ28e4qFL7XGRwsMDZzO_hXqtK=w472-h1280-no\" alt=\"個性化推薦新聞\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/KbjcqbXWk93P8ZQkCFORgI9pHgerFLXQbfHzuL0qUsi72s1cYHSe2HQj-L59TzRLAex9Mj1eAxltkXwWQZYq4aQtRKw2vhaUvrrKXDrsNCA5ZghHv05oqDCopTkA9lm6tTVSXTm2DsSqqNuUGJ3JKl67BJk9hQ5N9hGm7mY8VTMXvUn7rthrUy4kcoEephzxkvatV-hf14WxxOg5BaaedV7VLp0fvbksKVcxAHnAu39vVl7y4DTwAt5W8F-6uCA1qQQzZ-qY-BKczCKC2mreCpCcPC7ksMpLp2r-rRy6eWJTY6hueZl9xrACAedeWl-9kvJA6MkeP0mHDdYnOiRc0e2OufKy-phRiUwtsT80ltT4AtZq1b9egla6kAAwFGsbAbtAGHGBibWHI6S0ow-pA7v8Ld5iOVYbdgzYQB7PpTm_7I2a-JjeCl0VhR_-w4ae3mJUkc30OyXyS83Tzu7RmS7YPPpAIbcyHo0-RyeUHZNWb60HCN_bOBWbdBvnpmYtAafXi4Ril3Reuv5pvMsxDWYt9jGutyiTbBSWo1xh_V0XEbTnPcTe9Lr5vaUD1mEozw_xYaU_ryWq8jqJCVvQB2O-WkwW5KjojVBgH6K1tKio6qYuTqAmjbA3A-bypdBy5bb4BNs6RnNejP_LJJnD9hPvtww_AvgywodUqorbJ_QiLeApyLTkRz62lz6dVHfXobevbCz4FUB6Tn7pZxtVkHHMGUztC-pdiIeS6YT84XFiJrxcKfb18xz9=w966-h744-no\" alt=\"媒體新聞\"></p>\n<h1 id=\"由各媒體發行，民意調查結果集中在一個地方！\"><a href=\"#由各媒體發行，民意調查結果集中在一個地方！\" class=\"headerlink\" title=\"由各媒體發行，民意調查結果集中在一個地方！\"></a>由各媒體發行，民意調查結果集中在一個地方！</h1><p>自2020年大選以來，Naver 提出了一種在圖表中顯示和處理意見統計的方法。目的是“使用者和媒體之間的交流更加直接。”與民意調查相關的文章，例如由媒體直接編輯和提供的政黨批准率和候選人批准率，可以在“人口調查頁面”的一個地方收集。</p>\n<p><img src=\"https://lh3.googleusercontent.com/G-Zv5PZYMCHG3PM0qyLs8Ll6z3wA1k1vG-p1Kv7g1mqakFqnPjcQ7cwYkOOc9yM50bprbrnXC67Cj-IeP_L_rAdRbw5UzXN3ogZpwQFGq46Y_eyUUxJ5M_wsEN5OyipM9Pv9ru9QIoAUTJJvFoZFHEcxAJg7ZjDe25RURF_8yVUD-NGVBkh13rOUwUbox4bC3B5YI5jeXDcBpcVaqX3DkgYjttNlRUdnrNdQMHVihLKB8Jcfeh6tWarB-p9diA_DGwIIuU1TlPRFbIi8LkraMbDxKwey1otEtPRxJwIffbjeEO_8PfmS_kiqQCZ64TLgMWBGH4a1WmHWNwXJYVDGGCQl62crcd5Ofd2XC_YPDVKw_y0JNSi_3J-WflpnBR08XZXjqWToJ-FwXqyYsDVbkPp30gJg1uU8MV_bW3FSFaynwbPE83CuLgrQh0OJ70VYDmT_oRMlzbew9geWh8Lpc-Ni7Icq_HEt-XUcWgJdIjtqtmIHKVIxi_5_BLvov833Nkck2LMwBwu6sKLAzToZvwVyl2mWlu1k7L2wrR8F_0zwLogp3O8QOl3Fay5-VUKSZ7BokJdKUEDWKwDfS_rWH_hRTGK0nyBFgwQuDxDVgMT55PFEBrCJxsFtOnBbi0quDv874EHSO9VWCQPXmgmTPoK9F__WZuCePF-JZYsQtWKZEQ9brhx-HsYXpg2GYKDkP7SDUYfUMVXuJOuj6QfeQbWmSCTsXc_p_mojrHKonC0bVLCSWBU1qEaZ=w966-h1066-no\" alt=\"民意調查結果集中在一個地方\"></p>\n<h1 id=\"通過可視化選舉數據，有效溝通！\"><a href=\"#通過可視化選舉數據，有效溝通！\" class=\"headerlink\" title=\"通過可視化選舉數據，有效溝通！\"></a>通過可視化選舉數據，有效溝通！</h1><p>“過去區域選舉的投票率是多少？”，“哪個區域的投票率最高？” 選舉統計信息和有關選舉的有趣信息以圖表的形式提供。選舉頁面的信息圖用上述的色彩系統，清楚地分類和傳達信息，並在插圖中積極使用這些顏色。</p>\n<p><img src=\"https://lh3.googleusercontent.com/D2Mcxo5J5hmivUmwxqBmm6h9TeX5E6E9HDM1AC1pqm7SKez47EaINAuI1NttePLU7XCxtCTCaDwTcuCFLDcXUGcLJdebGS-TQdrLbmhosCQ_aINNEy_YvCmpyZnEZSx9WUn9gbbI7r59NPhEkKuTUkpXdxqn0W3ZOAjAYaZf8hypdWouZ_ZBA2-N1o4JEceNMZHtNrE_Cp7hZDbUOgc-w8qe2b46yTckY6thigoToND5-BwshFD9tDetPKTi_xsj4TkbuS_SXy38wKsGgEElgrEmkTIq1Ou9IUHaf7GT67QmcGTYPFKkQXHsWv9ebY4E_Cy2EETn5L5qZvGVz3pbH4_vMz42WGjkR6uq24vwyOglumQSqdH34cteMmgRpkETFGeQLaNSWVwy0zDjxYDki08PsTzEjayZCnLlr3GXHdt3560fXkm6N7DpTMANKlJy_A0DjXxzyqaNI9OTxEUFPczXdP2XZ14Aq7wPSH3sEF5xsUTVmh7DTqvDQuvkgBTL42tBliEVQRCrA3FMJupdKoBDA3DOMFhMcprs_pjc4ONruLfG5UBD_nRqKJ68ESjnTglwVNnUYjX9TnJ_pjWQEiAbtVso3SoAZAntrLJrh1anX0b6ZnXVfVv3nX9HByrz0XwFp-yHyn_uo_fe_1reHquPGSZAkyjEH_dFe6no-ISR1XKOJLl2BVnnsNc9U02yJ-IWLng0DEom4mcFUVFksidmww4A6g4VaNwUgNxeU7eUYY8e8vKQaIjC=w966-h1066-no\" alt=\"可視化選舉數據\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pEL562dFJAJyM-Yw4VHp0_k6jtu9bxDNw8-4sP-vC2JvuK6knMSf15Guo3Azo_QBfmqCpQ_W75rnWcqcZnpOa3vOC8c6QUK8DRkOHKiK74ft8wi17mgUySLDaLBjOwMLmo6O8P8_6AjDikg7o7O834pkk3ft-5_YisDSG9xP36b8WAhlSSa3z8FrHhU4zpQYNobH68WiOBmnQRWx0GffW3N9nn7reT33ECbqhNTn8_kjJdH6qyRCVNQkeigJoEcoI7n8Jh0mQVmNwagcYRbr6IUBJCpKFChWfT6tH2nRfBneiPqk7dMQrUMkGNjtfgC9rghVaYEAkMhwwdPM-L_Te24cp7nRdQzDDTPkv0zweLybfE7pIkXvfBgK9CNx7ZOH14mKedG6ICQb4JUeLt7za741UcwcdVygNnLzjaNqpKv7ZPaEt9NdJa7JuPwX9Bl7buxqrAnQ-HRzXNFuEUS_cm7BysU_1PRd-KqvPdgBMzpJBRVPi4zc4eWeQmfCHedLi8hTF3HcrITVYwGPGWddBtJsIu2n26ADuo42wPPqrdp_Vw08HFa2BJmH0ZPHSVxeUofpIxUoy4jwSnNZzwSrgLRlyeMOhYxnx2nBBRmNw43dV5ypphkd-5EXEEIFImMES4t68AdtbEuBpKdJ0yEvux6SOp2OmyaT9f3juCF6eym3Q_EB8ESdeUrk-v30iYIbOTzMwRE_J_LEre3d5E_HS0YdMuom_-el0Y-2CYnOmIeaI-_0X6hCoyLK=w966-h316-no\" alt=\"數據色票\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/y7kgnDGceI-stEN5mqX6eSpT16h2An675kVne2nliakhZhOjujMvoLSezmRmr9w-1nyr-miTrg6r6_dmiMhZvkceJJr7Hmjbykm0ef4LyNS9ukq4IXnmcHd7X0EM3Zm610JbQtnrisqpmaxfPQyP4llK-sF74m2WVCEfYZVr7ylU7cqYpxPTOtXIsSzGv7uCObvUirn-wPSruojg2mqXct9ouC5-XpI8WxGcJKmZJIbC2dxlPd2x5Vcl6fd7GasJle-9w0uOV93psbOX2yGRv93CQUFM5gLTuip87ZzINR6cf2x4Ze1e_A3KpT0SKYxCAtdxSYWyQZaWlO-IEitXs1uv9BG-Q7kHfYmAxoyfrNSJl-mHRk4eXHN9YJ2LHT0xIeWiirqPq9kVUHb9KW2yfQnHgzVd5Oiz_HNWFaSQd0DBs0XM4PNbyqYEYD9hWr_Zlk5jNSCU-UzLX9kNw4zNZdRJM8bk5Zi1uelU0pcfvgm5qgqmjkLKSZce-UmVua9q8MyOhVQNxkNDeg4CzVR3flS33fu_XyDIxMeOvG9AmDzS7owY97940mtocEVUMzpghG4fbhYaFZbMpvIwmVfN6eSqXNsOykYPyulIdQMjbgqwcmok94jk74TFvURFXSMVIR9y3C2pY9MHhnd4kO5PP-Sa_tsPWlUvJfsStT91F0QfTfsp7HJUDs8EIiH_izHJGsNiRUw1RFqxYS8PhIqRF1nbqcyf8jM_rbRAzk_4lEmS6HQoYBacOj9f=w966-h521-no\" alt=\"插圖中積極使用這些顏色\"></p>\n<blockquote>\n<p>心得：選這篇來閱讀主要的原因是裡面有許多視覺圖表的部分，他把圖表的總結寫在上方讓人很清楚地理解狀況，我覺得這點很值得學習，或許在系統 dashboard overview 的統計圖表部分可以採取類似的設計，讓使用者更能快速的掌握目標訊息。文字型的描述則能搭配同色系的插圖，讓內容更豐富，這點也令我想多多嘗試。</p>\n</blockquote>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/221868269402\">제21대 국회의원선거 특집페이지 1차 오픈</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","excerpt":"<p>繼上次分享 Naver study case 訂餐 APP 後感覺意猶未盡，剛好看到一個是關於第21屆國民議會選舉特別頁面的設計，覺得很有興趣，我們就來一起看看吧～</p>","more":"<p>原定於4月15日舉行的第21屆國民議會選舉的選舉日現在提前一個月。<br>Naver News製作了一個“特殊頁面”，該頁面提供有關每次選舉的全面信息。<br>在2020年大選中，將快速準確地提供有關選舉的信息以及相關新聞。 </p>\n<p><img src=\"https://lh3.googleusercontent.com/gHll-6CMUZTF8E2Oe7feyDPlcuV9hHkS1UOCY-_Mj6XZgjh3bvsm65VqR07kyJfzn7WD_em_64tR4opuZNVv0j16jfDpe1MF3dAerQKNtXCu5xB58ToH3OTEL26fcD6niW9BMvyE_RP2NOAkJ168t-X-pI7kgGXsHPDaPE4iEClkw9BOgLLyTVkzgXhIv8_udSRz_SdQx-35ID6S_K0YfC0c_0TcIPnj1YE1LRm609KGiGhao7CaNzn2lN98CVb7qsBojMPe2Yev1hQjdgeY1boGRslYUwmQGlOEAGpFWTpF6GiMme1_kd8D12db158rxBZKoZe5EJL18p1363mxhjPfA5ZUbyLFAD6snftrkYhSzKwF8R2dVVppPgOEmmBL4a3TckLtEQhMI1MGOA5sb0_n_D_RCZsUZ0vCgg6Xf81bRyhQnS7T9y3BqxUEUXheaiMgr2-TC4yxPdkc2mzxFg-GQIDhEsPXhexq7blbDEeGqpgo9qZdu9ECL8IkzcxVH4jTcUQpbDdZADsnrPIOUk00IWoEqCWyFCUn6OFl8UkNlbT3BZWp9H7vphl1CYNMs3UvRNiF9IAf7vsFeoUo7J8cmhnPvRZI-50Y5jCKBEIzKAKVwm3N_juiQlyxzRS1vM2UyRz5EQ4DU2QALRVPQVeQb_Y-CK1B6L_AzHJuc9xN7yQypD2s6FrPau0kT8gpMC_WNE1HJSOhQpos7xuYke8OZsXJgO3usynY_BNaUM43xKzZqtrZd1gG=w966-h1078-no\" alt=\"第21屆國民議會選舉特別頁面\"></p>\n<h1 id=\"通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\"><a href=\"#通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\" class=\"headerlink\" title=\"通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！\"></a>通過累積的專業知識提高資源管理效率，使用AIRS技術，推薦文章更高質量！</h1><p>2020年大選特別頁面的重點是提高與選舉相關的推薦內容的質量，以滿足個人興趣。 利用AiRS開發的“關鍵字新聞”，可以自動提取具有很高用戶興趣的關鍵字，並添加一個完全個性化的域。為了提高資源管理的效率，僅根據上次選舉功能頁面的指示選擇常用組件。Naver News 創建了一個特殊頁面。除了擴展個性化功能外，“ Pick Press”也是一家媒體，該媒體收集與編輯選舉相關的新聞，對其進行改進，可以從各個角度使用選舉新聞：從選舉出版物和統計數據。我們試圖通過“專用觀眾”和“信息圖表”更有效地進行投放。  </p>\n<p>因此，第21屆國會選舉專頁服務理念的關鍵詞，可以通過三種方式進行組織：</p>\n<p><img src=\"https://lh3.googleusercontent.com/zJpBnTEaW-a1pDmU64QNHOcAyEVwfT5vp95LB1a0PCBrElQUW0i0MuFjzsrRI_CjJPxfm873ofN-g8OTBsucRh-AaYJC0NnltAKjdYCV6pjElun7VeRKT6QzTB58XdmSFeOOGz01BQipGD8fk0Xvp-MdJf2te7dnPJSWH8StyF6pX6R5yEgouInJHCPRCvn9U5BdrO9jVnXHwX1pcoMU9BmKDax0zGH2AXhTwbM0Qn9aSUWT8U9dETyebXRyppLKvYGUPY881E4mJtBfSwsl0B0TtC4rdQAWJ7OYuxTsVk3Dy5v45SQojqe97WXSEidL46Se2TEDbhBFenlosOOvItZmGPVfpceheV3T4i1vFTC5PubsYJknLCtyEpK50b6y2ld5EaaOfj98isZpyf3dEmFURXj2kYgcZ-2a-IKQv0UlrdcdQe2697Da_YzraQXf2TaKGlJenI9TVwCdXmw3-G4_a8cprwBkLKVDsvKSmkcbEli0-NBqIXmjAMr7LrW5Iwe0h8h_lV9mU_D7RjX0eQSy1fRjzmBpK0iyl4TyC9TlsJMQ-COf-nj_0AMhGXMKv77wn3oIcGhhSH0LC910Qy0CRyQEuQiMtt4LL3T6_6VR4ZR6oc8J35Ze61rqVZhdZd4HZRJ0LzkFztfGdNgVQ1pLCTIHnxY7Dw0_wxav2S421719zA1lV_Wg1I-30ojPp-sgZXehdfda8KEREA0GE6fB3I-ns5Au9CgF7wN0Foz3INLtHyO_YkfQ=w966-h451-no\" alt=\"服務理念的關鍵詞可通過三種方式進行組織\"></p>\n<h1 id=\"建立可重複使用的選舉頁面模板，提高資源管理效率！\"><a href=\"#建立可重複使用的選舉頁面模板，提高資源管理效率！\" class=\"headerlink\" title=\"建立可重複使用的選舉頁面模板，提高資源管理效率！\"></a>建立可重複使用的選舉頁面模板，提高資源管理效率！</h1><p>第21屆國會選舉專頁的關鍵改進點是<code>組件化</code>。由於每隔幾年會重複進行一次選舉，因此每次都會使用一些常用的模板，專為高效可重複用而設計。由於這些組件可以組合使用，因此在特殊情況下也可以處理它們。利用每次選舉的概念和品牌標識，無需花費大量資源即可構建每次選舉的功能頁面。 這些節省的資源可用於提高內容質量。 因此，我們希望進一步提高選舉服務的質量，並將其價值傳遞給用戶。</p>\n<p><img src=\"https://lh3.googleusercontent.com/FjSEajlmRI0IjzQwBMUR5zooRMiUQSIqeVSHyfpDRm_tlIxF4FFHcdD82mC9fZ7hhx5jcaoHnIsCCxJu1u-UEe9rDV70CIpEOH8PtzM62LpXAhiMmslsYvqDbLEz2IiD2H4KfTfLExY9fLdqftebKN1r9nm1VwQboMQF_St1fU6a8aHQzZG6uzM3ePAj5mIgkrdMpuPhU_CRKJ9eoD8rxLknrDD2c2-_txIH1W8xqkw3yCgaODkLw3Uf1ze5lQl0YRGPpqeovQ_eIZH3NeKWaT5o4uRVzSJBpUjC09LGaBwzim4mDEQ6sycKKoI71HqQIc0dxu1BiHY2LjJ6V9AEEO9g-lWcAHepmgLkPgmegS2UFsioNF01Q9BXJrCWbe9LyHPfGXa3crhDuhELsUpuyEZlg5P5Wn4EifyZN0gPoeOYTflnt6KeTU7w3pAAsxnnW-C7t8EVPm-drr22U-5ptN77JKZ6nKwtV7PcyXf8qtET3eZ5b7sXe0OjBuhuWtBAxMHw-YX0RSGyXfFBnM_3PuIDQ-GZKoMA7rHy0ECCdiQlfq2I25mDVH2AlovaZ3sLIa3HJh29p17hB9Vgcx2llPdWupnb9u1YNR15QhYYcDgl2XgNwNBl-Q1fGrAhGdTHD4Uol2KJAk4a4V87kBruyErJLl4zu6cQIlFgHBzsuJkgIcW3tY6Gk2uy110nUK5kNuPBrHaf1gPMFsJZq31V6VltfKedXw6TueOzwpMw5qE7say5uEOdE6LO=w966-h566-no\" alt=\"組件化模組\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/BFhl4KF04dslmVH-2z-2ohDdBLBlp3Yj6sr4R69KI1HnZkWESXMlohSoGVTEcbigpRH4mvAl7lR5R1mry-Y_-ZovJlvwdq41L0RuJmuKUneM_fiL8OeX34g9h_L6Pgbsnjo4oBE7IJ6wER3twGc4kWIm8YwVFXKSsjli0jr9iYf-hyozLH9foW2yD5VknLSMxAoAmZjPMgyY-G4jGoZsiGb92DY1-L_Ii9Ac6xqJp-AV4cR6g3IZ8gQSJpmRDAOlwFWZHYgJoK2n5tX07fDLzFWGDvYzRUA8GH36T1XNGMhm99ucu1_xzqLntKOqTqMzbXbo8LhBlWXWqmG3OqZexAU-RdKP_6-vaozbX5mieWg2ETNTTAIoCe6OaoroHYF7iiTjgeBWVS0tmDBNprT_8dHJBXgS2Ld5dO4MSjYqq8a8N33kBNko-W29t8zHXzdYxuQt7wfeJYeVUBqqAsagJAepQwAn4TmFSYFUct0e8wstosD5j7d6PX3ryeMiB0_pD4oKRX9xh5bBY0wbm8XQtQYo-R6_kluiPb3yli2nbT9MKds64vGPamLkriBruWIG7WXpW4nhAg-8hkB5aWOoiWKUgYQRuBuuiBR7p38fM4FfFP6mZl5hk6iF51UV576YiLSnO_MnEA6fWIC8cwoKmBdsLsM3gboiwdLodtWYdpPvc2jaSfyB5gbGc75Rh1-BWcPBL5c5y_XWPfjsovBgCyzVE_JYn_gkkCrp-EC8_ZhBGSFzs0Nm139T=w966-h1129-no\" alt=\"PC, Mobile 設計\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/0IWJhj4Xfw7odRDnDDYdNqN3-E-VvvDkZnn5UgSfKc7DfSLpJ8e99EzdIyvhHHFXmGKzFL6zftXeZcjEs3T6W0I9lOyg2doZqaONhjjyf98KqTY8tRrPGbyn7xZ7ce7iD_EFaex1DaT44Yiw5sjCD-md3titMr6GA4vpTE-pyr5I6CAMobClLcSnFq2wsW7oKtFnsLEuXbSFmjFJbPN3ySRQYfnLjs5iQX6MvXdDS1HQZgd0qNp5ZrvXPSGuncDLfRXU3xwyb82qfBfyky-mSyx46daClqK7YJpHBaotCzMZzlSCtRlnY79IfYWup4TJvHDM6J9diOTV5v1Rsj8A6CnXIIF5_YRn4zRsT99E_vCs8pMjYQzVCCVLUH4Wj9ju3QvZ_BGdHn2Xh6nTSm9lyf0eJpqR9VvssGcuUPCpzS_Wb0-s-H36-cm45_HfesLcgbkfehNrBJjcvOEJ2MqAg-eJX2CI55PJSp_b2Bku1ejL_4IL9C_ISqmnevWZFmnP5Kv3EY4yG-ZFWaMoCadosg2G5xMNh1qCkH_Mi70tnRjgPlRDJfLs2FAyu180E890-hisWv-GUjd2ZFJJPShKCvIOi67W3jvlXqq3weoSrCMfOU2oIstr1O6Zpt1aL5xzhlvEDbJBdUsw3iCiku2NKf4TR0HtriREXAzOB-v5BvrPxmHgFdndUvsopj3qSsFpB4yaocWx04UklNZABo2wkrG6t7KUkPvIpLCt83pkQt91A4HMNiC7_gwC=w966-h548-no\" alt=\"頭條新聞模板\"></p>\n<p>效率的判別是基於頭條新聞模板中的累積指標（我猜是點閱率），這些指標在構建頁面時原來由六個模板組成。去除效率低的模板，最後僅選擇了頻繁使用的三個模板。</p>\n<h1 id=\"2020年大選品牌形象-“穩定”，“信任”和“改變”\"><a href=\"#2020年大選品牌形象-“穩定”，“信任”和“改變”\" class=\"headerlink\" title=\"2020年大選品牌形象: “穩定”，“信任”和“改變”\"></a>2020年大選品牌形象: “穩定”，“信任”和“改變”</h1><p>第21屆國民議會選舉的主要身份包括“穩定”，“信任”和“改變”的含義。上次選舉的特別頁面上用“圓圈”符號表示“穩定性”，用“靛藍”顏色表示“信任”。為了保持設計傳統，對它進行了保留，但是“更改”的含義是新添加上去的。</p>\n<h2 id=\"色彩系統\"><a href=\"#色彩系統\" class=\"headerlink\" title=\"色彩系統\"></a>色彩系統</h2><p>選擇 primary color 的最重要標準不是讓人聯想到特定政黨的顏色，而是選擇靛藍的顏色，該顏色與九個政黨的顏色並不相似，但也被像徵真誠，謙遜，穩定和信任的顏色。靛藍被選為背景色，而具有人道主義，原始和中性象徵意義的紫色則被表示為漸變，並被選為“強調色”。</p>\n<p><img src=\"https://lh3.googleusercontent.com/nUpf_i61hCuxXrilYf955BRrSBTp7N3teJWca78DaERi43YmtgmFA31_dCcQEcHo6aSISQ0U_qowcP_Oq_W9kI03kEd8eDvBRcFWuiLnrpKFEWpDt05FwjKG2X3_BllBkA8atbHn-YMQdn22qsMBimI25erdTozTLw5fganhmQWOBzZG-R2V37pgtX2Ebc00A2g2FB1e243dBcs0VKIWfnTjqa-Tmq1LZFEuPO3fsjdDkahORQuWQGOyie64MVATOO77_uEF8-DNpY60GvbwB1G-iqA52VZlLZ9xIXagk_-2y6AMbi0qLqD7VOjrz1b2tppimp-_o-t3VFxhbOh4EIPjOtLazYqLWSto4BY5p3gE-5avEfLcLwwlzat7s9Ql4QgZJ8L-qsShs34wxBrd9U9-hIq-289b8-QAiR92iu0APu4nW0YH4_mxtbiRGT-1HsfdmDZHzfX-mvfzukgOKx-0xkxi0m9SU0Ci3wPYdqkq96pjNx8RgQUGsR8ikx0cf_GDXzL48xefJ2Ftimt_OtF6UQPaqmalrqTZNbhJMzHpdPhnp09m6fsLtTkAzwEhQaALfKzPtqOThXqzGH1UcRZcJuECWEfTVUTT2QEAFJJAlAx2CWtkIkyT_A_-rlycvo4FbuFEuuDc3A0BSlp15o2ema8dj8v5SaYsj7YYbADd_4iMty4o0JbA9l3gYO4or9RtI7IQhxbcokm0U5tAC5d38RM3HuRRtQtw7AFRy_gP2zO4zrfZ13Ho=w966-h316-no\" alt=\"色彩系統\"></p>\n<h2 id=\"品牌識別\"><a href=\"#品牌識別\" class=\"headerlink\" title=\"品牌識別\"></a>品牌識別</h2><p>品牌標識還使用 HG Codec 繼承了上一個選舉功能頁面的品牌元素。此字體是具有完整正方形結構的標題哥特式字體，並且在具有類比功能的同時，還以模塊化的形式表達了穩定性和現代感。這與2020年大選設計標識“穩定”，“信任”和“改變”的方向一致。</p>\n<p><img src=\"https://lh3.googleusercontent.com/eWiy3envwtGn9XU5ZhsO3nRev3e8BBK_v0omWv5hgZIfuQtel-tx08L3V4JXPurF74S1zYJUIMFp7W9sXri0fTpvI7C_j-j-7886qYERhLEILNNr9GyecoDw_LQRZF8yo45m8u_m0D3qR4HEoyCQqHqfRCVwil7Ly7M6UKpLbTVkor4TJ_Qa1VX2UEoDltxzWwg82034QtN28-EHzziKdo0RSJhaRRphfhRskw7T6QBhztaoANY5INUWJOTbKKkOzQFbab4sGBjzycNptrPufQLWD8H3EFbZG1sQhB2kJ-vYdqfixgsD05MAHJIZrU0BpYRFVPnn7mKH1GThLKU34wSN61z5-jol-R5jHo91rmvlXfMkfSMtJ6hBXG-Xb4j703rBGqpH13EsU1B24uWu4j2VnUi6yW31ikjBAusGTgXcNyB44WCkwj28boY_6cBN_ddnhPyGc8WXi5H2DqsOzko0LJjW5f4zebRzEj3NDq00DJJksR6pNCAZxoVY1et5WNu7KKsbC_w8oE_IwtEa2lVSlHm-nBdetGvVRaZ_-3UXLLKoYoW4deXMJEOx746SCwkV1oJVu0F-_WDxtkmN-wfu9kSlCrumLZSA86nzarHOl9lq0Cq5GqMHHfnw3aGah2VfuqQMx6VtGAXlWP1L2OrbQP28sf0-c-u-5H7Y50-qD4ng7mzVPQPQq4ZCIsqHAlwTikkBOr-A00kWxcyqBU5e7DC85aPIL-ZgMWp6hfMHVb4RivSGITsv=w966-h316-no\" alt=\"品牌識別\"></p>\n<h2 id=\"圖形系統\"><a href=\"#圖形系統\" class=\"headerlink\" title=\"圖形系統\"></a>圖形系統</h2><p>除了“穩定”和“信任”這兩個關鍵字之外，圖形系統還試圖強調新添加的“改變”的含義。圓圈的形狀意味著很多選民，並且以各種大小表示，以包含不同年齡的人。隨著選舉年齡的減少（18歲）和強調多樣性，中士的運動試圖動態地表達“交流”和“改變”的意願，並且人們強調了多元化，並且在當前的政治領域中人們對改變的渴望與日俱增。</p>\n<p><img src=\"https://lh3.googleusercontent.com/lyhDNt83ya1rj7Qsuf2bsqFYWC4uh4UIEl_jCfNDOpTldDSIgw-WIGZ5HYhmd72e92corPNgs1mn_Pz9RiMdF5ZYC5GbXZ_NUAhPTGh_W298VsUtvkCybRYZGkzJEdgUdnDTsuTWHNx-5rHeyA_61DaAIR7Q9L4_U34UvLi2-KJC-NOcLznIYMVKgkxmued9npsP0Z4g-lpggcbvSF00QPNlpukELF-I4ARWnoD3Sv8fbrZZBZd2kXqLDmQCp9dB9m6-b9EUPDzuwgkmFkFi_0g5xmcX2CVrj9eR30AmwPm-dXBz9zU__SQL4eTQYOl6_3v-1oMSEzUpBgQ8lmcWquDubm2EYdD8EKEvA4Kj3bqngeeuXy-Uuuzcoz6R5daS-6AMEKWf8P5dMVpdmyMf59-1Iia9BP2rIiIy-Kqj5j0sGEQEggCYbLGCduK3xjOAqNClG4ayEWf6zLrgv6kyNA7NBmUlvPsQZ6B5Sg10cEzABVjza6OP65_VWv7MVCwNWrYBc03gHQBhv61WF6-gkr2avWG-RQ6sOF-R3Q15prkU1wvOf_kRsxNdXUWPj9QP6pdOOb93Eu8NiKymPxaF-NvRc8mVUFOG91Qefcpp4UASnC3OU6YqHmQhXEzBz83iM3iWeJ2O59WdTRSlCqx-QtSv2acL89hrtgIKzMi6vw87oJQFSDdugUEit1MTzxR5tKNPNXBJk0DC_eNXFhdSMwMb4WgiGHqzZl2fgJ4UsZtduy6oc7d321wx=w966-h316-no\" alt=\"圖形系統 Dark\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/BnmxrGvjgSnf1ZWZYvj7p2wb_-cu7oEEyxpRKO48SsEas1zSEpkQvY6ATeuXJ-M2AjEZlK5RjCdtOTmWEfCOoaUO_e6V72X0vTRMD5wtDFM9qXUMtmDO_bCVg4-8_QPCKiPUy5qVqQ2emBOJYjigOETK3h7SHknIxX7hxTFnUzs0NUcSR-RXM8DeXWIRUVwziPt5WI-ohZW1xDBlKKdQg228oUiW9M3S40x_oohNuBfKWnBbo3Q_mySCeay8c8EF17_cwEDG7eIU_CqIX47ffn7DdwxU8oxq8ztuDTXRo7SjjG7C0_8rXuaLKvt1xPW13YIFDaslC8IclOlmng4F7YS3fbtE_MnBmh-gbHnG5_3bZoA_9OaRkKG2ll331hjaE7MyNZVY9-0C1KpPb4FN0wCSZbeq24_cXv_J5M-5XnuDyJiMA-gydGJHcirN-rTlCoMgmLZc8ZSf6UbjkXhDnLsOG7yotbs3kzOP8SfqNS5f362dnglG5lVVUltiCzKJmmDIJZcxPhkvsJ2Pnwwo3e4JYl-uG7l0KYvlcSi-FNR0vKHT5ZRE3pH6kNziKU_dnJag7rk_73p8Ia2Jw0h2USU_dz5Vs7SWNmHNTh19YcrkDjaOxf8QAks03Fn439Rd38yDQOhAI-SFbBPFyeumKE7BuRZFygvZSojZnvkujj617saN-Y5EJAhIZ0kN0aaLyp3UIW48-aH2hNwEnA-HZdCK70MoKixJ5zDjCqN_H6tcm19Qa_qOxEPI=w966-h316-no\" alt=\"圖形系統 Light\"></p>\n<h1 id=\"個性化推薦新聞和媒體新聞\"><a href=\"#個性化推薦新聞和媒體新聞\" class=\"headerlink\" title=\"個性化推薦新聞和媒體新聞\"></a>個性化推薦新聞和媒體新聞</h1><p>新聞頁面的組成大致可以分為兩類：“個性化推薦區域”和“媒體新聞區域”。</p>\n<p>在“主要新聞”選項卡中，主要構成推薦內容，您可以使用“頭條新聞”（群集新聞）區域按特定問題分組和使用與選舉相關的新聞。“ AiRS推薦新聞”會自動分析用戶的興趣您可以使用推薦的個性化內容。由於此特殊頁面的服務概念側重於“個性化”，因此添加了“通用關鍵字新聞”區域，以通過根據本文提取關鍵字來為用戶提供完全個性化的內容。此外，還增加了一家新聞公司PiCK，該公司提供有關媒體直接選擇的選舉的主要文章。</p>\n<p><img src=\"https://lh3.googleusercontent.com/j-9dPcTkSoS9YGlWq3VmG5L6CBZVg455wpdl1Qhu7-GVVESF9JnL-amFJlYyoQEH7OPgTsqjg7L5bkAakkEj_5BMBiM0oac1ocv2SjWqMUr4WQqwGsVo1xG4LOq6BYk2W-5Dlr-O7VWMFyihZno4dU0fZj5oCH38fe0tfJ9c1L5EospyNZ5vc7i7LKw9qAdGWMZgDuJL3OdI9Cw6wu5CMO9KVPnSY4Fa4taM1zOMy1M6gFgCJNykbT-3OkKSQu3KKtSZJA6fDN33YaO9fu3VA5EgLZ2XhoZ2sP2QssLsmO4lWq8lhC5PKe5xwzmM2WU13CI5rxKlVkDIEQ0qq-eGGJjFdb5UmJukI4dz4k-F7rqL9M6X-fNJ_OAQbmocM4s5ZRwCc5uVV9I25iAdgqEll5aINQ3oKum_6CiMxaC2xE6z82XG6ehCgYhM3s3f9MyDAy5TSLbHsOoNo-Sj7-PH-HpO1IoNoBWibSERkBOsZgytHZnjpX5R7zFBwENwEqGJAXSqpNNVZtEZjqDJrnxnjneWbQUX-4ZPwNiPZOihsL0IWwiPhUp3ewgm1MVxr9-n3gFmHZHSw4FCbXolQM7saEWkqpvzdHlJRYQuOruDvW4N_vu7IW6gOAH5iADFlrt0hIDltAgCgWAvOxxEvmKPRDHn7yzQsJk45LKjvb_I47aCf5Kd_sVhSLQHFoLfKVfvB3K5e8TgTUlSIPso9rcef1KL7bSsejEJ28e4qFL7XGRwsMDZzO_hXqtK=w472-h1280-no\" alt=\"個性化推薦新聞\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/KbjcqbXWk93P8ZQkCFORgI9pHgerFLXQbfHzuL0qUsi72s1cYHSe2HQj-L59TzRLAex9Mj1eAxltkXwWQZYq4aQtRKw2vhaUvrrKXDrsNCA5ZghHv05oqDCopTkA9lm6tTVSXTm2DsSqqNuUGJ3JKl67BJk9hQ5N9hGm7mY8VTMXvUn7rthrUy4kcoEephzxkvatV-hf14WxxOg5BaaedV7VLp0fvbksKVcxAHnAu39vVl7y4DTwAt5W8F-6uCA1qQQzZ-qY-BKczCKC2mreCpCcPC7ksMpLp2r-rRy6eWJTY6hueZl9xrACAedeWl-9kvJA6MkeP0mHDdYnOiRc0e2OufKy-phRiUwtsT80ltT4AtZq1b9egla6kAAwFGsbAbtAGHGBibWHI6S0ow-pA7v8Ld5iOVYbdgzYQB7PpTm_7I2a-JjeCl0VhR_-w4ae3mJUkc30OyXyS83Tzu7RmS7YPPpAIbcyHo0-RyeUHZNWb60HCN_bOBWbdBvnpmYtAafXi4Ril3Reuv5pvMsxDWYt9jGutyiTbBSWo1xh_V0XEbTnPcTe9Lr5vaUD1mEozw_xYaU_ryWq8jqJCVvQB2O-WkwW5KjojVBgH6K1tKio6qYuTqAmjbA3A-bypdBy5bb4BNs6RnNejP_LJJnD9hPvtww_AvgywodUqorbJ_QiLeApyLTkRz62lz6dVHfXobevbCz4FUB6Tn7pZxtVkHHMGUztC-pdiIeS6YT84XFiJrxcKfb18xz9=w966-h744-no\" alt=\"媒體新聞\"></p>\n<h1 id=\"由各媒體發行，民意調查結果集中在一個地方！\"><a href=\"#由各媒體發行，民意調查結果集中在一個地方！\" class=\"headerlink\" title=\"由各媒體發行，民意調查結果集中在一個地方！\"></a>由各媒體發行，民意調查結果集中在一個地方！</h1><p>自2020年大選以來，Naver 提出了一種在圖表中顯示和處理意見統計的方法。目的是“使用者和媒體之間的交流更加直接。”與民意調查相關的文章，例如由媒體直接編輯和提供的政黨批准率和候選人批准率，可以在“人口調查頁面”的一個地方收集。</p>\n<p><img src=\"https://lh3.googleusercontent.com/G-Zv5PZYMCHG3PM0qyLs8Ll6z3wA1k1vG-p1Kv7g1mqakFqnPjcQ7cwYkOOc9yM50bprbrnXC67Cj-IeP_L_rAdRbw5UzXN3ogZpwQFGq46Y_eyUUxJ5M_wsEN5OyipM9Pv9ru9QIoAUTJJvFoZFHEcxAJg7ZjDe25RURF_8yVUD-NGVBkh13rOUwUbox4bC3B5YI5jeXDcBpcVaqX3DkgYjttNlRUdnrNdQMHVihLKB8Jcfeh6tWarB-p9diA_DGwIIuU1TlPRFbIi8LkraMbDxKwey1otEtPRxJwIffbjeEO_8PfmS_kiqQCZ64TLgMWBGH4a1WmHWNwXJYVDGGCQl62crcd5Ofd2XC_YPDVKw_y0JNSi_3J-WflpnBR08XZXjqWToJ-FwXqyYsDVbkPp30gJg1uU8MV_bW3FSFaynwbPE83CuLgrQh0OJ70VYDmT_oRMlzbew9geWh8Lpc-Ni7Icq_HEt-XUcWgJdIjtqtmIHKVIxi_5_BLvov833Nkck2LMwBwu6sKLAzToZvwVyl2mWlu1k7L2wrR8F_0zwLogp3O8QOl3Fay5-VUKSZ7BokJdKUEDWKwDfS_rWH_hRTGK0nyBFgwQuDxDVgMT55PFEBrCJxsFtOnBbi0quDv874EHSO9VWCQPXmgmTPoK9F__WZuCePF-JZYsQtWKZEQ9brhx-HsYXpg2GYKDkP7SDUYfUMVXuJOuj6QfeQbWmSCTsXc_p_mojrHKonC0bVLCSWBU1qEaZ=w966-h1066-no\" alt=\"民意調查結果集中在一個地方\"></p>\n<h1 id=\"通過可視化選舉數據，有效溝通！\"><a href=\"#通過可視化選舉數據，有效溝通！\" class=\"headerlink\" title=\"通過可視化選舉數據，有效溝通！\"></a>通過可視化選舉數據，有效溝通！</h1><p>“過去區域選舉的投票率是多少？”，“哪個區域的投票率最高？” 選舉統計信息和有關選舉的有趣信息以圖表的形式提供。選舉頁面的信息圖用上述的色彩系統，清楚地分類和傳達信息，並在插圖中積極使用這些顏色。</p>\n<p><img src=\"https://lh3.googleusercontent.com/D2Mcxo5J5hmivUmwxqBmm6h9TeX5E6E9HDM1AC1pqm7SKez47EaINAuI1NttePLU7XCxtCTCaDwTcuCFLDcXUGcLJdebGS-TQdrLbmhosCQ_aINNEy_YvCmpyZnEZSx9WUn9gbbI7r59NPhEkKuTUkpXdxqn0W3ZOAjAYaZf8hypdWouZ_ZBA2-N1o4JEceNMZHtNrE_Cp7hZDbUOgc-w8qe2b46yTckY6thigoToND5-BwshFD9tDetPKTi_xsj4TkbuS_SXy38wKsGgEElgrEmkTIq1Ou9IUHaf7GT67QmcGTYPFKkQXHsWv9ebY4E_Cy2EETn5L5qZvGVz3pbH4_vMz42WGjkR6uq24vwyOglumQSqdH34cteMmgRpkETFGeQLaNSWVwy0zDjxYDki08PsTzEjayZCnLlr3GXHdt3560fXkm6N7DpTMANKlJy_A0DjXxzyqaNI9OTxEUFPczXdP2XZ14Aq7wPSH3sEF5xsUTVmh7DTqvDQuvkgBTL42tBliEVQRCrA3FMJupdKoBDA3DOMFhMcprs_pjc4ONruLfG5UBD_nRqKJ68ESjnTglwVNnUYjX9TnJ_pjWQEiAbtVso3SoAZAntrLJrh1anX0b6ZnXVfVv3nX9HByrz0XwFp-yHyn_uo_fe_1reHquPGSZAkyjEH_dFe6no-ISR1XKOJLl2BVnnsNc9U02yJ-IWLng0DEom4mcFUVFksidmww4A6g4VaNwUgNxeU7eUYY8e8vKQaIjC=w966-h1066-no\" alt=\"可視化選舉數據\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pEL562dFJAJyM-Yw4VHp0_k6jtu9bxDNw8-4sP-vC2JvuK6knMSf15Guo3Azo_QBfmqCpQ_W75rnWcqcZnpOa3vOC8c6QUK8DRkOHKiK74ft8wi17mgUySLDaLBjOwMLmo6O8P8_6AjDikg7o7O834pkk3ft-5_YisDSG9xP36b8WAhlSSa3z8FrHhU4zpQYNobH68WiOBmnQRWx0GffW3N9nn7reT33ECbqhNTn8_kjJdH6qyRCVNQkeigJoEcoI7n8Jh0mQVmNwagcYRbr6IUBJCpKFChWfT6tH2nRfBneiPqk7dMQrUMkGNjtfgC9rghVaYEAkMhwwdPM-L_Te24cp7nRdQzDDTPkv0zweLybfE7pIkXvfBgK9CNx7ZOH14mKedG6ICQb4JUeLt7za741UcwcdVygNnLzjaNqpKv7ZPaEt9NdJa7JuPwX9Bl7buxqrAnQ-HRzXNFuEUS_cm7BysU_1PRd-KqvPdgBMzpJBRVPi4zc4eWeQmfCHedLi8hTF3HcrITVYwGPGWddBtJsIu2n26ADuo42wPPqrdp_Vw08HFa2BJmH0ZPHSVxeUofpIxUoy4jwSnNZzwSrgLRlyeMOhYxnx2nBBRmNw43dV5ypphkd-5EXEEIFImMES4t68AdtbEuBpKdJ0yEvux6SOp2OmyaT9f3juCF6eym3Q_EB8ESdeUrk-v30iYIbOTzMwRE_J_LEre3d5E_HS0YdMuom_-el0Y-2CYnOmIeaI-_0X6hCoyLK=w966-h316-no\" alt=\"數據色票\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/y7kgnDGceI-stEN5mqX6eSpT16h2An675kVne2nliakhZhOjujMvoLSezmRmr9w-1nyr-miTrg6r6_dmiMhZvkceJJr7Hmjbykm0ef4LyNS9ukq4IXnmcHd7X0EM3Zm610JbQtnrisqpmaxfPQyP4llK-sF74m2WVCEfYZVr7ylU7cqYpxPTOtXIsSzGv7uCObvUirn-wPSruojg2mqXct9ouC5-XpI8WxGcJKmZJIbC2dxlPd2x5Vcl6fd7GasJle-9w0uOV93psbOX2yGRv93CQUFM5gLTuip87ZzINR6cf2x4Ze1e_A3KpT0SKYxCAtdxSYWyQZaWlO-IEitXs1uv9BG-Q7kHfYmAxoyfrNSJl-mHRk4eXHN9YJ2LHT0xIeWiirqPq9kVUHb9KW2yfQnHgzVd5Oiz_HNWFaSQd0DBs0XM4PNbyqYEYD9hWr_Zlk5jNSCU-UzLX9kNw4zNZdRJM8bk5Zi1uelU0pcfvgm5qgqmjkLKSZce-UmVua9q8MyOhVQNxkNDeg4CzVR3flS33fu_XyDIxMeOvG9AmDzS7owY97940mtocEVUMzpghG4fbhYaFZbMpvIwmVfN6eSqXNsOykYPyulIdQMjbgqwcmok94jk74TFvURFXSMVIR9y3C2pY9MHhnd4kO5PP-Sa_tsPWlUvJfsStT91F0QfTfsp7HJUDs8EIiH_izHJGsNiRUw1RFqxYS8PhIqRF1nbqcyf8jM_rbRAzk_4lEmS6HQoYBacOj9f=w966-h521-no\" alt=\"插圖中積極使用這些顏色\"></p>\n<blockquote>\n<p>心得：選這篇來閱讀主要的原因是裡面有許多視覺圖表的部分，他把圖表的總結寫在上方讓人很清楚地理解狀況，我覺得這點很值得學習，或許在系統 dashboard overview 的統計圖表部分可以採取類似的設計，讓使用者更能快速的掌握目標訊息。文字型的描述則能搭配同色系的插圖，讓內容更豐富，這點也令我想多多嘗試。</p>\n</blockquote>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/221868269402\">제21대 국회의원선거 특집페이지 1차 오픈</a></li>\n</ul>"},{"title":"Naver Study Case - Table Order APP","thumbnailImage":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0","coverMeta":"out","date":"2020-04-18T16:00:00.000Z","updated":"2020-04-18T16:00:00.000Z","_content":"\nNaver 是韓國最大網際網路服務公司，台灣人比較熟悉的 Line 通訊軟體就是他旗下經營的子公司。最近發現 Naver 有一個設計部落格，裡面內容介紹各種旗下軟體的 UIUX，所以就挖了一篇出來多學習看看。\n\n<!--more-->\n\n我找了一個有介紹後台的點餐 APP（後面簡稱 Table Order），畢竟目前主要工作還是對 B2B 的設計。\n\n![Table Order APP](https://lh3.googleusercontent.com/XG4gRzRuptmRaM_rWmwXSEzGo4CnHvGwjhxUPw8eg4rhoNaIgtpuh023h8KwE7lNtr0XvAFO4YVYgzBsoCkkw9ABtIaUFOcwTXj7lZIl1x5pUWXVH5CwOzPmv6xgsSZwQt1Pm55doNVDCvohThqOlznJwD1wpKGTYwKyT261OzZx6ybJ9FFcEL7NAhLcgcIjGR0wxFXaSL4K7Soyw4Iib1Oac015362LTVCHCWX-pxtv_Ar6B2LjsDvGvj-Z8rUGlB6xMQlvkzPowcVcPYjUm59o1JBjQkoIqkpH1sLeOEafSOrPipFN2xshdAKJ5pAHxVZvhw74TxzIiRVhO5E5WAuOUsdveb_wZb0uKDH9g8EdxGjQnbQxfV-3OfCLT9ObaJB82uxnpsuVVhC39PUsFDDL45PjoE-B0viLww17EP0DidMAXXHtFlIUtfUCqyQfBdkH2KBWisiAHo8KNeJq3LbU3bBCa5cMGwHxKRWfA1sdc-shLPooaOQ2f10nd_o_mUQrMlWD85gZhS_cjPJWQbRas5_iIqIe1QPKCN2I7fnClmV_TLm20reuI5En9G2nklXe2nj-xjGhoudeaAgXv7HIesR5uAx2lzgpP6IIJlrdzlPiWIJAV5UywMf2sMwB3QPXI5ozHyVDX0NzYV-8fcyDByk1TiHszfP6ikR_iGtp55FmPYcF7iXJM-HkWmRuczwRa2JVR8mkTC-7GhX075ejOMVY5WSA8COAMqCkhd27t3x3-MQfe1w=w966-h952-no)\n\n<iframe src='https://tv.naver.com/embed/9822927?autoPlay=true' frameborder='no' scrolling='no' marginwidth='0' marginheight='0' WIDTH='740' HEIGHT='416' allow='autoplay' allowfullscreen></iframe>\n\n# 拍攝 QRcode > 建立訂單 > 付款\n\nTable Order 服務是一種智能訂購服務，可讓使用者點餐並通過商店中的QR碼完成付款。以下是用戶和老闆在過去幾個月進行的 Beta 測試中留下的部分評論。\n\n> 用戶：“可以不用等店員來點菜，食物就出來了！”\n\n> 老闆：“我不喜歡點菜或服務，但我可以專心做飯。”\n\n![點餐流程](https://lh3.googleusercontent.com/3NC-L_SEbMTSRi6xUVcJ8pDfjJYWJGyD7rcoHsPWxPIU-hzd-oQ4Z85GdA1DwboM92eyz2x_yQO3DbOF9mC2THs3ntjo_5FIrUYU5s8BF-zaxCbW92e4S4284Y4KTJHFqNrGVioS373QtXTMxjGmxIcxHb9wlq_k8MqSXZ6YMy5xDlsggls1TaISTCCS9qRFM6auxEV2Po8BVP9aD8vKOyTZsL1L1EBkpMM7vdMXLGmRV7fZbRDF7S4OQgFKxXsvggTdqTdnA-LLQEdmVFCl7ELVyWSbOXwo2b8tLv62HHVfcjluzrJSF44Gczq1n0Yt4rosWJLrFx397nAbjNjm5zzLGVWkXU54WpEo5-GlvWGAWoA3tnrRqB_O7BtkPJ8w-7nsL02-5y5l6YHK65LzmsWs_hO0j24CAXWqSLibbMOSRpRD8V4x3P64igatKVeiT30wxjJOWBiMYw224NqO9ig_xptpi_tz_7BUuzRO2dfDNfTSrVWfzhqWaSeQmAQrmzxl3aoeArhQEoi09fbeVzfjcYembDJhuKcfU-ewalWQwG42asweXzhHIc4NCTxxpqaEP0cccCgF7jfRVuxy6gdflEIDYfF9B2ZOF-1giXFBaOICgsJfLHzxhzOS7ho5d1hQw7PgYOevl1SRZ0MK-OFm67JQwRzlAECWUmfM4EV-4-1Ms5acOOTNMOhVuy8U5HBUkklEsBRtGcJgyBP5l0VMZjnuqdd5OZdmTshQjTxWvfugi_rV1ZI6=w966-h329-no)\n\n# 線上菜單的優勢是紙張菜單無法做到的\n\n你是不是覺得去餐廳看菜單是一種無趣而令人擔憂的體驗嗎？ Table Order 的菜單易於選擇，因為它顯示了新菜單，老闆推薦的菜單以及在屏幕上已訂購的菜單。 從老闆的角度來看，這是一個很好的參考，因為使用者可以一目了然地看到訂單數據，例如哪個菜單受歡迎。此外，即使有一個菜單因價格波動要改變，也不用重新印紙本菜單或用黑筆劃掉，線上菜單可高度自營編輯也是一大優勢。\n\n> 中餐廳與意大利餐廳，菜單導航方式是否相同？\n\n回顧系統在餐廳點餐時的經歷，系統可以看到每種菜單的提供方式都大不相同。在某些商店中，菜單說明很重要，照片很重要，某些商店則可以快速瀏覽整個菜單。因此，用戶將有權力選擇要怎麼瀏覽這些商店的菜單導航體驗。\n\nTable Order 的菜單順序設計，以能均勻儲存各商店的菜單信息為考量。另外，未來將以各種觀看方法（例如圖像的類型或描述的類型）添加客制的菜單，進一步考慮模板設計。\n\n![菜單導航](https://lh3.googleusercontent.com/-fsfcXAcyh5ddOQfHj867nTtdyOyNtVWOEr2lL-7JN7yyOyknGGQn-GWbCodQtVVTxXBfnBcI1qZCxwv86o0bZgWWsSuTuH5HyQlOdQ7Ec4IhaQqRVlSlToYXjrar8HlxSvTSg0zyWRD8eEBIzmZNB9QKTaX_sEG9DRC0j651W2EAVDQGIj7qwsvQjKc2zn3fVv30O0_0f-ND0Q7jWmbrUDhMsP7LdX1wC1YRXvs2nnmVX2rg2N0uqsoxXW9Jn_201XH7Z9JQh7nZS3rRpYi4M1eRP21KfZvs1n-7tkTThPYkvdMteak7eyOreqykBayRzMpu9Z0YUmj24q6dDZopbOLj8qye4HmQmvp8259nZrgdwR4MuW_Xf_ORVJo7cO0_lIQIqaZx4allA55TrTSpJ_vaq1sFpbPvlBi5IMhiCHy94RritJxZQrTwYyqECjDra9MXfboTd-nPnaOU0as2kLcDUB5myUtGne1aE4mV6DaSp-F06UjznHO-DR_a19SAxoY31BoRC16FE4iiSo0pcCcCsAREshaw5E8w0J7_MNQDg2OUQHxqr5fa8ULb-Fs3Gk28NfDdbMtv4gbQT74lm9IJqtKb56mpNl72rrvFm_UfZt2eWCj0mYXyCjtfyJDxo6XJznW9HNl2d8CPcje975Quzx-TbEo8ft5TK3Z7uTyHZ0fFb__hPkcr0nYYmA2hWm8DB20Xr2UjxEKZLtZU8MXbww9H7iND6vz2rLZtoPL05-VJvG3uDvk=w656-h1280-no)\n\n# 別人覺得這個菜單如何？\n\n選擇餐館或咖啡館時最重要的事情之一就是評論。商店的評論是非常有用的信息，可通過他人的意見提供客觀信息。Table Order 提供了在菜單的基礎上查看用戶照片，評分，評論等的功能，而不是全面的商店體驗，因此使用者可以更詳細地查看評論 。同樣，可以通過自然滾動瀏覽評論照片，就像使用社群軟體瀏覽貼文一樣。\n\n為了使這些審閱平台提供更多信息和更高質量，來自多個用戶的良好審閱至關重要。系統正在設計一種審查方法，該方法可以包含諸如食物量，味道和辣味等詳細信息，以便於編寫關鍵內容。\n\n![菜單評論](https://lh3.googleusercontent.com/RKkqBEUWuVEVRWY7hUu1_i2WseuXlZeB643XDYhpkCDlQf-8xjtKyrEnkVZsGLOuBifUiYB1RM_RtgbnhRCI3VoaJBok41Og4PHT5jvanbhq_vEwIpZqMPNEEn6TdQOKBAPSg1OQDkXfQ4fhCpjEyNJwKjKO68yK88TVD1X827u52WNokHp7FYYlq8ZXdRZRJZXcK7cWyfhrYVJ6DzO8ZDwfspS6iOgtgD7lrZDyXNtIEYmcF9-G381XYq22podPK9Gyh-jxmStYFA20IwUCGHeC8rrlqZoUIyBfxGWBxlqjOmOutg3oW2O6DchlMcVhR6QoyuDDWWqvSde_z9AD-01v2fJbfD7RcwtUTZNq-mIPCiBqpz7mgrxhoOT7aU1I-t0RouHrcLcaU59kqRyV3X_YXEt3RbUKV523Z4QBnIc-xwW85_rq3mcmLQbpV-JA5lI20rd5lwVon8fIwBZyI5gNxhARDeoJyeArfnKqhgdKYG_CEox0kS2iv2SF6CtQ3C_HsYssMvmmmTsACvAbC_1Xrtdx3PKQ3OLN92j0eJPoXGKVAd_yrfTZsH6j9UE-bFfhKQpl5xVX21jO_6TYT0xjeGia_9pog1ZMqyrc4cjZECV8vjS7xwTdG-zvwG8LLBJlCBz12ccuZCiWPzFYByhNbaxTbYXFSZGl8yB1Jjs090psFaiX-U7AZnzO_g3oyIKlVXDa_V7ocSg9o2vVuVhoyc2QFoFgH5tk59mLrJbVDNS5skswGws=w966-h1174-no)\n\n# 我的訂單進度，一目了然\n\n了解我的訂單進度以及何時下達包裹訂單也很重要。Table Order 上的訂單會提供狀態的通知，例如準備/烹飪/服務已完成以及帶有步驟的事故單，以便可以快速共享狀態。\n\n另一方面，使用者可以隨時發出有關訂單狀態的回覆，但是什麼時候是寫回覆的最佳時間呢？如果太晚了，我記不清了，或者太快了，可能是在我吃完飯之前。根據 Naver 過往資料統計和 beta 測試中累積的統計信息，會依據每個公司的情況和特徵，對 Table Order 進行分類和應用，目前仍在測試最合適的模型。\n\n![我的訂單](https://lh3.googleusercontent.com/BMQIcFt9651Rrd-9lzZn7tO9hNQNp6Do-RtyVlIBzHmcgNB3eELlccCeYEGVomRplhdME13vMPVeLezOZ-e3Nock63Rp65FqV_wbFEZ11qBRTgygORafgyNqRImMDIzQKVVuQjGhPtyj-BOiRA6nca6Ts2lwusweIo2DX6R6IxNcu3BDR0qKGZGnsnsmjwuF2bzWrduYmErABF4WfUYQYMxACZZuoyoDrhsbS3qYPrK3OrftJMLWRAVcpT1hQerhIy3RArBddk3U4ewufgVjcsI84eo6qkW7v7ooXueTaZ3YU-iFAhSAV9rLzuPDDcBbZjuxEfZCdbUneLd0w6R9ci-wf8r10jB-SMKD2qzhiP5KrltnmdH-cVg0IuqAvRDFFuRIRN_FI_WHRTtRVITqKDLbnkNdRAv8_kjn9O5igNZyoNwkdgvKQOudAmAoxWxePXK1QNpMK9slBPKcZKVaejVDeS5-qvF2WMIotc0bg61hPLOUHS1Z_0XQ57zXneKn2dcGpaba-9STslBY7Q8KDD9urUlzj8ORaBQLO-WRDh71WFrWb0rVQNMhPTuSI0KtNkgaKMT5htaxCsagFN1MPdUBIGp9rx4G88XKfzRnW7f1TnMCTDbOmtzOOLygc1j-2yXvOMIuD5_dRRdvhjZEDXJnfj57cJ0ve7Xv7ZktPq8fNnnIgqCfNCVbtXsg9iv9K-2jws63ER1iU4clVrakABfsPkquulMgZbSyE_NO81Y2m6o_JGeraypw=w966-h1269-no)\n\n# 成為常客的捷徑，老闆提供的優惠券\n\n除了立即累積的 NaverPay Point 優惠外，系統還帶來了一些概念，例如使用者在外面看到的集點卷。家裡只有一張集點卷忘了帶出門嗎？如果使用者使用的是可自行集點的 Table Order，則不必擔心，當使用者獲得獎勵時會收到通知。另外，為每個商店收集優惠券和集點並立即查看它們很方便。將來會添加各種優惠券類型，因此請使用它們。\n\n![集點 & 優惠券](https://lh3.googleusercontent.com/WSFepfEVuaKAvWJWR2X8vYZlrAILBL_ajqmSXpGklqfOQfiCiuHDX5t25oQw_ZY_gLnUfw7UbcwCneimk6SRU1m6XrdPKL0TyVk-SjcI3KHStRrEpKxparf_FaKAnLe3IgWaR9KyZPpYjwdMSEuuA_NiekgXZfi1sP6VSF7mjFKEKIVlw90VI_yXE0kiZ6QtRBSZkCfvcSOuH9_QQc2q7c6-q4xyZKPVM3le_A66kTv9MFKzyY5NbedDCCDUZdPKbmbQ9picATJgDst7c_b63G0i5f2Hmq4o268szVf51tg5kTAQZ-_nZX9llNJO3l1BbfVj-BTQFk6Uf-TCulcaWjqgUouPbmY3CL9R6KAd1r42MRUL5MEdHqrkSUbar5YazxQkJUcWvzk9DYcaorY5p5SGsZE3WfM2fzvaILKwZ5EOebDEJfvvwfa6-YZ6wzo7yk4ZTVLzxPc9Ds2d07ia09FBekCAP7Ax5dY_EofRMVtkplKNC5ddQsbBb3oOqXo15esKTwyXd6zfJuA_2G3K7dVx-_dG5oWyfGmL-psy4Ro5JApTiCeJfYtJsnNoc9wzxNGgRiMnqZGfxkXWrJRXQziJK2fUzCrGj9jLuiv09AbHaBfp0ByPsdXGlZi3KGjz52KmmtLioTwEjA1MBzBm9PU2rJwoI8nByJQY_-CAMN5gjTNQgGSyUO7Cknk80rglswbMVi5WzxTf__b4EEj_WOtqTvs26w-ljd8wpMY7d9kpWGmZfIxlpmk=w966-h1146-no)\n\n# 智能商店管理\n\n系統還透過合作夥伴後台創建了 Table Order 管理工具，以便老闆可以輕鬆地創建和操作上述各種功能。老闆可以通過設置“使用者操作時間”連接“菜單”來建立午餐、晚餐、工作日和周末等不同的菜單。\n\n在工作時間內，老闆可以根據桌數或擁擠情況，選擇地操作餐桌座位兩種類型的 Card 視圖和 Table 視圖。通過此操作，老闆可以立即檢查商店的狀態，因此不必走到大廳，老闆可以專注於烹飪和操作。\n\n![智能商店管理](https://lh3.googleusercontent.com/HOZkhxmM_T3rUOzmXb8NUBYRIqPEcH9oQe9ReHKeGIwZlUZ1MDa1yKKo-balld5tBADi0YYh4D-LevCXRIJl79I0DNEYjHeQAgPHvqs9HlwPfAQAUKdQcTVNArHsIUWM5xOVbc_8cb6trQGSTdd-H_e_yd8quPuUOLZ9mIxCG4HHL6SndTEJjjTc3E7zy_uJKnkN87EsTjNMi2u5K4vGjK03TKxVlGBStLSfkghwN0DnhqAPoSNmdBjasfWAJSigYsH4_p8mMn1pnIBTk-Q_R6sesoybsBhj2eXdYmRFi-eQtdZipOpq2n2s25mQHolf5hZ9D_9paAe1sg-vv82MvOtrghERbUVhtuLh1SMWmyqR2JIVdqIy9lIUYBTRCMmR8wejvm-6P6VAHJxMqWYEzGHgtyaqCVG_txrWTseRg4ekf2HIIjdm46zwBOyA2fXHZAKm0V4ICG_fKnZuSRcR8OGpQ7P2E-o4SQz__4AyEQUFirpC5WGN4z4EFDChb5p4fdqdH5YV3keQd3eUe9Y0JrjvAllaGpUUcpNr9Odr4D8wecrmxHjvXm_ukM77330a_hJpSo-iWvrD9FoGqGNHMn_pFNevW7yuhb6b7FndHUa3u4FW2kuCK3LZAoLn0x8t2029mrfXjrsxUcaysbeQ0yAR-KltuGi9YWt-iEPil46xQCYySYODDniWKmb31hG5zwrNdod347Xq7rCKEoPsEfqdDOSR4CoYVFeCam6dKrOT-jNw8tZv-6jd=w622-h1280-no)\n\n# 線下品牌設計\n\n提供老闆各式線下品牌宣傳設計，包含海報、名片、立牌等等。\n\n![線下品牌設計](https://lh3.googleusercontent.com/FUSeSIVW_9rF-gzfpopRZrPcDgTWXA0yHE_0PuYwFijro10tkOgTx7H3dmfBqrvwA9oJebI8Ucho14c82n4d5-PCDsfzjUrvqBazJfv6fr-kZby0PaM2RlO_lzuuSvWkHaLQ6QtYwe9AS75YRQaSOBhoc-AAID7jzErDqCW4E0AO7DS6ysArYbhbYiOWNpP5McBwvTUw6SkBxupnszYhdL-B6_xLd-vYq98JLibrg2fJQEuMPp7uvUTHhthcJGo05hKurmN9hLqnZh1os1wTWLAS9kS0ngycLm0iEQ6p2MYXDaw7vfKCGpVa6Jd9oPp_7kGBmBDK8IXqZYKLXFdoUbIQOoXU1uCjzOF3hDEwJ6dzXKyUN2CP1AtPFlFZ4T3i2A3x6M_xNU0eVgyNQrJ3TCkI5JdHnOTeRZzhBDaEVk-Mxy6VcCo0o9EnROIHQYJSwHQOB0ds5Z2ERIRXUh9X4UMFrkTsMMbByaOubRlGTsR21kIDjNrfewHp9HS9JJUtfZICZX2vhy79h5-1g6YrFS5O3avUnm3NGN7Fe-OHyIgEhc29A5BCFYvu6Lp-3-RKKDmkejuZTQtrHahutPIoM2woVSUfU9ASJa6-CjIECU2BJ2du6H_gBSNyOZyqw6OXkngbsCrXRUrwST1ZF_46JK1LK0BLMmGOYoyDqfkPzEdU6m0JLcQdegZYLNMGYCT2gXmRpVvQOBkpZxeqfZeoYhPcf8tsAkO4zuDF1jfwBp0b02M83XSdudM=w966-h841-no)\n\n# 總結\n\n下圖為使用者 & 老闆在 Table Order 中得到的優勢圖。\n\n![使用者 & 老闆互惠](https://lh3.googleusercontent.com/dYB97w9E6EjZQmRoxE8LOGOqjM9C2KTOR73CeQt1C_8aj7TaQnMeqAUqnrOAAjiNDGyapNhM9cyjI4Ru7-AopcO10DLh_gSG87u1XDQrX7hbUd98iuuKqOabhWbAqNop1pd0QswoREPurXvzk3aDn4vbBW7Ko--xPATdisNbkVW9VccA41cGAoPRKoDKjXNu275F32w5zV71qtIF81FcsQNnW-di0CyL9GSxbVnUHXjfV65vujoPgKIobvcy8vsf9hZbrVzf0RoUQv6-zyeD93poFiSO7VmDxMsxLisAbXfDz175gxzn3AdPr9A8UAd7-xaZNiszrKtXv-G-E405SRUIxeoyRze4mULQmYdDauIadxU7CgUlKRbSR0GDNCVBlkxBWVaB0s4j6VZuDj5rRRezK3rRXnmZXhzH41K9aG7T6OhWtrh0QPoDwSTxvroD-v1ayI0IcRSQ1AG9oDst6uNGZNxlTFw_lEK3etpjbqDUVplxt-Ct10jgoAgMfFMI8MoMi8KhYCbtzHsqcLZMsdzp9c18g0_85fY72Sux9y5NLFmL6bws6BjFtAovPw2paxaWGivTdnnVffjLIRsbjGX33jAESJmq3b2HIpmapF08z2eeH5PMs-zWC-RjJ0p7gOSurC--efBJP8OJvqAoekj6EIC8OLGeRjtMCBOD6SoZNoP6K8_HUnFuYjd0ye0sR0A558hnTefdj67GAuKFPlwbZrZM2OqFU-PTTpiRyTYsqeXpklBgnd1X=w966-h516-no)\n\n> 心得：看完後覺得能讓老闆自行設計不同時間顯示不同的客制菜單是很不容易的一件事，當中又要把操作簡易化，設計模板是很重要的一環。這些模板（自己常吃、新口味、老闆推薦、受歡迎的菜單...）雖然設計簡單卻能把大量想表達的訊息清楚地展示出來，非常值得學習。後台部分讓老闆自行選擇用 Card 或是 Table 模式瀏覽餐廳狀況也很清楚，方便隨時根據現場資訊做判斷處理。未來如果 Real-Time 生產有不同的方式可以切換瀏覽或許對控場人員來說更好。\n\n# Reference\n\n* [네이버 '테이블주문'을 소개합니다.](https://blog.naver.com/nvr_design/221668077330)\n","source":"_posts/UXUI/Naver-Study-Case-Table-Order-APP.md","raw":"---\ntitle: Naver Study Case - Table Order APP\ncategories:\n  - UXUI\n  - Naver\nthumbnailImage: https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0\ncoverMeta: out\ntags: [UX, UI, Naver]\ndate: 2020/04/19\nupdated: 2020/04/19\n---\n\nNaver 是韓國最大網際網路服務公司，台灣人比較熟悉的 Line 通訊軟體就是他旗下經營的子公司。最近發現 Naver 有一個設計部落格，裡面內容介紹各種旗下軟體的 UIUX，所以就挖了一篇出來多學習看看。\n\n<!--more-->\n\n我找了一個有介紹後台的點餐 APP（後面簡稱 Table Order），畢竟目前主要工作還是對 B2B 的設計。\n\n![Table Order APP](https://lh3.googleusercontent.com/XG4gRzRuptmRaM_rWmwXSEzGo4CnHvGwjhxUPw8eg4rhoNaIgtpuh023h8KwE7lNtr0XvAFO4YVYgzBsoCkkw9ABtIaUFOcwTXj7lZIl1x5pUWXVH5CwOzPmv6xgsSZwQt1Pm55doNVDCvohThqOlznJwD1wpKGTYwKyT261OzZx6ybJ9FFcEL7NAhLcgcIjGR0wxFXaSL4K7Soyw4Iib1Oac015362LTVCHCWX-pxtv_Ar6B2LjsDvGvj-Z8rUGlB6xMQlvkzPowcVcPYjUm59o1JBjQkoIqkpH1sLeOEafSOrPipFN2xshdAKJ5pAHxVZvhw74TxzIiRVhO5E5WAuOUsdveb_wZb0uKDH9g8EdxGjQnbQxfV-3OfCLT9ObaJB82uxnpsuVVhC39PUsFDDL45PjoE-B0viLww17EP0DidMAXXHtFlIUtfUCqyQfBdkH2KBWisiAHo8KNeJq3LbU3bBCa5cMGwHxKRWfA1sdc-shLPooaOQ2f10nd_o_mUQrMlWD85gZhS_cjPJWQbRas5_iIqIe1QPKCN2I7fnClmV_TLm20reuI5En9G2nklXe2nj-xjGhoudeaAgXv7HIesR5uAx2lzgpP6IIJlrdzlPiWIJAV5UywMf2sMwB3QPXI5ozHyVDX0NzYV-8fcyDByk1TiHszfP6ikR_iGtp55FmPYcF7iXJM-HkWmRuczwRa2JVR8mkTC-7GhX075ejOMVY5WSA8COAMqCkhd27t3x3-MQfe1w=w966-h952-no)\n\n<iframe src='https://tv.naver.com/embed/9822927?autoPlay=true' frameborder='no' scrolling='no' marginwidth='0' marginheight='0' WIDTH='740' HEIGHT='416' allow='autoplay' allowfullscreen></iframe>\n\n# 拍攝 QRcode > 建立訂單 > 付款\n\nTable Order 服務是一種智能訂購服務，可讓使用者點餐並通過商店中的QR碼完成付款。以下是用戶和老闆在過去幾個月進行的 Beta 測試中留下的部分評論。\n\n> 用戶：“可以不用等店員來點菜，食物就出來了！”\n\n> 老闆：“我不喜歡點菜或服務，但我可以專心做飯。”\n\n![點餐流程](https://lh3.googleusercontent.com/3NC-L_SEbMTSRi6xUVcJ8pDfjJYWJGyD7rcoHsPWxPIU-hzd-oQ4Z85GdA1DwboM92eyz2x_yQO3DbOF9mC2THs3ntjo_5FIrUYU5s8BF-zaxCbW92e4S4284Y4KTJHFqNrGVioS373QtXTMxjGmxIcxHb9wlq_k8MqSXZ6YMy5xDlsggls1TaISTCCS9qRFM6auxEV2Po8BVP9aD8vKOyTZsL1L1EBkpMM7vdMXLGmRV7fZbRDF7S4OQgFKxXsvggTdqTdnA-LLQEdmVFCl7ELVyWSbOXwo2b8tLv62HHVfcjluzrJSF44Gczq1n0Yt4rosWJLrFx397nAbjNjm5zzLGVWkXU54WpEo5-GlvWGAWoA3tnrRqB_O7BtkPJ8w-7nsL02-5y5l6YHK65LzmsWs_hO0j24CAXWqSLibbMOSRpRD8V4x3P64igatKVeiT30wxjJOWBiMYw224NqO9ig_xptpi_tz_7BUuzRO2dfDNfTSrVWfzhqWaSeQmAQrmzxl3aoeArhQEoi09fbeVzfjcYembDJhuKcfU-ewalWQwG42asweXzhHIc4NCTxxpqaEP0cccCgF7jfRVuxy6gdflEIDYfF9B2ZOF-1giXFBaOICgsJfLHzxhzOS7ho5d1hQw7PgYOevl1SRZ0MK-OFm67JQwRzlAECWUmfM4EV-4-1Ms5acOOTNMOhVuy8U5HBUkklEsBRtGcJgyBP5l0VMZjnuqdd5OZdmTshQjTxWvfugi_rV1ZI6=w966-h329-no)\n\n# 線上菜單的優勢是紙張菜單無法做到的\n\n你是不是覺得去餐廳看菜單是一種無趣而令人擔憂的體驗嗎？ Table Order 的菜單易於選擇，因為它顯示了新菜單，老闆推薦的菜單以及在屏幕上已訂購的菜單。 從老闆的角度來看，這是一個很好的參考，因為使用者可以一目了然地看到訂單數據，例如哪個菜單受歡迎。此外，即使有一個菜單因價格波動要改變，也不用重新印紙本菜單或用黑筆劃掉，線上菜單可高度自營編輯也是一大優勢。\n\n> 中餐廳與意大利餐廳，菜單導航方式是否相同？\n\n回顧系統在餐廳點餐時的經歷，系統可以看到每種菜單的提供方式都大不相同。在某些商店中，菜單說明很重要，照片很重要，某些商店則可以快速瀏覽整個菜單。因此，用戶將有權力選擇要怎麼瀏覽這些商店的菜單導航體驗。\n\nTable Order 的菜單順序設計，以能均勻儲存各商店的菜單信息為考量。另外，未來將以各種觀看方法（例如圖像的類型或描述的類型）添加客制的菜單，進一步考慮模板設計。\n\n![菜單導航](https://lh3.googleusercontent.com/-fsfcXAcyh5ddOQfHj867nTtdyOyNtVWOEr2lL-7JN7yyOyknGGQn-GWbCodQtVVTxXBfnBcI1qZCxwv86o0bZgWWsSuTuH5HyQlOdQ7Ec4IhaQqRVlSlToYXjrar8HlxSvTSg0zyWRD8eEBIzmZNB9QKTaX_sEG9DRC0j651W2EAVDQGIj7qwsvQjKc2zn3fVv30O0_0f-ND0Q7jWmbrUDhMsP7LdX1wC1YRXvs2nnmVX2rg2N0uqsoxXW9Jn_201XH7Z9JQh7nZS3rRpYi4M1eRP21KfZvs1n-7tkTThPYkvdMteak7eyOreqykBayRzMpu9Z0YUmj24q6dDZopbOLj8qye4HmQmvp8259nZrgdwR4MuW_Xf_ORVJo7cO0_lIQIqaZx4allA55TrTSpJ_vaq1sFpbPvlBi5IMhiCHy94RritJxZQrTwYyqECjDra9MXfboTd-nPnaOU0as2kLcDUB5myUtGne1aE4mV6DaSp-F06UjznHO-DR_a19SAxoY31BoRC16FE4iiSo0pcCcCsAREshaw5E8w0J7_MNQDg2OUQHxqr5fa8ULb-Fs3Gk28NfDdbMtv4gbQT74lm9IJqtKb56mpNl72rrvFm_UfZt2eWCj0mYXyCjtfyJDxo6XJznW9HNl2d8CPcje975Quzx-TbEo8ft5TK3Z7uTyHZ0fFb__hPkcr0nYYmA2hWm8DB20Xr2UjxEKZLtZU8MXbww9H7iND6vz2rLZtoPL05-VJvG3uDvk=w656-h1280-no)\n\n# 別人覺得這個菜單如何？\n\n選擇餐館或咖啡館時最重要的事情之一就是評論。商店的評論是非常有用的信息，可通過他人的意見提供客觀信息。Table Order 提供了在菜單的基礎上查看用戶照片，評分，評論等的功能，而不是全面的商店體驗，因此使用者可以更詳細地查看評論 。同樣，可以通過自然滾動瀏覽評論照片，就像使用社群軟體瀏覽貼文一樣。\n\n為了使這些審閱平台提供更多信息和更高質量，來自多個用戶的良好審閱至關重要。系統正在設計一種審查方法，該方法可以包含諸如食物量，味道和辣味等詳細信息，以便於編寫關鍵內容。\n\n![菜單評論](https://lh3.googleusercontent.com/RKkqBEUWuVEVRWY7hUu1_i2WseuXlZeB643XDYhpkCDlQf-8xjtKyrEnkVZsGLOuBifUiYB1RM_RtgbnhRCI3VoaJBok41Og4PHT5jvanbhq_vEwIpZqMPNEEn6TdQOKBAPSg1OQDkXfQ4fhCpjEyNJwKjKO68yK88TVD1X827u52WNokHp7FYYlq8ZXdRZRJZXcK7cWyfhrYVJ6DzO8ZDwfspS6iOgtgD7lrZDyXNtIEYmcF9-G381XYq22podPK9Gyh-jxmStYFA20IwUCGHeC8rrlqZoUIyBfxGWBxlqjOmOutg3oW2O6DchlMcVhR6QoyuDDWWqvSde_z9AD-01v2fJbfD7RcwtUTZNq-mIPCiBqpz7mgrxhoOT7aU1I-t0RouHrcLcaU59kqRyV3X_YXEt3RbUKV523Z4QBnIc-xwW85_rq3mcmLQbpV-JA5lI20rd5lwVon8fIwBZyI5gNxhARDeoJyeArfnKqhgdKYG_CEox0kS2iv2SF6CtQ3C_HsYssMvmmmTsACvAbC_1Xrtdx3PKQ3OLN92j0eJPoXGKVAd_yrfTZsH6j9UE-bFfhKQpl5xVX21jO_6TYT0xjeGia_9pog1ZMqyrc4cjZECV8vjS7xwTdG-zvwG8LLBJlCBz12ccuZCiWPzFYByhNbaxTbYXFSZGl8yB1Jjs090psFaiX-U7AZnzO_g3oyIKlVXDa_V7ocSg9o2vVuVhoyc2QFoFgH5tk59mLrJbVDNS5skswGws=w966-h1174-no)\n\n# 我的訂單進度，一目了然\n\n了解我的訂單進度以及何時下達包裹訂單也很重要。Table Order 上的訂單會提供狀態的通知，例如準備/烹飪/服務已完成以及帶有步驟的事故單，以便可以快速共享狀態。\n\n另一方面，使用者可以隨時發出有關訂單狀態的回覆，但是什麼時候是寫回覆的最佳時間呢？如果太晚了，我記不清了，或者太快了，可能是在我吃完飯之前。根據 Naver 過往資料統計和 beta 測試中累積的統計信息，會依據每個公司的情況和特徵，對 Table Order 進行分類和應用，目前仍在測試最合適的模型。\n\n![我的訂單](https://lh3.googleusercontent.com/BMQIcFt9651Rrd-9lzZn7tO9hNQNp6Do-RtyVlIBzHmcgNB3eELlccCeYEGVomRplhdME13vMPVeLezOZ-e3Nock63Rp65FqV_wbFEZ11qBRTgygORafgyNqRImMDIzQKVVuQjGhPtyj-BOiRA6nca6Ts2lwusweIo2DX6R6IxNcu3BDR0qKGZGnsnsmjwuF2bzWrduYmErABF4WfUYQYMxACZZuoyoDrhsbS3qYPrK3OrftJMLWRAVcpT1hQerhIy3RArBddk3U4ewufgVjcsI84eo6qkW7v7ooXueTaZ3YU-iFAhSAV9rLzuPDDcBbZjuxEfZCdbUneLd0w6R9ci-wf8r10jB-SMKD2qzhiP5KrltnmdH-cVg0IuqAvRDFFuRIRN_FI_WHRTtRVITqKDLbnkNdRAv8_kjn9O5igNZyoNwkdgvKQOudAmAoxWxePXK1QNpMK9slBPKcZKVaejVDeS5-qvF2WMIotc0bg61hPLOUHS1Z_0XQ57zXneKn2dcGpaba-9STslBY7Q8KDD9urUlzj8ORaBQLO-WRDh71WFrWb0rVQNMhPTuSI0KtNkgaKMT5htaxCsagFN1MPdUBIGp9rx4G88XKfzRnW7f1TnMCTDbOmtzOOLygc1j-2yXvOMIuD5_dRRdvhjZEDXJnfj57cJ0ve7Xv7ZktPq8fNnnIgqCfNCVbtXsg9iv9K-2jws63ER1iU4clVrakABfsPkquulMgZbSyE_NO81Y2m6o_JGeraypw=w966-h1269-no)\n\n# 成為常客的捷徑，老闆提供的優惠券\n\n除了立即累積的 NaverPay Point 優惠外，系統還帶來了一些概念，例如使用者在外面看到的集點卷。家裡只有一張集點卷忘了帶出門嗎？如果使用者使用的是可自行集點的 Table Order，則不必擔心，當使用者獲得獎勵時會收到通知。另外，為每個商店收集優惠券和集點並立即查看它們很方便。將來會添加各種優惠券類型，因此請使用它們。\n\n![集點 & 優惠券](https://lh3.googleusercontent.com/WSFepfEVuaKAvWJWR2X8vYZlrAILBL_ajqmSXpGklqfOQfiCiuHDX5t25oQw_ZY_gLnUfw7UbcwCneimk6SRU1m6XrdPKL0TyVk-SjcI3KHStRrEpKxparf_FaKAnLe3IgWaR9KyZPpYjwdMSEuuA_NiekgXZfi1sP6VSF7mjFKEKIVlw90VI_yXE0kiZ6QtRBSZkCfvcSOuH9_QQc2q7c6-q4xyZKPVM3le_A66kTv9MFKzyY5NbedDCCDUZdPKbmbQ9picATJgDst7c_b63G0i5f2Hmq4o268szVf51tg5kTAQZ-_nZX9llNJO3l1BbfVj-BTQFk6Uf-TCulcaWjqgUouPbmY3CL9R6KAd1r42MRUL5MEdHqrkSUbar5YazxQkJUcWvzk9DYcaorY5p5SGsZE3WfM2fzvaILKwZ5EOebDEJfvvwfa6-YZ6wzo7yk4ZTVLzxPc9Ds2d07ia09FBekCAP7Ax5dY_EofRMVtkplKNC5ddQsbBb3oOqXo15esKTwyXd6zfJuA_2G3K7dVx-_dG5oWyfGmL-psy4Ro5JApTiCeJfYtJsnNoc9wzxNGgRiMnqZGfxkXWrJRXQziJK2fUzCrGj9jLuiv09AbHaBfp0ByPsdXGlZi3KGjz52KmmtLioTwEjA1MBzBm9PU2rJwoI8nByJQY_-CAMN5gjTNQgGSyUO7Cknk80rglswbMVi5WzxTf__b4EEj_WOtqTvs26w-ljd8wpMY7d9kpWGmZfIxlpmk=w966-h1146-no)\n\n# 智能商店管理\n\n系統還透過合作夥伴後台創建了 Table Order 管理工具，以便老闆可以輕鬆地創建和操作上述各種功能。老闆可以通過設置“使用者操作時間”連接“菜單”來建立午餐、晚餐、工作日和周末等不同的菜單。\n\n在工作時間內，老闆可以根據桌數或擁擠情況，選擇地操作餐桌座位兩種類型的 Card 視圖和 Table 視圖。通過此操作，老闆可以立即檢查商店的狀態，因此不必走到大廳，老闆可以專注於烹飪和操作。\n\n![智能商店管理](https://lh3.googleusercontent.com/HOZkhxmM_T3rUOzmXb8NUBYRIqPEcH9oQe9ReHKeGIwZlUZ1MDa1yKKo-balld5tBADi0YYh4D-LevCXRIJl79I0DNEYjHeQAgPHvqs9HlwPfAQAUKdQcTVNArHsIUWM5xOVbc_8cb6trQGSTdd-H_e_yd8quPuUOLZ9mIxCG4HHL6SndTEJjjTc3E7zy_uJKnkN87EsTjNMi2u5K4vGjK03TKxVlGBStLSfkghwN0DnhqAPoSNmdBjasfWAJSigYsH4_p8mMn1pnIBTk-Q_R6sesoybsBhj2eXdYmRFi-eQtdZipOpq2n2s25mQHolf5hZ9D_9paAe1sg-vv82MvOtrghERbUVhtuLh1SMWmyqR2JIVdqIy9lIUYBTRCMmR8wejvm-6P6VAHJxMqWYEzGHgtyaqCVG_txrWTseRg4ekf2HIIjdm46zwBOyA2fXHZAKm0V4ICG_fKnZuSRcR8OGpQ7P2E-o4SQz__4AyEQUFirpC5WGN4z4EFDChb5p4fdqdH5YV3keQd3eUe9Y0JrjvAllaGpUUcpNr9Odr4D8wecrmxHjvXm_ukM77330a_hJpSo-iWvrD9FoGqGNHMn_pFNevW7yuhb6b7FndHUa3u4FW2kuCK3LZAoLn0x8t2029mrfXjrsxUcaysbeQ0yAR-KltuGi9YWt-iEPil46xQCYySYODDniWKmb31hG5zwrNdod347Xq7rCKEoPsEfqdDOSR4CoYVFeCam6dKrOT-jNw8tZv-6jd=w622-h1280-no)\n\n# 線下品牌設計\n\n提供老闆各式線下品牌宣傳設計，包含海報、名片、立牌等等。\n\n![線下品牌設計](https://lh3.googleusercontent.com/FUSeSIVW_9rF-gzfpopRZrPcDgTWXA0yHE_0PuYwFijro10tkOgTx7H3dmfBqrvwA9oJebI8Ucho14c82n4d5-PCDsfzjUrvqBazJfv6fr-kZby0PaM2RlO_lzuuSvWkHaLQ6QtYwe9AS75YRQaSOBhoc-AAID7jzErDqCW4E0AO7DS6ysArYbhbYiOWNpP5McBwvTUw6SkBxupnszYhdL-B6_xLd-vYq98JLibrg2fJQEuMPp7uvUTHhthcJGo05hKurmN9hLqnZh1os1wTWLAS9kS0ngycLm0iEQ6p2MYXDaw7vfKCGpVa6Jd9oPp_7kGBmBDK8IXqZYKLXFdoUbIQOoXU1uCjzOF3hDEwJ6dzXKyUN2CP1AtPFlFZ4T3i2A3x6M_xNU0eVgyNQrJ3TCkI5JdHnOTeRZzhBDaEVk-Mxy6VcCo0o9EnROIHQYJSwHQOB0ds5Z2ERIRXUh9X4UMFrkTsMMbByaOubRlGTsR21kIDjNrfewHp9HS9JJUtfZICZX2vhy79h5-1g6YrFS5O3avUnm3NGN7Fe-OHyIgEhc29A5BCFYvu6Lp-3-RKKDmkejuZTQtrHahutPIoM2woVSUfU9ASJa6-CjIECU2BJ2du6H_gBSNyOZyqw6OXkngbsCrXRUrwST1ZF_46JK1LK0BLMmGOYoyDqfkPzEdU6m0JLcQdegZYLNMGYCT2gXmRpVvQOBkpZxeqfZeoYhPcf8tsAkO4zuDF1jfwBp0b02M83XSdudM=w966-h841-no)\n\n# 總結\n\n下圖為使用者 & 老闆在 Table Order 中得到的優勢圖。\n\n![使用者 & 老闆互惠](https://lh3.googleusercontent.com/dYB97w9E6EjZQmRoxE8LOGOqjM9C2KTOR73CeQt1C_8aj7TaQnMeqAUqnrOAAjiNDGyapNhM9cyjI4Ru7-AopcO10DLh_gSG87u1XDQrX7hbUd98iuuKqOabhWbAqNop1pd0QswoREPurXvzk3aDn4vbBW7Ko--xPATdisNbkVW9VccA41cGAoPRKoDKjXNu275F32w5zV71qtIF81FcsQNnW-di0CyL9GSxbVnUHXjfV65vujoPgKIobvcy8vsf9hZbrVzf0RoUQv6-zyeD93poFiSO7VmDxMsxLisAbXfDz175gxzn3AdPr9A8UAd7-xaZNiszrKtXv-G-E405SRUIxeoyRze4mULQmYdDauIadxU7CgUlKRbSR0GDNCVBlkxBWVaB0s4j6VZuDj5rRRezK3rRXnmZXhzH41K9aG7T6OhWtrh0QPoDwSTxvroD-v1ayI0IcRSQ1AG9oDst6uNGZNxlTFw_lEK3etpjbqDUVplxt-Ct10jgoAgMfFMI8MoMi8KhYCbtzHsqcLZMsdzp9c18g0_85fY72Sux9y5NLFmL6bws6BjFtAovPw2paxaWGivTdnnVffjLIRsbjGX33jAESJmq3b2HIpmapF08z2eeH5PMs-zWC-RjJ0p7gOSurC--efBJP8OJvqAoekj6EIC8OLGeRjtMCBOD6SoZNoP6K8_HUnFuYjd0ye0sR0A558hnTefdj67GAuKFPlwbZrZM2OqFU-PTTpiRyTYsqeXpklBgnd1X=w966-h516-no)\n\n> 心得：看完後覺得能讓老闆自行設計不同時間顯示不同的客制菜單是很不容易的一件事，當中又要把操作簡易化，設計模板是很重要的一環。這些模板（自己常吃、新口味、老闆推薦、受歡迎的菜單...）雖然設計簡單卻能把大量想表達的訊息清楚地展示出來，非常值得學習。後台部分讓老闆自行選擇用 Card 或是 Table 模式瀏覽餐廳狀況也很清楚，方便隨時根據現場資訊做判斷處理。未來如果 Real-Time 生產有不同的方式可以切換瀏覽或許對控場人員來說更好。\n\n# Reference\n\n* [네이버 '테이블주문'을 소개합니다.](https://blog.naver.com/nvr_design/221668077330)\n","slug":"UXUI/Naver-Study-Case-Table-Order-APP","published":1,"_id":"cl0uov9rn003br3y7ay5decd1","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Naver 是韓國最大網際網路服務公司，台灣人比較熟悉的 Line 通訊軟體就是他旗下經營的子公司。最近發現 Naver 有一個設計部落格，裡面內容介紹各種旗下軟體的 UIUX，所以就挖了一篇出來多學習看看。</p>\n<span id=\"more\"></span>\n\n<p>我找了一個有介紹後台的點餐 APP（後面簡稱 Table Order），畢竟目前主要工作還是對 B2B 的設計。</p>\n<p><img src=\"https://lh3.googleusercontent.com/XG4gRzRuptmRaM_rWmwXSEzGo4CnHvGwjhxUPw8eg4rhoNaIgtpuh023h8KwE7lNtr0XvAFO4YVYgzBsoCkkw9ABtIaUFOcwTXj7lZIl1x5pUWXVH5CwOzPmv6xgsSZwQt1Pm55doNVDCvohThqOlznJwD1wpKGTYwKyT261OzZx6ybJ9FFcEL7NAhLcgcIjGR0wxFXaSL4K7Soyw4Iib1Oac015362LTVCHCWX-pxtv_Ar6B2LjsDvGvj-Z8rUGlB6xMQlvkzPowcVcPYjUm59o1JBjQkoIqkpH1sLeOEafSOrPipFN2xshdAKJ5pAHxVZvhw74TxzIiRVhO5E5WAuOUsdveb_wZb0uKDH9g8EdxGjQnbQxfV-3OfCLT9ObaJB82uxnpsuVVhC39PUsFDDL45PjoE-B0viLww17EP0DidMAXXHtFlIUtfUCqyQfBdkH2KBWisiAHo8KNeJq3LbU3bBCa5cMGwHxKRWfA1sdc-shLPooaOQ2f10nd_o_mUQrMlWD85gZhS_cjPJWQbRas5_iIqIe1QPKCN2I7fnClmV_TLm20reuI5En9G2nklXe2nj-xjGhoudeaAgXv7HIesR5uAx2lzgpP6IIJlrdzlPiWIJAV5UywMf2sMwB3QPXI5ozHyVDX0NzYV-8fcyDByk1TiHszfP6ikR_iGtp55FmPYcF7iXJM-HkWmRuczwRa2JVR8mkTC-7GhX075ejOMVY5WSA8COAMqCkhd27t3x3-MQfe1w=w966-h952-no\" alt=\"Table Order APP\"></p>\n<iframe src='https://tv.naver.com/embed/9822927?autoPlay=true' frameborder='no' scrolling='no' marginwidth='0' marginheight='0' WIDTH='740' HEIGHT='416' allow='autoplay' allowfullscreen></iframe>\n\n<h1 id=\"拍攝-QRcode-gt-建立訂單-gt-付款\"><a href=\"#拍攝-QRcode-gt-建立訂單-gt-付款\" class=\"headerlink\" title=\"拍攝 QRcode &gt; 建立訂單 &gt; 付款\"></a>拍攝 QRcode &gt; 建立訂單 &gt; 付款</h1><p>Table Order 服務是一種智能訂購服務，可讓使用者點餐並通過商店中的QR碼完成付款。以下是用戶和老闆在過去幾個月進行的 Beta 測試中留下的部分評論。</p>\n<blockquote>\n<p>用戶：“可以不用等店員來點菜，食物就出來了！”</p>\n</blockquote>\n<blockquote>\n<p>老闆：“我不喜歡點菜或服務，但我可以專心做飯。”</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/3NC-L_SEbMTSRi6xUVcJ8pDfjJYWJGyD7rcoHsPWxPIU-hzd-oQ4Z85GdA1DwboM92eyz2x_yQO3DbOF9mC2THs3ntjo_5FIrUYU5s8BF-zaxCbW92e4S4284Y4KTJHFqNrGVioS373QtXTMxjGmxIcxHb9wlq_k8MqSXZ6YMy5xDlsggls1TaISTCCS9qRFM6auxEV2Po8BVP9aD8vKOyTZsL1L1EBkpMM7vdMXLGmRV7fZbRDF7S4OQgFKxXsvggTdqTdnA-LLQEdmVFCl7ELVyWSbOXwo2b8tLv62HHVfcjluzrJSF44Gczq1n0Yt4rosWJLrFx397nAbjNjm5zzLGVWkXU54WpEo5-GlvWGAWoA3tnrRqB_O7BtkPJ8w-7nsL02-5y5l6YHK65LzmsWs_hO0j24CAXWqSLibbMOSRpRD8V4x3P64igatKVeiT30wxjJOWBiMYw224NqO9ig_xptpi_tz_7BUuzRO2dfDNfTSrVWfzhqWaSeQmAQrmzxl3aoeArhQEoi09fbeVzfjcYembDJhuKcfU-ewalWQwG42asweXzhHIc4NCTxxpqaEP0cccCgF7jfRVuxy6gdflEIDYfF9B2ZOF-1giXFBaOICgsJfLHzxhzOS7ho5d1hQw7PgYOevl1SRZ0MK-OFm67JQwRzlAECWUmfM4EV-4-1Ms5acOOTNMOhVuy8U5HBUkklEsBRtGcJgyBP5l0VMZjnuqdd5OZdmTshQjTxWvfugi_rV1ZI6=w966-h329-no\" alt=\"點餐流程\"></p>\n<h1 id=\"線上菜單的優勢是紙張菜單無法做到的\"><a href=\"#線上菜單的優勢是紙張菜單無法做到的\" class=\"headerlink\" title=\"線上菜單的優勢是紙張菜單無法做到的\"></a>線上菜單的優勢是紙張菜單無法做到的</h1><p>你是不是覺得去餐廳看菜單是一種無趣而令人擔憂的體驗嗎？ Table Order 的菜單易於選擇，因為它顯示了新菜單，老闆推薦的菜單以及在屏幕上已訂購的菜單。 從老闆的角度來看，這是一個很好的參考，因為使用者可以一目了然地看到訂單數據，例如哪個菜單受歡迎。此外，即使有一個菜單因價格波動要改變，也不用重新印紙本菜單或用黑筆劃掉，線上菜單可高度自營編輯也是一大優勢。</p>\n<blockquote>\n<p>中餐廳與意大利餐廳，菜單導航方式是否相同？</p>\n</blockquote>\n<p>回顧系統在餐廳點餐時的經歷，系統可以看到每種菜單的提供方式都大不相同。在某些商店中，菜單說明很重要，照片很重要，某些商店則可以快速瀏覽整個菜單。因此，用戶將有權力選擇要怎麼瀏覽這些商店的菜單導航體驗。</p>\n<p>Table Order 的菜單順序設計，以能均勻儲存各商店的菜單信息為考量。另外，未來將以各種觀看方法（例如圖像的類型或描述的類型）添加客制的菜單，進一步考慮模板設計。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-fsfcXAcyh5ddOQfHj867nTtdyOyNtVWOEr2lL-7JN7yyOyknGGQn-GWbCodQtVVTxXBfnBcI1qZCxwv86o0bZgWWsSuTuH5HyQlOdQ7Ec4IhaQqRVlSlToYXjrar8HlxSvTSg0zyWRD8eEBIzmZNB9QKTaX_sEG9DRC0j651W2EAVDQGIj7qwsvQjKc2zn3fVv30O0_0f-ND0Q7jWmbrUDhMsP7LdX1wC1YRXvs2nnmVX2rg2N0uqsoxXW9Jn_201XH7Z9JQh7nZS3rRpYi4M1eRP21KfZvs1n-7tkTThPYkvdMteak7eyOreqykBayRzMpu9Z0YUmj24q6dDZopbOLj8qye4HmQmvp8259nZrgdwR4MuW_Xf_ORVJo7cO0_lIQIqaZx4allA55TrTSpJ_vaq1sFpbPvlBi5IMhiCHy94RritJxZQrTwYyqECjDra9MXfboTd-nPnaOU0as2kLcDUB5myUtGne1aE4mV6DaSp-F06UjznHO-DR_a19SAxoY31BoRC16FE4iiSo0pcCcCsAREshaw5E8w0J7_MNQDg2OUQHxqr5fa8ULb-Fs3Gk28NfDdbMtv4gbQT74lm9IJqtKb56mpNl72rrvFm_UfZt2eWCj0mYXyCjtfyJDxo6XJznW9HNl2d8CPcje975Quzx-TbEo8ft5TK3Z7uTyHZ0fFb__hPkcr0nYYmA2hWm8DB20Xr2UjxEKZLtZU8MXbww9H7iND6vz2rLZtoPL05-VJvG3uDvk=w656-h1280-no\" alt=\"菜單導航\"></p>\n<h1 id=\"別人覺得這個菜單如何？\"><a href=\"#別人覺得這個菜單如何？\" class=\"headerlink\" title=\"別人覺得這個菜單如何？\"></a>別人覺得這個菜單如何？</h1><p>選擇餐館或咖啡館時最重要的事情之一就是評論。商店的評論是非常有用的信息，可通過他人的意見提供客觀信息。Table Order 提供了在菜單的基礎上查看用戶照片，評分，評論等的功能，而不是全面的商店體驗，因此使用者可以更詳細地查看評論 。同樣，可以通過自然滾動瀏覽評論照片，就像使用社群軟體瀏覽貼文一樣。</p>\n<p>為了使這些審閱平台提供更多信息和更高質量，來自多個用戶的良好審閱至關重要。系統正在設計一種審查方法，該方法可以包含諸如食物量，味道和辣味等詳細信息，以便於編寫關鍵內容。</p>\n<p><img src=\"https://lh3.googleusercontent.com/RKkqBEUWuVEVRWY7hUu1_i2WseuXlZeB643XDYhpkCDlQf-8xjtKyrEnkVZsGLOuBifUiYB1RM_RtgbnhRCI3VoaJBok41Og4PHT5jvanbhq_vEwIpZqMPNEEn6TdQOKBAPSg1OQDkXfQ4fhCpjEyNJwKjKO68yK88TVD1X827u52WNokHp7FYYlq8ZXdRZRJZXcK7cWyfhrYVJ6DzO8ZDwfspS6iOgtgD7lrZDyXNtIEYmcF9-G381XYq22podPK9Gyh-jxmStYFA20IwUCGHeC8rrlqZoUIyBfxGWBxlqjOmOutg3oW2O6DchlMcVhR6QoyuDDWWqvSde_z9AD-01v2fJbfD7RcwtUTZNq-mIPCiBqpz7mgrxhoOT7aU1I-t0RouHrcLcaU59kqRyV3X_YXEt3RbUKV523Z4QBnIc-xwW85_rq3mcmLQbpV-JA5lI20rd5lwVon8fIwBZyI5gNxhARDeoJyeArfnKqhgdKYG_CEox0kS2iv2SF6CtQ3C_HsYssMvmmmTsACvAbC_1Xrtdx3PKQ3OLN92j0eJPoXGKVAd_yrfTZsH6j9UE-bFfhKQpl5xVX21jO_6TYT0xjeGia_9pog1ZMqyrc4cjZECV8vjS7xwTdG-zvwG8LLBJlCBz12ccuZCiWPzFYByhNbaxTbYXFSZGl8yB1Jjs090psFaiX-U7AZnzO_g3oyIKlVXDa_V7ocSg9o2vVuVhoyc2QFoFgH5tk59mLrJbVDNS5skswGws=w966-h1174-no\" alt=\"菜單評論\"></p>\n<h1 id=\"我的訂單進度，一目了然\"><a href=\"#我的訂單進度，一目了然\" class=\"headerlink\" title=\"我的訂單進度，一目了然\"></a>我的訂單進度，一目了然</h1><p>了解我的訂單進度以及何時下達包裹訂單也很重要。Table Order 上的訂單會提供狀態的通知，例如準備&#x2F;烹飪&#x2F;服務已完成以及帶有步驟的事故單，以便可以快速共享狀態。</p>\n<p>另一方面，使用者可以隨時發出有關訂單狀態的回覆，但是什麼時候是寫回覆的最佳時間呢？如果太晚了，我記不清了，或者太快了，可能是在我吃完飯之前。根據 Naver 過往資料統計和 beta 測試中累積的統計信息，會依據每個公司的情況和特徵，對 Table Order 進行分類和應用，目前仍在測試最合適的模型。</p>\n<p><img src=\"https://lh3.googleusercontent.com/BMQIcFt9651Rrd-9lzZn7tO9hNQNp6Do-RtyVlIBzHmcgNB3eELlccCeYEGVomRplhdME13vMPVeLezOZ-e3Nock63Rp65FqV_wbFEZ11qBRTgygORafgyNqRImMDIzQKVVuQjGhPtyj-BOiRA6nca6Ts2lwusweIo2DX6R6IxNcu3BDR0qKGZGnsnsmjwuF2bzWrduYmErABF4WfUYQYMxACZZuoyoDrhsbS3qYPrK3OrftJMLWRAVcpT1hQerhIy3RArBddk3U4ewufgVjcsI84eo6qkW7v7ooXueTaZ3YU-iFAhSAV9rLzuPDDcBbZjuxEfZCdbUneLd0w6R9ci-wf8r10jB-SMKD2qzhiP5KrltnmdH-cVg0IuqAvRDFFuRIRN_FI_WHRTtRVITqKDLbnkNdRAv8_kjn9O5igNZyoNwkdgvKQOudAmAoxWxePXK1QNpMK9slBPKcZKVaejVDeS5-qvF2WMIotc0bg61hPLOUHS1Z_0XQ57zXneKn2dcGpaba-9STslBY7Q8KDD9urUlzj8ORaBQLO-WRDh71WFrWb0rVQNMhPTuSI0KtNkgaKMT5htaxCsagFN1MPdUBIGp9rx4G88XKfzRnW7f1TnMCTDbOmtzOOLygc1j-2yXvOMIuD5_dRRdvhjZEDXJnfj57cJ0ve7Xv7ZktPq8fNnnIgqCfNCVbtXsg9iv9K-2jws63ER1iU4clVrakABfsPkquulMgZbSyE_NO81Y2m6o_JGeraypw=w966-h1269-no\" alt=\"我的訂單\"></p>\n<h1 id=\"成為常客的捷徑，老闆提供的優惠券\"><a href=\"#成為常客的捷徑，老闆提供的優惠券\" class=\"headerlink\" title=\"成為常客的捷徑，老闆提供的優惠券\"></a>成為常客的捷徑，老闆提供的優惠券</h1><p>除了立即累積的 NaverPay Point 優惠外，系統還帶來了一些概念，例如使用者在外面看到的集點卷。家裡只有一張集點卷忘了帶出門嗎？如果使用者使用的是可自行集點的 Table Order，則不必擔心，當使用者獲得獎勵時會收到通知。另外，為每個商店收集優惠券和集點並立即查看它們很方便。將來會添加各種優惠券類型，因此請使用它們。</p>\n<p><img src=\"https://lh3.googleusercontent.com/WSFepfEVuaKAvWJWR2X8vYZlrAILBL_ajqmSXpGklqfOQfiCiuHDX5t25oQw_ZY_gLnUfw7UbcwCneimk6SRU1m6XrdPKL0TyVk-SjcI3KHStRrEpKxparf_FaKAnLe3IgWaR9KyZPpYjwdMSEuuA_NiekgXZfi1sP6VSF7mjFKEKIVlw90VI_yXE0kiZ6QtRBSZkCfvcSOuH9_QQc2q7c6-q4xyZKPVM3le_A66kTv9MFKzyY5NbedDCCDUZdPKbmbQ9picATJgDst7c_b63G0i5f2Hmq4o268szVf51tg5kTAQZ-_nZX9llNJO3l1BbfVj-BTQFk6Uf-TCulcaWjqgUouPbmY3CL9R6KAd1r42MRUL5MEdHqrkSUbar5YazxQkJUcWvzk9DYcaorY5p5SGsZE3WfM2fzvaILKwZ5EOebDEJfvvwfa6-YZ6wzo7yk4ZTVLzxPc9Ds2d07ia09FBekCAP7Ax5dY_EofRMVtkplKNC5ddQsbBb3oOqXo15esKTwyXd6zfJuA_2G3K7dVx-_dG5oWyfGmL-psy4Ro5JApTiCeJfYtJsnNoc9wzxNGgRiMnqZGfxkXWrJRXQziJK2fUzCrGj9jLuiv09AbHaBfp0ByPsdXGlZi3KGjz52KmmtLioTwEjA1MBzBm9PU2rJwoI8nByJQY_-CAMN5gjTNQgGSyUO7Cknk80rglswbMVi5WzxTf__b4EEj_WOtqTvs26w-ljd8wpMY7d9kpWGmZfIxlpmk=w966-h1146-no\" alt=\"集點 &amp; 優惠券\"></p>\n<h1 id=\"智能商店管理\"><a href=\"#智能商店管理\" class=\"headerlink\" title=\"智能商店管理\"></a>智能商店管理</h1><p>系統還透過合作夥伴後台創建了 Table Order 管理工具，以便老闆可以輕鬆地創建和操作上述各種功能。老闆可以通過設置“使用者操作時間”連接“菜單”來建立午餐、晚餐、工作日和周末等不同的菜單。</p>\n<p>在工作時間內，老闆可以根據桌數或擁擠情況，選擇地操作餐桌座位兩種類型的 Card 視圖和 Table 視圖。通過此操作，老闆可以立即檢查商店的狀態，因此不必走到大廳，老闆可以專注於烹飪和操作。</p>\n<p><img src=\"https://lh3.googleusercontent.com/HOZkhxmM_T3rUOzmXb8NUBYRIqPEcH9oQe9ReHKeGIwZlUZ1MDa1yKKo-balld5tBADi0YYh4D-LevCXRIJl79I0DNEYjHeQAgPHvqs9HlwPfAQAUKdQcTVNArHsIUWM5xOVbc_8cb6trQGSTdd-H_e_yd8quPuUOLZ9mIxCG4HHL6SndTEJjjTc3E7zy_uJKnkN87EsTjNMi2u5K4vGjK03TKxVlGBStLSfkghwN0DnhqAPoSNmdBjasfWAJSigYsH4_p8mMn1pnIBTk-Q_R6sesoybsBhj2eXdYmRFi-eQtdZipOpq2n2s25mQHolf5hZ9D_9paAe1sg-vv82MvOtrghERbUVhtuLh1SMWmyqR2JIVdqIy9lIUYBTRCMmR8wejvm-6P6VAHJxMqWYEzGHgtyaqCVG_txrWTseRg4ekf2HIIjdm46zwBOyA2fXHZAKm0V4ICG_fKnZuSRcR8OGpQ7P2E-o4SQz__4AyEQUFirpC5WGN4z4EFDChb5p4fdqdH5YV3keQd3eUe9Y0JrjvAllaGpUUcpNr9Odr4D8wecrmxHjvXm_ukM77330a_hJpSo-iWvrD9FoGqGNHMn_pFNevW7yuhb6b7FndHUa3u4FW2kuCK3LZAoLn0x8t2029mrfXjrsxUcaysbeQ0yAR-KltuGi9YWt-iEPil46xQCYySYODDniWKmb31hG5zwrNdod347Xq7rCKEoPsEfqdDOSR4CoYVFeCam6dKrOT-jNw8tZv-6jd=w622-h1280-no\" alt=\"智能商店管理\"></p>\n<h1 id=\"線下品牌設計\"><a href=\"#線下品牌設計\" class=\"headerlink\" title=\"線下品牌設計\"></a>線下品牌設計</h1><p>提供老闆各式線下品牌宣傳設計，包含海報、名片、立牌等等。</p>\n<p><img src=\"https://lh3.googleusercontent.com/FUSeSIVW_9rF-gzfpopRZrPcDgTWXA0yHE_0PuYwFijro10tkOgTx7H3dmfBqrvwA9oJebI8Ucho14c82n4d5-PCDsfzjUrvqBazJfv6fr-kZby0PaM2RlO_lzuuSvWkHaLQ6QtYwe9AS75YRQaSOBhoc-AAID7jzErDqCW4E0AO7DS6ysArYbhbYiOWNpP5McBwvTUw6SkBxupnszYhdL-B6_xLd-vYq98JLibrg2fJQEuMPp7uvUTHhthcJGo05hKurmN9hLqnZh1os1wTWLAS9kS0ngycLm0iEQ6p2MYXDaw7vfKCGpVa6Jd9oPp_7kGBmBDK8IXqZYKLXFdoUbIQOoXU1uCjzOF3hDEwJ6dzXKyUN2CP1AtPFlFZ4T3i2A3x6M_xNU0eVgyNQrJ3TCkI5JdHnOTeRZzhBDaEVk-Mxy6VcCo0o9EnROIHQYJSwHQOB0ds5Z2ERIRXUh9X4UMFrkTsMMbByaOubRlGTsR21kIDjNrfewHp9HS9JJUtfZICZX2vhy79h5-1g6YrFS5O3avUnm3NGN7Fe-OHyIgEhc29A5BCFYvu6Lp-3-RKKDmkejuZTQtrHahutPIoM2woVSUfU9ASJa6-CjIECU2BJ2du6H_gBSNyOZyqw6OXkngbsCrXRUrwST1ZF_46JK1LK0BLMmGOYoyDqfkPzEdU6m0JLcQdegZYLNMGYCT2gXmRpVvQOBkpZxeqfZeoYhPcf8tsAkO4zuDF1jfwBp0b02M83XSdudM=w966-h841-no\" alt=\"線下品牌設計\"></p>\n<h1 id=\"總結\"><a href=\"#總結\" class=\"headerlink\" title=\"總結\"></a>總結</h1><p>下圖為使用者 &amp; 老闆在 Table Order 中得到的優勢圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/dYB97w9E6EjZQmRoxE8LOGOqjM9C2KTOR73CeQt1C_8aj7TaQnMeqAUqnrOAAjiNDGyapNhM9cyjI4Ru7-AopcO10DLh_gSG87u1XDQrX7hbUd98iuuKqOabhWbAqNop1pd0QswoREPurXvzk3aDn4vbBW7Ko--xPATdisNbkVW9VccA41cGAoPRKoDKjXNu275F32w5zV71qtIF81FcsQNnW-di0CyL9GSxbVnUHXjfV65vujoPgKIobvcy8vsf9hZbrVzf0RoUQv6-zyeD93poFiSO7VmDxMsxLisAbXfDz175gxzn3AdPr9A8UAd7-xaZNiszrKtXv-G-E405SRUIxeoyRze4mULQmYdDauIadxU7CgUlKRbSR0GDNCVBlkxBWVaB0s4j6VZuDj5rRRezK3rRXnmZXhzH41K9aG7T6OhWtrh0QPoDwSTxvroD-v1ayI0IcRSQ1AG9oDst6uNGZNxlTFw_lEK3etpjbqDUVplxt-Ct10jgoAgMfFMI8MoMi8KhYCbtzHsqcLZMsdzp9c18g0_85fY72Sux9y5NLFmL6bws6BjFtAovPw2paxaWGivTdnnVffjLIRsbjGX33jAESJmq3b2HIpmapF08z2eeH5PMs-zWC-RjJ0p7gOSurC--efBJP8OJvqAoekj6EIC8OLGeRjtMCBOD6SoZNoP6K8_HUnFuYjd0ye0sR0A558hnTefdj67GAuKFPlwbZrZM2OqFU-PTTpiRyTYsqeXpklBgnd1X=w966-h516-no\" alt=\"使用者 &amp; 老闆互惠\"></p>\n<blockquote>\n<p>心得：看完後覺得能讓老闆自行設計不同時間顯示不同的客制菜單是很不容易的一件事，當中又要把操作簡易化，設計模板是很重要的一環。這些模板（自己常吃、新口味、老闆推薦、受歡迎的菜單…）雖然設計簡單卻能把大量想表達的訊息清楚地展示出來，非常值得學習。後台部分讓老闆自行選擇用 Card 或是 Table 模式瀏覽餐廳狀況也很清楚，方便隨時根據現場資訊做判斷處理。未來如果 Real-Time 生產有不同的方式可以切換瀏覽或許對控場人員來說更好。</p>\n</blockquote>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/221668077330\">네이버 ‘테이블주문’을 소개합니다.</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","excerpt":"<p>Naver 是韓國最大網際網路服務公司，台灣人比較熟悉的 Line 通訊軟體就是他旗下經營的子公司。最近發現 Naver 有一個設計部落格，裡面內容介紹各種旗下軟體的 UIUX，所以就挖了一篇出來多學習看看。</p>","more":"<p>我找了一個有介紹後台的點餐 APP（後面簡稱 Table Order），畢竟目前主要工作還是對 B2B 的設計。</p>\n<p><img src=\"https://lh3.googleusercontent.com/XG4gRzRuptmRaM_rWmwXSEzGo4CnHvGwjhxUPw8eg4rhoNaIgtpuh023h8KwE7lNtr0XvAFO4YVYgzBsoCkkw9ABtIaUFOcwTXj7lZIl1x5pUWXVH5CwOzPmv6xgsSZwQt1Pm55doNVDCvohThqOlznJwD1wpKGTYwKyT261OzZx6ybJ9FFcEL7NAhLcgcIjGR0wxFXaSL4K7Soyw4Iib1Oac015362LTVCHCWX-pxtv_Ar6B2LjsDvGvj-Z8rUGlB6xMQlvkzPowcVcPYjUm59o1JBjQkoIqkpH1sLeOEafSOrPipFN2xshdAKJ5pAHxVZvhw74TxzIiRVhO5E5WAuOUsdveb_wZb0uKDH9g8EdxGjQnbQxfV-3OfCLT9ObaJB82uxnpsuVVhC39PUsFDDL45PjoE-B0viLww17EP0DidMAXXHtFlIUtfUCqyQfBdkH2KBWisiAHo8KNeJq3LbU3bBCa5cMGwHxKRWfA1sdc-shLPooaOQ2f10nd_o_mUQrMlWD85gZhS_cjPJWQbRas5_iIqIe1QPKCN2I7fnClmV_TLm20reuI5En9G2nklXe2nj-xjGhoudeaAgXv7HIesR5uAx2lzgpP6IIJlrdzlPiWIJAV5UywMf2sMwB3QPXI5ozHyVDX0NzYV-8fcyDByk1TiHszfP6ikR_iGtp55FmPYcF7iXJM-HkWmRuczwRa2JVR8mkTC-7GhX075ejOMVY5WSA8COAMqCkhd27t3x3-MQfe1w=w966-h952-no\" alt=\"Table Order APP\"></p>\n<iframe src='https://tv.naver.com/embed/9822927?autoPlay=true' frameborder='no' scrolling='no' marginwidth='0' marginheight='0' WIDTH='740' HEIGHT='416' allow='autoplay' allowfullscreen></iframe>\n\n<h1 id=\"拍攝-QRcode-gt-建立訂單-gt-付款\"><a href=\"#拍攝-QRcode-gt-建立訂單-gt-付款\" class=\"headerlink\" title=\"拍攝 QRcode &gt; 建立訂單 &gt; 付款\"></a>拍攝 QRcode &gt; 建立訂單 &gt; 付款</h1><p>Table Order 服務是一種智能訂購服務，可讓使用者點餐並通過商店中的QR碼完成付款。以下是用戶和老闆在過去幾個月進行的 Beta 測試中留下的部分評論。</p>\n<blockquote>\n<p>用戶：“可以不用等店員來點菜，食物就出來了！”</p>\n</blockquote>\n<blockquote>\n<p>老闆：“我不喜歡點菜或服務，但我可以專心做飯。”</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/3NC-L_SEbMTSRi6xUVcJ8pDfjJYWJGyD7rcoHsPWxPIU-hzd-oQ4Z85GdA1DwboM92eyz2x_yQO3DbOF9mC2THs3ntjo_5FIrUYU5s8BF-zaxCbW92e4S4284Y4KTJHFqNrGVioS373QtXTMxjGmxIcxHb9wlq_k8MqSXZ6YMy5xDlsggls1TaISTCCS9qRFM6auxEV2Po8BVP9aD8vKOyTZsL1L1EBkpMM7vdMXLGmRV7fZbRDF7S4OQgFKxXsvggTdqTdnA-LLQEdmVFCl7ELVyWSbOXwo2b8tLv62HHVfcjluzrJSF44Gczq1n0Yt4rosWJLrFx397nAbjNjm5zzLGVWkXU54WpEo5-GlvWGAWoA3tnrRqB_O7BtkPJ8w-7nsL02-5y5l6YHK65LzmsWs_hO0j24CAXWqSLibbMOSRpRD8V4x3P64igatKVeiT30wxjJOWBiMYw224NqO9ig_xptpi_tz_7BUuzRO2dfDNfTSrVWfzhqWaSeQmAQrmzxl3aoeArhQEoi09fbeVzfjcYembDJhuKcfU-ewalWQwG42asweXzhHIc4NCTxxpqaEP0cccCgF7jfRVuxy6gdflEIDYfF9B2ZOF-1giXFBaOICgsJfLHzxhzOS7ho5d1hQw7PgYOevl1SRZ0MK-OFm67JQwRzlAECWUmfM4EV-4-1Ms5acOOTNMOhVuy8U5HBUkklEsBRtGcJgyBP5l0VMZjnuqdd5OZdmTshQjTxWvfugi_rV1ZI6=w966-h329-no\" alt=\"點餐流程\"></p>\n<h1 id=\"線上菜單的優勢是紙張菜單無法做到的\"><a href=\"#線上菜單的優勢是紙張菜單無法做到的\" class=\"headerlink\" title=\"線上菜單的優勢是紙張菜單無法做到的\"></a>線上菜單的優勢是紙張菜單無法做到的</h1><p>你是不是覺得去餐廳看菜單是一種無趣而令人擔憂的體驗嗎？ Table Order 的菜單易於選擇，因為它顯示了新菜單，老闆推薦的菜單以及在屏幕上已訂購的菜單。 從老闆的角度來看，這是一個很好的參考，因為使用者可以一目了然地看到訂單數據，例如哪個菜單受歡迎。此外，即使有一個菜單因價格波動要改變，也不用重新印紙本菜單或用黑筆劃掉，線上菜單可高度自營編輯也是一大優勢。</p>\n<blockquote>\n<p>中餐廳與意大利餐廳，菜單導航方式是否相同？</p>\n</blockquote>\n<p>回顧系統在餐廳點餐時的經歷，系統可以看到每種菜單的提供方式都大不相同。在某些商店中，菜單說明很重要，照片很重要，某些商店則可以快速瀏覽整個菜單。因此，用戶將有權力選擇要怎麼瀏覽這些商店的菜單導航體驗。</p>\n<p>Table Order 的菜單順序設計，以能均勻儲存各商店的菜單信息為考量。另外，未來將以各種觀看方法（例如圖像的類型或描述的類型）添加客制的菜單，進一步考慮模板設計。</p>\n<p><img src=\"https://lh3.googleusercontent.com/-fsfcXAcyh5ddOQfHj867nTtdyOyNtVWOEr2lL-7JN7yyOyknGGQn-GWbCodQtVVTxXBfnBcI1qZCxwv86o0bZgWWsSuTuH5HyQlOdQ7Ec4IhaQqRVlSlToYXjrar8HlxSvTSg0zyWRD8eEBIzmZNB9QKTaX_sEG9DRC0j651W2EAVDQGIj7qwsvQjKc2zn3fVv30O0_0f-ND0Q7jWmbrUDhMsP7LdX1wC1YRXvs2nnmVX2rg2N0uqsoxXW9Jn_201XH7Z9JQh7nZS3rRpYi4M1eRP21KfZvs1n-7tkTThPYkvdMteak7eyOreqykBayRzMpu9Z0YUmj24q6dDZopbOLj8qye4HmQmvp8259nZrgdwR4MuW_Xf_ORVJo7cO0_lIQIqaZx4allA55TrTSpJ_vaq1sFpbPvlBi5IMhiCHy94RritJxZQrTwYyqECjDra9MXfboTd-nPnaOU0as2kLcDUB5myUtGne1aE4mV6DaSp-F06UjznHO-DR_a19SAxoY31BoRC16FE4iiSo0pcCcCsAREshaw5E8w0J7_MNQDg2OUQHxqr5fa8ULb-Fs3Gk28NfDdbMtv4gbQT74lm9IJqtKb56mpNl72rrvFm_UfZt2eWCj0mYXyCjtfyJDxo6XJznW9HNl2d8CPcje975Quzx-TbEo8ft5TK3Z7uTyHZ0fFb__hPkcr0nYYmA2hWm8DB20Xr2UjxEKZLtZU8MXbww9H7iND6vz2rLZtoPL05-VJvG3uDvk=w656-h1280-no\" alt=\"菜單導航\"></p>\n<h1 id=\"別人覺得這個菜單如何？\"><a href=\"#別人覺得這個菜單如何？\" class=\"headerlink\" title=\"別人覺得這個菜單如何？\"></a>別人覺得這個菜單如何？</h1><p>選擇餐館或咖啡館時最重要的事情之一就是評論。商店的評論是非常有用的信息，可通過他人的意見提供客觀信息。Table Order 提供了在菜單的基礎上查看用戶照片，評分，評論等的功能，而不是全面的商店體驗，因此使用者可以更詳細地查看評論 。同樣，可以通過自然滾動瀏覽評論照片，就像使用社群軟體瀏覽貼文一樣。</p>\n<p>為了使這些審閱平台提供更多信息和更高質量，來自多個用戶的良好審閱至關重要。系統正在設計一種審查方法，該方法可以包含諸如食物量，味道和辣味等詳細信息，以便於編寫關鍵內容。</p>\n<p><img src=\"https://lh3.googleusercontent.com/RKkqBEUWuVEVRWY7hUu1_i2WseuXlZeB643XDYhpkCDlQf-8xjtKyrEnkVZsGLOuBifUiYB1RM_RtgbnhRCI3VoaJBok41Og4PHT5jvanbhq_vEwIpZqMPNEEn6TdQOKBAPSg1OQDkXfQ4fhCpjEyNJwKjKO68yK88TVD1X827u52WNokHp7FYYlq8ZXdRZRJZXcK7cWyfhrYVJ6DzO8ZDwfspS6iOgtgD7lrZDyXNtIEYmcF9-G381XYq22podPK9Gyh-jxmStYFA20IwUCGHeC8rrlqZoUIyBfxGWBxlqjOmOutg3oW2O6DchlMcVhR6QoyuDDWWqvSde_z9AD-01v2fJbfD7RcwtUTZNq-mIPCiBqpz7mgrxhoOT7aU1I-t0RouHrcLcaU59kqRyV3X_YXEt3RbUKV523Z4QBnIc-xwW85_rq3mcmLQbpV-JA5lI20rd5lwVon8fIwBZyI5gNxhARDeoJyeArfnKqhgdKYG_CEox0kS2iv2SF6CtQ3C_HsYssMvmmmTsACvAbC_1Xrtdx3PKQ3OLN92j0eJPoXGKVAd_yrfTZsH6j9UE-bFfhKQpl5xVX21jO_6TYT0xjeGia_9pog1ZMqyrc4cjZECV8vjS7xwTdG-zvwG8LLBJlCBz12ccuZCiWPzFYByhNbaxTbYXFSZGl8yB1Jjs090psFaiX-U7AZnzO_g3oyIKlVXDa_V7ocSg9o2vVuVhoyc2QFoFgH5tk59mLrJbVDNS5skswGws=w966-h1174-no\" alt=\"菜單評論\"></p>\n<h1 id=\"我的訂單進度，一目了然\"><a href=\"#我的訂單進度，一目了然\" class=\"headerlink\" title=\"我的訂單進度，一目了然\"></a>我的訂單進度，一目了然</h1><p>了解我的訂單進度以及何時下達包裹訂單也很重要。Table Order 上的訂單會提供狀態的通知，例如準備&#x2F;烹飪&#x2F;服務已完成以及帶有步驟的事故單，以便可以快速共享狀態。</p>\n<p>另一方面，使用者可以隨時發出有關訂單狀態的回覆，但是什麼時候是寫回覆的最佳時間呢？如果太晚了，我記不清了，或者太快了，可能是在我吃完飯之前。根據 Naver 過往資料統計和 beta 測試中累積的統計信息，會依據每個公司的情況和特徵，對 Table Order 進行分類和應用，目前仍在測試最合適的模型。</p>\n<p><img src=\"https://lh3.googleusercontent.com/BMQIcFt9651Rrd-9lzZn7tO9hNQNp6Do-RtyVlIBzHmcgNB3eELlccCeYEGVomRplhdME13vMPVeLezOZ-e3Nock63Rp65FqV_wbFEZ11qBRTgygORafgyNqRImMDIzQKVVuQjGhPtyj-BOiRA6nca6Ts2lwusweIo2DX6R6IxNcu3BDR0qKGZGnsnsmjwuF2bzWrduYmErABF4WfUYQYMxACZZuoyoDrhsbS3qYPrK3OrftJMLWRAVcpT1hQerhIy3RArBddk3U4ewufgVjcsI84eo6qkW7v7ooXueTaZ3YU-iFAhSAV9rLzuPDDcBbZjuxEfZCdbUneLd0w6R9ci-wf8r10jB-SMKD2qzhiP5KrltnmdH-cVg0IuqAvRDFFuRIRN_FI_WHRTtRVITqKDLbnkNdRAv8_kjn9O5igNZyoNwkdgvKQOudAmAoxWxePXK1QNpMK9slBPKcZKVaejVDeS5-qvF2WMIotc0bg61hPLOUHS1Z_0XQ57zXneKn2dcGpaba-9STslBY7Q8KDD9urUlzj8ORaBQLO-WRDh71WFrWb0rVQNMhPTuSI0KtNkgaKMT5htaxCsagFN1MPdUBIGp9rx4G88XKfzRnW7f1TnMCTDbOmtzOOLygc1j-2yXvOMIuD5_dRRdvhjZEDXJnfj57cJ0ve7Xv7ZktPq8fNnnIgqCfNCVbtXsg9iv9K-2jws63ER1iU4clVrakABfsPkquulMgZbSyE_NO81Y2m6o_JGeraypw=w966-h1269-no\" alt=\"我的訂單\"></p>\n<h1 id=\"成為常客的捷徑，老闆提供的優惠券\"><a href=\"#成為常客的捷徑，老闆提供的優惠券\" class=\"headerlink\" title=\"成為常客的捷徑，老闆提供的優惠券\"></a>成為常客的捷徑，老闆提供的優惠券</h1><p>除了立即累積的 NaverPay Point 優惠外，系統還帶來了一些概念，例如使用者在外面看到的集點卷。家裡只有一張集點卷忘了帶出門嗎？如果使用者使用的是可自行集點的 Table Order，則不必擔心，當使用者獲得獎勵時會收到通知。另外，為每個商店收集優惠券和集點並立即查看它們很方便。將來會添加各種優惠券類型，因此請使用它們。</p>\n<p><img src=\"https://lh3.googleusercontent.com/WSFepfEVuaKAvWJWR2X8vYZlrAILBL_ajqmSXpGklqfOQfiCiuHDX5t25oQw_ZY_gLnUfw7UbcwCneimk6SRU1m6XrdPKL0TyVk-SjcI3KHStRrEpKxparf_FaKAnLe3IgWaR9KyZPpYjwdMSEuuA_NiekgXZfi1sP6VSF7mjFKEKIVlw90VI_yXE0kiZ6QtRBSZkCfvcSOuH9_QQc2q7c6-q4xyZKPVM3le_A66kTv9MFKzyY5NbedDCCDUZdPKbmbQ9picATJgDst7c_b63G0i5f2Hmq4o268szVf51tg5kTAQZ-_nZX9llNJO3l1BbfVj-BTQFk6Uf-TCulcaWjqgUouPbmY3CL9R6KAd1r42MRUL5MEdHqrkSUbar5YazxQkJUcWvzk9DYcaorY5p5SGsZE3WfM2fzvaILKwZ5EOebDEJfvvwfa6-YZ6wzo7yk4ZTVLzxPc9Ds2d07ia09FBekCAP7Ax5dY_EofRMVtkplKNC5ddQsbBb3oOqXo15esKTwyXd6zfJuA_2G3K7dVx-_dG5oWyfGmL-psy4Ro5JApTiCeJfYtJsnNoc9wzxNGgRiMnqZGfxkXWrJRXQziJK2fUzCrGj9jLuiv09AbHaBfp0ByPsdXGlZi3KGjz52KmmtLioTwEjA1MBzBm9PU2rJwoI8nByJQY_-CAMN5gjTNQgGSyUO7Cknk80rglswbMVi5WzxTf__b4EEj_WOtqTvs26w-ljd8wpMY7d9kpWGmZfIxlpmk=w966-h1146-no\" alt=\"集點 &amp; 優惠券\"></p>\n<h1 id=\"智能商店管理\"><a href=\"#智能商店管理\" class=\"headerlink\" title=\"智能商店管理\"></a>智能商店管理</h1><p>系統還透過合作夥伴後台創建了 Table Order 管理工具，以便老闆可以輕鬆地創建和操作上述各種功能。老闆可以通過設置“使用者操作時間”連接“菜單”來建立午餐、晚餐、工作日和周末等不同的菜單。</p>\n<p>在工作時間內，老闆可以根據桌數或擁擠情況，選擇地操作餐桌座位兩種類型的 Card 視圖和 Table 視圖。通過此操作，老闆可以立即檢查商店的狀態，因此不必走到大廳，老闆可以專注於烹飪和操作。</p>\n<p><img src=\"https://lh3.googleusercontent.com/HOZkhxmM_T3rUOzmXb8NUBYRIqPEcH9oQe9ReHKeGIwZlUZ1MDa1yKKo-balld5tBADi0YYh4D-LevCXRIJl79I0DNEYjHeQAgPHvqs9HlwPfAQAUKdQcTVNArHsIUWM5xOVbc_8cb6trQGSTdd-H_e_yd8quPuUOLZ9mIxCG4HHL6SndTEJjjTc3E7zy_uJKnkN87EsTjNMi2u5K4vGjK03TKxVlGBStLSfkghwN0DnhqAPoSNmdBjasfWAJSigYsH4_p8mMn1pnIBTk-Q_R6sesoybsBhj2eXdYmRFi-eQtdZipOpq2n2s25mQHolf5hZ9D_9paAe1sg-vv82MvOtrghERbUVhtuLh1SMWmyqR2JIVdqIy9lIUYBTRCMmR8wejvm-6P6VAHJxMqWYEzGHgtyaqCVG_txrWTseRg4ekf2HIIjdm46zwBOyA2fXHZAKm0V4ICG_fKnZuSRcR8OGpQ7P2E-o4SQz__4AyEQUFirpC5WGN4z4EFDChb5p4fdqdH5YV3keQd3eUe9Y0JrjvAllaGpUUcpNr9Odr4D8wecrmxHjvXm_ukM77330a_hJpSo-iWvrD9FoGqGNHMn_pFNevW7yuhb6b7FndHUa3u4FW2kuCK3LZAoLn0x8t2029mrfXjrsxUcaysbeQ0yAR-KltuGi9YWt-iEPil46xQCYySYODDniWKmb31hG5zwrNdod347Xq7rCKEoPsEfqdDOSR4CoYVFeCam6dKrOT-jNw8tZv-6jd=w622-h1280-no\" alt=\"智能商店管理\"></p>\n<h1 id=\"線下品牌設計\"><a href=\"#線下品牌設計\" class=\"headerlink\" title=\"線下品牌設計\"></a>線下品牌設計</h1><p>提供老闆各式線下品牌宣傳設計，包含海報、名片、立牌等等。</p>\n<p><img src=\"https://lh3.googleusercontent.com/FUSeSIVW_9rF-gzfpopRZrPcDgTWXA0yHE_0PuYwFijro10tkOgTx7H3dmfBqrvwA9oJebI8Ucho14c82n4d5-PCDsfzjUrvqBazJfv6fr-kZby0PaM2RlO_lzuuSvWkHaLQ6QtYwe9AS75YRQaSOBhoc-AAID7jzErDqCW4E0AO7DS6ysArYbhbYiOWNpP5McBwvTUw6SkBxupnszYhdL-B6_xLd-vYq98JLibrg2fJQEuMPp7uvUTHhthcJGo05hKurmN9hLqnZh1os1wTWLAS9kS0ngycLm0iEQ6p2MYXDaw7vfKCGpVa6Jd9oPp_7kGBmBDK8IXqZYKLXFdoUbIQOoXU1uCjzOF3hDEwJ6dzXKyUN2CP1AtPFlFZ4T3i2A3x6M_xNU0eVgyNQrJ3TCkI5JdHnOTeRZzhBDaEVk-Mxy6VcCo0o9EnROIHQYJSwHQOB0ds5Z2ERIRXUh9X4UMFrkTsMMbByaOubRlGTsR21kIDjNrfewHp9HS9JJUtfZICZX2vhy79h5-1g6YrFS5O3avUnm3NGN7Fe-OHyIgEhc29A5BCFYvu6Lp-3-RKKDmkejuZTQtrHahutPIoM2woVSUfU9ASJa6-CjIECU2BJ2du6H_gBSNyOZyqw6OXkngbsCrXRUrwST1ZF_46JK1LK0BLMmGOYoyDqfkPzEdU6m0JLcQdegZYLNMGYCT2gXmRpVvQOBkpZxeqfZeoYhPcf8tsAkO4zuDF1jfwBp0b02M83XSdudM=w966-h841-no\" alt=\"線下品牌設計\"></p>\n<h1 id=\"總結\"><a href=\"#總結\" class=\"headerlink\" title=\"總結\"></a>總結</h1><p>下圖為使用者 &amp; 老闆在 Table Order 中得到的優勢圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/dYB97w9E6EjZQmRoxE8LOGOqjM9C2KTOR73CeQt1C_8aj7TaQnMeqAUqnrOAAjiNDGyapNhM9cyjI4Ru7-AopcO10DLh_gSG87u1XDQrX7hbUd98iuuKqOabhWbAqNop1pd0QswoREPurXvzk3aDn4vbBW7Ko--xPATdisNbkVW9VccA41cGAoPRKoDKjXNu275F32w5zV71qtIF81FcsQNnW-di0CyL9GSxbVnUHXjfV65vujoPgKIobvcy8vsf9hZbrVzf0RoUQv6-zyeD93poFiSO7VmDxMsxLisAbXfDz175gxzn3AdPr9A8UAd7-xaZNiszrKtXv-G-E405SRUIxeoyRze4mULQmYdDauIadxU7CgUlKRbSR0GDNCVBlkxBWVaB0s4j6VZuDj5rRRezK3rRXnmZXhzH41K9aG7T6OhWtrh0QPoDwSTxvroD-v1ayI0IcRSQ1AG9oDst6uNGZNxlTFw_lEK3etpjbqDUVplxt-Ct10jgoAgMfFMI8MoMi8KhYCbtzHsqcLZMsdzp9c18g0_85fY72Sux9y5NLFmL6bws6BjFtAovPw2paxaWGivTdnnVffjLIRsbjGX33jAESJmq3b2HIpmapF08z2eeH5PMs-zWC-RjJ0p7gOSurC--efBJP8OJvqAoekj6EIC8OLGeRjtMCBOD6SoZNoP6K8_HUnFuYjd0ye0sR0A558hnTefdj67GAuKFPlwbZrZM2OqFU-PTTpiRyTYsqeXpklBgnd1X=w966-h516-no\" alt=\"使用者 &amp; 老闆互惠\"></p>\n<blockquote>\n<p>心得：看完後覺得能讓老闆自行設計不同時間顯示不同的客制菜單是很不容易的一件事，當中又要把操作簡易化，設計模板是很重要的一環。這些模板（自己常吃、新口味、老闆推薦、受歡迎的菜單…）雖然設計簡單卻能把大量想表達的訊息清楚地展示出來，非常值得學習。後台部分讓老闆自行選擇用 Card 或是 Table 模式瀏覽餐廳狀況也很清楚，方便隨時根據現場資訊做判斷處理。未來如果 Real-Time 生產有不同的方式可以切換瀏覽或許對控場人員來說更好。</p>\n</blockquote>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/221668077330\">네이버 ‘테이블주문’을 소개합니다.</a></li>\n</ul>"},{"title":"Notes on transferring from Sketch to Figma","thumbnailImage":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","thumbnailImagePosition":"left","coverImage":"https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png","coverMeta":"out","date":"2020-12-31T16:00:00.000Z","updated":"2020-12-31T16:00:00.000Z","_content":"\n還沒接觸到 Figma 前，我的工作流是用 Sketch (設計) + Abstract (版控) + AdobeXD (原型)，三者各取所長提供使用者最適合的設計方案。但其實很多時間會花在操作三種不同軟體的工上，但 Figma 解決了我長期的困擾，一個軟體就可以做到原本的事情，且還不用下載任何軟體，只要有瀏覽器就可以線上設計，還支援線上多人協作，優點多多。此篇紀錄將設計檔案從 Sketch 轉移到 Figma 需要注意的小細節。\n\n<!--more-->\n\n第一次轉移總是會痛的，需要每個 artboard 去檢查是否有跟原來設計的畫面一樣，還要重新拉 prototype 動態線，通常至少需要花一整天才能完成轉移一個專案設計檔，且這是在還沒有將 Design System Library component 替換掉的時間。若要替換 Library component 需要在付費制下才可以使用，所以本篇先以免費版所要注意的地方著墨，System Library 等之後再另外寫一篇整理。\n\n# 同一組 Prototype 路線要在同個 Page\n\n之前 Sketch 我會依據功能將 artboard 分類在不同 Page，但在 Figma 若要做 Prototype 動態連線的話，只能全部在同一個 Page。不同 Page 在 Figma 只會當作是另一組 Prototype 路線。所以要怎麼把全部 artboard 整理在同一個 Page，我的做法是將同一區塊的 artboard 放在一起並用超級大的字體寫那一塊原本的 Page（功能）名稱，這樣遠遠的看也知道那一區是在做什麼的。\n\n![Prototype 要在同一個 Page](https://lh3.googleusercontent.com/pw/ACtC-3fXQJ_l_y5auAA3Xe1NuMYvlHthoPQvW1Ijk1G4xTgGRZT1me4XXGavIcNA5VSY5mhDW8c7_3ndvi3Ptu0-Ahjfl9NlJ4W0h3HxvYSRKotT9C2R8XxsGJBKziedeHto-GmtY2BCsnBYBUeamXSGmMGRGg=w2542-h1378-no?authuser=0)\n\n# 群組物件被強制修剪\n\n當 Sketch 設計檔轉到 Figma 後，群組的物件會被自動轉換成 Figma 屬性的 group 或 Frame，且會有多一個勾選框顯示在右邊屬性欄，讓設計者勾選是否要修剪影像的 checked box。通常發生在有陰影和文字物件上，導致陰影或文字被強制切掉。這個時候只要取消勾選 \"Clip Content\"，就能如原本設計一樣了，只是這需要耐心檢查還蠻花時間的。\n\n![Clip Content](https://lh3.googleusercontent.com/pw/ACtC-3els8K-mYfiBwswCJfPY9fMfUhwrqTTRcq9HZLqFeRvm0Gd_I13EfCpuTHZB_epIsCL8brFtA4a1-SXN_P2nYeHOVc8P593WKvyiGtDsaKJoqBQiwUt-whxhmv7_P0DLq_GhzDdENu8ykJlxD4yN1Xtxw=w490-h622-no?authuser=0)\n\n# Circle Progress Bar 畫法不同\n\n若你的設計元素有 Circle Progress Bar 要注意在 Figma 的設計方式會不同，以往在 Sketch 通常是調整線框 line dash 的筆畫樣式，但在 Figma 可以直接用實體 fill 的圓形去修改樣式，所以 Sketch 舊方式的 Circle Progress Bar 匯入就會壞掉，需要再重新做設計上的修正。\n\n![Circle Progress Bar](https://downloads.intercomcdn.com/i/o/82641775/21030eb185c81c44338bc2ee/Arc+Closed+Ring.gif)\n\n# 出現重複 Symbol 的 bug\n\n有時候 Sketch 檔案匯入 Figma 後，會出現兩個一樣的 Symbol 的 bug? 目前不確定為什麼會這樣，可能跟檔案版本有關？ 我解決的辦法是用 [Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/Locator) 先去確定哪個 Symbol 是有確實用到的，如果兩個 Symbol 用到的地方都一模一樣，就勇敢的把其中一個刪除吧！另外，也可以用 [Figma Plugin - Component Replacer](https://www.figma.com/community/plugin/748545064462894895/Component-Replacer) 把不是 symbol 的 component 補上，就是順便檢查一下，讓設計更完整。\n\n![Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/thumbnail)\n\n![Figma Plugin - Component Replace](https://www.figma.com/community/plugin/748545064462894895/thumbnail)\n\n# Design System\n\nFigma 有個很不錯的功能是可以將 Design System 共享給各專案使用，但免費版僅限於分享 Color Style 的部分， component 則不給發布，所以這部分要注意的事項，待之後升級到訂閱版，我在把要注意的細節另外寫一篇～\n\n![Design System](https://images.ctfassets.net/1khq4uysbvty/4XYc5Z5siLdaAgidhT2ym/0f916d11a615efaa0776f5fc33b2446f/DS_03.gif?&w=785)\n\n\n# Reference\n\n* [Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/Locator)\n* [Figma Plugin - Component Replacer](https://www.figma.com/community/plugin/748545064462894895/Component-Replacer)","source":"_posts/UXUI/Notes-On-Transferring-From-Sketch-To-Figma.md","raw":"---\ntitle: Notes on transferring from Sketch to Figma\ncategories:\n  - UXUI\n  - Figma\nthumbnailImage: https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi\nthumbnailImagePosition: left\ncoverImage: https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png\ncoverMeta: out\ntags: [Sketch, Figma, UX, UI]\ndate: 2021/01/01\nupdated: 2021/01/01\n---\n\n還沒接觸到 Figma 前，我的工作流是用 Sketch (設計) + Abstract (版控) + AdobeXD (原型)，三者各取所長提供使用者最適合的設計方案。但其實很多時間會花在操作三種不同軟體的工上，但 Figma 解決了我長期的困擾，一個軟體就可以做到原本的事情，且還不用下載任何軟體，只要有瀏覽器就可以線上設計，還支援線上多人協作，優點多多。此篇紀錄將設計檔案從 Sketch 轉移到 Figma 需要注意的小細節。\n\n<!--more-->\n\n第一次轉移總是會痛的，需要每個 artboard 去檢查是否有跟原來設計的畫面一樣，還要重新拉 prototype 動態線，通常至少需要花一整天才能完成轉移一個專案設計檔，且這是在還沒有將 Design System Library component 替換掉的時間。若要替換 Library component 需要在付費制下才可以使用，所以本篇先以免費版所要注意的地方著墨，System Library 等之後再另外寫一篇整理。\n\n# 同一組 Prototype 路線要在同個 Page\n\n之前 Sketch 我會依據功能將 artboard 分類在不同 Page，但在 Figma 若要做 Prototype 動態連線的話，只能全部在同一個 Page。不同 Page 在 Figma 只會當作是另一組 Prototype 路線。所以要怎麼把全部 artboard 整理在同一個 Page，我的做法是將同一區塊的 artboard 放在一起並用超級大的字體寫那一塊原本的 Page（功能）名稱，這樣遠遠的看也知道那一區是在做什麼的。\n\n![Prototype 要在同一個 Page](https://lh3.googleusercontent.com/pw/ACtC-3fXQJ_l_y5auAA3Xe1NuMYvlHthoPQvW1Ijk1G4xTgGRZT1me4XXGavIcNA5VSY5mhDW8c7_3ndvi3Ptu0-Ahjfl9NlJ4W0h3HxvYSRKotT9C2R8XxsGJBKziedeHto-GmtY2BCsnBYBUeamXSGmMGRGg=w2542-h1378-no?authuser=0)\n\n# 群組物件被強制修剪\n\n當 Sketch 設計檔轉到 Figma 後，群組的物件會被自動轉換成 Figma 屬性的 group 或 Frame，且會有多一個勾選框顯示在右邊屬性欄，讓設計者勾選是否要修剪影像的 checked box。通常發生在有陰影和文字物件上，導致陰影或文字被強制切掉。這個時候只要取消勾選 \"Clip Content\"，就能如原本設計一樣了，只是這需要耐心檢查還蠻花時間的。\n\n![Clip Content](https://lh3.googleusercontent.com/pw/ACtC-3els8K-mYfiBwswCJfPY9fMfUhwrqTTRcq9HZLqFeRvm0Gd_I13EfCpuTHZB_epIsCL8brFtA4a1-SXN_P2nYeHOVc8P593WKvyiGtDsaKJoqBQiwUt-whxhmv7_P0DLq_GhzDdENu8ykJlxD4yN1Xtxw=w490-h622-no?authuser=0)\n\n# Circle Progress Bar 畫法不同\n\n若你的設計元素有 Circle Progress Bar 要注意在 Figma 的設計方式會不同，以往在 Sketch 通常是調整線框 line dash 的筆畫樣式，但在 Figma 可以直接用實體 fill 的圓形去修改樣式，所以 Sketch 舊方式的 Circle Progress Bar 匯入就會壞掉，需要再重新做設計上的修正。\n\n![Circle Progress Bar](https://downloads.intercomcdn.com/i/o/82641775/21030eb185c81c44338bc2ee/Arc+Closed+Ring.gif)\n\n# 出現重複 Symbol 的 bug\n\n有時候 Sketch 檔案匯入 Figma 後，會出現兩個一樣的 Symbol 的 bug? 目前不確定為什麼會這樣，可能跟檔案版本有關？ 我解決的辦法是用 [Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/Locator) 先去確定哪個 Symbol 是有確實用到的，如果兩個 Symbol 用到的地方都一模一樣，就勇敢的把其中一個刪除吧！另外，也可以用 [Figma Plugin - Component Replacer](https://www.figma.com/community/plugin/748545064462894895/Component-Replacer) 把不是 symbol 的 component 補上，就是順便檢查一下，讓設計更完整。\n\n![Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/thumbnail)\n\n![Figma Plugin - Component Replace](https://www.figma.com/community/plugin/748545064462894895/thumbnail)\n\n# Design System\n\nFigma 有個很不錯的功能是可以將 Design System 共享給各專案使用，但免費版僅限於分享 Color Style 的部分， component 則不給發布，所以這部分要注意的事項，待之後升級到訂閱版，我在把要注意的細節另外寫一篇～\n\n![Design System](https://images.ctfassets.net/1khq4uysbvty/4XYc5Z5siLdaAgidhT2ym/0f916d11a615efaa0776f5fc33b2446f/DS_03.gif?&w=785)\n\n\n# Reference\n\n* [Figma Plugin - Locator](https://www.figma.com/community/plugin/741935812012883481/Locator)\n* [Figma Plugin - Component Replacer](https://www.figma.com/community/plugin/748545064462894895/Component-Replacer)","slug":"UXUI/Notes-On-Transferring-From-Sketch-To-Figma","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ro003fr3y7073eg1yo","content":"<p>還沒接觸到 Figma 前，我的工作流是用 Sketch (設計) + Abstract (版控) + AdobeXD (原型)，三者各取所長提供使用者最適合的設計方案。但其實很多時間會花在操作三種不同軟體的工上，但 Figma 解決了我長期的困擾，一個軟體就可以做到原本的事情，且還不用下載任何軟體，只要有瀏覽器就可以線上設計，還支援線上多人協作，優點多多。此篇紀錄將設計檔案從 Sketch 轉移到 Figma 需要注意的小細節。</p>\n<span id=\"more\"></span>\n\n<p>第一次轉移總是會痛的，需要每個 artboard 去檢查是否有跟原來設計的畫面一樣，還要重新拉 prototype 動態線，通常至少需要花一整天才能完成轉移一個專案設計檔，且這是在還沒有將 Design System Library component 替換掉的時間。若要替換 Library component 需要在付費制下才可以使用，所以本篇先以免費版所要注意的地方著墨，System Library 等之後再另外寫一篇整理。</p>\n<h1 id=\"同一組-Prototype-路線要在同個-Page\"><a href=\"#同一組-Prototype-路線要在同個-Page\" class=\"headerlink\" title=\"同一組 Prototype 路線要在同個 Page\"></a>同一組 Prototype 路線要在同個 Page</h1><p>之前 Sketch 我會依據功能將 artboard 分類在不同 Page，但在 Figma 若要做 Prototype 動態連線的話，只能全部在同一個 Page。不同 Page 在 Figma 只會當作是另一組 Prototype 路線。所以要怎麼把全部 artboard 整理在同一個 Page，我的做法是將同一區塊的 artboard 放在一起並用超級大的字體寫那一塊原本的 Page（功能）名稱，這樣遠遠的看也知道那一區是在做什麼的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXQJ_l_y5auAA3Xe1NuMYvlHthoPQvW1Ijk1G4xTgGRZT1me4XXGavIcNA5VSY5mhDW8c7_3ndvi3Ptu0-Ahjfl9NlJ4W0h3HxvYSRKotT9C2R8XxsGJBKziedeHto-GmtY2BCsnBYBUeamXSGmMGRGg=w2542-h1378-no?authuser=0\" alt=\"Prototype 要在同一個 Page\"></p>\n<h1 id=\"群組物件被強制修剪\"><a href=\"#群組物件被強制修剪\" class=\"headerlink\" title=\"群組物件被強制修剪\"></a>群組物件被強制修剪</h1><p>當 Sketch 設計檔轉到 Figma 後，群組的物件會被自動轉換成 Figma 屬性的 group 或 Frame，且會有多一個勾選框顯示在右邊屬性欄，讓設計者勾選是否要修剪影像的 checked box。通常發生在有陰影和文字物件上，導致陰影或文字被強制切掉。這個時候只要取消勾選 “Clip Content”，就能如原本設計一樣了，只是這需要耐心檢查還蠻花時間的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3els8K-mYfiBwswCJfPY9fMfUhwrqTTRcq9HZLqFeRvm0Gd_I13EfCpuTHZB_epIsCL8brFtA4a1-SXN_P2nYeHOVc8P593WKvyiGtDsaKJoqBQiwUt-whxhmv7_P0DLq_GhzDdENu8ykJlxD4yN1Xtxw=w490-h622-no?authuser=0\" alt=\"Clip Content\"></p>\n<h1 id=\"Circle-Progress-Bar-畫法不同\"><a href=\"#Circle-Progress-Bar-畫法不同\" class=\"headerlink\" title=\"Circle Progress Bar 畫法不同\"></a>Circle Progress Bar 畫法不同</h1><p>若你的設計元素有 Circle Progress Bar 要注意在 Figma 的設計方式會不同，以往在 Sketch 通常是調整線框 line dash 的筆畫樣式，但在 Figma 可以直接用實體 fill 的圓形去修改樣式，所以 Sketch 舊方式的 Circle Progress Bar 匯入就會壞掉，需要再重新做設計上的修正。</p>\n<p><img src=\"https://downloads.intercomcdn.com/i/o/82641775/21030eb185c81c44338bc2ee/Arc+Closed+Ring.gif\" alt=\"Circle Progress Bar\"></p>\n<h1 id=\"出現重複-Symbol-的-bug\"><a href=\"#出現重複-Symbol-的-bug\" class=\"headerlink\" title=\"出現重複 Symbol 的 bug\"></a>出現重複 Symbol 的 bug</h1><p>有時候 Sketch 檔案匯入 Figma 後，會出現兩個一樣的 Symbol 的 bug? 目前不確定為什麼會這樣，可能跟檔案版本有關？ 我解決的辦法是用 <a href=\"https://www.figma.com/community/plugin/741935812012883481/Locator\">Figma Plugin - Locator</a> 先去確定哪個 Symbol 是有確實用到的，如果兩個 Symbol 用到的地方都一模一樣，就勇敢的把其中一個刪除吧！另外，也可以用 <a href=\"https://www.figma.com/community/plugin/748545064462894895/Component-Replacer\">Figma Plugin - Component Replacer</a> 把不是 symbol 的 component 補上，就是順便檢查一下，讓設計更完整。</p>\n<p><img src=\"https://www.figma.com/community/plugin/741935812012883481/thumbnail\" alt=\"Figma Plugin - Locator\"></p>\n<p><img src=\"https://www.figma.com/community/plugin/748545064462894895/thumbnail\" alt=\"Figma Plugin - Component Replace\"></p>\n<h1 id=\"Design-System\"><a href=\"#Design-System\" class=\"headerlink\" title=\"Design System\"></a>Design System</h1><p>Figma 有個很不錯的功能是可以將 Design System 共享給各專案使用，但免費版僅限於分享 Color Style 的部分， component 則不給發布，所以這部分要注意的事項，待之後升級到訂閱版，我在把要注意的細節另外寫一篇～</p>\n<p><img src=\"https://images.ctfassets.net/1khq4uysbvty/4XYc5Z5siLdaAgidhT2ym/0f916d11a615efaa0776f5fc33b2446f/DS_03.gif?&w=785\" alt=\"Design System\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.figma.com/community/plugin/741935812012883481/Locator\">Figma Plugin - Locator</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/748545064462894895/Component-Replacer\">Figma Plugin - Component Replacer</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","excerpt":"<p>還沒接觸到 Figma 前，我的工作流是用 Sketch (設計) + Abstract (版控) + AdobeXD (原型)，三者各取所長提供使用者最適合的設計方案。但其實很多時間會花在操作三種不同軟體的工上，但 Figma 解決了我長期的困擾，一個軟體就可以做到原本的事情，且還不用下載任何軟體，只要有瀏覽器就可以線上設計，還支援線上多人協作，優點多多。此篇紀錄將設計檔案從 Sketch 轉移到 Figma 需要注意的小細節。</p>","more":"<p>第一次轉移總是會痛的，需要每個 artboard 去檢查是否有跟原來設計的畫面一樣，還要重新拉 prototype 動態線，通常至少需要花一整天才能完成轉移一個專案設計檔，且這是在還沒有將 Design System Library component 替換掉的時間。若要替換 Library component 需要在付費制下才可以使用，所以本篇先以免費版所要注意的地方著墨，System Library 等之後再另外寫一篇整理。</p>\n<h1 id=\"同一組-Prototype-路線要在同個-Page\"><a href=\"#同一組-Prototype-路線要在同個-Page\" class=\"headerlink\" title=\"同一組 Prototype 路線要在同個 Page\"></a>同一組 Prototype 路線要在同個 Page</h1><p>之前 Sketch 我會依據功能將 artboard 分類在不同 Page，但在 Figma 若要做 Prototype 動態連線的話，只能全部在同一個 Page。不同 Page 在 Figma 只會當作是另一組 Prototype 路線。所以要怎麼把全部 artboard 整理在同一個 Page，我的做法是將同一區塊的 artboard 放在一起並用超級大的字體寫那一塊原本的 Page（功能）名稱，這樣遠遠的看也知道那一區是在做什麼的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXQJ_l_y5auAA3Xe1NuMYvlHthoPQvW1Ijk1G4xTgGRZT1me4XXGavIcNA5VSY5mhDW8c7_3ndvi3Ptu0-Ahjfl9NlJ4W0h3HxvYSRKotT9C2R8XxsGJBKziedeHto-GmtY2BCsnBYBUeamXSGmMGRGg=w2542-h1378-no?authuser=0\" alt=\"Prototype 要在同一個 Page\"></p>\n<h1 id=\"群組物件被強制修剪\"><a href=\"#群組物件被強制修剪\" class=\"headerlink\" title=\"群組物件被強制修剪\"></a>群組物件被強制修剪</h1><p>當 Sketch 設計檔轉到 Figma 後，群組的物件會被自動轉換成 Figma 屬性的 group 或 Frame，且會有多一個勾選框顯示在右邊屬性欄，讓設計者勾選是否要修剪影像的 checked box。通常發生在有陰影和文字物件上，導致陰影或文字被強制切掉。這個時候只要取消勾選 “Clip Content”，就能如原本設計一樣了，只是這需要耐心檢查還蠻花時間的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3els8K-mYfiBwswCJfPY9fMfUhwrqTTRcq9HZLqFeRvm0Gd_I13EfCpuTHZB_epIsCL8brFtA4a1-SXN_P2nYeHOVc8P593WKvyiGtDsaKJoqBQiwUt-whxhmv7_P0DLq_GhzDdENu8ykJlxD4yN1Xtxw=w490-h622-no?authuser=0\" alt=\"Clip Content\"></p>\n<h1 id=\"Circle-Progress-Bar-畫法不同\"><a href=\"#Circle-Progress-Bar-畫法不同\" class=\"headerlink\" title=\"Circle Progress Bar 畫法不同\"></a>Circle Progress Bar 畫法不同</h1><p>若你的設計元素有 Circle Progress Bar 要注意在 Figma 的設計方式會不同，以往在 Sketch 通常是調整線框 line dash 的筆畫樣式，但在 Figma 可以直接用實體 fill 的圓形去修改樣式，所以 Sketch 舊方式的 Circle Progress Bar 匯入就會壞掉，需要再重新做設計上的修正。</p>\n<p><img src=\"https://downloads.intercomcdn.com/i/o/82641775/21030eb185c81c44338bc2ee/Arc+Closed+Ring.gif\" alt=\"Circle Progress Bar\"></p>\n<h1 id=\"出現重複-Symbol-的-bug\"><a href=\"#出現重複-Symbol-的-bug\" class=\"headerlink\" title=\"出現重複 Symbol 的 bug\"></a>出現重複 Symbol 的 bug</h1><p>有時候 Sketch 檔案匯入 Figma 後，會出現兩個一樣的 Symbol 的 bug? 目前不確定為什麼會這樣，可能跟檔案版本有關？ 我解決的辦法是用 <a href=\"https://www.figma.com/community/plugin/741935812012883481/Locator\">Figma Plugin - Locator</a> 先去確定哪個 Symbol 是有確實用到的，如果兩個 Symbol 用到的地方都一模一樣，就勇敢的把其中一個刪除吧！另外，也可以用 <a href=\"https://www.figma.com/community/plugin/748545064462894895/Component-Replacer\">Figma Plugin - Component Replacer</a> 把不是 symbol 的 component 補上，就是順便檢查一下，讓設計更完整。</p>\n<p><img src=\"https://www.figma.com/community/plugin/741935812012883481/thumbnail\" alt=\"Figma Plugin - Locator\"></p>\n<p><img src=\"https://www.figma.com/community/plugin/748545064462894895/thumbnail\" alt=\"Figma Plugin - Component Replace\"></p>\n<h1 id=\"Design-System\"><a href=\"#Design-System\" class=\"headerlink\" title=\"Design System\"></a>Design System</h1><p>Figma 有個很不錯的功能是可以將 Design System 共享給各專案使用，但免費版僅限於分享 Color Style 的部分， component 則不給發布，所以這部分要注意的事項，待之後升級到訂閱版，我在把要注意的細節另外寫一篇～</p>\n<p><img src=\"https://images.ctfassets.net/1khq4uysbvty/4XYc5Z5siLdaAgidhT2ym/0f916d11a615efaa0776f5fc33b2446f/DS_03.gif?&w=785\" alt=\"Design System\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.figma.com/community/plugin/741935812012883481/Locator\">Figma Plugin - Locator</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/748545064462894895/Component-Replacer\">Figma Plugin - Component Replacer</a></li>\n</ul>"},{"title":"Set Figma Text for Traditional Chinese","thumbnailImage":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","thumbnailImagePosition":"left","coverImage":"https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png","coverMeta":"out","date":"2021-04-17T16:00:00.000Z","updated":"2021-04-17T16:00:00.000Z","_content":"\n當複製貼上大量中文字在 Figma 時，你可能會發現貼上的文章段落怎麼會一個洞一個洞的呢？此篇就是要說明怎麼解決 Figma 中文缺字的問題啦～\n\n<!--more-->\n\n我之前從 Sketch 轉到 Figma 的時候因為大部分系統都是英文字，只有說明的部分有放中文，所以是很後面仔細看的時候才發現有缺字問題。所以我就像往常一樣找 Google 大神求助，發現官方說明分成兩大類，第一類是使用自己電腦的字體，第二類是使用網路現有字體。因為我的工作主要都是設計網頁系統，對字體沒有特別的設計需求，所以使用第二類就能解決問題了。下面兩類都會說明，依據設計師需求選擇最合適的就可以囉～\n\n# 使用本地電腦的字體\n\n官方說明文件：[Access local fonts on your computer](https://help.figma.com/hc/en-us/articles/360039956894)\n\n如果是下載桌機版的應用程式，內建是可以直接用本地電腦的字體。如果是瀏覽器上編輯，就要下載 Font Helper，就可以在瀏覽器看到本地電腦的字體。但不管是桌機版還是瀏覽器，只要是使用本地電腦字體，都只有該電腦有那個字體才看得到。所以假設其他設計師開啟同個文檔，但他的電腦內沒有特定的字體，則他還是看不到正確的文字顯示。\n\n# 使用網路現有字體\n\n官方說明文件：[Add text in Chinese, Japanese, and Korean](https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean)\n\n如果使用網路現有字體，就能在免安裝任何字體的情況下，確認每個人都能看到一樣的文字～官方的解法就是使用 [Google Web Fonts](https://fonts.google.com/)，在 Language 的部分選擇文字語言 Chinese(Traditional)，如下圖就可以看見有 Noto 的字體，在根據需求選擇是否要使用襯線字體即可。\n\n![Chinese(Traditional)](https://lh3.googleusercontent.com/pw/ACtC-3fNMqYSUxj8jpvTduD1k5OaPCLURzIYqDNpYvVAeFE9-r9aFsRAxVNbHT-EeVLixkSrh4uvzZT7P-VFt78mZH9dGnNq8CJKhx9o7n6wyU6rFk0Ro22mWTKRGZ_IlkNjcPBIC2y1nBFPOLugsAEjYiumQA=w2550-h1378-no?authuser=0)\n\n我最後選擇使用 Noto Sans TC 來解決中文缺字問題。\n\n# Reference\n\n* [Access local fonts on your computer](https://help.figma.com/hc/en-us/articles/360039956894)\n* [Add text in Chinese, Japanese, and Korean](https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean)","source":"_posts/UXUI/Set-Figma-Text-for-Traditional-Chinese.md","raw":"---\ntitle: Set Figma Text for Traditional Chinese\ncategories:\n  - UXUI\n  - Figma\nthumbnailImage: https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi\nthumbnailImagePosition: left\ncoverImage: https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png\ncoverMeta: out\ntags: [Figma, UX, UI]\ndate: 2021/04/18\nupdated: 2021/04/18\n---\n\n當複製貼上大量中文字在 Figma 時，你可能會發現貼上的文章段落怎麼會一個洞一個洞的呢？此篇就是要說明怎麼解決 Figma 中文缺字的問題啦～\n\n<!--more-->\n\n我之前從 Sketch 轉到 Figma 的時候因為大部分系統都是英文字，只有說明的部分有放中文，所以是很後面仔細看的時候才發現有缺字問題。所以我就像往常一樣找 Google 大神求助，發現官方說明分成兩大類，第一類是使用自己電腦的字體，第二類是使用網路現有字體。因為我的工作主要都是設計網頁系統，對字體沒有特別的設計需求，所以使用第二類就能解決問題了。下面兩類都會說明，依據設計師需求選擇最合適的就可以囉～\n\n# 使用本地電腦的字體\n\n官方說明文件：[Access local fonts on your computer](https://help.figma.com/hc/en-us/articles/360039956894)\n\n如果是下載桌機版的應用程式，內建是可以直接用本地電腦的字體。如果是瀏覽器上編輯，就要下載 Font Helper，就可以在瀏覽器看到本地電腦的字體。但不管是桌機版還是瀏覽器，只要是使用本地電腦字體，都只有該電腦有那個字體才看得到。所以假設其他設計師開啟同個文檔，但他的電腦內沒有特定的字體，則他還是看不到正確的文字顯示。\n\n# 使用網路現有字體\n\n官方說明文件：[Add text in Chinese, Japanese, and Korean](https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean)\n\n如果使用網路現有字體，就能在免安裝任何字體的情況下，確認每個人都能看到一樣的文字～官方的解法就是使用 [Google Web Fonts](https://fonts.google.com/)，在 Language 的部分選擇文字語言 Chinese(Traditional)，如下圖就可以看見有 Noto 的字體，在根據需求選擇是否要使用襯線字體即可。\n\n![Chinese(Traditional)](https://lh3.googleusercontent.com/pw/ACtC-3fNMqYSUxj8jpvTduD1k5OaPCLURzIYqDNpYvVAeFE9-r9aFsRAxVNbHT-EeVLixkSrh4uvzZT7P-VFt78mZH9dGnNq8CJKhx9o7n6wyU6rFk0Ro22mWTKRGZ_IlkNjcPBIC2y1nBFPOLugsAEjYiumQA=w2550-h1378-no?authuser=0)\n\n我最後選擇使用 Noto Sans TC 來解決中文缺字問題。\n\n# Reference\n\n* [Access local fonts on your computer](https://help.figma.com/hc/en-us/articles/360039956894)\n* [Add text in Chinese, Japanese, and Korean](https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean)","slug":"UXUI/Set-Figma-Text-for-Traditional-Chinese","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rp003hr3y7dzp8b7ej","content":"<p>當複製貼上大量中文字在 Figma 時，你可能會發現貼上的文章段落怎麼會一個洞一個洞的呢？此篇就是要說明怎麼解決 Figma 中文缺字的問題啦～</p>\n<span id=\"more\"></span>\n\n<p>我之前從 Sketch 轉到 Figma 的時候因為大部分系統都是英文字，只有說明的部分有放中文，所以是很後面仔細看的時候才發現有缺字問題。所以我就像往常一樣找 Google 大神求助，發現官方說明分成兩大類，第一類是使用自己電腦的字體，第二類是使用網路現有字體。因為我的工作主要都是設計網頁系統，對字體沒有特別的設計需求，所以使用第二類就能解決問題了。下面兩類都會說明，依據設計師需求選擇最合適的就可以囉～</p>\n<h1 id=\"使用本地電腦的字體\"><a href=\"#使用本地電腦的字體\" class=\"headerlink\" title=\"使用本地電腦的字體\"></a>使用本地電腦的字體</h1><p>官方說明文件：<a href=\"https://help.figma.com/hc/en-us/articles/360039956894\">Access local fonts on your computer</a></p>\n<p>如果是下載桌機版的應用程式，內建是可以直接用本地電腦的字體。如果是瀏覽器上編輯，就要下載 Font Helper，就可以在瀏覽器看到本地電腦的字體。但不管是桌機版還是瀏覽器，只要是使用本地電腦字體，都只有該電腦有那個字體才看得到。所以假設其他設計師開啟同個文檔，但他的電腦內沒有特定的字體，則他還是看不到正確的文字顯示。</p>\n<h1 id=\"使用網路現有字體\"><a href=\"#使用網路現有字體\" class=\"headerlink\" title=\"使用網路現有字體\"></a>使用網路現有字體</h1><p>官方說明文件：<a href=\"https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean\">Add text in Chinese, Japanese, and Korean</a></p>\n<p>如果使用網路現有字體，就能在免安裝任何字體的情況下，確認每個人都能看到一樣的文字～官方的解法就是使用 <a href=\"https://fonts.google.com/\">Google Web Fonts</a>，在 Language 的部分選擇文字語言 Chinese(Traditional)，如下圖就可以看見有 Noto 的字體，在根據需求選擇是否要使用襯線字體即可。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fNMqYSUxj8jpvTduD1k5OaPCLURzIYqDNpYvVAeFE9-r9aFsRAxVNbHT-EeVLixkSrh4uvzZT7P-VFt78mZH9dGnNq8CJKhx9o7n6wyU6rFk0Ro22mWTKRGZ_IlkNjcPBIC2y1nBFPOLugsAEjYiumQA=w2550-h1378-no?authuser=0\" alt=\"Chinese(Traditional)\"></p>\n<p>我最後選擇使用 Noto Sans TC 來解決中文缺字問題。</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360039956894\">Access local fonts on your computer</a></li>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean\">Add text in Chinese, Japanese, and Korean</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","excerpt":"<p>當複製貼上大量中文字在 Figma 時，你可能會發現貼上的文章段落怎麼會一個洞一個洞的呢？此篇就是要說明怎麼解決 Figma 中文缺字的問題啦～</p>","more":"<p>我之前從 Sketch 轉到 Figma 的時候因為大部分系統都是英文字，只有說明的部分有放中文，所以是很後面仔細看的時候才發現有缺字問題。所以我就像往常一樣找 Google 大神求助，發現官方說明分成兩大類，第一類是使用自己電腦的字體，第二類是使用網路現有字體。因為我的工作主要都是設計網頁系統，對字體沒有特別的設計需求，所以使用第二類就能解決問題了。下面兩類都會說明，依據設計師需求選擇最合適的就可以囉～</p>\n<h1 id=\"使用本地電腦的字體\"><a href=\"#使用本地電腦的字體\" class=\"headerlink\" title=\"使用本地電腦的字體\"></a>使用本地電腦的字體</h1><p>官方說明文件：<a href=\"https://help.figma.com/hc/en-us/articles/360039956894\">Access local fonts on your computer</a></p>\n<p>如果是下載桌機版的應用程式，內建是可以直接用本地電腦的字體。如果是瀏覽器上編輯，就要下載 Font Helper，就可以在瀏覽器看到本地電腦的字體。但不管是桌機版還是瀏覽器，只要是使用本地電腦字體，都只有該電腦有那個字體才看得到。所以假設其他設計師開啟同個文檔，但他的電腦內沒有特定的字體，則他還是看不到正確的文字顯示。</p>\n<h1 id=\"使用網路現有字體\"><a href=\"#使用網路現有字體\" class=\"headerlink\" title=\"使用網路現有字體\"></a>使用網路現有字體</h1><p>官方說明文件：<a href=\"https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean\">Add text in Chinese, Japanese, and Korean</a></p>\n<p>如果使用網路現有字體，就能在免安裝任何字體的情況下，確認每個人都能看到一樣的文字～官方的解法就是使用 <a href=\"https://fonts.google.com/\">Google Web Fonts</a>，在 Language 的部分選擇文字語言 Chinese(Traditional)，如下圖就可以看見有 Noto 的字體，在根據需求選擇是否要使用襯線字體即可。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fNMqYSUxj8jpvTduD1k5OaPCLURzIYqDNpYvVAeFE9-r9aFsRAxVNbHT-EeVLixkSrh4uvzZT7P-VFt78mZH9dGnNq8CJKhx9o7n6wyU6rFk0Ro22mWTKRGZ_IlkNjcPBIC2y1nBFPOLugsAEjYiumQA=w2550-h1378-no?authuser=0\" alt=\"Chinese(Traditional)\"></p>\n<p>我最後選擇使用 Noto Sans TC 來解決中文缺字問題。</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360039956894\">Access local fonts on your computer</a></li>\n<li><a href=\"https://help.figma.com/hc/en-us/articles/360040449673-Add-text-in-Chinese-Japanese-and-Korean\">Add text in Chinese, Japanese, and Korean</a></li>\n</ul>"},{"title":"Spline - Easily Create and Publish 3D Web Experiences","thumbnailImage":"https://d33wubrfki0l68.cloudfront.net/6e818a6053f5a11d48f2070de259173df357290c/207d7/_assets/_images/spline_logo.png","thumbnailImagePosition":"left","coverImage":"https://d33wubrfki0l68.cloudfront.net/29af3e38d7e41ebd09df58fc109d44d8cbc32ca8/11d80/_assets/_images/spline_app_ui_03.png","coverMeta":"out","date":"2021-03-06T16:00:00.000Z","updated":"2021-03-06T16:00:00.000Z","_content":"\nSpline Design 是一款可以繪製並匯出 3D 設計至網頁的工具。我第一次是在臉書看到有人分享，今天下載過後，覺得功能強大且有趣，後續會試著玩玩看再分享心得，今天先來簡略介紹一下 Spline。\n\n<!--more-->\n\n先看一下我從 Library 下載下來的檔案輸出成 Public URL 用 iframe 嵌入的效果。\n\n<iframe src='https://my.spline.design/sketchbookecommerce-2ea1fcee956cc616fa71642cb685f3cd/' frameborder='0' width='100%' height='600px'></iframe>\n\nSpline 可以做到：\n\n* 旋轉、移動、縮放 3D 畫布\n* 使用滑鼠和物件互動\n* 互動的即時反應很順暢\n* 可輸出多種格式檔案 (URL, Canvas js, 圖片, 影片)\n\n但目前測試出美中不足的地方：\n\n* 輸出、儲存等動作需要等候時間 (類似做影片輸出和儲存也需要等程式做編譯)\n* 網頁成品一開始讀入需要等一段時間，但讀完的操作算很順暢\n* 免費版成品會壓 Spline 的浮水印\n\n# Spline UI\n\n![Spline UI](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F8885f6c1-2f99-4bf5-ba9c-2ccec391ff06.png&w=3840&q=100)\n\n<br>\n* Tap bar: 檔案頁籤，可開多個檔案作切換\n* Toolbar: 繪圖工具\n* Left Sidebar: 圖層面板，可以整理各圖層\n* Right Sidebar: 屬性面板，可以控制顏色、環境設定、輸出等參數\n* Viewport: 製圖區，3D 圖呈現的地方\n\n# Presentation Mode\n\n![Presentation Mode](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F49a353f0-78a9-4229-a150-7e1471886080.gif&w=3840&q=100)\n\nPresentation Mode 是可以讓使用者預覽作圖出來的互動效果。因為這個步驟還沒涉及到輸出，所以不用花太多時間等待就能看到製作的預期結果。\n\n# Exporting\n\n他的輸出類型可以是: Public URL, Web Content, Image, Video.\n\n因為這次是簡介，所以就先展示若輸出成 URL 會有 spline 給的網址如下。\n\n![Exporting URL](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F4afdea43-69f2-4e52-91b5-d5308dcd6616.png&w=3840&q=100)\n\n# Reference\n\n* [Spline](https://spline.design/)\n* [Spline Docs](https://docs.spline.design/)\n* [Spline：輕鬆建出能在網頁互動的 3D 模型](https://medium.com/as-a-product-designer/spline-tool-intro-b8058bad852a)\n","source":"_posts/UXUI/Spline-Easily-Create-and-Publish-3D-Web-Experiences.md","raw":"---\ntitle: Spline - Easily Create and Publish 3D Web Experiences\ncategories:\n  - UXUI\n  - Spline\nthumbnailImage: https://d33wubrfki0l68.cloudfront.net/6e818a6053f5a11d48f2070de259173df357290c/207d7/_assets/_images/spline_logo.png\nthumbnailImagePosition: left\ncoverImage: https://d33wubrfki0l68.cloudfront.net/29af3e38d7e41ebd09df58fc109d44d8cbc32ca8/11d80/_assets/_images/spline_app_ui_03.png\ncoverMeta: out\ntags: [UX, UI, Spline]\ndate: 2021/03/07\nupdated: 2021/03/07\n---\n\nSpline Design 是一款可以繪製並匯出 3D 設計至網頁的工具。我第一次是在臉書看到有人分享，今天下載過後，覺得功能強大且有趣，後續會試著玩玩看再分享心得，今天先來簡略介紹一下 Spline。\n\n<!--more-->\n\n先看一下我從 Library 下載下來的檔案輸出成 Public URL 用 iframe 嵌入的效果。\n\n<iframe src='https://my.spline.design/sketchbookecommerce-2ea1fcee956cc616fa71642cb685f3cd/' frameborder='0' width='100%' height='600px'></iframe>\n\nSpline 可以做到：\n\n* 旋轉、移動、縮放 3D 畫布\n* 使用滑鼠和物件互動\n* 互動的即時反應很順暢\n* 可輸出多種格式檔案 (URL, Canvas js, 圖片, 影片)\n\n但目前測試出美中不足的地方：\n\n* 輸出、儲存等動作需要等候時間 (類似做影片輸出和儲存也需要等程式做編譯)\n* 網頁成品一開始讀入需要等一段時間，但讀完的操作算很順暢\n* 免費版成品會壓 Spline 的浮水印\n\n# Spline UI\n\n![Spline UI](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F8885f6c1-2f99-4bf5-ba9c-2ccec391ff06.png&w=3840&q=100)\n\n<br>\n* Tap bar: 檔案頁籤，可開多個檔案作切換\n* Toolbar: 繪圖工具\n* Left Sidebar: 圖層面板，可以整理各圖層\n* Right Sidebar: 屬性面板，可以控制顏色、環境設定、輸出等參數\n* Viewport: 製圖區，3D 圖呈現的地方\n\n# Presentation Mode\n\n![Presentation Mode](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F49a353f0-78a9-4229-a150-7e1471886080.gif&w=3840&q=100)\n\nPresentation Mode 是可以讓使用者預覽作圖出來的互動效果。因為這個步驟還沒涉及到輸出，所以不用花太多時間等待就能看到製作的預期結果。\n\n# Exporting\n\n他的輸出類型可以是: Public URL, Web Content, Image, Video.\n\n因為這次是簡介，所以就先展示若輸出成 URL 會有 spline 給的網址如下。\n\n![Exporting URL](https://docs.spline.design/_next/image?url=https%3A%2F%2Fapi.super.so%2Fasset%2Fdocs.spline.design%2F4afdea43-69f2-4e52-91b5-d5308dcd6616.png&w=3840&q=100)\n\n# Reference\n\n* [Spline](https://spline.design/)\n* [Spline Docs](https://docs.spline.design/)\n* [Spline：輕鬆建出能在網頁互動的 3D 模型](https://medium.com/as-a-product-designer/spline-tool-intro-b8058bad852a)\n","slug":"UXUI/Spline-Easily-Create-and-Publish-3D-Web-Experiences","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rr003mr3y75arfbhn4","content":"<p>Spline Design 是一款可以繪製並匯出 3D 設計至網頁的工具。我第一次是在臉書看到有人分享，今天下載過後，覺得功能強大且有趣，後續會試著玩玩看再分享心得，今天先來簡略介紹一下 Spline。</p>\n<span id=\"more\"></span>\n\n<p>先看一下我從 Library 下載下來的檔案輸出成 Public URL 用 iframe 嵌入的效果。</p>\n<iframe src='https://my.spline.design/sketchbookecommerce-2ea1fcee956cc616fa71642cb685f3cd/' frameborder='0' width='100%' height='600px'></iframe>\n\n<p>Spline 可以做到：</p>\n<ul>\n<li>旋轉、移動、縮放 3D 畫布</li>\n<li>使用滑鼠和物件互動</li>\n<li>互動的即時反應很順暢</li>\n<li>可輸出多種格式檔案 (URL, Canvas js, 圖片, 影片)</li>\n</ul>\n<p>但目前測試出美中不足的地方：</p>\n<ul>\n<li>輸出、儲存等動作需要等候時間 (類似做影片輸出和儲存也需要等程式做編譯)</li>\n<li>網頁成品一開始讀入需要等一段時間，但讀完的操作算很順暢</li>\n<li>免費版成品會壓 Spline 的浮水印</li>\n</ul>\n<h1 id=\"Spline-UI\"><a href=\"#Spline-UI\" class=\"headerlink\" title=\"Spline UI\"></a>Spline UI</h1><p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/8885f6c1-2f99-4bf5-ba9c-2ccec391ff06.png&w=3840&q=100\" alt=\"Spline UI\"></p>\n<br>\n* Tap bar: 檔案頁籤，可開多個檔案作切換\n* Toolbar: 繪圖工具\n* Left Sidebar: 圖層面板，可以整理各圖層\n* Right Sidebar: 屬性面板，可以控制顏色、環境設定、輸出等參數\n* Viewport: 製圖區，3D 圖呈現的地方\n\n<h1 id=\"Presentation-Mode\"><a href=\"#Presentation-Mode\" class=\"headerlink\" title=\"Presentation Mode\"></a>Presentation Mode</h1><p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/49a353f0-78a9-4229-a150-7e1471886080.gif&w=3840&q=100\" alt=\"Presentation Mode\"></p>\n<p>Presentation Mode 是可以讓使用者預覽作圖出來的互動效果。因為這個步驟還沒涉及到輸出，所以不用花太多時間等待就能看到製作的預期結果。</p>\n<h1 id=\"Exporting\"><a href=\"#Exporting\" class=\"headerlink\" title=\"Exporting\"></a>Exporting</h1><p>他的輸出類型可以是: Public URL, Web Content, Image, Video.</p>\n<p>因為這次是簡介，所以就先展示若輸出成 URL 會有 spline 給的網址如下。</p>\n<p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/4afdea43-69f2-4e52-91b5-d5308dcd6616.png&w=3840&q=100\" alt=\"Exporting URL\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://spline.design/\">Spline</a></li>\n<li><a href=\"https://docs.spline.design/\">Spline Docs</a></li>\n<li><a href=\"https://medium.com/as-a-product-designer/spline-tool-intro-b8058bad852a\">Spline：輕鬆建出能在網頁互動的 3D 模型</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://d33wubrfki0l68.cloudfront.net/6e818a6053f5a11d48f2070de259173df357290c/207d7/_assets/_images/spline_logo.png","excerpt":"<p>Spline Design 是一款可以繪製並匯出 3D 設計至網頁的工具。我第一次是在臉書看到有人分享，今天下載過後，覺得功能強大且有趣，後續會試著玩玩看再分享心得，今天先來簡略介紹一下 Spline。</p>","more":"<p>先看一下我從 Library 下載下來的檔案輸出成 Public URL 用 iframe 嵌入的效果。</p>\n<iframe src='https://my.spline.design/sketchbookecommerce-2ea1fcee956cc616fa71642cb685f3cd/' frameborder='0' width='100%' height='600px'></iframe>\n\n<p>Spline 可以做到：</p>\n<ul>\n<li>旋轉、移動、縮放 3D 畫布</li>\n<li>使用滑鼠和物件互動</li>\n<li>互動的即時反應很順暢</li>\n<li>可輸出多種格式檔案 (URL, Canvas js, 圖片, 影片)</li>\n</ul>\n<p>但目前測試出美中不足的地方：</p>\n<ul>\n<li>輸出、儲存等動作需要等候時間 (類似做影片輸出和儲存也需要等程式做編譯)</li>\n<li>網頁成品一開始讀入需要等一段時間，但讀完的操作算很順暢</li>\n<li>免費版成品會壓 Spline 的浮水印</li>\n</ul>\n<h1 id=\"Spline-UI\"><a href=\"#Spline-UI\" class=\"headerlink\" title=\"Spline UI\"></a>Spline UI</h1><p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/8885f6c1-2f99-4bf5-ba9c-2ccec391ff06.png&w=3840&q=100\" alt=\"Spline UI\"></p>\n<br>\n* Tap bar: 檔案頁籤，可開多個檔案作切換\n* Toolbar: 繪圖工具\n* Left Sidebar: 圖層面板，可以整理各圖層\n* Right Sidebar: 屬性面板，可以控制顏色、環境設定、輸出等參數\n* Viewport: 製圖區，3D 圖呈現的地方\n\n<h1 id=\"Presentation-Mode\"><a href=\"#Presentation-Mode\" class=\"headerlink\" title=\"Presentation Mode\"></a>Presentation Mode</h1><p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/49a353f0-78a9-4229-a150-7e1471886080.gif&w=3840&q=100\" alt=\"Presentation Mode\"></p>\n<p>Presentation Mode 是可以讓使用者預覽作圖出來的互動效果。因為這個步驟還沒涉及到輸出，所以不用花太多時間等待就能看到製作的預期結果。</p>\n<h1 id=\"Exporting\"><a href=\"#Exporting\" class=\"headerlink\" title=\"Exporting\"></a>Exporting</h1><p>他的輸出類型可以是: Public URL, Web Content, Image, Video.</p>\n<p>因為這次是簡介，所以就先展示若輸出成 URL 會有 spline 給的網址如下。</p>\n<p><img src=\"https://docs.spline.design/_next/image?url=https://api.super.so/asset/docs.spline.design/4afdea43-69f2-4e52-91b5-d5308dcd6616.png&w=3840&q=100\" alt=\"Exporting URL\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://spline.design/\">Spline</a></li>\n<li><a href=\"https://docs.spline.design/\">Spline Docs</a></li>\n<li><a href=\"https://medium.com/as-a-product-designer/spline-tool-intro-b8058bad852a\">Spline：輕鬆建出能在網頁互動的 3D 模型</a></li>\n</ul>"},{"title":"UX/UI Workflow Tool in 2018","thumbnailImage":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no","coverMeta":"out","date":"2018-09-12T16:00:00.000Z","updated":"2018-09-12T16:00:00.000Z","_content":"\n這篇要和大家分享平時設計 UX/UI 的時候我會用到的工具。以及在一堆爆炸的工作量中，要怎麼運用工具存活下來的故事 XD 。那我們就趕快開始吧。\n\n<!--more-->\n\n這邊主要先介紹平常會用到的 Tool “粗略簡介”，中間會附註其他類似的工具，最後說明我的設計工作流。比較技術性的使用方式要等後續再慢慢出一些專門的文章。\n\n***\n## Abstract\n\n![Abstract](https://lh3.googleusercontent.com/B9jMSu2y8oF5JWE25zqlLeLdnXeFKu8VlAQGjGo7E-naFUVL0Q_svrwfEJc4wfyFGn_YGv7jdo2A8nL_qK2W0_7cy-8rMJZnc3PGERoQ7Yh8yRnxLFw28LW6u_1tqhGYH7cf9nIA5ymIS0-wMQB4jnZ07RdOUVrwhdSMvYhOfdPbs-lBESJPdIfRMA1uJgZt9-moEUPEAHwGV5H9EjDRgACHqJYSj3AVLL05WR3wxW1L0tC2R1bLCH5qfpAwVmD6jiBkwrs1rJEIHYBEMYWT5jPnXTzL1_GF4wo7QRR2hSrucL_88HEz0HPMhl_erd3NbQMykciPwCt9qleYapfcPhFb0IUndhW0YNWZaStiT-e1qK1gqYOtfi7NBuvzX8V9fvT3IyGUXA1R_TZcB0tdYNVe_xFogGYlWFmcs4Kf-M03ffDmIwBe-wAl2FXR2T3dAk0kyBngWTDVgCT7bHzpIeJUQ0wXOgd3G5ULCpnSwGmb-QgXssU3zfGnQPyCZz1YJ4j60m3XXc3D63gcMvVJtec3TzQrhm9z32LeSvtH3xLXftaCJvpu4OAt8qIPN3ccjQZvHVB_wFTcC327qTH8fZzDXc2_76PjyOM5mnRSzYTZWcmyemJiTJZECdSCsCXFh0tAltqbpSlAo5h5lXV7eA6VXf3GJOVf=w1000-h648-no \"Abstract\")\n\n[Abstract](https://www.goabstract.com/) 是針對 Sketch 的版本控制工具。\n\n> “One place to version, manage, and collaborate on your Sketch files.” \n\n就如同使用 git 一般，所有的修改異動都會以 commit 的方式在雲端。再也不用像以往使用 adobe 系列狂複製做檔案備份的動作，使用 Abstract 就可以隨時查看要的版本，設計師再也不用害怕老闆說：“還是第一個版本好”(ＱＱ～心在淌血)。如果多人修改也可以開不同的分支(branch)，最後將確認的版本 merge 到 Master 即可。這簡直是設計師的救星啊～太多專案真的記不清之前做了什麼事，人也是會老的啊～(誤)\n\n> 其他類似的工具：[Plant](https://plantapp.io/), [Kactus](https://kactus.io/)，網路上也有蠻多比較文章，可參考[這篇](https://blog.prototypr.io/abstract-vs-kactus-vs-plant-a-guide-of-version-control-solutions-for-sketch-7da0a8ab5105)\n\n***\n## Sketch\n\n![Sketch](https://lh3.googleusercontent.com/p8yHNZixT2X4KUTqi9yWP37AOStxEdS76FbW7-zGuPezghV337s75z3sUnxU-hqp9Nla_daY9xJMdc7fvGZ1QyiRBdI-Lk_FtvL6N_dIW9Szg__ZILi8MxIHzHtHMUe_8A2ICXIswUVtQlg0id5pP5IN6zoiw6uN10jKR_yofIwlH1Gy7GSlwR1Cwxlr3r-FcvvVg2FTZ5U1oUW-HD013ja9hGRhDhW2dkq0B5TiMtSEiNtWGx1oxIZ6YebTtMguiG2JEfur0Kd0Soerl-1DtKrWUmiwWhTYyU4CCWATsgqWLz1WSIi0AZmCCuOEZpELDpiq7McO3U_hUhdltH8ciGSf53BsLnsAi6VDP6w56Y_RhP7JkptmTRytB6_JrwQr34ZBfPlGvtwj9b7egeZ0q76srWyHVzNK_92T4wRFTzztlIeCluignUWrz5ObBOZiVrfHJpJ2DlVyz9NpMPYj_tJY-XTB7QqC8w0Guznx9-GxMcAEkFesDYULzWxQKSt-gKECfrEFJhmtPzPUm7Rf1Y9Fm6zjddvhz3lyYyEbZK8kHzpUTCUDAlDxU2upuEVbIv5-BGpyNsrOMG8Ivb1T87fpy7FLuMcz8Z67hwwh-jav9DqNI9_jpqwNuNeImgehSmeA_5CJ_n-4IUQkYnk-LTACH8P-U77n=w1024-h612-no \"Sketch\")\n\n[Sketch](https://www.sketchapp.com/) 設計 UI 的工具，我想他的大名鼎鼎幾乎每位介面設計師都聽過吧。其實我第一次接觸他的契機是因為我需要 “加快” 我的產出速度，為什麼這樣說呢？是設計師的話一定用過 Adobe 的 Illustrator, Photoshop，假設要你設計一個簡單的聯絡人清單介面，用 Adobe 系列做是非常手工的一件事情。但透過 Sketch 大量的外部 plugin 支援，只要引用幾個簡單的 plugin ，就可以快速產出假的聯絡人名稱、假照片、固定的間距(padding)。除此之外，還可以透過 plugin 輸出 spec 給工程師參考，再也不用自己拼命測量、打色碼，告訴工程師要怎麼切版了。為了要在團隊裡同時支撐大量專案的設計，如何在同樣高品質下，提升速度才是能讓自己存活的關鍵。\n\n> 其他類似的工具：[Adobe XD](https://www.adobe.com/tw/products/xd.html)\n\n***\n## Adobe XD\n\n![Adobe XD](https://lh3.googleusercontent.com/oN9oos92ac2EMe_33VCHYJKZpxFT0fE2NwTPMj5LQtPwN0pSFK5VXjktls7Xod7-K4XbRE2ZUXQQ_t6x3Omxl6lKZp3mM8Lpge8YHfHuWTAkodiDHD7zuzGRLm9vfDGzQQLBTehvt1-1hWByIHf8X33vXqer0DQcz-PqYkh_vJ3O4yTbY-XaZGJCY_39VkCUgVD_tMDNMqwK8mkUv_RDFEHK_WHoVrwXYYgvmSS21jTkb8pZdn4XKESnnASPVfodGiSAnPZjVOE_2XBdNMNhbQgXZN7QJMxseCB_erd1NYNb-k3Fox2WG9pxjfj-0zmYB3f1coj1aV9khiz4rlJmGQGjvz2ghfe94OR_gg0rIi4XYfrTKzIW1EjdbzrgHwAxJwyJbVGg_8ZMEd8hYGBYWMeN8p2rCinI9ixu44uZyCUT9hFsFgCmSHgivJhavxdNoPzSwqyMUVTDWccQCaR55IjmKYVtDKhpGmo8jFtxgrRW06ASGP-HCPeFFWcL9x4Ud33O7xugtcGG1GfFivnxD1ZC___vARwrfffz1-M8eTFDrDKAsh4G2bnWmFj4WN4HPHllpcDo4lsx4mjN2KG2aP4mPpJalHdYTxGU_RQkeBxRxP3q7JOtnMTcl8tTwEKhXWl_LJNfkO-70M190n8PFJFtG6J7Laqt=w720-h520-no \"Adobe XD\")\n\n誒～～等等，剛剛不是說你是用 Sketch，[Adobe XD](https://www.adobe.com/tw/products/xd.html) 是相似的工具，那你相似的工具怎麼一次就用了兩款了呢？你以為我這麼愛搞死自己啊～還不是因為兩者的出發利基點不同，各有優缺點，所以只好截長補短囉。用 Sketch 主要還是因為有版控的關係，畢竟是以存活為優先啊。而 XD 的優勢呢主要是在他的 prototype ，可以很直覺的拉一拉，就可以輸出 URL 提供 user 使用測試，不用寫程式也可以先收集反饋，不然等到寫好程式又被打槍設計就會進入輪迴地獄了。但近期 XD 和 Sketch 兩者的功能越來越相像， Sketch 新增了 prototype 功能(但還有些小 bug)，而 XD 也在著手開發 plugin 生態，這兩個目前還是不分軒輊。目前本人還是偏向可搭版控功能的 Sketch 為主，而 XD 為輔的狀態。\n\n> 其他類似的工具：[inVision](https://www.invisionapp.com/)，inVision 除了可以線上做 prototype 之外，還主打模擬過場互動動畫，這款做動畫的威力可說是相當強大，有可能未來會強勢殺出。但目前主要是追求速度的提升，製作互動動畫的部分就沒多重琢磨，可能往後比較有空閒的時間再多加研究。\n\n***\n## 設計工作流\n\n我的設計流程大約是這樣的：\n\n1. 接到需求\n2. 打開版控軟體 Abstract 創立新專案 (既有舊專案則同步檔案至最新)\n3. 用 Abstract 開 new branch\n4. 從 Abstract branch 打開 Sketch 設計 UI\n5. 設計一段落，建立 commit 上 Abstract\n6. 從 Sketch 檔案輸出靜態圖片\n7. 使用 Adobe XD 建立 prototype\n8. 輸出 prototype 網址給使用者測試\n9. 得到使用者回饋後，再決定 Abstract 是否要 merge 此 branch 到 Master 或是繼續新增 commit。最差的可能是全部被打槍，只好從 Master 再另開 branch 來做。\n\n上面的步驟依據使用者回饋多寡做多次的循環至 OK 為止。\n\n以上是我到目前為止採用的 design workflow，提供給大家參考。之後會寫一系列關於 UX, UI 的工具使用技巧或介紹大咖的 design pattern 如何幫助我有效率的產出，敬請期待～","source":"_posts/UXUI/UX-UI-Workflow-Tool-in-2018.md","raw":"---\ntitle: UX/UI Workflow Tool in 2018\ncategories:\n  - UXUI\nthumbnailImage: https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/Ht5ducjpGZIxCwrhATVndjvHuH_-Kz2Tl3a4r071v7j_GHdCDyo5D5myiDer5DZwdhCDWb0ZSgwdusqZsgc3q2GXPXv3I_CGwluVHNyiieve2YsRUy9_-xuJONWJJZ4Fd4gxZAqXh8J57Q811ITlBRHUuA6UJQeM_9cQ52vpmFWXIgM3NBlV0_QcBebviTM6XT3EHucC0Wv4LFpCYffHzM_Aftc_YTG7QVrG5wtBg0ebGhMggyMme6j1kRuxdOI_nvoFpTYxHr58P68R5rcSdXxVXZ0FeYpKaNkmkZ7rNhsL_z3iWI7CxjbSPJD5USGFSS88OdSfp34p9dysnyk8-FJN3COPgxcZh0krE_Yn_pUhAObBn5nWC6WdZzTFCcTHhY4GDsYlsO2OsizYSscRoqCfUaZ_byBLYop2mr4-I2NsOwVTHVMCa3XLZ-bKoEei_GDNuBeSOs6s03lLVgN0-BPnXhqQkRRVSTvg74D1cu65nlDdMEe__a_H8PJxRuxo7kIzuZS2gP7vjwiKkd2bYR705P6P8mWVJf0RTDED3uTtM3it9yvTOa77wiJJtr5Y0h75S5ZrcclHDu6t9WcyFB3yrLuPBNPuieuy10HMhHXBqZqQRX8tyPZaQwNiANFgBQQ1MYs_jXPXnrj5y5-GneVm30LkL5UE=w1024-h683-no\ncoverMeta: out\ntags: [Sketch, Abstract, Adobe XD, UX, UI]\ndate: 2018/09/13\nupdated: 2018/09/13\n---\n\n這篇要和大家分享平時設計 UX/UI 的時候我會用到的工具。以及在一堆爆炸的工作量中，要怎麼運用工具存活下來的故事 XD 。那我們就趕快開始吧。\n\n<!--more-->\n\n這邊主要先介紹平常會用到的 Tool “粗略簡介”，中間會附註其他類似的工具，最後說明我的設計工作流。比較技術性的使用方式要等後續再慢慢出一些專門的文章。\n\n***\n## Abstract\n\n![Abstract](https://lh3.googleusercontent.com/B9jMSu2y8oF5JWE25zqlLeLdnXeFKu8VlAQGjGo7E-naFUVL0Q_svrwfEJc4wfyFGn_YGv7jdo2A8nL_qK2W0_7cy-8rMJZnc3PGERoQ7Yh8yRnxLFw28LW6u_1tqhGYH7cf9nIA5ymIS0-wMQB4jnZ07RdOUVrwhdSMvYhOfdPbs-lBESJPdIfRMA1uJgZt9-moEUPEAHwGV5H9EjDRgACHqJYSj3AVLL05WR3wxW1L0tC2R1bLCH5qfpAwVmD6jiBkwrs1rJEIHYBEMYWT5jPnXTzL1_GF4wo7QRR2hSrucL_88HEz0HPMhl_erd3NbQMykciPwCt9qleYapfcPhFb0IUndhW0YNWZaStiT-e1qK1gqYOtfi7NBuvzX8V9fvT3IyGUXA1R_TZcB0tdYNVe_xFogGYlWFmcs4Kf-M03ffDmIwBe-wAl2FXR2T3dAk0kyBngWTDVgCT7bHzpIeJUQ0wXOgd3G5ULCpnSwGmb-QgXssU3zfGnQPyCZz1YJ4j60m3XXc3D63gcMvVJtec3TzQrhm9z32LeSvtH3xLXftaCJvpu4OAt8qIPN3ccjQZvHVB_wFTcC327qTH8fZzDXc2_76PjyOM5mnRSzYTZWcmyemJiTJZECdSCsCXFh0tAltqbpSlAo5h5lXV7eA6VXf3GJOVf=w1000-h648-no \"Abstract\")\n\n[Abstract](https://www.goabstract.com/) 是針對 Sketch 的版本控制工具。\n\n> “One place to version, manage, and collaborate on your Sketch files.” \n\n就如同使用 git 一般，所有的修改異動都會以 commit 的方式在雲端。再也不用像以往使用 adobe 系列狂複製做檔案備份的動作，使用 Abstract 就可以隨時查看要的版本，設計師再也不用害怕老闆說：“還是第一個版本好”(ＱＱ～心在淌血)。如果多人修改也可以開不同的分支(branch)，最後將確認的版本 merge 到 Master 即可。這簡直是設計師的救星啊～太多專案真的記不清之前做了什麼事，人也是會老的啊～(誤)\n\n> 其他類似的工具：[Plant](https://plantapp.io/), [Kactus](https://kactus.io/)，網路上也有蠻多比較文章，可參考[這篇](https://blog.prototypr.io/abstract-vs-kactus-vs-plant-a-guide-of-version-control-solutions-for-sketch-7da0a8ab5105)\n\n***\n## Sketch\n\n![Sketch](https://lh3.googleusercontent.com/p8yHNZixT2X4KUTqi9yWP37AOStxEdS76FbW7-zGuPezghV337s75z3sUnxU-hqp9Nla_daY9xJMdc7fvGZ1QyiRBdI-Lk_FtvL6N_dIW9Szg__ZILi8MxIHzHtHMUe_8A2ICXIswUVtQlg0id5pP5IN6zoiw6uN10jKR_yofIwlH1Gy7GSlwR1Cwxlr3r-FcvvVg2FTZ5U1oUW-HD013ja9hGRhDhW2dkq0B5TiMtSEiNtWGx1oxIZ6YebTtMguiG2JEfur0Kd0Soerl-1DtKrWUmiwWhTYyU4CCWATsgqWLz1WSIi0AZmCCuOEZpELDpiq7McO3U_hUhdltH8ciGSf53BsLnsAi6VDP6w56Y_RhP7JkptmTRytB6_JrwQr34ZBfPlGvtwj9b7egeZ0q76srWyHVzNK_92T4wRFTzztlIeCluignUWrz5ObBOZiVrfHJpJ2DlVyz9NpMPYj_tJY-XTB7QqC8w0Guznx9-GxMcAEkFesDYULzWxQKSt-gKECfrEFJhmtPzPUm7Rf1Y9Fm6zjddvhz3lyYyEbZK8kHzpUTCUDAlDxU2upuEVbIv5-BGpyNsrOMG8Ivb1T87fpy7FLuMcz8Z67hwwh-jav9DqNI9_jpqwNuNeImgehSmeA_5CJ_n-4IUQkYnk-LTACH8P-U77n=w1024-h612-no \"Sketch\")\n\n[Sketch](https://www.sketchapp.com/) 設計 UI 的工具，我想他的大名鼎鼎幾乎每位介面設計師都聽過吧。其實我第一次接觸他的契機是因為我需要 “加快” 我的產出速度，為什麼這樣說呢？是設計師的話一定用過 Adobe 的 Illustrator, Photoshop，假設要你設計一個簡單的聯絡人清單介面，用 Adobe 系列做是非常手工的一件事情。但透過 Sketch 大量的外部 plugin 支援，只要引用幾個簡單的 plugin ，就可以快速產出假的聯絡人名稱、假照片、固定的間距(padding)。除此之外，還可以透過 plugin 輸出 spec 給工程師參考，再也不用自己拼命測量、打色碼，告訴工程師要怎麼切版了。為了要在團隊裡同時支撐大量專案的設計，如何在同樣高品質下，提升速度才是能讓自己存活的關鍵。\n\n> 其他類似的工具：[Adobe XD](https://www.adobe.com/tw/products/xd.html)\n\n***\n## Adobe XD\n\n![Adobe XD](https://lh3.googleusercontent.com/oN9oos92ac2EMe_33VCHYJKZpxFT0fE2NwTPMj5LQtPwN0pSFK5VXjktls7Xod7-K4XbRE2ZUXQQ_t6x3Omxl6lKZp3mM8Lpge8YHfHuWTAkodiDHD7zuzGRLm9vfDGzQQLBTehvt1-1hWByIHf8X33vXqer0DQcz-PqYkh_vJ3O4yTbY-XaZGJCY_39VkCUgVD_tMDNMqwK8mkUv_RDFEHK_WHoVrwXYYgvmSS21jTkb8pZdn4XKESnnASPVfodGiSAnPZjVOE_2XBdNMNhbQgXZN7QJMxseCB_erd1NYNb-k3Fox2WG9pxjfj-0zmYB3f1coj1aV9khiz4rlJmGQGjvz2ghfe94OR_gg0rIi4XYfrTKzIW1EjdbzrgHwAxJwyJbVGg_8ZMEd8hYGBYWMeN8p2rCinI9ixu44uZyCUT9hFsFgCmSHgivJhavxdNoPzSwqyMUVTDWccQCaR55IjmKYVtDKhpGmo8jFtxgrRW06ASGP-HCPeFFWcL9x4Ud33O7xugtcGG1GfFivnxD1ZC___vARwrfffz1-M8eTFDrDKAsh4G2bnWmFj4WN4HPHllpcDo4lsx4mjN2KG2aP4mPpJalHdYTxGU_RQkeBxRxP3q7JOtnMTcl8tTwEKhXWl_LJNfkO-70M190n8PFJFtG6J7Laqt=w720-h520-no \"Adobe XD\")\n\n誒～～等等，剛剛不是說你是用 Sketch，[Adobe XD](https://www.adobe.com/tw/products/xd.html) 是相似的工具，那你相似的工具怎麼一次就用了兩款了呢？你以為我這麼愛搞死自己啊～還不是因為兩者的出發利基點不同，各有優缺點，所以只好截長補短囉。用 Sketch 主要還是因為有版控的關係，畢竟是以存活為優先啊。而 XD 的優勢呢主要是在他的 prototype ，可以很直覺的拉一拉，就可以輸出 URL 提供 user 使用測試，不用寫程式也可以先收集反饋，不然等到寫好程式又被打槍設計就會進入輪迴地獄了。但近期 XD 和 Sketch 兩者的功能越來越相像， Sketch 新增了 prototype 功能(但還有些小 bug)，而 XD 也在著手開發 plugin 生態，這兩個目前還是不分軒輊。目前本人還是偏向可搭版控功能的 Sketch 為主，而 XD 為輔的狀態。\n\n> 其他類似的工具：[inVision](https://www.invisionapp.com/)，inVision 除了可以線上做 prototype 之外，還主打模擬過場互動動畫，這款做動畫的威力可說是相當強大，有可能未來會強勢殺出。但目前主要是追求速度的提升，製作互動動畫的部分就沒多重琢磨，可能往後比較有空閒的時間再多加研究。\n\n***\n## 設計工作流\n\n我的設計流程大約是這樣的：\n\n1. 接到需求\n2. 打開版控軟體 Abstract 創立新專案 (既有舊專案則同步檔案至最新)\n3. 用 Abstract 開 new branch\n4. 從 Abstract branch 打開 Sketch 設計 UI\n5. 設計一段落，建立 commit 上 Abstract\n6. 從 Sketch 檔案輸出靜態圖片\n7. 使用 Adobe XD 建立 prototype\n8. 輸出 prototype 網址給使用者測試\n9. 得到使用者回饋後，再決定 Abstract 是否要 merge 此 branch 到 Master 或是繼續新增 commit。最差的可能是全部被打槍，只好從 Master 再另開 branch 來做。\n\n上面的步驟依據使用者回饋多寡做多次的循環至 OK 為止。\n\n以上是我到目前為止採用的 design workflow，提供給大家參考。之後會寫一系列關於 UX, UI 的工具使用技巧或介紹大咖的 design pattern 如何幫助我有效率的產出，敬請期待～","slug":"UXUI/UX-UI-Workflow-Tool-in-2018","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rt003or3y7b4u46d1u","content":"<p>這篇要和大家分享平時設計 UX&#x2F;UI 的時候我會用到的工具。以及在一堆爆炸的工作量中，要怎麼運用工具存活下來的故事 XD 。那我們就趕快開始吧。</p>\n<span id=\"more\"></span>\n\n<p>這邊主要先介紹平常會用到的 Tool “粗略簡介”，中間會附註其他類似的工具，最後說明我的設計工作流。比較技術性的使用方式要等後續再慢慢出一些專門的文章。</p>\n<hr>\n<h2 id=\"Abstract\"><a href=\"#Abstract\" class=\"headerlink\" title=\"Abstract\"></a>Abstract</h2><p><img src=\"https://lh3.googleusercontent.com/B9jMSu2y8oF5JWE25zqlLeLdnXeFKu8VlAQGjGo7E-naFUVL0Q_svrwfEJc4wfyFGn_YGv7jdo2A8nL_qK2W0_7cy-8rMJZnc3PGERoQ7Yh8yRnxLFw28LW6u_1tqhGYH7cf9nIA5ymIS0-wMQB4jnZ07RdOUVrwhdSMvYhOfdPbs-lBESJPdIfRMA1uJgZt9-moEUPEAHwGV5H9EjDRgACHqJYSj3AVLL05WR3wxW1L0tC2R1bLCH5qfpAwVmD6jiBkwrs1rJEIHYBEMYWT5jPnXTzL1_GF4wo7QRR2hSrucL_88HEz0HPMhl_erd3NbQMykciPwCt9qleYapfcPhFb0IUndhW0YNWZaStiT-e1qK1gqYOtfi7NBuvzX8V9fvT3IyGUXA1R_TZcB0tdYNVe_xFogGYlWFmcs4Kf-M03ffDmIwBe-wAl2FXR2T3dAk0kyBngWTDVgCT7bHzpIeJUQ0wXOgd3G5ULCpnSwGmb-QgXssU3zfGnQPyCZz1YJ4j60m3XXc3D63gcMvVJtec3TzQrhm9z32LeSvtH3xLXftaCJvpu4OAt8qIPN3ccjQZvHVB_wFTcC327qTH8fZzDXc2_76PjyOM5mnRSzYTZWcmyemJiTJZECdSCsCXFh0tAltqbpSlAo5h5lXV7eA6VXf3GJOVf=w1000-h648-no\" alt=\"Abstract\" title=\"Abstract\"></p>\n<p><a href=\"https://www.goabstract.com/\">Abstract</a> 是針對 Sketch 的版本控制工具。</p>\n<blockquote>\n<p>“One place to version, manage, and collaborate on your Sketch files.” </p>\n</blockquote>\n<p>就如同使用 git 一般，所有的修改異動都會以 commit 的方式在雲端。再也不用像以往使用 adobe 系列狂複製做檔案備份的動作，使用 Abstract 就可以隨時查看要的版本，設計師再也不用害怕老闆說：“還是第一個版本好”(ＱＱ～心在淌血)。如果多人修改也可以開不同的分支(branch)，最後將確認的版本 merge 到 Master 即可。這簡直是設計師的救星啊～太多專案真的記不清之前做了什麼事，人也是會老的啊～(誤)</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://plantapp.io/\">Plant</a>, <a href=\"https://kactus.io/\">Kactus</a>，網路上也有蠻多比較文章，可參考<a href=\"https://blog.prototypr.io/abstract-vs-kactus-vs-plant-a-guide-of-version-control-solutions-for-sketch-7da0a8ab5105\">這篇</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Sketch\"><a href=\"#Sketch\" class=\"headerlink\" title=\"Sketch\"></a>Sketch</h2><p><img src=\"https://lh3.googleusercontent.com/p8yHNZixT2X4KUTqi9yWP37AOStxEdS76FbW7-zGuPezghV337s75z3sUnxU-hqp9Nla_daY9xJMdc7fvGZ1QyiRBdI-Lk_FtvL6N_dIW9Szg__ZILi8MxIHzHtHMUe_8A2ICXIswUVtQlg0id5pP5IN6zoiw6uN10jKR_yofIwlH1Gy7GSlwR1Cwxlr3r-FcvvVg2FTZ5U1oUW-HD013ja9hGRhDhW2dkq0B5TiMtSEiNtWGx1oxIZ6YebTtMguiG2JEfur0Kd0Soerl-1DtKrWUmiwWhTYyU4CCWATsgqWLz1WSIi0AZmCCuOEZpELDpiq7McO3U_hUhdltH8ciGSf53BsLnsAi6VDP6w56Y_RhP7JkptmTRytB6_JrwQr34ZBfPlGvtwj9b7egeZ0q76srWyHVzNK_92T4wRFTzztlIeCluignUWrz5ObBOZiVrfHJpJ2DlVyz9NpMPYj_tJY-XTB7QqC8w0Guznx9-GxMcAEkFesDYULzWxQKSt-gKECfrEFJhmtPzPUm7Rf1Y9Fm6zjddvhz3lyYyEbZK8kHzpUTCUDAlDxU2upuEVbIv5-BGpyNsrOMG8Ivb1T87fpy7FLuMcz8Z67hwwh-jav9DqNI9_jpqwNuNeImgehSmeA_5CJ_n-4IUQkYnk-LTACH8P-U77n=w1024-h612-no\" alt=\"Sketch\" title=\"Sketch\"></p>\n<p><a href=\"https://www.sketchapp.com/\">Sketch</a> 設計 UI 的工具，我想他的大名鼎鼎幾乎每位介面設計師都聽過吧。其實我第一次接觸他的契機是因為我需要 “加快” 我的產出速度，為什麼這樣說呢？是設計師的話一定用過 Adobe 的 Illustrator, Photoshop，假設要你設計一個簡單的聯絡人清單介面，用 Adobe 系列做是非常手工的一件事情。但透過 Sketch 大量的外部 plugin 支援，只要引用幾個簡單的 plugin ，就可以快速產出假的聯絡人名稱、假照片、固定的間距(padding)。除此之外，還可以透過 plugin 輸出 spec 給工程師參考，再也不用自己拼命測量、打色碼，告訴工程師要怎麼切版了。為了要在團隊裡同時支撐大量專案的設計，如何在同樣高品質下，提升速度才是能讓自己存活的關鍵。</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://www.adobe.com/tw/products/xd.html\">Adobe XD</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Adobe-XD\"><a href=\"#Adobe-XD\" class=\"headerlink\" title=\"Adobe XD\"></a>Adobe XD</h2><p><img src=\"https://lh3.googleusercontent.com/oN9oos92ac2EMe_33VCHYJKZpxFT0fE2NwTPMj5LQtPwN0pSFK5VXjktls7Xod7-K4XbRE2ZUXQQ_t6x3Omxl6lKZp3mM8Lpge8YHfHuWTAkodiDHD7zuzGRLm9vfDGzQQLBTehvt1-1hWByIHf8X33vXqer0DQcz-PqYkh_vJ3O4yTbY-XaZGJCY_39VkCUgVD_tMDNMqwK8mkUv_RDFEHK_WHoVrwXYYgvmSS21jTkb8pZdn4XKESnnASPVfodGiSAnPZjVOE_2XBdNMNhbQgXZN7QJMxseCB_erd1NYNb-k3Fox2WG9pxjfj-0zmYB3f1coj1aV9khiz4rlJmGQGjvz2ghfe94OR_gg0rIi4XYfrTKzIW1EjdbzrgHwAxJwyJbVGg_8ZMEd8hYGBYWMeN8p2rCinI9ixu44uZyCUT9hFsFgCmSHgivJhavxdNoPzSwqyMUVTDWccQCaR55IjmKYVtDKhpGmo8jFtxgrRW06ASGP-HCPeFFWcL9x4Ud33O7xugtcGG1GfFivnxD1ZC___vARwrfffz1-M8eTFDrDKAsh4G2bnWmFj4WN4HPHllpcDo4lsx4mjN2KG2aP4mPpJalHdYTxGU_RQkeBxRxP3q7JOtnMTcl8tTwEKhXWl_LJNfkO-70M190n8PFJFtG6J7Laqt=w720-h520-no\" alt=\"Adobe XD\" title=\"Adobe XD\"></p>\n<p>誒～～等等，剛剛不是說你是用 Sketch，<a href=\"https://www.adobe.com/tw/products/xd.html\">Adobe XD</a> 是相似的工具，那你相似的工具怎麼一次就用了兩款了呢？你以為我這麼愛搞死自己啊～還不是因為兩者的出發利基點不同，各有優缺點，所以只好截長補短囉。用 Sketch 主要還是因為有版控的關係，畢竟是以存活為優先啊。而 XD 的優勢呢主要是在他的 prototype ，可以很直覺的拉一拉，就可以輸出 URL 提供 user 使用測試，不用寫程式也可以先收集反饋，不然等到寫好程式又被打槍設計就會進入輪迴地獄了。但近期 XD 和 Sketch 兩者的功能越來越相像， Sketch 新增了 prototype 功能(但還有些小 bug)，而 XD 也在著手開發 plugin 生態，這兩個目前還是不分軒輊。目前本人還是偏向可搭版控功能的 Sketch 為主，而 XD 為輔的狀態。</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://www.invisionapp.com/\">inVision</a>，inVision 除了可以線上做 prototype 之外，還主打模擬過場互動動畫，這款做動畫的威力可說是相當強大，有可能未來會強勢殺出。但目前主要是追求速度的提升，製作互動動畫的部分就沒多重琢磨，可能往後比較有空閒的時間再多加研究。</p>\n</blockquote>\n<hr>\n<h2 id=\"設計工作流\"><a href=\"#設計工作流\" class=\"headerlink\" title=\"設計工作流\"></a>設計工作流</h2><p>我的設計流程大約是這樣的：</p>\n<ol>\n<li>接到需求</li>\n<li>打開版控軟體 Abstract 創立新專案 (既有舊專案則同步檔案至最新)</li>\n<li>用 Abstract 開 new branch</li>\n<li>從 Abstract branch 打開 Sketch 設計 UI</li>\n<li>設計一段落，建立 commit 上 Abstract</li>\n<li>從 Sketch 檔案輸出靜態圖片</li>\n<li>使用 Adobe XD 建立 prototype</li>\n<li>輸出 prototype 網址給使用者測試</li>\n<li>得到使用者回饋後，再決定 Abstract 是否要 merge 此 branch 到 Master 或是繼續新增 commit。最差的可能是全部被打槍，只好從 Master 再另開 branch 來做。</li>\n</ol>\n<p>上面的步驟依據使用者回饋多寡做多次的循環至 OK 為止。</p>\n<p>以上是我到目前為止採用的 design workflow，提供給大家參考。之後會寫一系列關於 UX, UI 的工具使用技巧或介紹大咖的 design pattern 如何幫助我有效率的產出，敬請期待～</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/15TevdlU0UA0DHjDXR8IFLjUteZ4XGxRObDpCwsIumenN6CLFYQFRcoJnS_6xYGMmbUFHxpqlXp25FcRXorD83F2vgEoldt2orwKDe1_QGMpNRhvu0KtXQ1KxuXUV7GTUSCOn4GXJMj8lCETJtDBXcyl6bi_snLs80aQJu-mSbdzJ-Bj3D_0DpmVrnfS_KyUD7I-RnQZ5FOzarAYJmXYpwjBXGZkGNc1CtiSJ1OAQPCXFsOIj0Wnw8Bpq8z0ysUDOZXt6ZWoC74yspZm10_zGEUyjm5axY0SDCxxwPcdJ_GIhoz90_L9wqRjz1NLVOBgPsDmQwWKzCd4o-M-VgjflYccFA45jcNEr5vV5Pce3JKqX9gJFIL-qVW9J5Y_qjMBZdOr7M3YWveJeo8daOKrF1CIGuInKckICK5-K4h52V_CpV_1jEPEDRfI5OGnX4AfFPnntVRmP3y8raD5ajnxgnFAj3bVmaC4XSDO9ZLJd-soMaaTqa-URYTv4WjGJZGpM-XP2MYrMVyQyafCzc90XKuxo3stdk7qL9-Hua-AQi5S5iVLacJz8LSTRqGcy8vXu_vIG8YHLOCAQAQO3pXJxcwu33BlttXskTLk-b8j2MvYr1OM25EW35MThuYOQNimlGLn7P7f5sphQiTt-aNT0mj-HrD_xE05=s250-no","excerpt":"<p>這篇要和大家分享平時設計 UX&#x2F;UI 的時候我會用到的工具。以及在一堆爆炸的工作量中，要怎麼運用工具存活下來的故事 XD 。那我們就趕快開始吧。</p>","more":"<p>這邊主要先介紹平常會用到的 Tool “粗略簡介”，中間會附註其他類似的工具，最後說明我的設計工作流。比較技術性的使用方式要等後續再慢慢出一些專門的文章。</p>\n<hr>\n<h2 id=\"Abstract\"><a href=\"#Abstract\" class=\"headerlink\" title=\"Abstract\"></a>Abstract</h2><p><img src=\"https://lh3.googleusercontent.com/B9jMSu2y8oF5JWE25zqlLeLdnXeFKu8VlAQGjGo7E-naFUVL0Q_svrwfEJc4wfyFGn_YGv7jdo2A8nL_qK2W0_7cy-8rMJZnc3PGERoQ7Yh8yRnxLFw28LW6u_1tqhGYH7cf9nIA5ymIS0-wMQB4jnZ07RdOUVrwhdSMvYhOfdPbs-lBESJPdIfRMA1uJgZt9-moEUPEAHwGV5H9EjDRgACHqJYSj3AVLL05WR3wxW1L0tC2R1bLCH5qfpAwVmD6jiBkwrs1rJEIHYBEMYWT5jPnXTzL1_GF4wo7QRR2hSrucL_88HEz0HPMhl_erd3NbQMykciPwCt9qleYapfcPhFb0IUndhW0YNWZaStiT-e1qK1gqYOtfi7NBuvzX8V9fvT3IyGUXA1R_TZcB0tdYNVe_xFogGYlWFmcs4Kf-M03ffDmIwBe-wAl2FXR2T3dAk0kyBngWTDVgCT7bHzpIeJUQ0wXOgd3G5ULCpnSwGmb-QgXssU3zfGnQPyCZz1YJ4j60m3XXc3D63gcMvVJtec3TzQrhm9z32LeSvtH3xLXftaCJvpu4OAt8qIPN3ccjQZvHVB_wFTcC327qTH8fZzDXc2_76PjyOM5mnRSzYTZWcmyemJiTJZECdSCsCXFh0tAltqbpSlAo5h5lXV7eA6VXf3GJOVf=w1000-h648-no\" alt=\"Abstract\" title=\"Abstract\"></p>\n<p><a href=\"https://www.goabstract.com/\">Abstract</a> 是針對 Sketch 的版本控制工具。</p>\n<blockquote>\n<p>“One place to version, manage, and collaborate on your Sketch files.” </p>\n</blockquote>\n<p>就如同使用 git 一般，所有的修改異動都會以 commit 的方式在雲端。再也不用像以往使用 adobe 系列狂複製做檔案備份的動作，使用 Abstract 就可以隨時查看要的版本，設計師再也不用害怕老闆說：“還是第一個版本好”(ＱＱ～心在淌血)。如果多人修改也可以開不同的分支(branch)，最後將確認的版本 merge 到 Master 即可。這簡直是設計師的救星啊～太多專案真的記不清之前做了什麼事，人也是會老的啊～(誤)</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://plantapp.io/\">Plant</a>, <a href=\"https://kactus.io/\">Kactus</a>，網路上也有蠻多比較文章，可參考<a href=\"https://blog.prototypr.io/abstract-vs-kactus-vs-plant-a-guide-of-version-control-solutions-for-sketch-7da0a8ab5105\">這篇</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Sketch\"><a href=\"#Sketch\" class=\"headerlink\" title=\"Sketch\"></a>Sketch</h2><p><img src=\"https://lh3.googleusercontent.com/p8yHNZixT2X4KUTqi9yWP37AOStxEdS76FbW7-zGuPezghV337s75z3sUnxU-hqp9Nla_daY9xJMdc7fvGZ1QyiRBdI-Lk_FtvL6N_dIW9Szg__ZILi8MxIHzHtHMUe_8A2ICXIswUVtQlg0id5pP5IN6zoiw6uN10jKR_yofIwlH1Gy7GSlwR1Cwxlr3r-FcvvVg2FTZ5U1oUW-HD013ja9hGRhDhW2dkq0B5TiMtSEiNtWGx1oxIZ6YebTtMguiG2JEfur0Kd0Soerl-1DtKrWUmiwWhTYyU4CCWATsgqWLz1WSIi0AZmCCuOEZpELDpiq7McO3U_hUhdltH8ciGSf53BsLnsAi6VDP6w56Y_RhP7JkptmTRytB6_JrwQr34ZBfPlGvtwj9b7egeZ0q76srWyHVzNK_92T4wRFTzztlIeCluignUWrz5ObBOZiVrfHJpJ2DlVyz9NpMPYj_tJY-XTB7QqC8w0Guznx9-GxMcAEkFesDYULzWxQKSt-gKECfrEFJhmtPzPUm7Rf1Y9Fm6zjddvhz3lyYyEbZK8kHzpUTCUDAlDxU2upuEVbIv5-BGpyNsrOMG8Ivb1T87fpy7FLuMcz8Z67hwwh-jav9DqNI9_jpqwNuNeImgehSmeA_5CJ_n-4IUQkYnk-LTACH8P-U77n=w1024-h612-no\" alt=\"Sketch\" title=\"Sketch\"></p>\n<p><a href=\"https://www.sketchapp.com/\">Sketch</a> 設計 UI 的工具，我想他的大名鼎鼎幾乎每位介面設計師都聽過吧。其實我第一次接觸他的契機是因為我需要 “加快” 我的產出速度，為什麼這樣說呢？是設計師的話一定用過 Adobe 的 Illustrator, Photoshop，假設要你設計一個簡單的聯絡人清單介面，用 Adobe 系列做是非常手工的一件事情。但透過 Sketch 大量的外部 plugin 支援，只要引用幾個簡單的 plugin ，就可以快速產出假的聯絡人名稱、假照片、固定的間距(padding)。除此之外，還可以透過 plugin 輸出 spec 給工程師參考，再也不用自己拼命測量、打色碼，告訴工程師要怎麼切版了。為了要在團隊裡同時支撐大量專案的設計，如何在同樣高品質下，提升速度才是能讓自己存活的關鍵。</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://www.adobe.com/tw/products/xd.html\">Adobe XD</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Adobe-XD\"><a href=\"#Adobe-XD\" class=\"headerlink\" title=\"Adobe XD\"></a>Adobe XD</h2><p><img src=\"https://lh3.googleusercontent.com/oN9oos92ac2EMe_33VCHYJKZpxFT0fE2NwTPMj5LQtPwN0pSFK5VXjktls7Xod7-K4XbRE2ZUXQQ_t6x3Omxl6lKZp3mM8Lpge8YHfHuWTAkodiDHD7zuzGRLm9vfDGzQQLBTehvt1-1hWByIHf8X33vXqer0DQcz-PqYkh_vJ3O4yTbY-XaZGJCY_39VkCUgVD_tMDNMqwK8mkUv_RDFEHK_WHoVrwXYYgvmSS21jTkb8pZdn4XKESnnASPVfodGiSAnPZjVOE_2XBdNMNhbQgXZN7QJMxseCB_erd1NYNb-k3Fox2WG9pxjfj-0zmYB3f1coj1aV9khiz4rlJmGQGjvz2ghfe94OR_gg0rIi4XYfrTKzIW1EjdbzrgHwAxJwyJbVGg_8ZMEd8hYGBYWMeN8p2rCinI9ixu44uZyCUT9hFsFgCmSHgivJhavxdNoPzSwqyMUVTDWccQCaR55IjmKYVtDKhpGmo8jFtxgrRW06ASGP-HCPeFFWcL9x4Ud33O7xugtcGG1GfFivnxD1ZC___vARwrfffz1-M8eTFDrDKAsh4G2bnWmFj4WN4HPHllpcDo4lsx4mjN2KG2aP4mPpJalHdYTxGU_RQkeBxRxP3q7JOtnMTcl8tTwEKhXWl_LJNfkO-70M190n8PFJFtG6J7Laqt=w720-h520-no\" alt=\"Adobe XD\" title=\"Adobe XD\"></p>\n<p>誒～～等等，剛剛不是說你是用 Sketch，<a href=\"https://www.adobe.com/tw/products/xd.html\">Adobe XD</a> 是相似的工具，那你相似的工具怎麼一次就用了兩款了呢？你以為我這麼愛搞死自己啊～還不是因為兩者的出發利基點不同，各有優缺點，所以只好截長補短囉。用 Sketch 主要還是因為有版控的關係，畢竟是以存活為優先啊。而 XD 的優勢呢主要是在他的 prototype ，可以很直覺的拉一拉，就可以輸出 URL 提供 user 使用測試，不用寫程式也可以先收集反饋，不然等到寫好程式又被打槍設計就會進入輪迴地獄了。但近期 XD 和 Sketch 兩者的功能越來越相像， Sketch 新增了 prototype 功能(但還有些小 bug)，而 XD 也在著手開發 plugin 生態，這兩個目前還是不分軒輊。目前本人還是偏向可搭版控功能的 Sketch 為主，而 XD 為輔的狀態。</p>\n<blockquote>\n<p>其他類似的工具：<a href=\"https://www.invisionapp.com/\">inVision</a>，inVision 除了可以線上做 prototype 之外，還主打模擬過場互動動畫，這款做動畫的威力可說是相當強大，有可能未來會強勢殺出。但目前主要是追求速度的提升，製作互動動畫的部分就沒多重琢磨，可能往後比較有空閒的時間再多加研究。</p>\n</blockquote>\n<hr>\n<h2 id=\"設計工作流\"><a href=\"#設計工作流\" class=\"headerlink\" title=\"設計工作流\"></a>設計工作流</h2><p>我的設計流程大約是這樣的：</p>\n<ol>\n<li>接到需求</li>\n<li>打開版控軟體 Abstract 創立新專案 (既有舊專案則同步檔案至最新)</li>\n<li>用 Abstract 開 new branch</li>\n<li>從 Abstract branch 打開 Sketch 設計 UI</li>\n<li>設計一段落，建立 commit 上 Abstract</li>\n<li>從 Sketch 檔案輸出靜態圖片</li>\n<li>使用 Adobe XD 建立 prototype</li>\n<li>輸出 prototype 網址給使用者測試</li>\n<li>得到使用者回饋後，再決定 Abstract 是否要 merge 此 branch 到 Master 或是繼續新增 commit。最差的可能是全部被打槍，只好從 Master 再另開 branch 來做。</li>\n</ol>\n<p>上面的步驟依據使用者回饋多寡做多次的循環至 OK 為止。</p>\n<p>以上是我到目前為止採用的 design workflow，提供給大家參考。之後會寫一系列關於 UX, UI 的工具使用技巧或介紹大咖的 design pattern 如何幫助我有效率的產出，敬請期待～</p>"},{"title":"Vue 3 Studies - Fundamentals of Reactivity","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2020-09-05T16:00:00.000Z","updated":"2020-09-05T16:00:00.000Z","_content":"\n因為官方的資源部分要付費，所以去 YouTube 找了一些可延伸學習的內容來看看。這次找到關於 Reactivity 更深入一點的用法。\n\n<!--more-->\n\n影片網址： https://youtu.be/BFav9Z4lEXE\n\n# Reactive vs Ref\n\nReactive: 當要把 object 做 react 就要用 reactive。\nRef: 當要把一個固定值(string, number, Boolean)做 react 就要用 ref。\n\n![Reactive vs Ref](https://lh3.googleusercontent.com/pw/ACtC-3f9TGipvzquxjvxI4luLhEiwEQOHFINsSU0JBVe6lmsQ_tj6c9htZHUpytUQNIRO-bTeqi5n063fjPfUZkjSYzbdozr8h4lq5xyzujQP0wnjKSaAwxzyBifPbP40gaTwWhKvQ-oFa0GNmzGpNwrAzwUFw=w1708-h1280-no?authuser=0)\n\n![Reactive vs Ref](https://lh3.googleusercontent.com/pw/ACtC-3dGNEEZbcywl457ZwacIOrmOjXGiTTszssScBXncRXAQMgISrmEMIsAi99z-dbcOtoBxIS4DYMfgp8xa4rklkteHbhgEr8uZ_fcRbvEDlc3o9MPqYOTTWVJOtJ8r8WVblWNCwOxGULP3yD22jMklfISoA=w1708-h1280-no?authuser=0)\n\n# toRef vs toRefs\n\n使用 toRef 函數可以把 reactive obj 內的屬性轉成單一 ref 值，如下圖。\n\n![toRef](https://lh3.googleusercontent.com/pw/ACtC-3fa7SA3W5EooXb7fyuHRhu-q3R0rs4YRIbQKfvujfw31hi_DYy53YlBtGVLLGaU1BzP06tol8bYgdDlQgjixZ5phUTG3F0rpwCA6UVw1Pzy7kzxLn1UsOSgqboJr3UTN8aJdzFHTFDvoAsIYcvD0lsLlQ=w1708-h1280-no?authuser=0s)\n\n若使用 toRefs 函數可以拿來對 props 或 object 做全部屬性各自轉成單一 ref 值。\n\n![toRefs](https://lh3.googleusercontent.com/pw/ACtC-3ePW0Ue26Rz0s066lV_xvoe5bDY0coYqtFgvABsB6DTFmJW4mABNRaqHDJjbWKJmRoyLBZpEdeX-sYxtVNzDEv3w6HCfHTB0bO4ML5HiL6FIqfjjNPOmY_Sav7WbHLJDwihsN1D7KtiPZ0exmA4FRhNGA=w1708-h1280-no?authuser=0)\n\n# customRef\n\nVue 3 可以客製化自己的 ref 函數。透過 customRef 方式如下圖。\n\n![customRef](https://lh3.googleusercontent.com/pw/ACtC-3fGZfKqFoItRF56u3f5y835b_QbUczl4qWyS_BuQ2R9RY6itEOdwR_aRpylzx7b8XX-7bVYtQUP2OIizKTDiiFgY6kyguiPU7_QNoiUvXSzpbknpOxA32vKhOVYHDLWXp87LFpSatCdr2q30X_Lst-1FA=w1708-h1280-no?authuser=0)\n\n影片中透過 email 格式判別的範例來說明 customRef的用法。當email 格式不含 @ 顯示 null，反之顯示正確的 email值。\n\n![customRef](https://lh3.googleusercontent.com/pw/ACtC-3dxClU0KBmATmDQoSDedboOvyBh7APXsyAHkO7bcG5SExT0MbXemVjRXZM6o5JQs7xEydtISGtxj4y9oX-9v5fzb2opBvB6Dzar_m9Uv6_gJvl-9Ctp4SFzbJELzrAsr1MLsemoPfLtK0qZbfjIoyiKdA=w1708-h1280-no?authuser=0)\n\ncustomRef 未來應該還能做更多的應用，例如時區格式轉換等等，應該會更為簡化程式邏輯，非常期待往後能在專案使用。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Fundamentals of Reactivity](https://youtu.be/BFav9Z4lEXE)","source":"_posts/Vue/Vue-3-Studies-Fundamentals-of-Reactivity.md","raw":"---\ntitle: Vue 3 Studies - Fundamentals of Reactivity\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2020/09/06\nupdated: 2020/09/06\n---\n\n因為官方的資源部分要付費，所以去 YouTube 找了一些可延伸學習的內容來看看。這次找到關於 Reactivity 更深入一點的用法。\n\n<!--more-->\n\n影片網址： https://youtu.be/BFav9Z4lEXE\n\n# Reactive vs Ref\n\nReactive: 當要把 object 做 react 就要用 reactive。\nRef: 當要把一個固定值(string, number, Boolean)做 react 就要用 ref。\n\n![Reactive vs Ref](https://lh3.googleusercontent.com/pw/ACtC-3f9TGipvzquxjvxI4luLhEiwEQOHFINsSU0JBVe6lmsQ_tj6c9htZHUpytUQNIRO-bTeqi5n063fjPfUZkjSYzbdozr8h4lq5xyzujQP0wnjKSaAwxzyBifPbP40gaTwWhKvQ-oFa0GNmzGpNwrAzwUFw=w1708-h1280-no?authuser=0)\n\n![Reactive vs Ref](https://lh3.googleusercontent.com/pw/ACtC-3dGNEEZbcywl457ZwacIOrmOjXGiTTszssScBXncRXAQMgISrmEMIsAi99z-dbcOtoBxIS4DYMfgp8xa4rklkteHbhgEr8uZ_fcRbvEDlc3o9MPqYOTTWVJOtJ8r8WVblWNCwOxGULP3yD22jMklfISoA=w1708-h1280-no?authuser=0)\n\n# toRef vs toRefs\n\n使用 toRef 函數可以把 reactive obj 內的屬性轉成單一 ref 值，如下圖。\n\n![toRef](https://lh3.googleusercontent.com/pw/ACtC-3fa7SA3W5EooXb7fyuHRhu-q3R0rs4YRIbQKfvujfw31hi_DYy53YlBtGVLLGaU1BzP06tol8bYgdDlQgjixZ5phUTG3F0rpwCA6UVw1Pzy7kzxLn1UsOSgqboJr3UTN8aJdzFHTFDvoAsIYcvD0lsLlQ=w1708-h1280-no?authuser=0s)\n\n若使用 toRefs 函數可以拿來對 props 或 object 做全部屬性各自轉成單一 ref 值。\n\n![toRefs](https://lh3.googleusercontent.com/pw/ACtC-3ePW0Ue26Rz0s066lV_xvoe5bDY0coYqtFgvABsB6DTFmJW4mABNRaqHDJjbWKJmRoyLBZpEdeX-sYxtVNzDEv3w6HCfHTB0bO4ML5HiL6FIqfjjNPOmY_Sav7WbHLJDwihsN1D7KtiPZ0exmA4FRhNGA=w1708-h1280-no?authuser=0)\n\n# customRef\n\nVue 3 可以客製化自己的 ref 函數。透過 customRef 方式如下圖。\n\n![customRef](https://lh3.googleusercontent.com/pw/ACtC-3fGZfKqFoItRF56u3f5y835b_QbUczl4qWyS_BuQ2R9RY6itEOdwR_aRpylzx7b8XX-7bVYtQUP2OIizKTDiiFgY6kyguiPU7_QNoiUvXSzpbknpOxA32vKhOVYHDLWXp87LFpSatCdr2q30X_Lst-1FA=w1708-h1280-no?authuser=0)\n\n影片中透過 email 格式判別的範例來說明 customRef的用法。當email 格式不含 @ 顯示 null，反之顯示正確的 email值。\n\n![customRef](https://lh3.googleusercontent.com/pw/ACtC-3dxClU0KBmATmDQoSDedboOvyBh7APXsyAHkO7bcG5SExT0MbXemVjRXZM6o5JQs7xEydtISGtxj4y9oX-9v5fzb2opBvB6Dzar_m9Uv6_gJvl-9Ctp4SFzbJELzrAsr1MLsemoPfLtK0qZbfjIoyiKdA=w1708-h1280-no?authuser=0)\n\ncustomRef 未來應該還能做更多的應用，例如時區格式轉換等等，應該會更為簡化程式邏輯，非常期待往後能在專案使用。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Fundamentals of Reactivity](https://youtu.be/BFav9Z4lEXE)","slug":"Vue/Vue-3-Studies-Fundamentals-of-Reactivity","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rv003sr3y7e66l2jog","content":"<p>因為官方的資源部分要付費，所以去 YouTube 找了一些可延伸學習的內容來看看。這次找到關於 Reactivity 更深入一點的用法。</p>\n<span id=\"more\"></span>\n\n<p>影片網址： <a href=\"https://youtu.be/BFav9Z4lEXE\">https://youtu.be/BFav9Z4lEXE</a></p>\n<h1 id=\"Reactive-vs-Ref\"><a href=\"#Reactive-vs-Ref\" class=\"headerlink\" title=\"Reactive vs Ref\"></a>Reactive vs Ref</h1><p>Reactive: 當要把 object 做 react 就要用 reactive。<br>Ref: 當要把一個固定值(string, number, Boolean)做 react 就要用 ref。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3f9TGipvzquxjvxI4luLhEiwEQOHFINsSU0JBVe6lmsQ_tj6c9htZHUpytUQNIRO-bTeqi5n063fjPfUZkjSYzbdozr8h4lq5xyzujQP0wnjKSaAwxzyBifPbP40gaTwWhKvQ-oFa0GNmzGpNwrAzwUFw=w1708-h1280-no?authuser=0\" alt=\"Reactive vs Ref\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dGNEEZbcywl457ZwacIOrmOjXGiTTszssScBXncRXAQMgISrmEMIsAi99z-dbcOtoBxIS4DYMfgp8xa4rklkteHbhgEr8uZ_fcRbvEDlc3o9MPqYOTTWVJOtJ8r8WVblWNCwOxGULP3yD22jMklfISoA=w1708-h1280-no?authuser=0\" alt=\"Reactive vs Ref\"></p>\n<h1 id=\"toRef-vs-toRefs\"><a href=\"#toRef-vs-toRefs\" class=\"headerlink\" title=\"toRef vs toRefs\"></a>toRef vs toRefs</h1><p>使用 toRef 函數可以把 reactive obj 內的屬性轉成單一 ref 值，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fa7SA3W5EooXb7fyuHRhu-q3R0rs4YRIbQKfvujfw31hi_DYy53YlBtGVLLGaU1BzP06tol8bYgdDlQgjixZ5phUTG3F0rpwCA6UVw1Pzy7kzxLn1UsOSgqboJr3UTN8aJdzFHTFDvoAsIYcvD0lsLlQ=w1708-h1280-no?authuser=0s\" alt=\"toRef\"></p>\n<p>若使用 toRefs 函數可以拿來對 props 或 object 做全部屬性各自轉成單一 ref 值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ePW0Ue26Rz0s066lV_xvoe5bDY0coYqtFgvABsB6DTFmJW4mABNRaqHDJjbWKJmRoyLBZpEdeX-sYxtVNzDEv3w6HCfHTB0bO4ML5HiL6FIqfjjNPOmY_Sav7WbHLJDwihsN1D7KtiPZ0exmA4FRhNGA=w1708-h1280-no?authuser=0\" alt=\"toRefs\"></p>\n<h1 id=\"customRef\"><a href=\"#customRef\" class=\"headerlink\" title=\"customRef\"></a>customRef</h1><p>Vue 3 可以客製化自己的 ref 函數。透過 customRef 方式如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fGZfKqFoItRF56u3f5y835b_QbUczl4qWyS_BuQ2R9RY6itEOdwR_aRpylzx7b8XX-7bVYtQUP2OIizKTDiiFgY6kyguiPU7_QNoiUvXSzpbknpOxA32vKhOVYHDLWXp87LFpSatCdr2q30X_Lst-1FA=w1708-h1280-no?authuser=0\" alt=\"customRef\"></p>\n<p>影片中透過 email 格式判別的範例來說明 customRef的用法。當email 格式不含 @ 顯示 null，反之顯示正確的 email值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dxClU0KBmATmDQoSDedboOvyBh7APXsyAHkO7bcG5SExT0MbXemVjRXZM6o5JQs7xEydtISGtxj4y9oX-9v5fzb2opBvB6Dzar_m9Uv6_gJvl-9Ctp4SFzbJELzrAsr1MLsemoPfLtK0qZbfjIoyiKdA=w1708-h1280-no?authuser=0\" alt=\"customRef\"></p>\n<p>customRef 未來應該還能做更多的應用，例如時區格式轉換等等，應該會更為簡化程式邏輯，非常期待往後能在專案使用。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://youtu.be/BFav9Z4lEXE\">Fundamentals of Reactivity</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>因為官方的資源部分要付費，所以去 YouTube 找了一些可延伸學習的內容來看看。這次找到關於 Reactivity 更深入一點的用法。</p>","more":"<p>影片網址： <a href=\"https://youtu.be/BFav9Z4lEXE\">https://youtu.be/BFav9Z4lEXE</a></p>\n<h1 id=\"Reactive-vs-Ref\"><a href=\"#Reactive-vs-Ref\" class=\"headerlink\" title=\"Reactive vs Ref\"></a>Reactive vs Ref</h1><p>Reactive: 當要把 object 做 react 就要用 reactive。<br>Ref: 當要把一個固定值(string, number, Boolean)做 react 就要用 ref。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3f9TGipvzquxjvxI4luLhEiwEQOHFINsSU0JBVe6lmsQ_tj6c9htZHUpytUQNIRO-bTeqi5n063fjPfUZkjSYzbdozr8h4lq5xyzujQP0wnjKSaAwxzyBifPbP40gaTwWhKvQ-oFa0GNmzGpNwrAzwUFw=w1708-h1280-no?authuser=0\" alt=\"Reactive vs Ref\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dGNEEZbcywl457ZwacIOrmOjXGiTTszssScBXncRXAQMgISrmEMIsAi99z-dbcOtoBxIS4DYMfgp8xa4rklkteHbhgEr8uZ_fcRbvEDlc3o9MPqYOTTWVJOtJ8r8WVblWNCwOxGULP3yD22jMklfISoA=w1708-h1280-no?authuser=0\" alt=\"Reactive vs Ref\"></p>\n<h1 id=\"toRef-vs-toRefs\"><a href=\"#toRef-vs-toRefs\" class=\"headerlink\" title=\"toRef vs toRefs\"></a>toRef vs toRefs</h1><p>使用 toRef 函數可以把 reactive obj 內的屬性轉成單一 ref 值，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fa7SA3W5EooXb7fyuHRhu-q3R0rs4YRIbQKfvujfw31hi_DYy53YlBtGVLLGaU1BzP06tol8bYgdDlQgjixZ5phUTG3F0rpwCA6UVw1Pzy7kzxLn1UsOSgqboJr3UTN8aJdzFHTFDvoAsIYcvD0lsLlQ=w1708-h1280-no?authuser=0s\" alt=\"toRef\"></p>\n<p>若使用 toRefs 函數可以拿來對 props 或 object 做全部屬性各自轉成單一 ref 值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ePW0Ue26Rz0s066lV_xvoe5bDY0coYqtFgvABsB6DTFmJW4mABNRaqHDJjbWKJmRoyLBZpEdeX-sYxtVNzDEv3w6HCfHTB0bO4ML5HiL6FIqfjjNPOmY_Sav7WbHLJDwihsN1D7KtiPZ0exmA4FRhNGA=w1708-h1280-no?authuser=0\" alt=\"toRefs\"></p>\n<h1 id=\"customRef\"><a href=\"#customRef\" class=\"headerlink\" title=\"customRef\"></a>customRef</h1><p>Vue 3 可以客製化自己的 ref 函數。透過 customRef 方式如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fGZfKqFoItRF56u3f5y835b_QbUczl4qWyS_BuQ2R9RY6itEOdwR_aRpylzx7b8XX-7bVYtQUP2OIizKTDiiFgY6kyguiPU7_QNoiUvXSzpbknpOxA32vKhOVYHDLWXp87LFpSatCdr2q30X_Lst-1FA=w1708-h1280-no?authuser=0\" alt=\"customRef\"></p>\n<p>影片中透過 email 格式判別的範例來說明 customRef的用法。當email 格式不含 @ 顯示 null，反之顯示正確的 email值。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dxClU0KBmATmDQoSDedboOvyBh7APXsyAHkO7bcG5SExT0MbXemVjRXZM6o5JQs7xEydtISGtxj4y9oX-9v5fzb2opBvB6Dzar_m9Uv6_gJvl-9Ctp4SFzbJELzrAsr1MLsemoPfLtK0qZbfjIoyiKdA=w1708-h1280-no?authuser=0\" alt=\"customRef\"></p>\n<p>customRef 未來應該還能做更多的應用，例如時區格式轉換等等，應該會更為簡化程式邏輯，非常期待往後能在專案使用。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://youtu.be/BFav9Z4lEXE\">Fundamentals of Reactivity</a></li>\n</ul>"},{"title":"Vue 3 Studies - Lifecycle Hooks","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2020-08-15T16:00:00.000Z","updated":"2020-08-15T16:00:00.000Z","_content":"\n因為上一篇課程後連續四個影片都要付費觀看，所以我們這篇先跳著寫 lifecycle 的部分，等之後有其他免費的學習資源再來補上。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\n\n# Vue 2 對應 Vue 3 lifecycle composition api 用法\n\n我們先看官網有一個對照清單如下：\n\n- beforeCreate -> use setup()         \n- created -> use setup()         \n- beforeMount -> onBeforeMount\n- mounted -> onMounted\n- beforeUpdate -> onBeforeUpdate\n- updated -> onUpdated\n- beforeDestroy -> onBeforeUnmount\n- destroyed -> onUnmounted\n- activated -> onActivated\n- deactivated -> onDeactivated\n- errorCaptured -> onErrorCaptured\n\n左邊是原本 Vue 2 的用法，右邊是在 Vue 3 composition api 的用法。基本上就是把原來的名稱前面加上 on 就可以使用。\n\n![Lifecycle composition API](https://lh3.googleusercontent.com/pw/ACtC-3ft9l-k-1pd4JkQjVlC-bnM-m3pvsRu7NZ0zTlj4Vcw9s3St3gU-rTDnMzJOEoinytoqOzgS-r99OJejTmGLGfj8fANMBuMevPJ0dnTOVemWGXTU2V40mW7eJ5aoUaG7q16SgIODZXBPO5prboaNxALgw=w1708-h1280-no?authuser=0)\n\n那為什麼前面兩個 beforeCreate, created 被劃掉了呢？因為這兩個要執行的事件其實直接寫在 setup 裡面是一樣的意思。下面有流程圖解釋 beforeCreate 相當於在 setup 之前，created 相當於在 setup 之後，那麼就直接照順序寫在 setup 裡面就可以了，所以 composition api 才不需要 beforeCreate, created。\n\n![beforeCreate, created](https://lh3.googleusercontent.com/pw/ACtC-3eTC6jk4WewmO7mihl3WZU2YvgRyQcdzwFrfcpK9cBS4f4_NnaJtXoxxowNYNHyIN9cezCFQVf1diwlPZXhqrxKuVtP24RM8hse2TtQzsKTTrRgYiCEmKHYSZnvSBy_ZveiM4GA3EAcdWwLZMtTW5IQKw=w1708-h1280-no?authuser=0)\n\n另外有兩個 lifecycle 在 Vue 3 更換了名稱，分別是 beforeDestroy, destroyed 換成 onBeforeUnmount, onUnmounted。影片老師有特別詢問 Evan You 為什麼要更名，作者的回答是為了讓命名更符合實際情形。因為 Vue 的動作就是不斷將組件做 mount, unmount。\n\n![onBeforeUnmount, onUnmounted](https://lh3.googleusercontent.com/pw/ACtC-3caWXrHlW3AfJ-4C-zzXCPwETmJSvwfUc9MHMh06CZwOyLl_P8mctmQfbfE0ai5a3UW3jkNr9txlfFy05pIzJ637flTsTu66zHLrtoQmv0lsdyYig-VnkDrXMfKjbkKktf0qhGuSr7On_3dCEPKD6ddoA=w1708-h1280-no?authuser=0)\n\n# Vue 3 composition api 新增的 lifecycle\n\nVue 3 composition api 另外新增了兩個可以幫助開發者 debug 的 lifecycle。\n\n* onRenderTracked: 當此組件第一次 render 後的每次 render 都會追蹤。可以觀察有哪些動作造成此組件 render。\n\n* onRenderTrigger: 當此組件重新 render 會觸發。可以觀察是哪些動作促使此組件重新 rendor。\n\n![Vue 3 composition api 新增的 lifecycle](https://lh3.googleusercontent.com/pw/ACtC-3ciF0tGZVnnmaQ1skBBPrgMVxAcbq1W23ml9VyhOdh3ft41WbJt_-ZGNJtmxZo-E2IC2nDy6a9zHk-cXIOQN6lYT0y_C_U3Sx_SByjo0hfbJaBv26r19Pspy7NCnr9zOXJtIfvNjnWqg8C_TFpDXXGIhQ=w1708-h1280-no?authuser=0)\n\n為了實際了解這兩個新增的 lifecycle ，我們在 [github](https://github.com/Annilla/vue3-lifecycle-practice/tree/v1.0) 開個測試範例來試試。\n\n因為 Vue 3 尚未 release，所以先安裝 next 版的 vue cli (@vue/cli@4.5.2)。\n\n```cmd\nnpm install -g @vue/cli@next\n```\n\n安裝完後執行\n\n```cmd\nvue create <你的專案名稱>\n```\n\n選擇第二個選項 `Default (Vue 3 Preview)`。\n\n![Default (Vue 3 Preview)](https://lh3.googleusercontent.com/pw/ACtC-3d50SqpyRc0dZK84rx39FszdpPDossKfclETJyVzexPZq-xRSPYdHw8OpM6Phpz8iQvpmRxAKMvucn-aeyK1_1PQMuhKBjjMJ7AUOrh-qJXI_iL3WZjAi1zxY1GPuolbvT7SG1LSz85K2H7wBv9xD8Nsg=w1860-h858-no?authuser=0)\n\n預設專案會產生一個主要的 App.vue 裡面包含一個子組件 HellowWorld.vue，為了觀察新 lifecycle 的變化，我們將 App.vue, HellowWorld.vue 修改如下。\n\n目標是在 App.vue 加一顆按鈕，當使用者點擊按鈕後，按鈕上顯示被點擊的次數會加一，並將HellowWorld 傳入的 msg 後面也加上被點擊的次數。藉此觀察 lifecycle 被觸發的情況。\n\nApp.vue\n\n```html\n<template>\n  <div id=\"app\">\n    <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n    <div>\n      <button @click=\"addcount\">Re-render App {{ count }} times</button>\n    </div>\n    <HelloWorld :msg=\"`Welcome to Your Vue.js App ${count}`\"/>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onRenderTracked, onRenderTriggered } from 'vue'\nimport HelloWorld from './components/HelloWorld.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    HelloWorld\n  },\n  setup() {\n    const count = ref(0);\n    let addcount = () => {\n      console.log('---------------------------------');\n      console.log(`Click button ${count.value +1} times`);\n      console.log('---------------------------------');\n      count.value++;\n    };\n\n    console.log('---------------------------------');\n    console.log(`Setup function start`);\n    console.log('---------------------------------');\n\n    onMounted(() => {\n      console.log('App.vue mounted!')\n    });\n    onRenderTracked((e) => {\n      console.log('App.vue onRenderTracked!', e)\n    });\n    onRenderTriggered((e) => {\n      console.log('App.vue onRenderTriggered!', e)\n    });\n\n    return { count, addcount };\n  }\n}\n</script>\n\n<style>\n...\n</style>\n```\n\nHellowWorld.vue\n\n```html\n<template>\n  ...\n</template>\n\n<script>\nimport { onMounted, onRenderTracked, onRenderTriggered } from 'vue'\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  setup() {\n    onMounted(() => {\n      console.log('HelloWorld.vue mounted!')\n    })\n    onRenderTracked((e) => {\n      console.log('HelloWorld.vue onRenderTracked!', e)\n    })\n    onRenderTriggered((e) => {\n      console.log('HelloWorld.vue onRenderTriggered!', e)\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n...\n</style>\n```\n\n當我們啟動應用後可以看到一開始的 console 如下。\n\nlifecycle 觸發順序為：\n\n1. Setup function start -> 執行 setup()\n2. App.vue onRenderTracked! -> App 開始 Render\n3. HelloWorld.vue onRenderTracked! -> HelloWorld 開始 Render\n4. HelloWorld.vue mounted! -> HelloWorld DOM 生成完畢\n5. App.vue mounted! -> App DOM 生成完畢\n\n![一開始的 console](https://lh3.googleusercontent.com/pw/ACtC-3fXRAzTfUslKQ5JG0EWm2y76FOmGJy7nSc6XnPbRjHvf5ndbjLEST-Ca553MBwVpRny7XnnjYyPo26bIHJm9ZDqEfQTCxM4BIcuC91RAX_CBFoCsaGaPFw0TYtR_6IqO4xbpQuwuCZ-FnSrAYlyKEyrOw=w2558-h898-no?authuser=0)\n\n當我們點擊按鈕後，lifecycle 觸發順序為：\n\n6. Click button 1 times -> 點擊 button 觸發 addcount()\n7. App.vue onRenderTriggered! -> App 被觸發 Re-render\n8. App.vue onRenderTracked! -> App 開始 Re-render\n9. HelloWorld.vue onRenderTracked! -> HelloWorld 開始 Re-render\n\n![點擊按鈕後的 console](https://lh3.googleusercontent.com/pw/ACtC-3dyvAcNmo16uKAzmyTJCa4KyIv3fIzTODbvFB4JKKsystt86wIBxhm4PPut7IVV7M-vjvmSaYjZWjgzYPqORYMYB3WZJGrQXL6t9REVNKAsMHRAJcMXk37Qt3LM7LdkXjF8hnRZ656XrwvxQjhoz3S3KA=w2558-h898-no?authuser=0)\n\n從上述的實驗可以觀察出父子組件是如何觸發 onRenderTracked, onRenderTriggered 的，未來使用上應該有助於開發者了解組件 render 的過程，實測下來感覺還蠻有趣的。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Lifecycle Hooks](https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks)","source":"_posts/Vue/Vue-3-Studies-Lifecycle-Hooks.md","raw":"---\ntitle: Vue 3 Studies - Lifecycle Hooks\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2020/08/16\nupdated: 2020/08/16\n---\n\n因為上一篇課程後連續四個影片都要付費觀看，所以我們這篇先跳著寫 lifecycle 的部分，等之後有其他免費的學習資源再來補上。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\n\n# Vue 2 對應 Vue 3 lifecycle composition api 用法\n\n我們先看官網有一個對照清單如下：\n\n- beforeCreate -> use setup()         \n- created -> use setup()         \n- beforeMount -> onBeforeMount\n- mounted -> onMounted\n- beforeUpdate -> onBeforeUpdate\n- updated -> onUpdated\n- beforeDestroy -> onBeforeUnmount\n- destroyed -> onUnmounted\n- activated -> onActivated\n- deactivated -> onDeactivated\n- errorCaptured -> onErrorCaptured\n\n左邊是原本 Vue 2 的用法，右邊是在 Vue 3 composition api 的用法。基本上就是把原來的名稱前面加上 on 就可以使用。\n\n![Lifecycle composition API](https://lh3.googleusercontent.com/pw/ACtC-3ft9l-k-1pd4JkQjVlC-bnM-m3pvsRu7NZ0zTlj4Vcw9s3St3gU-rTDnMzJOEoinytoqOzgS-r99OJejTmGLGfj8fANMBuMevPJ0dnTOVemWGXTU2V40mW7eJ5aoUaG7q16SgIODZXBPO5prboaNxALgw=w1708-h1280-no?authuser=0)\n\n那為什麼前面兩個 beforeCreate, created 被劃掉了呢？因為這兩個要執行的事件其實直接寫在 setup 裡面是一樣的意思。下面有流程圖解釋 beforeCreate 相當於在 setup 之前，created 相當於在 setup 之後，那麼就直接照順序寫在 setup 裡面就可以了，所以 composition api 才不需要 beforeCreate, created。\n\n![beforeCreate, created](https://lh3.googleusercontent.com/pw/ACtC-3eTC6jk4WewmO7mihl3WZU2YvgRyQcdzwFrfcpK9cBS4f4_NnaJtXoxxowNYNHyIN9cezCFQVf1diwlPZXhqrxKuVtP24RM8hse2TtQzsKTTrRgYiCEmKHYSZnvSBy_ZveiM4GA3EAcdWwLZMtTW5IQKw=w1708-h1280-no?authuser=0)\n\n另外有兩個 lifecycle 在 Vue 3 更換了名稱，分別是 beforeDestroy, destroyed 換成 onBeforeUnmount, onUnmounted。影片老師有特別詢問 Evan You 為什麼要更名，作者的回答是為了讓命名更符合實際情形。因為 Vue 的動作就是不斷將組件做 mount, unmount。\n\n![onBeforeUnmount, onUnmounted](https://lh3.googleusercontent.com/pw/ACtC-3caWXrHlW3AfJ-4C-zzXCPwETmJSvwfUc9MHMh06CZwOyLl_P8mctmQfbfE0ai5a3UW3jkNr9txlfFy05pIzJ637flTsTu66zHLrtoQmv0lsdyYig-VnkDrXMfKjbkKktf0qhGuSr7On_3dCEPKD6ddoA=w1708-h1280-no?authuser=0)\n\n# Vue 3 composition api 新增的 lifecycle\n\nVue 3 composition api 另外新增了兩個可以幫助開發者 debug 的 lifecycle。\n\n* onRenderTracked: 當此組件第一次 render 後的每次 render 都會追蹤。可以觀察有哪些動作造成此組件 render。\n\n* onRenderTrigger: 當此組件重新 render 會觸發。可以觀察是哪些動作促使此組件重新 rendor。\n\n![Vue 3 composition api 新增的 lifecycle](https://lh3.googleusercontent.com/pw/ACtC-3ciF0tGZVnnmaQ1skBBPrgMVxAcbq1W23ml9VyhOdh3ft41WbJt_-ZGNJtmxZo-E2IC2nDy6a9zHk-cXIOQN6lYT0y_C_U3Sx_SByjo0hfbJaBv26r19Pspy7NCnr9zOXJtIfvNjnWqg8C_TFpDXXGIhQ=w1708-h1280-no?authuser=0)\n\n為了實際了解這兩個新增的 lifecycle ，我們在 [github](https://github.com/Annilla/vue3-lifecycle-practice/tree/v1.0) 開個測試範例來試試。\n\n因為 Vue 3 尚未 release，所以先安裝 next 版的 vue cli (@vue/cli@4.5.2)。\n\n```cmd\nnpm install -g @vue/cli@next\n```\n\n安裝完後執行\n\n```cmd\nvue create <你的專案名稱>\n```\n\n選擇第二個選項 `Default (Vue 3 Preview)`。\n\n![Default (Vue 3 Preview)](https://lh3.googleusercontent.com/pw/ACtC-3d50SqpyRc0dZK84rx39FszdpPDossKfclETJyVzexPZq-xRSPYdHw8OpM6Phpz8iQvpmRxAKMvucn-aeyK1_1PQMuhKBjjMJ7AUOrh-qJXI_iL3WZjAi1zxY1GPuolbvT7SG1LSz85K2H7wBv9xD8Nsg=w1860-h858-no?authuser=0)\n\n預設專案會產生一個主要的 App.vue 裡面包含一個子組件 HellowWorld.vue，為了觀察新 lifecycle 的變化，我們將 App.vue, HellowWorld.vue 修改如下。\n\n目標是在 App.vue 加一顆按鈕，當使用者點擊按鈕後，按鈕上顯示被點擊的次數會加一，並將HellowWorld 傳入的 msg 後面也加上被點擊的次數。藉此觀察 lifecycle 被觸發的情況。\n\nApp.vue\n\n```html\n<template>\n  <div id=\"app\">\n    <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n    <div>\n      <button @click=\"addcount\">Re-render App {{ count }} times</button>\n    </div>\n    <HelloWorld :msg=\"`Welcome to Your Vue.js App ${count}`\"/>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onRenderTracked, onRenderTriggered } from 'vue'\nimport HelloWorld from './components/HelloWorld.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    HelloWorld\n  },\n  setup() {\n    const count = ref(0);\n    let addcount = () => {\n      console.log('---------------------------------');\n      console.log(`Click button ${count.value +1} times`);\n      console.log('---------------------------------');\n      count.value++;\n    };\n\n    console.log('---------------------------------');\n    console.log(`Setup function start`);\n    console.log('---------------------------------');\n\n    onMounted(() => {\n      console.log('App.vue mounted!')\n    });\n    onRenderTracked((e) => {\n      console.log('App.vue onRenderTracked!', e)\n    });\n    onRenderTriggered((e) => {\n      console.log('App.vue onRenderTriggered!', e)\n    });\n\n    return { count, addcount };\n  }\n}\n</script>\n\n<style>\n...\n</style>\n```\n\nHellowWorld.vue\n\n```html\n<template>\n  ...\n</template>\n\n<script>\nimport { onMounted, onRenderTracked, onRenderTriggered } from 'vue'\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  setup() {\n    onMounted(() => {\n      console.log('HelloWorld.vue mounted!')\n    })\n    onRenderTracked((e) => {\n      console.log('HelloWorld.vue onRenderTracked!', e)\n    })\n    onRenderTriggered((e) => {\n      console.log('HelloWorld.vue onRenderTriggered!', e)\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n...\n</style>\n```\n\n當我們啟動應用後可以看到一開始的 console 如下。\n\nlifecycle 觸發順序為：\n\n1. Setup function start -> 執行 setup()\n2. App.vue onRenderTracked! -> App 開始 Render\n3. HelloWorld.vue onRenderTracked! -> HelloWorld 開始 Render\n4. HelloWorld.vue mounted! -> HelloWorld DOM 生成完畢\n5. App.vue mounted! -> App DOM 生成完畢\n\n![一開始的 console](https://lh3.googleusercontent.com/pw/ACtC-3fXRAzTfUslKQ5JG0EWm2y76FOmGJy7nSc6XnPbRjHvf5ndbjLEST-Ca553MBwVpRny7XnnjYyPo26bIHJm9ZDqEfQTCxM4BIcuC91RAX_CBFoCsaGaPFw0TYtR_6IqO4xbpQuwuCZ-FnSrAYlyKEyrOw=w2558-h898-no?authuser=0)\n\n當我們點擊按鈕後，lifecycle 觸發順序為：\n\n6. Click button 1 times -> 點擊 button 觸發 addcount()\n7. App.vue onRenderTriggered! -> App 被觸發 Re-render\n8. App.vue onRenderTracked! -> App 開始 Re-render\n9. HelloWorld.vue onRenderTracked! -> HelloWorld 開始 Re-render\n\n![點擊按鈕後的 console](https://lh3.googleusercontent.com/pw/ACtC-3dyvAcNmo16uKAzmyTJCa4KyIv3fIzTODbvFB4JKKsystt86wIBxhm4PPut7IVV7M-vjvmSaYjZWjgzYPqORYMYB3WZJGrQXL6t9REVNKAsMHRAJcMXk37Qt3LM7LdkXjF8hnRZ656XrwvxQjhoz3S3KA=w2558-h898-no?authuser=0)\n\n從上述的實驗可以觀察出父子組件是如何觸發 onRenderTracked, onRenderTriggered 的，未來使用上應該有助於開發者了解組件 render 的過程，實測下來感覺還蠻有趣的。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Lifecycle Hooks](https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks)","slug":"Vue/Vue-3-Studies-Lifecycle-Hooks","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rw003ur3y714hrhsbm","content":"<p>因為上一篇課程後連續四個影片都要付費觀看，所以我們這篇先跳著寫 lifecycle 的部分，等之後有其他免費的學習資源再來補上。</p>\n<span id=\"more\"></span>\n\n<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\">https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks</a></p>\n<h1 id=\"Vue-2-對應-Vue-3-lifecycle-composition-api-用法\"><a href=\"#Vue-2-對應-Vue-3-lifecycle-composition-api-用法\" class=\"headerlink\" title=\"Vue 2 對應 Vue 3 lifecycle composition api 用法\"></a>Vue 2 對應 Vue 3 lifecycle composition api 用法</h1><p>我們先看官網有一個對照清單如下：</p>\n<ul>\n<li>beforeCreate -&gt; use setup()         </li>\n<li>created -&gt; use setup()         </li>\n<li>beforeMount -&gt; onBeforeMount</li>\n<li>mounted -&gt; onMounted</li>\n<li>beforeUpdate -&gt; onBeforeUpdate</li>\n<li>updated -&gt; onUpdated</li>\n<li>beforeDestroy -&gt; onBeforeUnmount</li>\n<li>destroyed -&gt; onUnmounted</li>\n<li>activated -&gt; onActivated</li>\n<li>deactivated -&gt; onDeactivated</li>\n<li>errorCaptured -&gt; onErrorCaptured</li>\n</ul>\n<p>左邊是原本 Vue 2 的用法，右邊是在 Vue 3 composition api 的用法。基本上就是把原來的名稱前面加上 on 就可以使用。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ft9l-k-1pd4JkQjVlC-bnM-m3pvsRu7NZ0zTlj4Vcw9s3St3gU-rTDnMzJOEoinytoqOzgS-r99OJejTmGLGfj8fANMBuMevPJ0dnTOVemWGXTU2V40mW7eJ5aoUaG7q16SgIODZXBPO5prboaNxALgw=w1708-h1280-no?authuser=0\" alt=\"Lifecycle composition API\"></p>\n<p>那為什麼前面兩個 beforeCreate, created 被劃掉了呢？因為這兩個要執行的事件其實直接寫在 setup 裡面是一樣的意思。下面有流程圖解釋 beforeCreate 相當於在 setup 之前，created 相當於在 setup 之後，那麼就直接照順序寫在 setup 裡面就可以了，所以 composition api 才不需要 beforeCreate, created。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eTC6jk4WewmO7mihl3WZU2YvgRyQcdzwFrfcpK9cBS4f4_NnaJtXoxxowNYNHyIN9cezCFQVf1diwlPZXhqrxKuVtP24RM8hse2TtQzsKTTrRgYiCEmKHYSZnvSBy_ZveiM4GA3EAcdWwLZMtTW5IQKw=w1708-h1280-no?authuser=0\" alt=\"beforeCreate, created\"></p>\n<p>另外有兩個 lifecycle 在 Vue 3 更換了名稱，分別是 beforeDestroy, destroyed 換成 onBeforeUnmount, onUnmounted。影片老師有特別詢問 Evan You 為什麼要更名，作者的回答是為了讓命名更符合實際情形。因為 Vue 的動作就是不斷將組件做 mount, unmount。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3caWXrHlW3AfJ-4C-zzXCPwETmJSvwfUc9MHMh06CZwOyLl_P8mctmQfbfE0ai5a3UW3jkNr9txlfFy05pIzJ637flTsTu66zHLrtoQmv0lsdyYig-VnkDrXMfKjbkKktf0qhGuSr7On_3dCEPKD6ddoA=w1708-h1280-no?authuser=0\" alt=\"onBeforeUnmount, onUnmounted\"></p>\n<h1 id=\"Vue-3-composition-api-新增的-lifecycle\"><a href=\"#Vue-3-composition-api-新增的-lifecycle\" class=\"headerlink\" title=\"Vue 3 composition api 新增的 lifecycle\"></a>Vue 3 composition api 新增的 lifecycle</h1><p>Vue 3 composition api 另外新增了兩個可以幫助開發者 debug 的 lifecycle。</p>\n<ul>\n<li><p>onRenderTracked: 當此組件第一次 render 後的每次 render 都會追蹤。可以觀察有哪些動作造成此組件 render。</p>\n</li>\n<li><p>onRenderTrigger: 當此組件重新 render 會觸發。可以觀察是哪些動作促使此組件重新 rendor。</p>\n</li>\n</ul>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ciF0tGZVnnmaQ1skBBPrgMVxAcbq1W23ml9VyhOdh3ft41WbJt_-ZGNJtmxZo-E2IC2nDy6a9zHk-cXIOQN6lYT0y_C_U3Sx_SByjo0hfbJaBv26r19Pspy7NCnr9zOXJtIfvNjnWqg8C_TFpDXXGIhQ=w1708-h1280-no?authuser=0\" alt=\"Vue 3 composition api 新增的 lifecycle\"></p>\n<p>為了實際了解這兩個新增的 lifecycle ，我們在 <a href=\"https://github.com/Annilla/vue3-lifecycle-practice/tree/v1.0\">github</a> 開個測試範例來試試。</p>\n<p>因為 Vue 3 尚未 release，所以先安裝 next 版的 vue cli (@vue&#x2F;<a href=\"mailto:&#x63;&#108;&#105;&#64;&#52;&#46;&#53;&#46;&#x32;\">&#x63;&#108;&#105;&#64;&#52;&#46;&#53;&#46;&#x32;</a>)。</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli@next</span><br></pre></td></tr></table></figure>\n\n<p>安裝完後執行</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create &lt;你的專案名稱&gt;</span><br></pre></td></tr></table></figure>\n\n<p>選擇第二個選項 <code>Default (Vue 3 Preview)</code>。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3d50SqpyRc0dZK84rx39FszdpPDossKfclETJyVzexPZq-xRSPYdHw8OpM6Phpz8iQvpmRxAKMvucn-aeyK1_1PQMuhKBjjMJ7AUOrh-qJXI_iL3WZjAi1zxY1GPuolbvT7SG1LSz85K2H7wBv9xD8Nsg=w1860-h858-no?authuser=0\" alt=\"Default (Vue 3 Preview)\"></p>\n<p>預設專案會產生一個主要的 App.vue 裡面包含一個子組件 HellowWorld.vue，為了觀察新 lifecycle 的變化，我們將 App.vue, HellowWorld.vue 修改如下。</p>\n<p>目標是在 App.vue 加一顆按鈕，當使用者點擊按鈕後，按鈕上顯示被點擊的次數會加一，並將HellowWorld 傳入的 msg 後面也加上被點擊的次數。藉此觀察 lifecycle 被觸發的情況。</p>\n<p>App.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;Vue logo&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addcount&quot;</span>&gt;</span>Re-render App &#123;&#123; count &#125;&#125; times<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">HelloWorld</span> <span class=\"attr\">:msg</span>=<span class=\"string\">&quot;`Welcome to Your Vue.js App $&#123;count&#125;`&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, onMounted, onRenderTracked, onRenderTriggered &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> <span class=\"title class_\">HelloWorld</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./components/HelloWorld.vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;App&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title class_\">HelloWorld</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> count = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> <span class=\"title function_\">addcount</span> = (<span class=\"params\"></span>) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Click button <span class=\"subst\">$&#123;count.value +<span class=\"number\">1</span>&#125;</span> times`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      count.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Setup function start`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue mounted!&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTracked</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue onRenderTracked!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTriggered</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue onRenderTriggered!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; count, addcount &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>HellowWorld.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; onMounted, onRenderTracked, onRenderTriggered &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">msg</span>: <span class=\"title class_\">String</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue mounted!&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTracked</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue onRenderTracked!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTriggered</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue onRenderTriggered!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>當我們啟動應用後可以看到一開始的 console 如下。</p>\n<p>lifecycle 觸發順序為：</p>\n<ol>\n<li>Setup function start -&gt; 執行 setup()</li>\n<li>App.vue onRenderTracked! -&gt; App 開始 Render</li>\n<li>HelloWorld.vue onRenderTracked! -&gt; HelloWorld 開始 Render</li>\n<li>HelloWorld.vue mounted! -&gt; HelloWorld DOM 生成完畢</li>\n<li>App.vue mounted! -&gt; App DOM 生成完畢</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXRAzTfUslKQ5JG0EWm2y76FOmGJy7nSc6XnPbRjHvf5ndbjLEST-Ca553MBwVpRny7XnnjYyPo26bIHJm9ZDqEfQTCxM4BIcuC91RAX_CBFoCsaGaPFw0TYtR_6IqO4xbpQuwuCZ-FnSrAYlyKEyrOw=w2558-h898-no?authuser=0\" alt=\"一開始的 console\"></p>\n<p>當我們點擊按鈕後，lifecycle 觸發順序為：</p>\n<ol start=\"6\">\n<li>Click button 1 times -&gt; 點擊 button 觸發 addcount()</li>\n<li>App.vue onRenderTriggered! -&gt; App 被觸發 Re-render</li>\n<li>App.vue onRenderTracked! -&gt; App 開始 Re-render</li>\n<li>HelloWorld.vue onRenderTracked! -&gt; HelloWorld 開始 Re-render</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dyvAcNmo16uKAzmyTJCa4KyIv3fIzTODbvFB4JKKsystt86wIBxhm4PPut7IVV7M-vjvmSaYjZWjgzYPqORYMYB3WZJGrQXL6t9REVNKAsMHRAJcMXk37Qt3LM7LdkXjF8hnRZ656XrwvxQjhoz3S3KA=w2558-h898-no?authuser=0\" alt=\"點擊按鈕後的 console\"></p>\n<p>從上述的實驗可以觀察出父子組件是如何觸發 onRenderTracked, onRenderTriggered 的，未來使用上應該有助於開發者了解組件 render 的過程，實測下來感覺還蠻有趣的。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\">Lifecycle Hooks</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>因為上一篇課程後連續四個影片都要付費觀看，所以我們這篇先跳著寫 lifecycle 的部分，等之後有其他免費的學習資源再來補上。</p>","more":"<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\">https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks</a></p>\n<h1 id=\"Vue-2-對應-Vue-3-lifecycle-composition-api-用法\"><a href=\"#Vue-2-對應-Vue-3-lifecycle-composition-api-用法\" class=\"headerlink\" title=\"Vue 2 對應 Vue 3 lifecycle composition api 用法\"></a>Vue 2 對應 Vue 3 lifecycle composition api 用法</h1><p>我們先看官網有一個對照清單如下：</p>\n<ul>\n<li>beforeCreate -&gt; use setup()         </li>\n<li>created -&gt; use setup()         </li>\n<li>beforeMount -&gt; onBeforeMount</li>\n<li>mounted -&gt; onMounted</li>\n<li>beforeUpdate -&gt; onBeforeUpdate</li>\n<li>updated -&gt; onUpdated</li>\n<li>beforeDestroy -&gt; onBeforeUnmount</li>\n<li>destroyed -&gt; onUnmounted</li>\n<li>activated -&gt; onActivated</li>\n<li>deactivated -&gt; onDeactivated</li>\n<li>errorCaptured -&gt; onErrorCaptured</li>\n</ul>\n<p>左邊是原本 Vue 2 的用法，右邊是在 Vue 3 composition api 的用法。基本上就是把原來的名稱前面加上 on 就可以使用。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ft9l-k-1pd4JkQjVlC-bnM-m3pvsRu7NZ0zTlj4Vcw9s3St3gU-rTDnMzJOEoinytoqOzgS-r99OJejTmGLGfj8fANMBuMevPJ0dnTOVemWGXTU2V40mW7eJ5aoUaG7q16SgIODZXBPO5prboaNxALgw=w1708-h1280-no?authuser=0\" alt=\"Lifecycle composition API\"></p>\n<p>那為什麼前面兩個 beforeCreate, created 被劃掉了呢？因為這兩個要執行的事件其實直接寫在 setup 裡面是一樣的意思。下面有流程圖解釋 beforeCreate 相當於在 setup 之前，created 相當於在 setup 之後，那麼就直接照順序寫在 setup 裡面就可以了，所以 composition api 才不需要 beforeCreate, created。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eTC6jk4WewmO7mihl3WZU2YvgRyQcdzwFrfcpK9cBS4f4_NnaJtXoxxowNYNHyIN9cezCFQVf1diwlPZXhqrxKuVtP24RM8hse2TtQzsKTTrRgYiCEmKHYSZnvSBy_ZveiM4GA3EAcdWwLZMtTW5IQKw=w1708-h1280-no?authuser=0\" alt=\"beforeCreate, created\"></p>\n<p>另外有兩個 lifecycle 在 Vue 3 更換了名稱，分別是 beforeDestroy, destroyed 換成 onBeforeUnmount, onUnmounted。影片老師有特別詢問 Evan You 為什麼要更名，作者的回答是為了讓命名更符合實際情形。因為 Vue 的動作就是不斷將組件做 mount, unmount。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3caWXrHlW3AfJ-4C-zzXCPwETmJSvwfUc9MHMh06CZwOyLl_P8mctmQfbfE0ai5a3UW3jkNr9txlfFy05pIzJ637flTsTu66zHLrtoQmv0lsdyYig-VnkDrXMfKjbkKktf0qhGuSr7On_3dCEPKD6ddoA=w1708-h1280-no?authuser=0\" alt=\"onBeforeUnmount, onUnmounted\"></p>\n<h1 id=\"Vue-3-composition-api-新增的-lifecycle\"><a href=\"#Vue-3-composition-api-新增的-lifecycle\" class=\"headerlink\" title=\"Vue 3 composition api 新增的 lifecycle\"></a>Vue 3 composition api 新增的 lifecycle</h1><p>Vue 3 composition api 另外新增了兩個可以幫助開發者 debug 的 lifecycle。</p>\n<ul>\n<li><p>onRenderTracked: 當此組件第一次 render 後的每次 render 都會追蹤。可以觀察有哪些動作造成此組件 render。</p>\n</li>\n<li><p>onRenderTrigger: 當此組件重新 render 會觸發。可以觀察是哪些動作促使此組件重新 rendor。</p>\n</li>\n</ul>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3ciF0tGZVnnmaQ1skBBPrgMVxAcbq1W23ml9VyhOdh3ft41WbJt_-ZGNJtmxZo-E2IC2nDy6a9zHk-cXIOQN6lYT0y_C_U3Sx_SByjo0hfbJaBv26r19Pspy7NCnr9zOXJtIfvNjnWqg8C_TFpDXXGIhQ=w1708-h1280-no?authuser=0\" alt=\"Vue 3 composition api 新增的 lifecycle\"></p>\n<p>為了實際了解這兩個新增的 lifecycle ，我們在 <a href=\"https://github.com/Annilla/vue3-lifecycle-practice/tree/v1.0\">github</a> 開個測試範例來試試。</p>\n<p>因為 Vue 3 尚未 release，所以先安裝 next 版的 vue cli (@vue&#x2F;<a href=\"mailto:&#x63;&#108;&#105;&#64;&#52;&#46;&#53;&#46;&#x32;\">&#x63;&#108;&#105;&#64;&#52;&#46;&#53;&#46;&#x32;</a>)。</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli@next</span><br></pre></td></tr></table></figure>\n\n<p>安裝完後執行</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create &lt;你的專案名稱&gt;</span><br></pre></td></tr></table></figure>\n\n<p>選擇第二個選項 <code>Default (Vue 3 Preview)</code>。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3d50SqpyRc0dZK84rx39FszdpPDossKfclETJyVzexPZq-xRSPYdHw8OpM6Phpz8iQvpmRxAKMvucn-aeyK1_1PQMuhKBjjMJ7AUOrh-qJXI_iL3WZjAi1zxY1GPuolbvT7SG1LSz85K2H7wBv9xD8Nsg=w1860-h858-no?authuser=0\" alt=\"Default (Vue 3 Preview)\"></p>\n<p>預設專案會產生一個主要的 App.vue 裡面包含一個子組件 HellowWorld.vue，為了觀察新 lifecycle 的變化，我們將 App.vue, HellowWorld.vue 修改如下。</p>\n<p>目標是在 App.vue 加一顆按鈕，當使用者點擊按鈕後，按鈕上顯示被點擊的次數會加一，並將HellowWorld 傳入的 msg 後面也加上被點擊的次數。藉此觀察 lifecycle 被觸發的情況。</p>\n<p>App.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;Vue logo&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addcount&quot;</span>&gt;</span>Re-render App &#123;&#123; count &#125;&#125; times<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">HelloWorld</span> <span class=\"attr\">:msg</span>=<span class=\"string\">&quot;`Welcome to Your Vue.js App $&#123;count&#125;`&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, onMounted, onRenderTracked, onRenderTriggered &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> <span class=\"title class_\">HelloWorld</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./components/HelloWorld.vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;App&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title class_\">HelloWorld</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> count = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> <span class=\"title function_\">addcount</span> = (<span class=\"params\"></span>) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Click button <span class=\"subst\">$&#123;count.value +<span class=\"number\">1</span>&#125;</span> times`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      count.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Setup function start`</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;---------------------------------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue mounted!&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTracked</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue onRenderTracked!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTriggered</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;App.vue onRenderTriggered!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; count, addcount &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>HellowWorld.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; onMounted, onRenderTracked, onRenderTriggered &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">msg</span>: <span class=\"title class_\">String</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onMounted</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue mounted!&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTracked</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue onRenderTracked!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">onRenderTriggered</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;HelloWorld.vue onRenderTriggered!&#x27;</span>, e)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>當我們啟動應用後可以看到一開始的 console 如下。</p>\n<p>lifecycle 觸發順序為：</p>\n<ol>\n<li>Setup function start -&gt; 執行 setup()</li>\n<li>App.vue onRenderTracked! -&gt; App 開始 Render</li>\n<li>HelloWorld.vue onRenderTracked! -&gt; HelloWorld 開始 Render</li>\n<li>HelloWorld.vue mounted! -&gt; HelloWorld DOM 生成完畢</li>\n<li>App.vue mounted! -&gt; App DOM 生成完畢</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXRAzTfUslKQ5JG0EWm2y76FOmGJy7nSc6XnPbRjHvf5ndbjLEST-Ca553MBwVpRny7XnnjYyPo26bIHJm9ZDqEfQTCxM4BIcuC91RAX_CBFoCsaGaPFw0TYtR_6IqO4xbpQuwuCZ-FnSrAYlyKEyrOw=w2558-h898-no?authuser=0\" alt=\"一開始的 console\"></p>\n<p>當我們點擊按鈕後，lifecycle 觸發順序為：</p>\n<ol start=\"6\">\n<li>Click button 1 times -&gt; 點擊 button 觸發 addcount()</li>\n<li>App.vue onRenderTriggered! -&gt; App 被觸發 Re-render</li>\n<li>App.vue onRenderTracked! -&gt; App 開始 Re-render</li>\n<li>HelloWorld.vue onRenderTracked! -&gt; HelloWorld 開始 Re-render</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dyvAcNmo16uKAzmyTJCa4KyIv3fIzTODbvFB4JKKsystt86wIBxhm4PPut7IVV7M-vjvmSaYjZWjgzYPqORYMYB3WZJGrQXL6t9REVNKAsMHRAJcMXk37Qt3LM7LdkXjF8hnRZ656XrwvxQjhoz3S3KA=w2558-h898-no?authuser=0\" alt=\"點擊按鈕後的 console\"></p>\n<p>從上述的實驗可以觀察出父子組件是如何觸發 onRenderTracked, onRenderTriggered 的，未來使用上應該有助於開發者了解組件 render 的過程，實測下來感覺還蠻有趣的。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/lifecycle-hooks\">Lifecycle Hooks</a></li>\n</ul>"},{"title":"Vue 3 Studies - Modularizing","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2021-08-01T16:00:00.000Z","updated":"2021-08-01T16:00:00.000Z","_content":"\n使用 Composition API 有兩個主要的原因，一個原因是把 component 依據功能重新組織，另一個主要原因是這些程式碼可以跨不同 component 重複利用。我們來看一下範例。\n\n<!--more-->\n\n這裡有個範例如下。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n如果把上述的功能包成一個 function ，會長下面這樣。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    return useEventSpace(); // <--- Extracted a function\n  }\n};\n\nfunction useEventSpace() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n}\n</script>\n```\n\n就是把 setup() 裡面的東西整個移出 export default，變成獨立的一個 useEventSpace function。\n\n假設我們把 useEventSpace 移到外面獨立一隻 use/event-space.js，會長下面這樣。\n\n```js\nimport { ref, computed } from \"vue\";\n\nexport default function useEventSpace() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n};\n```\n\n再把這隻獨立的 js 引用到原來的 vue。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nexport default {\n  setup() {\n    return useEventSpace();\n  }\n};\n</script>\n```\n\n假設我們有另一個功能的 use/event-mapping.js 想加入到這隻 vue。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nimport useEventMapping from \"@/use/event-mapping\";\nexport default {\n  setup() {\n    return { ...useEventSpace(), ...useEventMapping() };\n  }\n};\n</script>\n```\n\n如此這般就能將這些功能共用到不同的 component，但是這樣看起來還是跟 mixin 差不多，不知道用了哪些變數在裡面，因為全部都被 function 包起來了。所以，最好是改成如下的方式，將這些變數都展開出來，雖然麻煩了些，但是這樣就知道有哪些變數名稱在使用。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nimport useEventMapping from \"@/use/event-mapping\";\nexport default {\n  setup() {\n    const { capacity, attending, spaceLeft, increaseCapacity } = useEventSpace();\n    const { map, embedId } = useEventMapping();\n\n    return { capacity, attending, spaceLeft, increaseCapacity, map, embedId };\n  }\n};\n</script>\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Modularizing.md","raw":"---\ntitle: Vue 3 Studies - Modularizing\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2021/08/02\nupdated: 2021/08/02\n---\n\n使用 Composition API 有兩個主要的原因，一個原因是把 component 依據功能重新組織，另一個主要原因是這些程式碼可以跨不同 component 重複利用。我們來看一下範例。\n\n<!--more-->\n\n這裡有個範例如下。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n如果把上述的功能包成一個 function ，會長下面這樣。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    return useEventSpace(); // <--- Extracted a function\n  }\n};\n\nfunction useEventSpace() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n}\n</script>\n```\n\n就是把 setup() 裡面的東西整個移出 export default，變成獨立的一個 useEventSpace function。\n\n假設我們把 useEventSpace 移到外面獨立一隻 use/event-space.js，會長下面這樣。\n\n```js\nimport { ref, computed } from \"vue\";\n\nexport default function useEventSpace() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n};\n```\n\n再把這隻獨立的 js 引用到原來的 vue。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nexport default {\n  setup() {\n    return useEventSpace();\n  }\n};\n</script>\n```\n\n假設我們有另一個功能的 use/event-mapping.js 想加入到這隻 vue。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nimport useEventMapping from \"@/use/event-mapping\";\nexport default {\n  setup() {\n    return { ...useEventSpace(), ...useEventMapping() };\n  }\n};\n</script>\n```\n\n如此這般就能將這些功能共用到不同的 component，但是這樣看起來還是跟 mixin 差不多，不知道用了哪些變數在裡面，因為全部都被 function 包起來了。所以，最好是改成如下的方式，將這些變數都展開出來，雖然麻煩了些，但是這樣就知道有哪些變數名稱在使用。\n\n```html\n<template>\n  ...\n</template>\n<script>\nimport useEventSpace from \"@/use/event-space\";\nimport useEventMapping from \"@/use/event-mapping\";\nexport default {\n  setup() {\n    const { capacity, attending, spaceLeft, increaseCapacity } = useEventSpace();\n    const { map, embedId } = useEventMapping();\n\n    return { capacity, attending, spaceLeft, increaseCapacity, map, embedId };\n  }\n};\n</script>\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Modularizing","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9rx003zr3y71iuw5qhe","content":"<p>使用 Composition API 有兩個主要的原因，一個原因是把 component 依據功能重新組織，另一個主要原因是這些程式碼可以跨不同 component 重複利用。我們來看一下範例。</p>\n<span id=\"more\"></span>\n\n<p>這裡有個範例如下。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果把上述的功能包成一個 function ，會長下面這樣。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> <span class=\"title function_\">useEventSpace</span>(); <span class=\"comment\">// &lt;--- Extracted a function</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">useEventSpace</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>就是把 setup() 裡面的東西整個移出 export default，變成獨立的一個 useEventSpace function。</p>\n<p>假設我們把 useEventSpace 移到外面獨立一隻 use&#x2F;event-space.js，會長下面這樣。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useEventSpace</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      capacity.<span class=\"property\">value</span>++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>再把這隻獨立的 js 引用到原來的 vue。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>假設我們有另一個功能的 use&#x2F;event-mapping.js 想加入到這隻 vue。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventMapping <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-mapping&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; ...<span class=\"title function_\">useEventSpace</span>(), ...<span class=\"title function_\">useEventMapping</span>() &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如此這般就能將這些功能共用到不同的 component，但是這樣看起來還是跟 mixin 差不多，不知道用了哪些變數在裡面，因為全部都被 function 包起來了。所以，最好是改成如下的方式，將這些變數都展開出來，雖然麻煩了些，但是這樣就知道有哪些變數名稱在使用。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventMapping <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-mapping&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125; = <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> &#123; map, embedId &#125; = <span class=\"title function_\">useEventMapping</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity, map, embedId &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>使用 Composition API 有兩個主要的原因，一個原因是把 component 依據功能重新組織，另一個主要原因是這些程式碼可以跨不同 component 重複利用。我們來看一下範例。</p>","more":"<p>這裡有個範例如下。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果把上述的功能包成一個 function ，會長下面這樣。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> <span class=\"title function_\">useEventSpace</span>(); <span class=\"comment\">// &lt;--- Extracted a function</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">useEventSpace</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>就是把 setup() 裡面的東西整個移出 export default，變成獨立的一個 useEventSpace function。</p>\n<p>假設我們把 useEventSpace 移到外面獨立一隻 use&#x2F;event-space.js，會長下面這樣。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">useEventSpace</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      capacity.<span class=\"property\">value</span>++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>再把這隻獨立的 js 引用到原來的 vue。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>假設我們有另一個功能的 use&#x2F;event-mapping.js 想加入到這隻 vue。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventMapping <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-mapping&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; ...<span class=\"title function_\">useEventSpace</span>(), ...<span class=\"title function_\">useEventMapping</span>() &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如此這般就能將這些功能共用到不同的 component，但是這樣看起來還是跟 mixin 差不多，不知道用了哪些變數在裡面，因為全部都被 function 包起來了。所以，最好是改成如下的方式，將這些變數都展開出來，雖然麻煩了些，但是這樣就知道有哪些變數名稱在使用。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> useEventMapping <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/use/event-mapping&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125; = <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> &#123; map, embedId &#125; = <span class=\"title function_\">useEventMapping</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity, map, embedId &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Vue 3 Studies - Reactive and toRefs","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2021-07-08T16:00:00.000Z","updated":"2021-07-08T16:00:00.000Z","_content":"\n繼續看 Composition API 的 Reactive and toRefs。\n\n<!--more-->\n\n# Reactive\n\n我們看上次的 ref 範例。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(4);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n我們可以用 Reactive 把全部的 ref 統整成一個物件 event。\n下面的程式跟上面運行結果是一樣的。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ event.spaceLeft }} out of {{ event.capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in event.attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { reactive, computed } from \"vue\";\nexport default {\n  setup() {\n    const event = reactive({\n      capacity: 4,\n      attending: [\"Tim\", \"Bob\", \"Joe\"],\n      spaceLeft: computed(() => {\n        return event.capacity - event.attending.length;\n      });\n    });\n\n    function increaseCapacity() {\n      event.capacity++;\n    }\n\n    return { event, increaseCapacity };\n  }\n};\n</script>\n```\n\nHTML 裡面每次都要使用 event.xxx 感覺很煩，在這裡我們就可以用 toRefs ，再把他拆開成個別物件。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { reactive, computed, toRefs } from \"vue\";\nexport default {\n  setup() {\n    const event = reactive({\n      capacity: 4,\n      attending: [\"Tim\", \"Bob\", \"Joe\"],\n      spaceLeft: computed(() => {\n        return event.capacity - event.attending.length;\n      });\n    });\n\n    function increaseCapacity() {\n      event.capacity++;\n    }\n\n    return { toRefs(event), increaseCapacity };\n  }\n};\n</script>\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Reactive-and-toRefs.md","raw":"---\ntitle: Vue 3 Studies - Reactive and toRefs\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2021/07/09\nupdated: 2021/07/09\n---\n\n繼續看 Composition API 的 Reactive and toRefs。\n\n<!--more-->\n\n# Reactive\n\n我們看上次的 ref 範例。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(4);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n我們可以用 Reactive 把全部的 ref 統整成一個物件 event。\n下面的程式跟上面運行結果是一樣的。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ event.spaceLeft }} out of {{ event.capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in event.attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { reactive, computed } from \"vue\";\nexport default {\n  setup() {\n    const event = reactive({\n      capacity: 4,\n      attending: [\"Tim\", \"Bob\", \"Joe\"],\n      spaceLeft: computed(() => {\n        return event.capacity - event.attending.length;\n      });\n    });\n\n    function increaseCapacity() {\n      event.capacity++;\n    }\n\n    return { event, increaseCapacity };\n  }\n};\n</script>\n```\n\nHTML 裡面每次都要使用 event.xxx 感覺很煩，在這裡我們就可以用 toRefs ，再把他拆開成個別物件。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { reactive, computed, toRefs } from \"vue\";\nexport default {\n  setup() {\n    const event = reactive({\n      capacity: 4,\n      attending: [\"Tim\", \"Bob\", \"Joe\"],\n      spaceLeft: computed(() => {\n        return event.capacity - event.attending.length;\n      });\n    });\n\n    function increaseCapacity() {\n      event.capacity++;\n    }\n\n    return { toRefs(event), increaseCapacity };\n  }\n};\n</script>\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Reactive-and-toRefs","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9ry0041r3y70oaxdox9","content":"<p>繼續看 Composition API 的 Reactive and toRefs。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Reactive\"><a href=\"#Reactive\" class=\"headerlink\" title=\"Reactive\"></a>Reactive</h1><p>我們看上次的 ref 範例。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">4</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我們可以用 Reactive 把全部的 ref 統整成一個物件 event。<br>下面的程式跟上面運行結果是一樣的。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; event.spaceLeft &#125;&#125; out of &#123;&#123; event.capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in event.attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; reactive, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> event = <span class=\"title function_\">reactive</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">capacity</span>: <span class=\"number\">4</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">attending</span>: [<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">spaceLeft</span>: <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> event.<span class=\"property\">capacity</span> - event.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      event.<span class=\"property\">capacity</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; event, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>HTML 裡面每次都要使用 event.xxx 感覺很煩，在這裡我們就可以用 toRefs ，再把他拆開成個別物件。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; reactive, computed, toRefs &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> event = <span class=\"title function_\">reactive</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">capacity</span>: <span class=\"number\">4</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">attending</span>: [<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">spaceLeft</span>: <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> event.<span class=\"property\">capacity</span> - event.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      event.<span class=\"property\">capacity</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; <span class=\"title function_\">toRefs</span>(event), increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>繼續看 Composition API 的 Reactive and toRefs。</p>","more":"<h1 id=\"Reactive\"><a href=\"#Reactive\" class=\"headerlink\" title=\"Reactive\"></a>Reactive</h1><p>我們看上次的 ref 範例。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">4</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>我們可以用 Reactive 把全部的 ref 統整成一個物件 event。<br>下面的程式跟上面運行結果是一樣的。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; event.spaceLeft &#125;&#125; out of &#123;&#123; event.capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in event.attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; reactive, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> event = <span class=\"title function_\">reactive</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">capacity</span>: <span class=\"number\">4</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">attending</span>: [<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">spaceLeft</span>: <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> event.<span class=\"property\">capacity</span> - event.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      event.<span class=\"property\">capacity</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; event, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>HTML 裡面每次都要使用 event.xxx 感覺很煩，在這裡我們就可以用 toRefs ，再把他拆開成個別物件。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; reactive, computed, toRefs &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> event = <span class=\"title function_\">reactive</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">capacity</span>: <span class=\"number\">4</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">attending</span>: [<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">spaceLeft</span>: <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> event.<span class=\"property\">capacity</span> - event.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      event.<span class=\"property\">capacity</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; <span class=\"title function_\">toRefs</span>(event), increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Vue 3 Studies - Setup & Reactive References","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2020-07-19T16:00:00.000Z","updated":"2020-07-19T16:00:00.000Z","_content":"\n上一篇我們提到為什麼使用 composition API，這次要複習在何時使用並介紹 Setup & Reactive References 的使用方式。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\n\n# 什麼時候要用 composition API？\n\n影片中再次強調 composition API 只是多一種選擇的程式寫法，舊有的 Vue 2 寫法還是可以完完全全繼續使用。那我們什麼時候可以用 composition API 呢？\n\n1. 當專案想要使用強型別寫法，將可以順利支援 typescript。\n2. 當組件過於龐大，需要用功能來重新組織程式架構。\n3. 部分功能的程式需要在不同組件中重複使用。\n\n![什麼時候可以用 composition API](https://lh3.googleusercontent.com/pw/ACtC-3eCvFbdVnrb9iLGHa_ZjO--scQhmd4UfRh8xaImOpv_R_amOSXUVy0KvP8-dGZGfayGYuqILhRuaHk8EH30fnjbCDTXQ1sL149XDMQAtlBOiVxNG9-QAa4PM8P9g0eqsdluiHv5Z7G8c1_pS6OBYE3znQ=w1708-h1280-no?authuser=0)\n\n# Setup & Reactive References\n\n我們來看看一般 Vue 2 寫法如下，畫面會顯示 data return 的 capacity 3。\n![Vue 2 寫法](https://lh3.googleusercontent.com/pw/ACtC-3fimuHNX70ZHmpdzIw8k22KdDWMKqipei1fu7xw-QKGugH2EyXBA0C7jn0VLOH6F8ypXOCIPtZqpGCTgA8U3mF-D51ktcgy2ti-yIkdrwKu7GnOM0g0xWhkcz4b_FvBuN9hj4pouUSClZBoJmVZ9eMwlQ=w1708-h1280-no?authuser=0)\n\n那在 composition API 要怎麼寫呢？我們使用 setup function，他觸發時機會在 components, props, data, methods, computed properties, lifecycle methods 之前，且他是沒辦法用 this 抓到自己這個組件。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eWI_eBp_mjrFvWmA6EvNEZ356XpFV38MvVOhXq2Ge-vC-vH3_RLR6pUPw6PFBDRpXbv1jZDK__yJxOjYhrsrYD94VaMi9REsdh6A6_ZaRZwRkPEOWMkvlviRo39MYdt5aV5uAa9qMvNPzGgx6fGmNQ0g=w1708-h1280-no?authuser=0)\n\nSetup 可以放兩個參數，先介紹第一個參數用法。第一個參數是 props ，他一樣是 reactive 且 可以使用 watch 監聽改變事件如下圖。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3emWzVDwDPK7WrgHEszBhgr-UsIjKvFGVf6Itw2TAvGs0Y0hVtQyXXyZBzSKW19gvrIz5SW5a5C3NDSDNzYufFPn0wieD8RvNm3F4xpgT651nGz-PVnMat5MbiL-YI2uvSp_DBlzrPFqCZb_NKs2qkTYQ=w1708-h1280-no?authuser=0)\n\nSetup 第二個參數是 context，剛剛說在 setup 裡面不能用 this 抓取自己這個組件，所以第二個參數 context 就是拿來取得自己這個組件的內容，就相當於以前的 this。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eGf9nsqqhd9MQbfrR3ZM5kprpY6PNwbIWG6Na2_g_PQnmmWwCKFPYwmjNS5OF8mMu5ETKiC_Z60-W33BxyP5jQUn56WiSeZNb6j89lfevlliJgYn5Luc0BF4myz1ZTENDmENgeDOXAwWuwl-SgrJSHkw=w1708-h1280-no?authuser=0)\n\n我們回頭來看看 setup 要怎麼寫。我們會令一個常數 capacity 是 ref(3)，這邊的 ref 是 reactive reference function。這邊將我們的原始值包在一個物件當中，相當於 Vue 2 我們將值包在data返回的物件中。這邊要注意的是：用 composition API 也可以造不跟此組件相關的 reactive 物件。這邊影片當中說這是個好處，但不確定好處是在哪裡？可能要等以後遇到對應的情境才會解釋。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3f_P3n5zpchz5UWRVigSz3nS4LGGw5BfF6YI83-9hPmYco3uUMDgd95x38xbPS5B4j56nIydDvWobfWDIfcj2uNs38WOecRLezuX-dHmxPJDCrEJdLGb_39-UDRRhwTOpmuI1B1cA7CXaRLLzw1lUMnBQ=w1708-h1280-no?authuser=0)\n\n最後，我們將要關聯 template 的變數和函數 return 出來。雖然這寫法很冗長，但他讓我們的程式更容易維護。我們可以控制讓哪些變數或函式輸出，也可以追蹤屬性是從哪裡定義的。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eaJSLKDDeZxuwoPihyTaK-VtIZDVAaXKqPuHWDteFjC1KAjk5UXMCRs-gWVHoHvcQt_WTAqKm1bfUWfETaBCJgURCj3PnJF5jcp1McrVf53Zhl3X0fICg7IwvqzNGNFSG_l-R9u7A-T7EWkgVCJPlSxg=w1708-h1280-no?authuser=0)\n\n# Vue 2 也可以使用 composition API\n\n如果我們想要在 Vue 2 使用 composition API，可以如下圖安裝進來。我覺得設計者設想的很周到，不過礙於目前專案開發者程度參差不齊，我應該也是等到Vue 3 出正式版且vuetify 有更新框架後，才會考慮開始用在工作上的專案。\n![Vue 2 使用 composition API](https://lh3.googleusercontent.com/pw/ACtC-3evT6PLP96czPiySVh0t_XjIZPawE78kFDXMuxS3JEMM8TEemPNbdqdRxS8Y577J_tIJbE_J_cpKTtciGPnRaQt3UVH29Ue-RR6lrDFGO_l7d6gwa8O7hUUig358G6lmOClZTaRnH_4PPCCw7JA3Hm5Hg=w1708-h1280-no?authuser=0)\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Setup & Reactive References](https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references)","source":"_posts/Vue/Vue-3-Studies-Setup-Reactive-References.md","raw":"---\ntitle: Vue 3 Studies - Setup & Reactive References\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2020/07/20\nupdated: 2020/07/20\n---\n\n上一篇我們提到為什麼使用 composition API，這次要複習在何時使用並介紹 Setup & Reactive References 的使用方式。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\n\n# 什麼時候要用 composition API？\n\n影片中再次強調 composition API 只是多一種選擇的程式寫法，舊有的 Vue 2 寫法還是可以完完全全繼續使用。那我們什麼時候可以用 composition API 呢？\n\n1. 當專案想要使用強型別寫法，將可以順利支援 typescript。\n2. 當組件過於龐大，需要用功能來重新組織程式架構。\n3. 部分功能的程式需要在不同組件中重複使用。\n\n![什麼時候可以用 composition API](https://lh3.googleusercontent.com/pw/ACtC-3eCvFbdVnrb9iLGHa_ZjO--scQhmd4UfRh8xaImOpv_R_amOSXUVy0KvP8-dGZGfayGYuqILhRuaHk8EH30fnjbCDTXQ1sL149XDMQAtlBOiVxNG9-QAa4PM8P9g0eqsdluiHv5Z7G8c1_pS6OBYE3znQ=w1708-h1280-no?authuser=0)\n\n# Setup & Reactive References\n\n我們來看看一般 Vue 2 寫法如下，畫面會顯示 data return 的 capacity 3。\n![Vue 2 寫法](https://lh3.googleusercontent.com/pw/ACtC-3fimuHNX70ZHmpdzIw8k22KdDWMKqipei1fu7xw-QKGugH2EyXBA0C7jn0VLOH6F8ypXOCIPtZqpGCTgA8U3mF-D51ktcgy2ti-yIkdrwKu7GnOM0g0xWhkcz4b_FvBuN9hj4pouUSClZBoJmVZ9eMwlQ=w1708-h1280-no?authuser=0)\n\n那在 composition API 要怎麼寫呢？我們使用 setup function，他觸發時機會在 components, props, data, methods, computed properties, lifecycle methods 之前，且他是沒辦法用 this 抓到自己這個組件。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eWI_eBp_mjrFvWmA6EvNEZ356XpFV38MvVOhXq2Ge-vC-vH3_RLR6pUPw6PFBDRpXbv1jZDK__yJxOjYhrsrYD94VaMi9REsdh6A6_ZaRZwRkPEOWMkvlviRo39MYdt5aV5uAa9qMvNPzGgx6fGmNQ0g=w1708-h1280-no?authuser=0)\n\nSetup 可以放兩個參數，先介紹第一個參數用法。第一個參數是 props ，他一樣是 reactive 且 可以使用 watch 監聽改變事件如下圖。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3emWzVDwDPK7WrgHEszBhgr-UsIjKvFGVf6Itw2TAvGs0Y0hVtQyXXyZBzSKW19gvrIz5SW5a5C3NDSDNzYufFPn0wieD8RvNm3F4xpgT651nGz-PVnMat5MbiL-YI2uvSp_DBlzrPFqCZb_NKs2qkTYQ=w1708-h1280-no?authuser=0)\n\nSetup 第二個參數是 context，剛剛說在 setup 裡面不能用 this 抓取自己這個組件，所以第二個參數 context 就是拿來取得自己這個組件的內容，就相當於以前的 this。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eGf9nsqqhd9MQbfrR3ZM5kprpY6PNwbIWG6Na2_g_PQnmmWwCKFPYwmjNS5OF8mMu5ETKiC_Z60-W33BxyP5jQUn56WiSeZNb6j89lfevlliJgYn5Luc0BF4myz1ZTENDmENgeDOXAwWuwl-SgrJSHkw=w1708-h1280-no?authuser=0)\n\n我們回頭來看看 setup 要怎麼寫。我們會令一個常數 capacity 是 ref(3)，這邊的 ref 是 reactive reference function。這邊將我們的原始值包在一個物件當中，相當於 Vue 2 我們將值包在data返回的物件中。這邊要注意的是：用 composition API 也可以造不跟此組件相關的 reactive 物件。這邊影片當中說這是個好處，但不確定好處是在哪裡？可能要等以後遇到對應的情境才會解釋。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3f_P3n5zpchz5UWRVigSz3nS4LGGw5BfF6YI83-9hPmYco3uUMDgd95x38xbPS5B4j56nIydDvWobfWDIfcj2uNs38WOecRLezuX-dHmxPJDCrEJdLGb_39-UDRRhwTOpmuI1B1cA7CXaRLLzw1lUMnBQ=w1708-h1280-no?authuser=0)\n\n最後，我們將要關聯 template 的變數和函數 return 出來。雖然這寫法很冗長，但他讓我們的程式更容易維護。我們可以控制讓哪些變數或函式輸出，也可以追蹤屬性是從哪裡定義的。\n![composition API 寫法](https://lh3.googleusercontent.com/pw/ACtC-3eaJSLKDDeZxuwoPihyTaK-VtIZDVAaXKqPuHWDteFjC1KAjk5UXMCRs-gWVHoHvcQt_WTAqKm1bfUWfETaBCJgURCj3PnJF5jcp1McrVf53Zhl3X0fICg7IwvqzNGNFSG_l-R9u7A-T7EWkgVCJPlSxg=w1708-h1280-no?authuser=0)\n\n# Vue 2 也可以使用 composition API\n\n如果我們想要在 Vue 2 使用 composition API，可以如下圖安裝進來。我覺得設計者設想的很周到，不過礙於目前專案開發者程度參差不齊，我應該也是等到Vue 3 出正式版且vuetify 有更新框架後，才會考慮開始用在工作上的專案。\n![Vue 2 使用 composition API](https://lh3.googleusercontent.com/pw/ACtC-3evT6PLP96czPiySVh0t_XjIZPawE78kFDXMuxS3JEMM8TEemPNbdqdRxS8Y577J_tIJbE_J_cpKTtciGPnRaQt3UVH29Ue-RR6lrDFGO_l7d6gwa8O7hUUig358G6lmOClZTaRnH_4PPCCw7JA3Hm5Hg=w1708-h1280-no?authuser=0)\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Setup & Reactive References](https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references)","slug":"Vue/Vue-3-Studies-Setup-Reactive-References","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s00045r3y71a0henme","content":"<p>上一篇我們提到為什麼使用 composition API，這次要複習在何時使用並介紹 Setup &amp; Reactive References 的使用方式。</p>\n<span id=\"more\"></span>\n\n<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\">https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references</a></p>\n<h1 id=\"什麼時候要用-composition-API？\"><a href=\"#什麼時候要用-composition-API？\" class=\"headerlink\" title=\"什麼時候要用 composition API？\"></a>什麼時候要用 composition API？</h1><p>影片中再次強調 composition API 只是多一種選擇的程式寫法，舊有的 Vue 2 寫法還是可以完完全全繼續使用。那我們什麼時候可以用 composition API 呢？</p>\n<ol>\n<li>當專案想要使用強型別寫法，將可以順利支援 typescript。</li>\n<li>當組件過於龐大，需要用功能來重新組織程式架構。</li>\n<li>部分功能的程式需要在不同組件中重複使用。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eCvFbdVnrb9iLGHa_ZjO--scQhmd4UfRh8xaImOpv_R_amOSXUVy0KvP8-dGZGfayGYuqILhRuaHk8EH30fnjbCDTXQ1sL149XDMQAtlBOiVxNG9-QAa4PM8P9g0eqsdluiHv5Z7G8c1_pS6OBYE3znQ=w1708-h1280-no?authuser=0\" alt=\"什麼時候可以用 composition API\"></p>\n<h1 id=\"Setup-amp-Reactive-References\"><a href=\"#Setup-amp-Reactive-References\" class=\"headerlink\" title=\"Setup &amp; Reactive References\"></a>Setup &amp; Reactive References</h1><p>我們來看看一般 Vue 2 寫法如下，畫面會顯示 data return 的 capacity 3。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fimuHNX70ZHmpdzIw8k22KdDWMKqipei1fu7xw-QKGugH2EyXBA0C7jn0VLOH6F8ypXOCIPtZqpGCTgA8U3mF-D51ktcgy2ti-yIkdrwKu7GnOM0g0xWhkcz4b_FvBuN9hj4pouUSClZBoJmVZ9eMwlQ=w1708-h1280-no?authuser=0\" alt=\"Vue 2 寫法\"></p>\n<p>那在 composition API 要怎麼寫呢？我們使用 setup function，他觸發時機會在 components, props, data, methods, computed properties, lifecycle methods 之前，且他是沒辦法用 this 抓到自己這個組件。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eWI_eBp_mjrFvWmA6EvNEZ356XpFV38MvVOhXq2Ge-vC-vH3_RLR6pUPw6PFBDRpXbv1jZDK__yJxOjYhrsrYD94VaMi9REsdh6A6_ZaRZwRkPEOWMkvlviRo39MYdt5aV5uAa9qMvNPzGgx6fGmNQ0g=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>Setup 可以放兩個參數，先介紹第一個參數用法。第一個參數是 props ，他一樣是 reactive 且 可以使用 watch 監聽改變事件如下圖。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3emWzVDwDPK7WrgHEszBhgr-UsIjKvFGVf6Itw2TAvGs0Y0hVtQyXXyZBzSKW19gvrIz5SW5a5C3NDSDNzYufFPn0wieD8RvNm3F4xpgT651nGz-PVnMat5MbiL-YI2uvSp_DBlzrPFqCZb_NKs2qkTYQ=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>Setup 第二個參數是 context，剛剛說在 setup 裡面不能用 this 抓取自己這個組件，所以第二個參數 context 就是拿來取得自己這個組件的內容，就相當於以前的 this。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eGf9nsqqhd9MQbfrR3ZM5kprpY6PNwbIWG6Na2_g_PQnmmWwCKFPYwmjNS5OF8mMu5ETKiC_Z60-W33BxyP5jQUn56WiSeZNb6j89lfevlliJgYn5Luc0BF4myz1ZTENDmENgeDOXAwWuwl-SgrJSHkw=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>我們回頭來看看 setup 要怎麼寫。我們會令一個常數 capacity 是 ref(3)，這邊的 ref 是 reactive reference function。這邊將我們的原始值包在一個物件當中，相當於 Vue 2 我們將值包在data返回的物件中。這邊要注意的是：用 composition API 也可以造不跟此組件相關的 reactive 物件。這邊影片當中說這是個好處，但不確定好處是在哪裡？可能要等以後遇到對應的情境才會解釋。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3f_P3n5zpchz5UWRVigSz3nS4LGGw5BfF6YI83-9hPmYco3uUMDgd95x38xbPS5B4j56nIydDvWobfWDIfcj2uNs38WOecRLezuX-dHmxPJDCrEJdLGb_39-UDRRhwTOpmuI1B1cA7CXaRLLzw1lUMnBQ=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>最後，我們將要關聯 template 的變數和函數 return 出來。雖然這寫法很冗長，但他讓我們的程式更容易維護。我們可以控制讓哪些變數或函式輸出，也可以追蹤屬性是從哪裡定義的。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eaJSLKDDeZxuwoPihyTaK-VtIZDVAaXKqPuHWDteFjC1KAjk5UXMCRs-gWVHoHvcQt_WTAqKm1bfUWfETaBCJgURCj3PnJF5jcp1McrVf53Zhl3X0fICg7IwvqzNGNFSG_l-R9u7A-T7EWkgVCJPlSxg=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<h1 id=\"Vue-2-也可以使用-composition-API\"><a href=\"#Vue-2-也可以使用-composition-API\" class=\"headerlink\" title=\"Vue 2 也可以使用 composition API\"></a>Vue 2 也可以使用 composition API</h1><p>如果我們想要在 Vue 2 使用 composition API，可以如下圖安裝進來。我覺得設計者設想的很周到，不過礙於目前專案開發者程度參差不齊，我應該也是等到Vue 3 出正式版且vuetify 有更新框架後，才會考慮開始用在工作上的專案。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3evT6PLP96czPiySVh0t_XjIZPawE78kFDXMuxS3JEMM8TEemPNbdqdRxS8Y577J_tIJbE_J_cpKTtciGPnRaQt3UVH29Ue-RR6lrDFGO_l7d6gwa8O7hUUig358G6lmOClZTaRnH_4PPCCw7JA3Hm5Hg=w1708-h1280-no?authuser=0\" alt=\"Vue 2 使用 composition API\"></p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\">Setup &amp; Reactive References</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>上一篇我們提到為什麼使用 composition API，這次要複習在何時使用並介紹 Setup &amp; Reactive References 的使用方式。</p>","more":"<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\">https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references</a></p>\n<h1 id=\"什麼時候要用-composition-API？\"><a href=\"#什麼時候要用-composition-API？\" class=\"headerlink\" title=\"什麼時候要用 composition API？\"></a>什麼時候要用 composition API？</h1><p>影片中再次強調 composition API 只是多一種選擇的程式寫法，舊有的 Vue 2 寫法還是可以完完全全繼續使用。那我們什麼時候可以用 composition API 呢？</p>\n<ol>\n<li>當專案想要使用強型別寫法，將可以順利支援 typescript。</li>\n<li>當組件過於龐大，需要用功能來重新組織程式架構。</li>\n<li>部分功能的程式需要在不同組件中重複使用。</li>\n</ol>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eCvFbdVnrb9iLGHa_ZjO--scQhmd4UfRh8xaImOpv_R_amOSXUVy0KvP8-dGZGfayGYuqILhRuaHk8EH30fnjbCDTXQ1sL149XDMQAtlBOiVxNG9-QAa4PM8P9g0eqsdluiHv5Z7G8c1_pS6OBYE3znQ=w1708-h1280-no?authuser=0\" alt=\"什麼時候可以用 composition API\"></p>\n<h1 id=\"Setup-amp-Reactive-References\"><a href=\"#Setup-amp-Reactive-References\" class=\"headerlink\" title=\"Setup &amp; Reactive References\"></a>Setup &amp; Reactive References</h1><p>我們來看看一般 Vue 2 寫法如下，畫面會顯示 data return 的 capacity 3。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fimuHNX70ZHmpdzIw8k22KdDWMKqipei1fu7xw-QKGugH2EyXBA0C7jn0VLOH6F8ypXOCIPtZqpGCTgA8U3mF-D51ktcgy2ti-yIkdrwKu7GnOM0g0xWhkcz4b_FvBuN9hj4pouUSClZBoJmVZ9eMwlQ=w1708-h1280-no?authuser=0\" alt=\"Vue 2 寫法\"></p>\n<p>那在 composition API 要怎麼寫呢？我們使用 setup function，他觸發時機會在 components, props, data, methods, computed properties, lifecycle methods 之前，且他是沒辦法用 this 抓到自己這個組件。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eWI_eBp_mjrFvWmA6EvNEZ356XpFV38MvVOhXq2Ge-vC-vH3_RLR6pUPw6PFBDRpXbv1jZDK__yJxOjYhrsrYD94VaMi9REsdh6A6_ZaRZwRkPEOWMkvlviRo39MYdt5aV5uAa9qMvNPzGgx6fGmNQ0g=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>Setup 可以放兩個參數，先介紹第一個參數用法。第一個參數是 props ，他一樣是 reactive 且 可以使用 watch 監聽改變事件如下圖。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3emWzVDwDPK7WrgHEszBhgr-UsIjKvFGVf6Itw2TAvGs0Y0hVtQyXXyZBzSKW19gvrIz5SW5a5C3NDSDNzYufFPn0wieD8RvNm3F4xpgT651nGz-PVnMat5MbiL-YI2uvSp_DBlzrPFqCZb_NKs2qkTYQ=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>Setup 第二個參數是 context，剛剛說在 setup 裡面不能用 this 抓取自己這個組件，所以第二個參數 context 就是拿來取得自己這個組件的內容，就相當於以前的 this。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eGf9nsqqhd9MQbfrR3ZM5kprpY6PNwbIWG6Na2_g_PQnmmWwCKFPYwmjNS5OF8mMu5ETKiC_Z60-W33BxyP5jQUn56WiSeZNb6j89lfevlliJgYn5Luc0BF4myz1ZTENDmENgeDOXAwWuwl-SgrJSHkw=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>我們回頭來看看 setup 要怎麼寫。我們會令一個常數 capacity 是 ref(3)，這邊的 ref 是 reactive reference function。這邊將我們的原始值包在一個物件當中，相當於 Vue 2 我們將值包在data返回的物件中。這邊要注意的是：用 composition API 也可以造不跟此組件相關的 reactive 物件。這邊影片當中說這是個好處，但不確定好處是在哪裡？可能要等以後遇到對應的情境才會解釋。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3f_P3n5zpchz5UWRVigSz3nS4LGGw5BfF6YI83-9hPmYco3uUMDgd95x38xbPS5B4j56nIydDvWobfWDIfcj2uNs38WOecRLezuX-dHmxPJDCrEJdLGb_39-UDRRhwTOpmuI1B1cA7CXaRLLzw1lUMnBQ=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<p>最後，我們將要關聯 template 的變數和函數 return 出來。雖然這寫法很冗長，但他讓我們的程式更容易維護。我們可以控制讓哪些變數或函式輸出，也可以追蹤屬性是從哪裡定義的。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eaJSLKDDeZxuwoPihyTaK-VtIZDVAaXKqPuHWDteFjC1KAjk5UXMCRs-gWVHoHvcQt_WTAqKm1bfUWfETaBCJgURCj3PnJF5jcp1McrVf53Zhl3X0fICg7IwvqzNGNFSG_l-R9u7A-T7EWkgVCJPlSxg=w1708-h1280-no?authuser=0\" alt=\"composition API 寫法\"></p>\n<h1 id=\"Vue-2-也可以使用-composition-API\"><a href=\"#Vue-2-也可以使用-composition-API\" class=\"headerlink\" title=\"Vue 2 也可以使用 composition API\"></a>Vue 2 也可以使用 composition API</h1><p>如果我們想要在 Vue 2 使用 composition API，可以如下圖安裝進來。我覺得設計者設想的很周到，不過礙於目前專案開發者程度參差不齊，我應該也是等到Vue 3 出正式版且vuetify 有更新框架後，才會考慮開始用在工作上的專案。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3evT6PLP96czPiySVh0t_XjIZPawE78kFDXMuxS3JEMM8TEemPNbdqdRxS8Y577J_tIJbE_J_cpKTtciGPnRaQt3UVH29Ue-RR6lrDFGO_l7d6gwa8O7hUUig358G6lmOClZTaRnH_4PPCCw7JA3Hm5Hg=w1708-h1280-no?authuser=0\" alt=\"Vue 2 使用 composition API\"></p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/setup-and-reactive-references\">Setup &amp; Reactive References</a></li>\n</ul>"},{"title":"Vue 3 Studies - Sharing State","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2021-12-09T16:00:00.000Z","updated":"2021-12-09T16:00:00.000Z","_content":"\n當我們在呼叫 API 後，通常會有很多後續的功能接續運作，例如：更換狀態、顯示錯誤訊息、使用 try catch blocks 等等。來看看這個搜尋範例是怎麼把程式碼抽取出來。\n\n<!--more-->\n\n# 搜尋範例\n\n我們先來看這段程式碼。\n\n/src/App.js\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Loading: {{ loading }}</p>\n      <p>Error: {{ error }}</p>\n      <p>Number of events: {{ results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref, watch } from \"@vue/composition-api\";\nimport eventApi from \"@/api/event.js\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const results = ref(null);\n    const loading = ref(false);\n    const error = ref(null);\n    async function loadData(search) {\n      loading.value = true;\n      error.value = null;\n      results.value = null;\n      try {\n        results.value = await eventApi.getEventCount(search.value);\n      } catch (err) {\n        error.value = err;\n      } finally {\n        loading.value = false;\n      }\n    }\n    watch(searchInput, () => {\n      if(searchInput.value !== \"\") {\n        loadData(searchInput);\n      } else {\n        results.value = null;\n      }\n    });\n    return { searchInput, results, loading, error };\n  }\n};\n</script>\n```\n\n如果在瀏覽器看起來會是這樣。\n\n![搜尋範例](https://lh3.googleusercontent.com/pw/AM-JKLXQs69TPoX7GprbmZBG6Y68BrYLrm3cb6egPdaqAiNEcOc37JZKkYsxrhLBv9d7V2jR1u-9IVjRYsLb2NChLCFZExtDrAw7YgKKWvQdz3s0-tPNlcZY0ym985SowsAYQ3974n1AwsdwdR_wAuhTrT-ewg=w1420-h995-no?authuser=0)\n\n# 程式碼抽取\n\n接下來我們試著把 api 這段抽取出來。\n\ncomposables/use-promise.js\n\n```js\nimport { ref } from \"@vue/composition-api\";\n\nexport default function usePromise(fn) {\n  const results = ref(null);\n  const loading = ref(false);\n  const error = ref(null);\n  const createPromise = async (...args) => {\n    loading.value = true;\n    error.value = null;\n    results.value = null;\n    try {\n      results.value = await fn(...args);\n    } catch (err) {\n      error.value = err;\n    } finally {\n      loading.value = false;\n    }\n  }\n  return { results, loading, error, createPromise };\n}\n```\n\n然後我們把抽取出來的程式碼，替代回原本的 App.js。\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Loading: {{ getEvents.loading }}</p>\n      <p>Error: {{ getEvents.error }}</p>\n      <p>Number of events: {{ getEvents.results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref, watch } from \"@vue/composition-api\";\nimport eventApi from \"@/api/event.js\";\nimport usePromise from \"@/composables/use-promise\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const getEvents = usePromise(search =>\n      eventApi.getEventCount(search.value)\n    );\n    watch(searchInput, () => {\n      if(searchInput.value !== \"\") {\n        getEvents.createPromise(searchInput);\n      } else {\n        getEvents.results.value = null;\n      }\n    });\n    return { searchInput, getEvents };\n  }\n};\n</script>\n```\n\n這樣就完成程式碼的抽取替換囉～另外要注意的事，如果用 Vue 2 的話，html 的部分都要再多加 .value 才會抓到值，但如果是直接用 Vue 3 的話，上面程式碼就能直接正常運行。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Sharing-State.md","raw":"---\ntitle: Vue 3 Studies - Sharing State\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2021/12/10\nupdated: 2021/12/10\n---\n\n當我們在呼叫 API 後，通常會有很多後續的功能接續運作，例如：更換狀態、顯示錯誤訊息、使用 try catch blocks 等等。來看看這個搜尋範例是怎麼把程式碼抽取出來。\n\n<!--more-->\n\n# 搜尋範例\n\n我們先來看這段程式碼。\n\n/src/App.js\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Loading: {{ loading }}</p>\n      <p>Error: {{ error }}</p>\n      <p>Number of events: {{ results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref, watch } from \"@vue/composition-api\";\nimport eventApi from \"@/api/event.js\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const results = ref(null);\n    const loading = ref(false);\n    const error = ref(null);\n    async function loadData(search) {\n      loading.value = true;\n      error.value = null;\n      results.value = null;\n      try {\n        results.value = await eventApi.getEventCount(search.value);\n      } catch (err) {\n        error.value = err;\n      } finally {\n        loading.value = false;\n      }\n    }\n    watch(searchInput, () => {\n      if(searchInput.value !== \"\") {\n        loadData(searchInput);\n      } else {\n        results.value = null;\n      }\n    });\n    return { searchInput, results, loading, error };\n  }\n};\n</script>\n```\n\n如果在瀏覽器看起來會是這樣。\n\n![搜尋範例](https://lh3.googleusercontent.com/pw/AM-JKLXQs69TPoX7GprbmZBG6Y68BrYLrm3cb6egPdaqAiNEcOc37JZKkYsxrhLBv9d7V2jR1u-9IVjRYsLb2NChLCFZExtDrAw7YgKKWvQdz3s0-tPNlcZY0ym985SowsAYQ3974n1AwsdwdR_wAuhTrT-ewg=w1420-h995-no?authuser=0)\n\n# 程式碼抽取\n\n接下來我們試著把 api 這段抽取出來。\n\ncomposables/use-promise.js\n\n```js\nimport { ref } from \"@vue/composition-api\";\n\nexport default function usePromise(fn) {\n  const results = ref(null);\n  const loading = ref(false);\n  const error = ref(null);\n  const createPromise = async (...args) => {\n    loading.value = true;\n    error.value = null;\n    results.value = null;\n    try {\n      results.value = await fn(...args);\n    } catch (err) {\n      error.value = err;\n    } finally {\n      loading.value = false;\n    }\n  }\n  return { results, loading, error, createPromise };\n}\n```\n\n然後我們把抽取出來的程式碼，替代回原本的 App.js。\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Loading: {{ getEvents.loading }}</p>\n      <p>Error: {{ getEvents.error }}</p>\n      <p>Number of events: {{ getEvents.results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref, watch } from \"@vue/composition-api\";\nimport eventApi from \"@/api/event.js\";\nimport usePromise from \"@/composables/use-promise\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const getEvents = usePromise(search =>\n      eventApi.getEventCount(search.value)\n    );\n    watch(searchInput, () => {\n      if(searchInput.value !== \"\") {\n        getEvents.createPromise(searchInput);\n      } else {\n        getEvents.results.value = null;\n      }\n    });\n    return { searchInput, getEvents };\n  }\n};\n</script>\n```\n\n這樣就完成程式碼的抽取替換囉～另外要注意的事，如果用 Vue 2 的話，html 的部分都要再多加 .value 才會抓到值，但如果是直接用 Vue 3 的話，上面程式碼就能直接正常運行。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Sharing-State","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s10049r3y7c1iia5w5","content":"<p>當我們在呼叫 API 後，通常會有很多後續的功能接續運作，例如：更換狀態、顯示錯誤訊息、使用 try catch blocks 等等。來看看這個搜尋範例是怎麼把程式碼抽取出來。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"搜尋範例\"><a href=\"#搜尋範例\" class=\"headerlink\" title=\"搜尋範例\"></a>搜尋範例</h1><p>我們先來看這段程式碼。</p>\n<p>&#x2F;src&#x2F;App.js</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Loading: &#123;&#123; loading &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Error: &#123;&#123; error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, watch &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> loading = <span class=\"title function_\">ref</span>(<span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">loadData</span>(<span class=\"params\">search</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      loading.<span class=\"property\">value</span> = <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      error.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">try</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        results.<span class=\"property\">value</span> = <span class=\"keyword\">await</span> eventApi.<span class=\"title function_\">getEventCount</span>(search.<span class=\"property\">value</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        error.<span class=\"property\">value</span> = err;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">finally</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        loading.<span class=\"property\">value</span> = <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(searchInput.<span class=\"property\">value</span> !== <span class=\"string\">&quot;&quot;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">loadData</span>(searchInput);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, results, loading, error &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果在瀏覽器看起來會是這樣。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXQs69TPoX7GprbmZBG6Y68BrYLrm3cb6egPdaqAiNEcOc37JZKkYsxrhLBv9d7V2jR1u-9IVjRYsLb2NChLCFZExtDrAw7YgKKWvQdz3s0-tPNlcZY0ym985SowsAYQ3974n1AwsdwdR_wAuhTrT-ewg=w1420-h995-no?authuser=0\" alt=\"搜尋範例\"></p>\n<h1 id=\"程式碼抽取\"><a href=\"#程式碼抽取\" class=\"headerlink\" title=\"程式碼抽取\"></a>程式碼抽取</h1><p>接下來我們試著把 api 這段抽取出來。</p>\n<p>composables&#x2F;use-promise.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">usePromise</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> loading = <span class=\"title function_\">ref</span>(<span class=\"literal\">false</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">createPromise</span> = <span class=\"keyword\">async</span> (<span class=\"params\">...args</span>) =&gt; &#123;</span><br><span class=\"line\">    loading.<span class=\"property\">value</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    error.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      results.<span class=\"property\">value</span> = <span class=\"keyword\">await</span> <span class=\"title function_\">fn</span>(...args);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      error.<span class=\"property\">value</span> = err;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      loading.<span class=\"property\">value</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; results, loading, error, createPromise &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>然後我們把抽取出來的程式碼，替代回原本的 App.js。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Loading: &#123;&#123; getEvents.loading &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Error: &#123;&#123; getEvents.error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; getEvents.results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, watch &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> usePromise <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/composables/use-promise&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> getEvents = <span class=\"title function_\">usePromise</span>(<span class=\"function\"><span class=\"params\">search</span> =&gt;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      eventApi.<span class=\"title function_\">getEventCount</span>(search.<span class=\"property\">value</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    );</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(searchInput.<span class=\"property\">value</span> !== <span class=\"string\">&quot;&quot;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        getEvents.<span class=\"title function_\">createPromise</span>(searchInput);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        getEvents.<span class=\"property\">results</span>.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, getEvents &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>這樣就完成程式碼的抽取替換囉～另外要注意的事，如果用 Vue 2 的話，html 的部分都要再多加 .value 才會抓到值，但如果是直接用 Vue 3 的話，上面程式碼就能直接正常運行。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>當我們在呼叫 API 後，通常會有很多後續的功能接續運作，例如：更換狀態、顯示錯誤訊息、使用 try catch blocks 等等。來看看這個搜尋範例是怎麼把程式碼抽取出來。</p>","more":"<h1 id=\"搜尋範例\"><a href=\"#搜尋範例\" class=\"headerlink\" title=\"搜尋範例\"></a>搜尋範例</h1><p>我們先來看這段程式碼。</p>\n<p>&#x2F;src&#x2F;App.js</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Loading: &#123;&#123; loading &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Error: &#123;&#123; error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, watch &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> loading = <span class=\"title function_\">ref</span>(<span class=\"literal\">false</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">loadData</span>(<span class=\"params\">search</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      loading.<span class=\"property\">value</span> = <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      error.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">try</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        results.<span class=\"property\">value</span> = <span class=\"keyword\">await</span> eventApi.<span class=\"title function_\">getEventCount</span>(search.<span class=\"property\">value</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        error.<span class=\"property\">value</span> = err;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">finally</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        loading.<span class=\"property\">value</span> = <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(searchInput.<span class=\"property\">value</span> !== <span class=\"string\">&quot;&quot;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">loadData</span>(searchInput);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, results, loading, error &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果在瀏覽器看起來會是這樣。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXQs69TPoX7GprbmZBG6Y68BrYLrm3cb6egPdaqAiNEcOc37JZKkYsxrhLBv9d7V2jR1u-9IVjRYsLb2NChLCFZExtDrAw7YgKKWvQdz3s0-tPNlcZY0ym985SowsAYQ3974n1AwsdwdR_wAuhTrT-ewg=w1420-h995-no?authuser=0\" alt=\"搜尋範例\"></p>\n<h1 id=\"程式碼抽取\"><a href=\"#程式碼抽取\" class=\"headerlink\" title=\"程式碼抽取\"></a>程式碼抽取</h1><p>接下來我們試著把 api 這段抽取出來。</p>\n<p>composables&#x2F;use-promise.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">usePromise</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> loading = <span class=\"title function_\">ref</span>(<span class=\"literal\">false</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">createPromise</span> = <span class=\"keyword\">async</span> (<span class=\"params\">...args</span>) =&gt; &#123;</span><br><span class=\"line\">    loading.<span class=\"property\">value</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    error.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    results.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      results.<span class=\"property\">value</span> = <span class=\"keyword\">await</span> <span class=\"title function_\">fn</span>(...args);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      error.<span class=\"property\">value</span> = err;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      loading.<span class=\"property\">value</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; results, loading, error, createPromise &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>然後我們把抽取出來的程式碼，替代回原本的 App.js。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Loading: &#123;&#123; getEvents.loading &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Error: &#123;&#123; getEvents.error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; getEvents.results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, watch &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@vue/composition-api&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> usePromise <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/composables/use-promise&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> getEvents = <span class=\"title function_\">usePromise</span>(<span class=\"function\"><span class=\"params\">search</span> =&gt;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      eventApi.<span class=\"title function_\">getEventCount</span>(search.<span class=\"property\">value</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    );</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(searchInput.<span class=\"property\">value</span> !== <span class=\"string\">&quot;&quot;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        getEvents.<span class=\"title function_\">createPromise</span>(searchInput);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        getEvents.<span class=\"property\">results</span>.<span class=\"property\">value</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, getEvents &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>這樣就完成程式碼的抽取替換囉～另外要注意的事，如果用 Vue 2 的話，html 的部分都要再多加 .value 才會抓到值，但如果是直接用 Vue 3 的話，上面程式碼就能直接正常運行。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Vue 3 Studies - Suspense","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2022-01-13T16:00:00.000Z","updated":"2022-01-13T16:00:00.000Z","_content":"\nSuspense 這個元件是 Vue 參考 React 那邊所得到的靈感。當我們打開頁面時，通常會有多個非同步的 API 呼叫，出現 Loading 中，等到資料都到齊，才會看到完整的頁面。以往都是用 v-if 來判別 data 是否都到齊，在 Vue 3 中就能用 Suspense 元件來做這件事情，且多個非同步的 API 也能自動判別，非常省時省力。\n\n<!--more-->\n\n# Suspense 範例\n\n我們先來看這段程式碼。\n\n```html\n<template>\n  <Suspense>\n    <template #default>\n      <!-- Put components here, one or more of which makes an asychronous call -->\n    </template>\n    <template #fallback>\n      <!-- What to display when loading -->\n    </template>\n  </Suspense>\n</template>\n```\n\nSuspense 元件內，用 template block 區分要顯示的內容， default 為主要內容，在這裡串接 API， fallback 則是顯示 Loading 的畫面。我們放一個簡單的範例如下。\n\n```html\n<template>\n  <Suspense>\n    <template #default>\n      <Event />\n    </template>\n    <template #fallback>\n      Loading...\n    </template>\n  </Suspense>\n</template>\n<script>\n  import Event from \"@/components/Event.vue\";\n  export default {\n    components: { Event },\n  };\n</script>\n```\n\nEvent.vue 大約長下面這樣。\n\n```html\n<template>\n  ...\n</template>\n<script>\n  import useEventSpace from \"@/composables/use-event-space\";\n  export default {\n    async setup() {\n      const { capacity, attending, spaceLeft, increaseCapacity } = await useEventSpace();\n      return { capacity, attending, spaceLeft, increaseCapacity };\n    },\n  };\n</script>\n```\n\n注意！這邊 setup 有用 async，因為 useEventSpace 裡面有接 API 。如此一來 Suspense 就能知道若 API 還沒回傳 data 的時候，換先顯示 Loading 的字樣。若想放多個非同步的 API 也能自動判別，非常方便。\n\n# 當 error 發生要怎麼處理？\n\n如果 API 出現 error 要怎麼處理？我們可以再加一層簡單的 v-if 防呆，並使用新的 lifecycle hook 監聽錯誤的訊息，適當的傳出來，程式碼大約長下面這個樣子，這樣前端的使用者就不會接到 console 的錯誤。\n\n```html\n<template>\n  <div v-if=\"error\">Uh oh .. {{ error }}</div>\n  <Suspense v-else>\n    <template #default>\n      <Event />\n    </template>\n    <template #fallback>\n      Loading...\n    </template>\n  </Suspense>\n</template>\n<script>\n  import Event from \"@/components/Event.vue\";\n  import { ref, onErrorCaptured } from \"vue\";\n  export default {\n    components: { Event },\n    setup() {\n      const error = ref(null);\n      onErrorCaptured((e) => {\n        error.value = e;\n        return true;\n      });\n      return { error };\n    },\n  };\n</script>\n```\n\n# 延伸應用：Skeleton Loading Screens\n\n像外面常看的 UX 應用 Skeleton Loading，就可以跟 Suspense 結合，放在 fallback 的地方，非常適合。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Suspense.md","raw":"---\ntitle: Vue 3 Studies - Suspense\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2022/01/14\nupdated: 2022/01/14\n---\n\nSuspense 這個元件是 Vue 參考 React 那邊所得到的靈感。當我們打開頁面時，通常會有多個非同步的 API 呼叫，出現 Loading 中，等到資料都到齊，才會看到完整的頁面。以往都是用 v-if 來判別 data 是否都到齊，在 Vue 3 中就能用 Suspense 元件來做這件事情，且多個非同步的 API 也能自動判別，非常省時省力。\n\n<!--more-->\n\n# Suspense 範例\n\n我們先來看這段程式碼。\n\n```html\n<template>\n  <Suspense>\n    <template #default>\n      <!-- Put components here, one or more of which makes an asychronous call -->\n    </template>\n    <template #fallback>\n      <!-- What to display when loading -->\n    </template>\n  </Suspense>\n</template>\n```\n\nSuspense 元件內，用 template block 區分要顯示的內容， default 為主要內容，在這裡串接 API， fallback 則是顯示 Loading 的畫面。我們放一個簡單的範例如下。\n\n```html\n<template>\n  <Suspense>\n    <template #default>\n      <Event />\n    </template>\n    <template #fallback>\n      Loading...\n    </template>\n  </Suspense>\n</template>\n<script>\n  import Event from \"@/components/Event.vue\";\n  export default {\n    components: { Event },\n  };\n</script>\n```\n\nEvent.vue 大約長下面這樣。\n\n```html\n<template>\n  ...\n</template>\n<script>\n  import useEventSpace from \"@/composables/use-event-space\";\n  export default {\n    async setup() {\n      const { capacity, attending, spaceLeft, increaseCapacity } = await useEventSpace();\n      return { capacity, attending, spaceLeft, increaseCapacity };\n    },\n  };\n</script>\n```\n\n注意！這邊 setup 有用 async，因為 useEventSpace 裡面有接 API 。如此一來 Suspense 就能知道若 API 還沒回傳 data 的時候，換先顯示 Loading 的字樣。若想放多個非同步的 API 也能自動判別，非常方便。\n\n# 當 error 發生要怎麼處理？\n\n如果 API 出現 error 要怎麼處理？我們可以再加一層簡單的 v-if 防呆，並使用新的 lifecycle hook 監聽錯誤的訊息，適當的傳出來，程式碼大約長下面這個樣子，這樣前端的使用者就不會接到 console 的錯誤。\n\n```html\n<template>\n  <div v-if=\"error\">Uh oh .. {{ error }}</div>\n  <Suspense v-else>\n    <template #default>\n      <Event />\n    </template>\n    <template #fallback>\n      Loading...\n    </template>\n  </Suspense>\n</template>\n<script>\n  import Event from \"@/components/Event.vue\";\n  import { ref, onErrorCaptured } from \"vue\";\n  export default {\n    components: { Event },\n    setup() {\n      const error = ref(null);\n      onErrorCaptured((e) => {\n        error.value = e;\n        return true;\n      });\n      return { error };\n    },\n  };\n</script>\n```\n\n# 延伸應用：Skeleton Loading Screens\n\n像外面常看的 UX 應用 Skeleton Loading，就可以跟 Suspense 結合，放在 fallback 的地方，非常適合。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Suspense","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s2004cr3y73q5xczta","content":"<p>Suspense 這個元件是 Vue 參考 React 那邊所得到的靈感。當我們打開頁面時，通常會有多個非同步的 API 呼叫，出現 Loading 中，等到資料都到齊，才會看到完整的頁面。以往都是用 v-if 來判別 data 是否都到齊，在 Vue 3 中就能用 Suspense 元件來做這件事情，且多個非同步的 API 也能自動判別，非常省時省力。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Suspense-範例\"><a href=\"#Suspense-範例\" class=\"headerlink\" title=\"Suspense 範例\"></a>Suspense 範例</h1><p>我們先來看這段程式碼。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Put components here, one or more of which makes an asychronous call --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- What to display when loading --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>Suspense 元件內，用 template block 區分要顯示的內容， default 為主要內容，在這裡串接 API， fallback 則是顯示 Loading 的畫面。我們放一個簡單的範例如下。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Event</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      Loading...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> <span class=\"title class_\">Event</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/components/Event.vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>: &#123; <span class=\"title class_\">Event</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>Event.vue 大約長下面這樣。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/composables/use-event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">async</span> <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125; = <span class=\"keyword\">await</span> <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>注意！這邊 setup 有用 async，因為 useEventSpace 裡面有接 API 。如此一來 Suspense 就能知道若 API 還沒回傳 data 的時候，換先顯示 Loading 的字樣。若想放多個非同步的 API 也能自動判別，非常方便。</p>\n<h1 id=\"當-error-發生要怎麼處理？\"><a href=\"#當-error-發生要怎麼處理？\" class=\"headerlink\" title=\"當 error 發生要怎麼處理？\"></a>當 error 發生要怎麼處理？</h1><p>如果 API 出現 error 要怎麼處理？我們可以再加一層簡單的 v-if 防呆，並使用新的 lifecycle hook 監聽錯誤的訊息，適當的傳出來，程式碼大約長下面這個樣子，這樣前端的使用者就不會接到 console 的錯誤。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;error&quot;</span>&gt;</span>Uh oh .. &#123;&#123; error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span> <span class=\"attr\">v-else</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Event</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      Loading...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> <span class=\"title class_\">Event</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/components/Event.vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> &#123; ref, onErrorCaptured &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>: &#123; <span class=\"title class_\">Event</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">onErrorCaptured</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        error.<span class=\"property\">value</span> = e;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123; error &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"延伸應用：Skeleton-Loading-Screens\"><a href=\"#延伸應用：Skeleton-Loading-Screens\" class=\"headerlink\" title=\"延伸應用：Skeleton Loading Screens\"></a>延伸應用：Skeleton Loading Screens</h1><p>像外面常看的 UX 應用 Skeleton Loading，就可以跟 Suspense 結合，放在 fallback 的地方，非常適合。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>Suspense 這個元件是 Vue 參考 React 那邊所得到的靈感。當我們打開頁面時，通常會有多個非同步的 API 呼叫，出現 Loading 中，等到資料都到齊，才會看到完整的頁面。以往都是用 v-if 來判別 data 是否都到齊，在 Vue 3 中就能用 Suspense 元件來做這件事情，且多個非同步的 API 也能自動判別，非常省時省力。</p>","more":"<h1 id=\"Suspense-範例\"><a href=\"#Suspense-範例\" class=\"headerlink\" title=\"Suspense 範例\"></a>Suspense 範例</h1><p>我們先來看這段程式碼。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Put components here, one or more of which makes an asychronous call --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- What to display when loading --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>Suspense 元件內，用 template block 區分要顯示的內容， default 為主要內容，在這裡串接 API， fallback 則是顯示 Loading 的畫面。我們放一個簡單的範例如下。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Event</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      Loading...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> <span class=\"title class_\">Event</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/components/Event.vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>: &#123; <span class=\"title class_\">Event</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>Event.vue 大約長下面這樣。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> useEventSpace <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/composables/use-event-space&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">async</span> <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125; = <span class=\"keyword\">await</span> <span class=\"title function_\">useEventSpace</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>注意！這邊 setup 有用 async，因為 useEventSpace 裡面有接 API 。如此一來 Suspense 就能知道若 API 還沒回傳 data 的時候，換先顯示 Loading 的字樣。若想放多個非同步的 API 也能自動判別，非常方便。</p>\n<h1 id=\"當-error-發生要怎麼處理？\"><a href=\"#當-error-發生要怎麼處理？\" class=\"headerlink\" title=\"當 error 發生要怎麼處理？\"></a>當 error 發生要怎麼處理？</h1><p>如果 API 出現 error 要怎麼處理？我們可以再加一層簡單的 v-if 防呆，並使用新的 lifecycle hook 監聽錯誤的訊息，適當的傳出來，程式碼大約長下面這個樣子，這樣前端的使用者就不會接到 console 的錯誤。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;error&quot;</span>&gt;</span>Uh oh .. &#123;&#123; error &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Suspense</span> <span class=\"attr\">v-else</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">default</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Event</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">fallback</span>&gt;</span></span><br><span class=\"line\">      Loading...</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Suspense</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> <span class=\"title class_\">Event</span> <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/components/Event.vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">import</span> &#123; ref, onErrorCaptured &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">components</span>: &#123; <span class=\"title class_\">Event</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> error = <span class=\"title function_\">ref</span>(<span class=\"literal\">null</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">onErrorCaptured</span>(<span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        error.<span class=\"property\">value</span> = e;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123; error &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"延伸應用：Skeleton-Loading-Screens\"><a href=\"#延伸應用：Skeleton-Loading-Screens\" class=\"headerlink\" title=\"延伸應用：Skeleton Loading Screens\"></a>延伸應用：Skeleton Loading Screens</h1><p>像外面常看的 UX 應用 Skeleton Loading，就可以跟 Suspense 結合，放在 fallback 的地方，非常適合。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Vue 3 Studies - Teleport","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2020-09-04T16:00:00.000Z","updated":"2020-09-04T16:00:00.000Z","_content":"\n新功能 teleport 讓我們可以很輕鬆的將 HTML render 在 app 以外的地方，且不影響商業邏輯的整理，趕緊來看看吧！\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/teleport\n\n當我們想要組件的東西 render HTML 在頁面不同地方該怎麼辦？\n\n![要組件的東西 render HTML 在頁面不同地方該怎麼辦](https://lh3.googleusercontent.com/pw/ACtC-3fpkgtPhFxUWsnrtC1-2Wm18O6xBbtprQGM1uUZ-46b9F2C5DgiJ95_xz1T9QtLC1zEs_SGUdzqsh55YOIjpW6D3Bp9OR5WuZmbSQMkFh-iY_PggFpB3-az3YQ0dj7kNeHiZ7sHnta5V1uzoNPvHzrHqA=w1708-h1280-no?authuser=0)\n\n有時 Fixed 或 absolute 的元件因為 z-index 的緣故，需要放在結尾 </body> 的前面。在 Vue 2 如果要把程式移到 #app 的外面是很困難的。\n\n![要組件的東西 render HTML 在頁面不同地方該怎麼辦](https://lh3.googleusercontent.com/pw/ACtC-3e8n-bWxudlY_Bnee9-_YQcuGIz5XPxwsQ6DCqpPVtj18JIYQYSq5gSc6Ega_M9bMgAJp1qiGt3ZC67KHWhbpbEKFt8ZYejrqxBqsuYloisI8tHveYDvY0uxxTR2Q_V45iYunfRuJ5Q9B15TfgHaJuMSQ=w1708-h1280-no?authuser=0)\n\nVue 3 提供了 teleport 元件來解決這個問題。以前叫做 portal ，但為了不跟未來的HTML tag 重名，所以改名為 teleport。teleport 讓我們可以把程式寫在子組件，並用 to 的方式指定要 render HTML 的位置，如下圖。\n\n![teleport](https://lh3.googleusercontent.com/pw/ACtC-3fQL1qJvG8zqkf9D_cBD_FCDWvhgLEka5m4EIILmWKrERGqr2aBCJcYCtY-sjVokVCIc6sASRmefWFWsm03bR40bzBYl2AsVWfxV3ezW9nTnTi_4K0T5EYvy1c058r9d80rpuHUmtNYZVRI0NmRO_RWlQ=w1708-h1280-no?authuser=0)\n\nTo 的屬性除了剛剛使用的 css Id 方式，也可以用 class或 meta attribute 的方式指定要render 的位置。如果要動態賦予值也可以直接 :to 接變數即可。\n\n![teleport to option](https://lh3.googleusercontent.com/pw/ACtC-3eP5oZQ8-nfvhtWjwmxyyqctP7Hl79mDZAfQmI6S0aUle_PQYDqTnvziIhYr_ZGcTyHGZvdxJPtIMfgF7jIB6_xzL74vjEEVDZdtwnE_beRgJ9FCqclcFzLCyJ0bfa8Mx9RMMai8ZclPZRT5gM5ZqnTVw=w1708-h1280-no?authuser=0)\n\n另外，我們可以設定 disabled 屬性，讓組件在 disabled true 的時候把HTML render 回原來組件 app 中。\n\n![teleport disabled](https://lh3.googleusercontent.com/pw/ACtC-3dY9NBXMuvnCpFgRMcEcJuRA3Y7iBlull-kzaoX4E6SuhQJlbtvO74rccEln8zfDT3bU1CmOdpya1byr9Mg-VEUJhP7CRXa-Vm7LVfTs6yJsOuaCOfaHZWrJRmJ4VfA6M4z2FpvQyxviMMYp3Myb29akw=w1708-h1280-no?authuser=0)\n\n![teleport disabled](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport2.gif?alt=media&token=04d9934b-bead-49d8-b146-79a2e168e851)\n\n![teleport disabled](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport3.gif?alt=media&token=08fd1a88-377c-4397-a6df-8ba561476d25)\n\nTeleport 還有一個好處是他會保留原組件的狀態。假設我們在 teleport 裡面放一隻影片播放，當 toggle disabled 屬性的時候，影片會持續播放不會斷掉。\n\n![teleport disabled state](https://lh3.googleusercontent.com/pw/ACtC-3foF18BHGYLWfy1lU9o3Re5ZY0bB81I3vazlvzpsz_pn-x6pkrv9QVxjkAn-vFv7LLMiWHue5l67aVDQszigZVdka8OTZC-eKLmO8JAdr2IJ7mfLU6aOxMOZXVmXwlznWvIcy-QWI0NfCjioGh1e0_TSA=w1708-h1280-no?authuser=0)\n\n![teleport disabled state](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport4.gif?alt=media&token=d85592f8-4194-4ef8-aec7-f9b5408156dd)\n\n\n那如果我們想在 disabled true 的時候不要顯示組件要怎麼做呢？其實就很直覺的搭配 v-if 就可以完成這個效果，即便是用兩組 teleport 也可以輕鬆做到。\n\n![teleport disabled v-if](https://lh3.googleusercontent.com/pw/ACtC-3dCId188L9jHX3OIMDrpgiRBICfTC1w6BNTfYS4Kq4FdGAQcPRAdp-hRftsYkPEcp2ExQB4DxnuwICdifahLdsn66wF3hi7JiZo6mVExf61cUE38PAN2EpxOEEgKirJPoBERHckylXqpOfob5jDTKeQjg=w1708-h1280-no?authuser=0)\n\n![teleport disabled v-if](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport5.gif?alt=media&token=0cef8637-db2c-417d-b2b4-c383ec51c84d)\n\n兩組 teleport 可以很神奇的做到誰先觸發就誰先 render 到指定的 HTML 位置，非常的順暢。\n\n![use two teleport](https://lh3.googleusercontent.com/pw/ACtC-3eEGRXj9uQ-iapGxqPEk13hWSRi1DW23D2_sAA3Ibs6sYOMuisWPxwoZE9farf2_7cXeQ0o_ft5UD9J5D34IrOGkslyR4datkr3xXrfdv5wbgfGjaH6yPwV7TpyS_hoiQu6OcT6EW1oiNJ-QpdUtMWxTA=w1708-h1280-no?authuser=0)\n\n![use two teleport](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport6.gif?alt=media&token=e45bd9f9-0116-4b69-8857-3e60210f4de0)\n\n個人覺得 teleport 的功能蠻強大的，可以將商業邏輯整理在組件中又不影響顯示的畫面，讓程式更有條理，是非常強大的功能。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Teleport](https://www.vuemastery.com/courses/vue-3-essentials/teleport)","source":"_posts/Vue/Vue-3-Studies-Teleport.md","raw":"---\ntitle: Vue 3 Studies - Teleport\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2020/09/05\nupdated: 2020/09/05\n---\n\n新功能 teleport 讓我們可以很輕鬆的將 HTML render 在 app 以外的地方，且不影響商業邏輯的整理，趕緊來看看吧！\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/teleport\n\n當我們想要組件的東西 render HTML 在頁面不同地方該怎麼辦？\n\n![要組件的東西 render HTML 在頁面不同地方該怎麼辦](https://lh3.googleusercontent.com/pw/ACtC-3fpkgtPhFxUWsnrtC1-2Wm18O6xBbtprQGM1uUZ-46b9F2C5DgiJ95_xz1T9QtLC1zEs_SGUdzqsh55YOIjpW6D3Bp9OR5WuZmbSQMkFh-iY_PggFpB3-az3YQ0dj7kNeHiZ7sHnta5V1uzoNPvHzrHqA=w1708-h1280-no?authuser=0)\n\n有時 Fixed 或 absolute 的元件因為 z-index 的緣故，需要放在結尾 </body> 的前面。在 Vue 2 如果要把程式移到 #app 的外面是很困難的。\n\n![要組件的東西 render HTML 在頁面不同地方該怎麼辦](https://lh3.googleusercontent.com/pw/ACtC-3e8n-bWxudlY_Bnee9-_YQcuGIz5XPxwsQ6DCqpPVtj18JIYQYSq5gSc6Ega_M9bMgAJp1qiGt3ZC67KHWhbpbEKFt8ZYejrqxBqsuYloisI8tHveYDvY0uxxTR2Q_V45iYunfRuJ5Q9B15TfgHaJuMSQ=w1708-h1280-no?authuser=0)\n\nVue 3 提供了 teleport 元件來解決這個問題。以前叫做 portal ，但為了不跟未來的HTML tag 重名，所以改名為 teleport。teleport 讓我們可以把程式寫在子組件，並用 to 的方式指定要 render HTML 的位置，如下圖。\n\n![teleport](https://lh3.googleusercontent.com/pw/ACtC-3fQL1qJvG8zqkf9D_cBD_FCDWvhgLEka5m4EIILmWKrERGqr2aBCJcYCtY-sjVokVCIc6sASRmefWFWsm03bR40bzBYl2AsVWfxV3ezW9nTnTi_4K0T5EYvy1c058r9d80rpuHUmtNYZVRI0NmRO_RWlQ=w1708-h1280-no?authuser=0)\n\nTo 的屬性除了剛剛使用的 css Id 方式，也可以用 class或 meta attribute 的方式指定要render 的位置。如果要動態賦予值也可以直接 :to 接變數即可。\n\n![teleport to option](https://lh3.googleusercontent.com/pw/ACtC-3eP5oZQ8-nfvhtWjwmxyyqctP7Hl79mDZAfQmI6S0aUle_PQYDqTnvziIhYr_ZGcTyHGZvdxJPtIMfgF7jIB6_xzL74vjEEVDZdtwnE_beRgJ9FCqclcFzLCyJ0bfa8Mx9RMMai8ZclPZRT5gM5ZqnTVw=w1708-h1280-no?authuser=0)\n\n另外，我們可以設定 disabled 屬性，讓組件在 disabled true 的時候把HTML render 回原來組件 app 中。\n\n![teleport disabled](https://lh3.googleusercontent.com/pw/ACtC-3dY9NBXMuvnCpFgRMcEcJuRA3Y7iBlull-kzaoX4E6SuhQJlbtvO74rccEln8zfDT3bU1CmOdpya1byr9Mg-VEUJhP7CRXa-Vm7LVfTs6yJsOuaCOfaHZWrJRmJ4VfA6M4z2FpvQyxviMMYp3Myb29akw=w1708-h1280-no?authuser=0)\n\n![teleport disabled](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport2.gif?alt=media&token=04d9934b-bead-49d8-b146-79a2e168e851)\n\n![teleport disabled](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport3.gif?alt=media&token=08fd1a88-377c-4397-a6df-8ba561476d25)\n\nTeleport 還有一個好處是他會保留原組件的狀態。假設我們在 teleport 裡面放一隻影片播放，當 toggle disabled 屬性的時候，影片會持續播放不會斷掉。\n\n![teleport disabled state](https://lh3.googleusercontent.com/pw/ACtC-3foF18BHGYLWfy1lU9o3Re5ZY0bB81I3vazlvzpsz_pn-x6pkrv9QVxjkAn-vFv7LLMiWHue5l67aVDQszigZVdka8OTZC-eKLmO8JAdr2IJ7mfLU6aOxMOZXVmXwlznWvIcy-QWI0NfCjioGh1e0_TSA=w1708-h1280-no?authuser=0)\n\n![teleport disabled state](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport4.gif?alt=media&token=d85592f8-4194-4ef8-aec7-f9b5408156dd)\n\n\n那如果我們想在 disabled true 的時候不要顯示組件要怎麼做呢？其實就很直覺的搭配 v-if 就可以完成這個效果，即便是用兩組 teleport 也可以輕鬆做到。\n\n![teleport disabled v-if](https://lh3.googleusercontent.com/pw/ACtC-3dCId188L9jHX3OIMDrpgiRBICfTC1w6BNTfYS4Kq4FdGAQcPRAdp-hRftsYkPEcp2ExQB4DxnuwICdifahLdsn66wF3hi7JiZo6mVExf61cUE38PAN2EpxOEEgKirJPoBERHckylXqpOfob5jDTKeQjg=w1708-h1280-no?authuser=0)\n\n![teleport disabled v-if](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport5.gif?alt=media&token=0cef8637-db2c-417d-b2b4-c383ec51c84d)\n\n兩組 teleport 可以很神奇的做到誰先觸發就誰先 render 到指定的 HTML 位置，非常的順暢。\n\n![use two teleport](https://lh3.googleusercontent.com/pw/ACtC-3eEGRXj9uQ-iapGxqPEk13hWSRi1DW23D2_sAA3Ibs6sYOMuisWPxwoZE9farf2_7cXeQ0o_ft5UD9J5D34IrOGkslyR4datkr3xXrfdv5wbgfGjaH6yPwV7TpyS_hoiQu6OcT6EW1oiNJ-QpdUtMWxTA=w1708-h1280-no?authuser=0)\n\n![use two teleport](https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport6.gif?alt=media&token=e45bd9f9-0116-4b69-8857-3e60210f4de0)\n\n個人覺得 teleport 的功能蠻強大的，可以將商業邏輯整理在組件中又不影響顯示的畫面，讓程式更有條理，是非常強大的功能。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Teleport](https://www.vuemastery.com/courses/vue-3-essentials/teleport)","slug":"Vue/Vue-3-Studies-Teleport","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s3004gr3y73aplg4lg","content":"<p>新功能 teleport 讓我們可以很輕鬆的將 HTML render 在 app 以外的地方，且不影響商業邏輯的整理，趕緊來看看吧！</p>\n<span id=\"more\"></span>\n\n<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/teleport\">https://www.vuemastery.com/courses/vue-3-essentials/teleport</a></p>\n<p>當我們想要組件的東西 render HTML 在頁面不同地方該怎麼辦？</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fpkgtPhFxUWsnrtC1-2Wm18O6xBbtprQGM1uUZ-46b9F2C5DgiJ95_xz1T9QtLC1zEs_SGUdzqsh55YOIjpW6D3Bp9OR5WuZmbSQMkFh-iY_PggFpB3-az3YQ0dj7kNeHiZ7sHnta5V1uzoNPvHzrHqA=w1708-h1280-no?authuser=0\" alt=\"要組件的東西 render HTML 在頁面不同地方該怎麼辦\"></p>\n<p>有時 Fixed 或 absolute 的元件因為 z-index 的緣故，需要放在結尾 </body> 的前面。在 Vue 2 如果要把程式移到 #app 的外面是很困難的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3e8n-bWxudlY_Bnee9-_YQcuGIz5XPxwsQ6DCqpPVtj18JIYQYSq5gSc6Ega_M9bMgAJp1qiGt3ZC67KHWhbpbEKFt8ZYejrqxBqsuYloisI8tHveYDvY0uxxTR2Q_V45iYunfRuJ5Q9B15TfgHaJuMSQ=w1708-h1280-no?authuser=0\" alt=\"要組件的東西 render HTML 在頁面不同地方該怎麼辦\"></p>\n<p>Vue 3 提供了 teleport 元件來解決這個問題。以前叫做 portal ，但為了不跟未來的HTML tag 重名，所以改名為 teleport。teleport 讓我們可以把程式寫在子組件，並用 to 的方式指定要 render HTML 的位置，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fQL1qJvG8zqkf9D_cBD_FCDWvhgLEka5m4EIILmWKrERGqr2aBCJcYCtY-sjVokVCIc6sASRmefWFWsm03bR40bzBYl2AsVWfxV3ezW9nTnTi_4K0T5EYvy1c058r9d80rpuHUmtNYZVRI0NmRO_RWlQ=w1708-h1280-no?authuser=0\" alt=\"teleport\"></p>\n<p>To 的屬性除了剛剛使用的 css Id 方式，也可以用 class或 meta attribute 的方式指定要render 的位置。如果要動態賦予值也可以直接 :to 接變數即可。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eP5oZQ8-nfvhtWjwmxyyqctP7Hl79mDZAfQmI6S0aUle_PQYDqTnvziIhYr_ZGcTyHGZvdxJPtIMfgF7jIB6_xzL74vjEEVDZdtwnE_beRgJ9FCqclcFzLCyJ0bfa8Mx9RMMai8ZclPZRT5gM5ZqnTVw=w1708-h1280-no?authuser=0\" alt=\"teleport to option\"></p>\n<p>另外，我們可以設定 disabled 屬性，讓組件在 disabled true 的時候把HTML render 回原來組件 app 中。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dY9NBXMuvnCpFgRMcEcJuRA3Y7iBlull-kzaoX4E6SuhQJlbtvO74rccEln8zfDT3bU1CmOdpya1byr9Mg-VEUJhP7CRXa-Vm7LVfTs6yJsOuaCOfaHZWrJRmJ4VfA6M4z2FpvQyxviMMYp3Myb29akw=w1708-h1280-no?authuser=0\" alt=\"teleport disabled\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport2.gif?alt=media&token=04d9934b-bead-49d8-b146-79a2e168e851\" alt=\"teleport disabled\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport3.gif?alt=media&token=08fd1a88-377c-4397-a6df-8ba561476d25\" alt=\"teleport disabled\"></p>\n<p>Teleport 還有一個好處是他會保留原組件的狀態。假設我們在 teleport 裡面放一隻影片播放，當 toggle disabled 屬性的時候，影片會持續播放不會斷掉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3foF18BHGYLWfy1lU9o3Re5ZY0bB81I3vazlvzpsz_pn-x6pkrv9QVxjkAn-vFv7LLMiWHue5l67aVDQszigZVdka8OTZC-eKLmO8JAdr2IJ7mfLU6aOxMOZXVmXwlznWvIcy-QWI0NfCjioGh1e0_TSA=w1708-h1280-no?authuser=0\" alt=\"teleport disabled state\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport4.gif?alt=media&token=d85592f8-4194-4ef8-aec7-f9b5408156dd\" alt=\"teleport disabled state\"></p>\n<p>那如果我們想在 disabled true 的時候不要顯示組件要怎麼做呢？其實就很直覺的搭配 v-if 就可以完成這個效果，即便是用兩組 teleport 也可以輕鬆做到。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dCId188L9jHX3OIMDrpgiRBICfTC1w6BNTfYS4Kq4FdGAQcPRAdp-hRftsYkPEcp2ExQB4DxnuwICdifahLdsn66wF3hi7JiZo6mVExf61cUE38PAN2EpxOEEgKirJPoBERHckylXqpOfob5jDTKeQjg=w1708-h1280-no?authuser=0\" alt=\"teleport disabled v-if\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport5.gif?alt=media&token=0cef8637-db2c-417d-b2b4-c383ec51c84d\" alt=\"teleport disabled v-if\"></p>\n<p>兩組 teleport 可以很神奇的做到誰先觸發就誰先 render 到指定的 HTML 位置，非常的順暢。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eEGRXj9uQ-iapGxqPEk13hWSRi1DW23D2_sAA3Ibs6sYOMuisWPxwoZE9farf2_7cXeQ0o_ft5UD9J5D34IrOGkslyR4datkr3xXrfdv5wbgfGjaH6yPwV7TpyS_hoiQu6OcT6EW1oiNJ-QpdUtMWxTA=w1708-h1280-no?authuser=0\" alt=\"use two teleport\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport6.gif?alt=media&token=e45bd9f9-0116-4b69-8857-3e60210f4de0\" alt=\"use two teleport\"></p>\n<p>個人覺得 teleport 的功能蠻強大的，可以將商業邏輯整理在組件中又不影響顯示的畫面，讓程式更有條理，是非常強大的功能。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/teleport\">Teleport</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>新功能 teleport 讓我們可以很輕鬆的將 HTML render 在 app 以外的地方，且不影響商業邏輯的整理，趕緊來看看吧！</p>","more":"<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/teleport\">https://www.vuemastery.com/courses/vue-3-essentials/teleport</a></p>\n<p>當我們想要組件的東西 render HTML 在頁面不同地方該怎麼辦？</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fpkgtPhFxUWsnrtC1-2Wm18O6xBbtprQGM1uUZ-46b9F2C5DgiJ95_xz1T9QtLC1zEs_SGUdzqsh55YOIjpW6D3Bp9OR5WuZmbSQMkFh-iY_PggFpB3-az3YQ0dj7kNeHiZ7sHnta5V1uzoNPvHzrHqA=w1708-h1280-no?authuser=0\" alt=\"要組件的東西 render HTML 在頁面不同地方該怎麼辦\"></p>\n<p>有時 Fixed 或 absolute 的元件因為 z-index 的緣故，需要放在結尾 </body> 的前面。在 Vue 2 如果要把程式移到 #app 的外面是很困難的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3e8n-bWxudlY_Bnee9-_YQcuGIz5XPxwsQ6DCqpPVtj18JIYQYSq5gSc6Ega_M9bMgAJp1qiGt3ZC67KHWhbpbEKFt8ZYejrqxBqsuYloisI8tHveYDvY0uxxTR2Q_V45iYunfRuJ5Q9B15TfgHaJuMSQ=w1708-h1280-no?authuser=0\" alt=\"要組件的東西 render HTML 在頁面不同地方該怎麼辦\"></p>\n<p>Vue 3 提供了 teleport 元件來解決這個問題。以前叫做 portal ，但為了不跟未來的HTML tag 重名，所以改名為 teleport。teleport 讓我們可以把程式寫在子組件，並用 to 的方式指定要 render HTML 的位置，如下圖。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fQL1qJvG8zqkf9D_cBD_FCDWvhgLEka5m4EIILmWKrERGqr2aBCJcYCtY-sjVokVCIc6sASRmefWFWsm03bR40bzBYl2AsVWfxV3ezW9nTnTi_4K0T5EYvy1c058r9d80rpuHUmtNYZVRI0NmRO_RWlQ=w1708-h1280-no?authuser=0\" alt=\"teleport\"></p>\n<p>To 的屬性除了剛剛使用的 css Id 方式，也可以用 class或 meta attribute 的方式指定要render 的位置。如果要動態賦予值也可以直接 :to 接變數即可。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eP5oZQ8-nfvhtWjwmxyyqctP7Hl79mDZAfQmI6S0aUle_PQYDqTnvziIhYr_ZGcTyHGZvdxJPtIMfgF7jIB6_xzL74vjEEVDZdtwnE_beRgJ9FCqclcFzLCyJ0bfa8Mx9RMMai8ZclPZRT5gM5ZqnTVw=w1708-h1280-no?authuser=0\" alt=\"teleport to option\"></p>\n<p>另外，我們可以設定 disabled 屬性，讓組件在 disabled true 的時候把HTML render 回原來組件 app 中。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dY9NBXMuvnCpFgRMcEcJuRA3Y7iBlull-kzaoX4E6SuhQJlbtvO74rccEln8zfDT3bU1CmOdpya1byr9Mg-VEUJhP7CRXa-Vm7LVfTs6yJsOuaCOfaHZWrJRmJ4VfA6M4z2FpvQyxviMMYp3Myb29akw=w1708-h1280-no?authuser=0\" alt=\"teleport disabled\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport2.gif?alt=media&token=04d9934b-bead-49d8-b146-79a2e168e851\" alt=\"teleport disabled\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport3.gif?alt=media&token=08fd1a88-377c-4397-a6df-8ba561476d25\" alt=\"teleport disabled\"></p>\n<p>Teleport 還有一個好處是他會保留原組件的狀態。假設我們在 teleport 裡面放一隻影片播放，當 toggle disabled 屬性的時候，影片會持續播放不會斷掉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3foF18BHGYLWfy1lU9o3Re5ZY0bB81I3vazlvzpsz_pn-x6pkrv9QVxjkAn-vFv7LLMiWHue5l67aVDQszigZVdka8OTZC-eKLmO8JAdr2IJ7mfLU6aOxMOZXVmXwlznWvIcy-QWI0NfCjioGh1e0_TSA=w1708-h1280-no?authuser=0\" alt=\"teleport disabled state\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport4.gif?alt=media&token=d85592f8-4194-4ef8-aec7-f9b5408156dd\" alt=\"teleport disabled state\"></p>\n<p>那如果我們想在 disabled true 的時候不要顯示組件要怎麼做呢？其實就很直覺的搭配 v-if 就可以完成這個效果，即便是用兩組 teleport 也可以輕鬆做到。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dCId188L9jHX3OIMDrpgiRBICfTC1w6BNTfYS4Kq4FdGAQcPRAdp-hRftsYkPEcp2ExQB4DxnuwICdifahLdsn66wF3hi7JiZo6mVExf61cUE38PAN2EpxOEEgKirJPoBERHckylXqpOfob5jDTKeQjg=w1708-h1280-no?authuser=0\" alt=\"teleport disabled v-if\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport5.gif?alt=media&token=0cef8637-db2c-417d-b2b4-c383ec51c84d\" alt=\"teleport disabled v-if\"></p>\n<p>兩組 teleport 可以很神奇的做到誰先觸發就誰先 render 到指定的 HTML 位置，非常的順暢。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eEGRXj9uQ-iapGxqPEk13hWSRi1DW23D2_sAA3Ibs6sYOMuisWPxwoZE9farf2_7cXeQ0o_ft5UD9J5D34IrOGkslyR4datkr3xXrfdv5wbgfGjaH6yPwV7TpyS_hoiQu6OcT6EW1oiNJ-QpdUtMWxTA=w1708-h1280-no?authuser=0\" alt=\"use two teleport\"></p>\n<p><img src=\"https://firebasestorage.googleapis.com/v0/b/vue-mastery.appspot.com/o/flamelink%2Fmedia%2Fteleport6.gif?alt=media&token=e45bd9f9-0116-4b69-8857-3e60210f4de0\" alt=\"use two teleport\"></p>\n<p>個人覺得 teleport 的功能蠻強大的，可以將商業邏輯整理在組件中又不影響顯示的畫面，讓程式更有條理，是非常強大的功能。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/teleport\">Teleport</a></li>\n</ul>"},{"title":"Vue 3 Studies - Watch","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2021-08-31T16:00:00.000Z","updated":"2021-08-31T16:00:00.000Z","_content":"\n如果 Watch 在 composition API 要怎麼使用呢？我們一起來看看。\n\n<!--more-->\n\n這裡有個搜尋框範例，輸入 `searchInput` 文字後，API 會回傳事件數量 `results`。\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Number of events: {{ results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nimport eventApi from \"@/api/event.js\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const results = ref(0);\n\n    results.value = eventApi.getEventCount(searchInput.value);\n\n    return { searchInput, results };\n  }\n};\n</script>\n```\n\n如果用上面的寫法，會發現不管輸入任何東西進去 searchInput，results 的值都沒變。這是因為 getEventCount 目前只會觸發在一開始 setup 的函式，只會執行一次，後續並不會被觸發。所以，如果我們把它改成放在 watch event 裡面，就會監聽 reactive 值的改變去抓新的值，如下。\n\n```js\nsetup() {\n  const searchInput = ref(\"\");\n  const results = ref(0);\n\n  watchEffect(() => {\n    results.value = eventApi.getEventCount(searchInput.value);\n  });\n\n  return { searchInput, results };\n}\n```\n\n如此一來，只要 reactive 的值改變，就會觸發並重新 rendor 畫面。但如果要指定只要監聽 searchInput 的話，可以改寫如下。其中 newVal, oldVal 參數可以比較值的前後改變。\n\n```js\nwatch(searchInput, (newVal, oldVal) => {\n  ...\n});\n```\n\n如果要 watch 指定多個 reactive，可以寫成陣列如下。\n\n```js\nwatch([firstName, lastName], ([newFirst, newLast], [oldFirst, oldLast]) => {\n  ...\n});\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Watch.md","raw":"---\ntitle: Vue 3 Studies - Watch\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2021/09/01\nupdated: 2021/09/01\n---\n\n如果 Watch 在 composition API 要怎麼使用呢？我們一起來看看。\n\n<!--more-->\n\n這裡有個搜尋框範例，輸入 `searchInput` 文字後，API 會回傳事件數量 `results`。\n\n```html\n<template>\n  <div>\n    Search for <input v-model=\"searchInput\" />\n    <div>\n      <p>Number of events: {{ results }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nimport eventApi from \"@/api/event.js\";\n\nexport default {\n  setup() {\n    const searchInput = ref(\"\");\n    const results = ref(0);\n\n    results.value = eventApi.getEventCount(searchInput.value);\n\n    return { searchInput, results };\n  }\n};\n</script>\n```\n\n如果用上面的寫法，會發現不管輸入任何東西進去 searchInput，results 的值都沒變。這是因為 getEventCount 目前只會觸發在一開始 setup 的函式，只會執行一次，後續並不會被觸發。所以，如果我們把它改成放在 watch event 裡面，就會監聽 reactive 值的改變去抓新的值，如下。\n\n```js\nsetup() {\n  const searchInput = ref(\"\");\n  const results = ref(0);\n\n  watchEffect(() => {\n    results.value = eventApi.getEventCount(searchInput.value);\n  });\n\n  return { searchInput, results };\n}\n```\n\n如此一來，只要 reactive 的值改變，就會觸發並重新 rendor 畫面。但如果要指定只要監聽 searchInput 的話，可以改寫如下。其中 newVal, oldVal 參數可以比較值的前後改變。\n\n```js\nwatch(searchInput, (newVal, oldVal) => {\n  ...\n});\n```\n\n如果要 watch 指定多個 reactive，可以寫成陣列如下。\n\n```js\nwatch([firstName, lastName], ([newFirst, newLast], [oldFirst, oldLast]) => {\n  ...\n});\n```\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Watch","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s4004jr3y7coqcdwsu","content":"<p>如果 Watch 在 composition API 要怎麼使用呢？我們一起來看看。</p>\n<span id=\"more\"></span>\n\n<p>這裡有個搜尋框範例，輸入 <code>searchInput</code> 文字後，API 會回傳事件數量 <code>results</code>。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    results.<span class=\"property\">value</span> = eventApi.<span class=\"title function_\">getEventCount</span>(searchInput.<span class=\"property\">value</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, results &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果用上面的寫法，會發現不管輸入任何東西進去 searchInput，results 的值都沒變。這是因為 getEventCount 目前只會觸發在一開始 setup 的函式，只會執行一次，後續並不會被觸發。所以，如果我們把它改成放在 watch event 裡面，就會監聽 reactive 值的改變去抓新的值，如下。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    results.<span class=\"property\">value</span> = eventApi.<span class=\"title function_\">getEventCount</span>(searchInput.<span class=\"property\">value</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; searchInput, results &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來，只要 reactive 的值改變，就會觸發並重新 rendor 畫面。但如果要指定只要監聽 searchInput 的話，可以改寫如下。其中 newVal, oldVal 參數可以比較值的前後改變。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">(<span class=\"params\">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>如果要 watch 指定多個 reactive，可以寫成陣列如下。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">watch</span>([firstName, lastName], <span class=\"function\">(<span class=\"params\">[newFirst, newLast], [oldFirst, oldLast]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>如果 Watch 在 composition API 要怎麼使用呢？我們一起來看看。</p>","more":"<p>這裡有個搜尋框範例，輸入 <code>searchInput</code> 文字後，API 會回傳事件數量 <code>results</code>。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    Search for <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;searchInput&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Number of events: &#123;&#123; results &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> eventApi <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/api/event.js&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    results.<span class=\"property\">value</span> = eventApi.<span class=\"title function_\">getEventCount</span>(searchInput.<span class=\"property\">value</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; searchInput, results &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果用上面的寫法，會發現不管輸入任何東西進去 searchInput，results 的值都沒變。這是因為 getEventCount 目前只會觸發在一開始 setup 的函式，只會執行一次，後續並不會被觸發。所以，如果我們把它改成放在 watch event 裡面，就會監聽 reactive 值的改變去抓新的值，如下。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> searchInput = <span class=\"title function_\">ref</span>(<span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> results = <span class=\"title function_\">ref</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">watchEffect</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    results.<span class=\"property\">value</span> = eventApi.<span class=\"title function_\">getEventCount</span>(searchInput.<span class=\"property\">value</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123; searchInput, results &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來，只要 reactive 的值改變，就會觸發並重新 rendor 畫面。但如果要指定只要監聽 searchInput 的話，可以改寫如下。其中 newVal, oldVal 參數可以比較值的前後改變。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">watch</span>(searchInput, <span class=\"function\">(<span class=\"params\">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>如果要 watch 指定多個 reactive，可以寫成陣列如下。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">watch</span>([firstName, lastName], <span class=\"function\">(<span class=\"params\">[newFirst, newLast], [oldFirst, oldLast]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Vue 3 Studies - Why the composition API","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2020-06-26T16:00:00.000Z","updated":"2020-06-26T16:00:00.000Z","_content":"\nVue 3 雖然還沒出正式版，但蠻多人對新的 composition API 有所好評。剛好官網有完整的影片介紹，所以想趁這個機會開始學習。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\n\n接下來會針對目前 Vue 2 的限制解釋並提出 Vue 3 的解決方式。\n\n影片中提出當我們的專案越來越大/醜時，三個 Vue 2 的限制：\n1. Readability as components grow：當組件越來越複雜時，程式變得越不容易閱讀。\n2. Code reuse patterns have drawbacks：程式片段重複使用的方式有缺點。\n3. Limited typescript support：typescript 支援上有限制。\n\n# 比較大的組件會變得越來越難閱讀和維護\n\n影片當中以搜尋組件(search.vue)為例。當我們搜尋組件想要寫兩個功能：一個功能是搜尋關鍵字結果(Search)；另一個功能是對搜尋結果做排序(Sorting)。在 Vue 2 的作法，我們可能把同一個 Search/Sorting 的功能將邏輯散佈在各個程式區塊，有可能在 components, props, data, computed, methods, lifecycle methods等。當其他開發者想要閱讀時沒辦法一眼看到功能的所有邏輯，而是需要掃描散佈在各片段的程式碼才能了解特定功能的邏輯。所以 Vue 3 要解決的是如何把同一功能的邏輯統一放在一個地方，讓閱讀上更容易。\n\nVue 2 將功能邏輯散佈在多個程式碼片段\n![Vue 2 將功能邏輯散佈在多個程式碼片段](https://lh3.googleusercontent.com/pw/ACtC-3d96-4SjMB_p4-hWeSPOVnlfgcOsXoIk9PYGTL6S0mDMzbuTx3VdH5294bQdrYbITjYCyuXrsTpWXjng2H_aPb83y1kHzovuzE7dEXjhMyYB3ZZHSEJfQBgLfo_YSvaDoBQ7f2B0SP-8vZJgZYko4RihA=w2208-h1242-no?authuser=0)\n\nVue 3 的解決方式就是推出 composition API ，將兩種功能的程式碼片段先集中成兩個區塊，放在 setup 函式中，且他完全是選擇性的。第一次看到可能會想說：這樣是否表示我們會產生一個超巨大的程式碼在 setup 函式中嗎？答案是，不。我們接下來看看他是如何解釋的。\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3c1z4-Cy7mQ1itIsSDBCv2ydlMKfl0Uq-6ITtVczzASfVgXJ57CA66HdLv5kVdhx0RUjbRjd7Sd4UY9WLnMCu7DJa4ezAZo_QViPKXCht75yC_mzGDUS1CO3c6z193-pudoaXPEvR6eeTx5yxP60yszFg=w2208-h1242-no?authuser=0)\n\n我們可以把兩個功能先寫出來各自的函式，並在setup 函式 return 出來。（這裡為了方便解釋寫在同一頁，實際上會另外寫出來 js 檔案，要用的時候再引入）\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3fXgoNhS2-gvKQhmE2H80cBJmEXXfzqcm_vru2fzbhqAfcocu5NGjXvHNj0c9GRoR0wZvwXeCNLEV_o09u6Ziwpuv_PYNGOYWjHoC0w-yFH1fixvTO22LG6HLKj4ms4rppxbuC4h2upzsn0z-5FsjZgAA=w2208-h1242-no?authuser=0)\n\n現在，程式碼片段變得更符合邏輯閱讀，但這不代表組合函式會取代組件父子關係，我們還是會先將組件父子關係區分出來，各組件的功能再以組合函式來表示。\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3eWW8YTjK_GIX91w9UCF8IRSX8PMQMkUKzPjMIU99ckLFRpZBjGh_jsTK4OsmUp2cDOpmVaiRHhsLq9UQOO32SyyhZ63zpMjSbqkWOiWT3Wrsilnx0BnxwbnieulwLw558MESaXY8P3fZEh2jbl8orP0A=w2208-h1242-no?authuser=0)\n\n# 找不到完美的方式能在不同組件中重複使用相同邏輯\n\n影片中提到在 Vue 2 有三種方式可以在不同組件中重複使用相同邏輯。\n\n1. Mixin：第一種是分別拉出來 Search/Sorting 各自的mixin，並在搜尋組件中引用 mixins 加入。\n\t- 優點：\n\t\t- Organized by feature：優點是可以依據功能組織各自邏輯。\n\t- 缺點：\n\t\t- Conflict prone：因為有各自的data等屬性，容易發生衝突。\n\t\t- Unclear relationship：不清楚兩者 mixin 關係是否會互相影響。\n\t\t- Not easy reuseble：不容易重複使用。\n    ![Mixin](https://lh3.googleusercontent.com/pw/ACtC-3cuCe0z_fEa50pIodm4hYC8od1Bs0objS-283HeyY-RdgKwAi8wJ6oYMynQBizr66oyqMXsUlQXkmGTttljZusYWrwuQ0IBi1PXJIwL0vY7wIJfrYLsMZJBsubn9bd9kTymExoN00egnmSqzIk-mBxuEQ=w1708-h1280-no?authuser=0)\n\n2. Mixin Factories: 第二種方式是使用客製版本的mixin傳入對應的config。\n\t- 優點\n\t\t- Easily reusable：容易重複使用。\n\t\t- Clearer relationships：將兩者關係釐清楚。\n\t- 缺點\n\t\t- Weak namespace：命名方式不嚴謹。\n\t\t- Implicit property additions：內部添加隱藏的屬性。\n\t\t- No Instance access at runtime：Vue 運行時並不會動態生成。\n    ![Mixin Factories](https://lh3.googleusercontent.com/pw/ACtC-3dJvx5OUIZEZiJR-VBBCJjDWWDlF3EfYoqT6Hruat6fvOSd8Ibv-KsrUrk2lR0sgf9ZO9CoWJ97GXELgWelH-GaTQA9VTV9Kwebx-IZnvQbSgZL4wrotK66ahn8esXsS3U3MbMWFK2drXSyN_uBBuf0LA=w1708-h1280-no?authuser=0)\n\n3. Scope slots：第三種是將 Search/Sorting 分成兩個 Vue 組件，並用 slot 的方式做巢狀使用。\n\t- 優點\n\t\t- 解決 mixin 的問題\n\t- 缺點\n\t\t- Increases indentation：增加縮排。\n\t\t- Lots of configuration ：更多的設定值。\n\t\t- Less flexible ：彈性變小。\n\t\t- Less performance ：性能變差。\n    ![Scope slots](https://lh3.googleusercontent.com/pw/ACtC-3djhWxIL2elD1Nlz60lvLyec2aDpm13uSxYz3Lx7JnYYj3lYyPinDfLDesY7WwXQkW3GzT93XID13mEJCoXSK98H4KVtCVhItKl5C9zMSYhhamHQAGlUeTJZyIoTcxGsK007IzPyh3pfD26VdIEsnEmVA=w2208-h1242-no?authuser=0)\n\n這三種都有他的缺點，所以影片提到 composition API 使用上可以解決上述問題。就是將 Search/Sorting 兩個 composition function 各自分出 js 將邏輯寫出來。在 Vue 組件設定變數將其各自做引用函式並設定所需要的參數。\n- 優點\n\t- 程式碼精簡\n\t- 和平常的 js 使用差不多\n\t- 使用上非常有彈性\n\t- 友善的使用方式\n- 缺點\n\t- 要熟悉新的程式使用寫法\n  ![composition API](https://lh3.googleusercontent.com/pw/ACtC-3dPPnmhsRLsSHI33vrnqj_QB8CScnf9jLwa0iM5iJfRJVhM0IW5Hs4ommjgXhu5larti1rTtA46wmwxMk2rmoQ-9kjp2CRwx5UA-s9KpjOzmH1kEQkgWXPT8YzlzJfD1_YmBF1TuQJV4wVnZiVPfspgig=w2208-h1242-no?authuser=0)\n\n整體來說，composition API 都是大大提升組件的邏輯組織寫法，讓開發者能更快進入狀況，用更輕鬆精簡的方式達到開發目的，我個人是非常看好且開心的，畢竟一個工程師要面對的專案實在太多，要省時省力才有效率。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Why the Composition API](https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/)","source":"_posts/Vue/Vue-3-Studies-Why-the-composition-API.md","raw":"---\ntitle: Vue 3 Studies - Why the composition API\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2020/06/27\nupdated: 2020/06/27\n---\n\nVue 3 雖然還沒出正式版，但蠻多人對新的 composition API 有所好評。剛好官網有完整的影片介紹，所以想趁這個機會開始學習。\n\n<!--more-->\n\n影片網址： https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\n\n接下來會針對目前 Vue 2 的限制解釋並提出 Vue 3 的解決方式。\n\n影片中提出當我們的專案越來越大/醜時，三個 Vue 2 的限制：\n1. Readability as components grow：當組件越來越複雜時，程式變得越不容易閱讀。\n2. Code reuse patterns have drawbacks：程式片段重複使用的方式有缺點。\n3. Limited typescript support：typescript 支援上有限制。\n\n# 比較大的組件會變得越來越難閱讀和維護\n\n影片當中以搜尋組件(search.vue)為例。當我們搜尋組件想要寫兩個功能：一個功能是搜尋關鍵字結果(Search)；另一個功能是對搜尋結果做排序(Sorting)。在 Vue 2 的作法，我們可能把同一個 Search/Sorting 的功能將邏輯散佈在各個程式區塊，有可能在 components, props, data, computed, methods, lifecycle methods等。當其他開發者想要閱讀時沒辦法一眼看到功能的所有邏輯，而是需要掃描散佈在各片段的程式碼才能了解特定功能的邏輯。所以 Vue 3 要解決的是如何把同一功能的邏輯統一放在一個地方，讓閱讀上更容易。\n\nVue 2 將功能邏輯散佈在多個程式碼片段\n![Vue 2 將功能邏輯散佈在多個程式碼片段](https://lh3.googleusercontent.com/pw/ACtC-3d96-4SjMB_p4-hWeSPOVnlfgcOsXoIk9PYGTL6S0mDMzbuTx3VdH5294bQdrYbITjYCyuXrsTpWXjng2H_aPb83y1kHzovuzE7dEXjhMyYB3ZZHSEJfQBgLfo_YSvaDoBQ7f2B0SP-8vZJgZYko4RihA=w2208-h1242-no?authuser=0)\n\nVue 3 的解決方式就是推出 composition API ，將兩種功能的程式碼片段先集中成兩個區塊，放在 setup 函式中，且他完全是選擇性的。第一次看到可能會想說：這樣是否表示我們會產生一個超巨大的程式碼在 setup 函式中嗎？答案是，不。我們接下來看看他是如何解釋的。\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3c1z4-Cy7mQ1itIsSDBCv2ydlMKfl0Uq-6ITtVczzASfVgXJ57CA66HdLv5kVdhx0RUjbRjd7Sd4UY9WLnMCu7DJa4ezAZo_QViPKXCht75yC_mzGDUS1CO3c6z193-pudoaXPEvR6eeTx5yxP60yszFg=w2208-h1242-no?authuser=0)\n\n我們可以把兩個功能先寫出來各自的函式，並在setup 函式 return 出來。（這裡為了方便解釋寫在同一頁，實際上會另外寫出來 js 檔案，要用的時候再引入）\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3fXgoNhS2-gvKQhmE2H80cBJmEXXfzqcm_vru2fzbhqAfcocu5NGjXvHNj0c9GRoR0wZvwXeCNLEV_o09u6Ziwpuv_PYNGOYWjHoC0w-yFH1fixvTO22LG6HLKj4ms4rppxbuC4h2upzsn0z-5FsjZgAA=w2208-h1242-no?authuser=0)\n\n現在，程式碼片段變得更符合邏輯閱讀，但這不代表組合函式會取代組件父子關係，我們還是會先將組件父子關係區分出來，各組件的功能再以組合函式來表示。\n![composition API setup](https://lh3.googleusercontent.com/pw/ACtC-3eWW8YTjK_GIX91w9UCF8IRSX8PMQMkUKzPjMIU99ckLFRpZBjGh_jsTK4OsmUp2cDOpmVaiRHhsLq9UQOO32SyyhZ63zpMjSbqkWOiWT3Wrsilnx0BnxwbnieulwLw558MESaXY8P3fZEh2jbl8orP0A=w2208-h1242-no?authuser=0)\n\n# 找不到完美的方式能在不同組件中重複使用相同邏輯\n\n影片中提到在 Vue 2 有三種方式可以在不同組件中重複使用相同邏輯。\n\n1. Mixin：第一種是分別拉出來 Search/Sorting 各自的mixin，並在搜尋組件中引用 mixins 加入。\n\t- 優點：\n\t\t- Organized by feature：優點是可以依據功能組織各自邏輯。\n\t- 缺點：\n\t\t- Conflict prone：因為有各自的data等屬性，容易發生衝突。\n\t\t- Unclear relationship：不清楚兩者 mixin 關係是否會互相影響。\n\t\t- Not easy reuseble：不容易重複使用。\n    ![Mixin](https://lh3.googleusercontent.com/pw/ACtC-3cuCe0z_fEa50pIodm4hYC8od1Bs0objS-283HeyY-RdgKwAi8wJ6oYMynQBizr66oyqMXsUlQXkmGTttljZusYWrwuQ0IBi1PXJIwL0vY7wIJfrYLsMZJBsubn9bd9kTymExoN00egnmSqzIk-mBxuEQ=w1708-h1280-no?authuser=0)\n\n2. Mixin Factories: 第二種方式是使用客製版本的mixin傳入對應的config。\n\t- 優點\n\t\t- Easily reusable：容易重複使用。\n\t\t- Clearer relationships：將兩者關係釐清楚。\n\t- 缺點\n\t\t- Weak namespace：命名方式不嚴謹。\n\t\t- Implicit property additions：內部添加隱藏的屬性。\n\t\t- No Instance access at runtime：Vue 運行時並不會動態生成。\n    ![Mixin Factories](https://lh3.googleusercontent.com/pw/ACtC-3dJvx5OUIZEZiJR-VBBCJjDWWDlF3EfYoqT6Hruat6fvOSd8Ibv-KsrUrk2lR0sgf9ZO9CoWJ97GXELgWelH-GaTQA9VTV9Kwebx-IZnvQbSgZL4wrotK66ahn8esXsS3U3MbMWFK2drXSyN_uBBuf0LA=w1708-h1280-no?authuser=0)\n\n3. Scope slots：第三種是將 Search/Sorting 分成兩個 Vue 組件，並用 slot 的方式做巢狀使用。\n\t- 優點\n\t\t- 解決 mixin 的問題\n\t- 缺點\n\t\t- Increases indentation：增加縮排。\n\t\t- Lots of configuration ：更多的設定值。\n\t\t- Less flexible ：彈性變小。\n\t\t- Less performance ：性能變差。\n    ![Scope slots](https://lh3.googleusercontent.com/pw/ACtC-3djhWxIL2elD1Nlz60lvLyec2aDpm13uSxYz3Lx7JnYYj3lYyPinDfLDesY7WwXQkW3GzT93XID13mEJCoXSK98H4KVtCVhItKl5C9zMSYhhamHQAGlUeTJZyIoTcxGsK007IzPyh3pfD26VdIEsnEmVA=w2208-h1242-no?authuser=0)\n\n這三種都有他的缺點，所以影片提到 composition API 使用上可以解決上述問題。就是將 Search/Sorting 兩個 composition function 各自分出 js 將邏輯寫出來。在 Vue 組件設定變數將其各自做引用函式並設定所需要的參數。\n- 優點\n\t- 程式碼精簡\n\t- 和平常的 js 使用差不多\n\t- 使用上非常有彈性\n\t- 友善的使用方式\n- 缺點\n\t- 要熟悉新的程式使用寫法\n  ![composition API](https://lh3.googleusercontent.com/pw/ACtC-3dPPnmhsRLsSHI33vrnqj_QB8CScnf9jLwa0iM5iJfRJVhM0IW5Hs4ommjgXhu5larti1rTtA46wmwxMk2rmoQ-9kjp2CRwx5UA-s9KpjOzmH1kEQkgWXPT8YzlzJfD1_YmBF1TuQJV4wVnZiVPfspgig=w2208-h1242-no?authuser=0)\n\n整體來說，composition API 都是大大提升組件的邏輯組織寫法，讓開發者能更快進入狀況，用更輕鬆精簡的方式達到開發目的，我個人是非常看好且開心的，畢竟一個工程師要面對的專案實在太多，要省時省力才有效率。\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)\n* [Why the Composition API](https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/)","slug":"Vue/Vue-3-Studies-Why-the-composition-API","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s5004nr3y7aw369u5o","content":"<p>Vue 3 雖然還沒出正式版，但蠻多人對新的 composition API 有所好評。剛好官網有完整的影片介紹，所以想趁這個機會開始學習。</p>\n<span id=\"more\"></span>\n\n<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\">https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/</a></p>\n<p>接下來會針對目前 Vue 2 的限制解釋並提出 Vue 3 的解決方式。</p>\n<p>影片中提出當我們的專案越來越大&#x2F;醜時，三個 Vue 2 的限制：</p>\n<ol>\n<li>Readability as components grow：當組件越來越複雜時，程式變得越不容易閱讀。</li>\n<li>Code reuse patterns have drawbacks：程式片段重複使用的方式有缺點。</li>\n<li>Limited typescript support：typescript 支援上有限制。</li>\n</ol>\n<h1 id=\"比較大的組件會變得越來越難閱讀和維護\"><a href=\"#比較大的組件會變得越來越難閱讀和維護\" class=\"headerlink\" title=\"比較大的組件會變得越來越難閱讀和維護\"></a>比較大的組件會變得越來越難閱讀和維護</h1><p>影片當中以搜尋組件(search.vue)為例。當我們搜尋組件想要寫兩個功能：一個功能是搜尋關鍵字結果(Search)；另一個功能是對搜尋結果做排序(Sorting)。在 Vue 2 的作法，我們可能把同一個 Search&#x2F;Sorting 的功能將邏輯散佈在各個程式區塊，有可能在 components, props, data, computed, methods, lifecycle methods等。當其他開發者想要閱讀時沒辦法一眼看到功能的所有邏輯，而是需要掃描散佈在各片段的程式碼才能了解特定功能的邏輯。所以 Vue 3 要解決的是如何把同一功能的邏輯統一放在一個地方，讓閱讀上更容易。</p>\n<p>Vue 2 將功能邏輯散佈在多個程式碼片段<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3d96-4SjMB_p4-hWeSPOVnlfgcOsXoIk9PYGTL6S0mDMzbuTx3VdH5294bQdrYbITjYCyuXrsTpWXjng2H_aPb83y1kHzovuzE7dEXjhMyYB3ZZHSEJfQBgLfo_YSvaDoBQ7f2B0SP-8vZJgZYko4RihA=w2208-h1242-no?authuser=0\" alt=\"Vue 2 將功能邏輯散佈在多個程式碼片段\"></p>\n<p>Vue 3 的解決方式就是推出 composition API ，將兩種功能的程式碼片段先集中成兩個區塊，放在 setup 函式中，且他完全是選擇性的。第一次看到可能會想說：這樣是否表示我們會產生一個超巨大的程式碼在 setup 函式中嗎？答案是，不。我們接下來看看他是如何解釋的。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3c1z4-Cy7mQ1itIsSDBCv2ydlMKfl0Uq-6ITtVczzASfVgXJ57CA66HdLv5kVdhx0RUjbRjd7Sd4UY9WLnMCu7DJa4ezAZo_QViPKXCht75yC_mzGDUS1CO3c6z193-pudoaXPEvR6eeTx5yxP60yszFg=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<p>我們可以把兩個功能先寫出來各自的函式，並在setup 函式 return 出來。（這裡為了方便解釋寫在同一頁，實際上會另外寫出來 js 檔案，要用的時候再引入）<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXgoNhS2-gvKQhmE2H80cBJmEXXfzqcm_vru2fzbhqAfcocu5NGjXvHNj0c9GRoR0wZvwXeCNLEV_o09u6Ziwpuv_PYNGOYWjHoC0w-yFH1fixvTO22LG6HLKj4ms4rppxbuC4h2upzsn0z-5FsjZgAA=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<p>現在，程式碼片段變得更符合邏輯閱讀，但這不代表組合函式會取代組件父子關係，我們還是會先將組件父子關係區分出來，各組件的功能再以組合函式來表示。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eWW8YTjK_GIX91w9UCF8IRSX8PMQMkUKzPjMIU99ckLFRpZBjGh_jsTK4OsmUp2cDOpmVaiRHhsLq9UQOO32SyyhZ63zpMjSbqkWOiWT3Wrsilnx0BnxwbnieulwLw558MESaXY8P3fZEh2jbl8orP0A=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<h1 id=\"找不到完美的方式能在不同組件中重複使用相同邏輯\"><a href=\"#找不到完美的方式能在不同組件中重複使用相同邏輯\" class=\"headerlink\" title=\"找不到完美的方式能在不同組件中重複使用相同邏輯\"></a>找不到完美的方式能在不同組件中重複使用相同邏輯</h1><p>影片中提到在 Vue 2 有三種方式可以在不同組件中重複使用相同邏輯。</p>\n<ol>\n<li><p>Mixin：第一種是分別拉出來 Search&#x2F;Sorting 各自的mixin，並在搜尋組件中引用 mixins 加入。</p>\n<ul>\n<li>優點：<ul>\n<li>Organized by feature：優點是可以依據功能組織各自邏輯。</li>\n</ul>\n</li>\n<li>缺點：<ul>\n<li>Conflict prone：因為有各自的data等屬性，容易發生衝突。</li>\n<li>Unclear relationship：不清楚兩者 mixin 關係是否會互相影響。</li>\n<li>Not easy reuseble：不容易重複使用。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3cuCe0z_fEa50pIodm4hYC8od1Bs0objS-283HeyY-RdgKwAi8wJ6oYMynQBizr66oyqMXsUlQXkmGTttljZusYWrwuQ0IBi1PXJIwL0vY7wIJfrYLsMZJBsubn9bd9kTymExoN00egnmSqzIk-mBxuEQ=w1708-h1280-no?authuser=0\" alt=\"Mixin\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Mixin Factories: 第二種方式是使用客製版本的mixin傳入對應的config。</p>\n<ul>\n<li>優點<ul>\n<li>Easily reusable：容易重複使用。</li>\n<li>Clearer relationships：將兩者關係釐清楚。</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>Weak namespace：命名方式不嚴謹。</li>\n<li>Implicit property additions：內部添加隱藏的屬性。</li>\n<li>No Instance access at runtime：Vue 運行時並不會動態生成。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dJvx5OUIZEZiJR-VBBCJjDWWDlF3EfYoqT6Hruat6fvOSd8Ibv-KsrUrk2lR0sgf9ZO9CoWJ97GXELgWelH-GaTQA9VTV9Kwebx-IZnvQbSgZL4wrotK66ahn8esXsS3U3MbMWFK2drXSyN_uBBuf0LA=w1708-h1280-no?authuser=0\" alt=\"Mixin Factories\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Scope slots：第三種是將 Search&#x2F;Sorting 分成兩個 Vue 組件，並用 slot 的方式做巢狀使用。</p>\n<ul>\n<li>優點<ul>\n<li>解決 mixin 的問題</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>Increases indentation：增加縮排。</li>\n<li>Lots of configuration ：更多的設定值。</li>\n<li>Less flexible ：彈性變小。</li>\n<li>Less performance ：性能變差。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3djhWxIL2elD1Nlz60lvLyec2aDpm13uSxYz3Lx7JnYYj3lYyPinDfLDesY7WwXQkW3GzT93XID13mEJCoXSK98H4KVtCVhItKl5C9zMSYhhamHQAGlUeTJZyIoTcxGsK007IzPyh3pfD26VdIEsnEmVA=w2208-h1242-no?authuser=0\" alt=\"Scope slots\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>這三種都有他的缺點，所以影片提到 composition API 使用上可以解決上述問題。就是將 Search&#x2F;Sorting 兩個 composition function 各自分出 js 將邏輯寫出來。在 Vue 組件設定變數將其各自做引用函式並設定所需要的參數。</p>\n<ul>\n<li>優點<ul>\n<li>程式碼精簡</li>\n<li>和平常的 js 使用差不多</li>\n<li>使用上非常有彈性</li>\n<li>友善的使用方式</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>要熟悉新的程式使用寫法<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dPPnmhsRLsSHI33vrnqj_QB8CScnf9jLwa0iM5iJfRJVhM0IW5Hs4ommjgXhu5larti1rTtA46wmwxMk2rmoQ-9kjp2CRwx5UA-s9KpjOzmH1kEQkgWXPT8YzlzJfD1_YmBF1TuQJV4wVnZiVPfspgig=w2208-h1242-no?authuser=0\" alt=\"composition API\"></li>\n</ul>\n</li>\n</ul>\n<p>整體來說，composition API 都是大大提升組件的邏輯組織寫法，讓開發者能更快進入狀況，用更輕鬆精簡的方式達到開發目的，我個人是非常看好且開心的，畢竟一個工程師要面對的專案實在太多，要省時省力才有效率。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\">Why the Composition API</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>Vue 3 雖然還沒出正式版，但蠻多人對新的 composition API 有所好評。剛好官網有完整的影片介紹，所以想趁這個機會開始學習。</p>","more":"<p>影片網址： <a href=\"https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\">https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/</a></p>\n<p>接下來會針對目前 Vue 2 的限制解釋並提出 Vue 3 的解決方式。</p>\n<p>影片中提出當我們的專案越來越大&#x2F;醜時，三個 Vue 2 的限制：</p>\n<ol>\n<li>Readability as components grow：當組件越來越複雜時，程式變得越不容易閱讀。</li>\n<li>Code reuse patterns have drawbacks：程式片段重複使用的方式有缺點。</li>\n<li>Limited typescript support：typescript 支援上有限制。</li>\n</ol>\n<h1 id=\"比較大的組件會變得越來越難閱讀和維護\"><a href=\"#比較大的組件會變得越來越難閱讀和維護\" class=\"headerlink\" title=\"比較大的組件會變得越來越難閱讀和維護\"></a>比較大的組件會變得越來越難閱讀和維護</h1><p>影片當中以搜尋組件(search.vue)為例。當我們搜尋組件想要寫兩個功能：一個功能是搜尋關鍵字結果(Search)；另一個功能是對搜尋結果做排序(Sorting)。在 Vue 2 的作法，我們可能把同一個 Search&#x2F;Sorting 的功能將邏輯散佈在各個程式區塊，有可能在 components, props, data, computed, methods, lifecycle methods等。當其他開發者想要閱讀時沒辦法一眼看到功能的所有邏輯，而是需要掃描散佈在各片段的程式碼才能了解特定功能的邏輯。所以 Vue 3 要解決的是如何把同一功能的邏輯統一放在一個地方，讓閱讀上更容易。</p>\n<p>Vue 2 將功能邏輯散佈在多個程式碼片段<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3d96-4SjMB_p4-hWeSPOVnlfgcOsXoIk9PYGTL6S0mDMzbuTx3VdH5294bQdrYbITjYCyuXrsTpWXjng2H_aPb83y1kHzovuzE7dEXjhMyYB3ZZHSEJfQBgLfo_YSvaDoBQ7f2B0SP-8vZJgZYko4RihA=w2208-h1242-no?authuser=0\" alt=\"Vue 2 將功能邏輯散佈在多個程式碼片段\"></p>\n<p>Vue 3 的解決方式就是推出 composition API ，將兩種功能的程式碼片段先集中成兩個區塊，放在 setup 函式中，且他完全是選擇性的。第一次看到可能會想說：這樣是否表示我們會產生一個超巨大的程式碼在 setup 函式中嗎？答案是，不。我們接下來看看他是如何解釋的。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3c1z4-Cy7mQ1itIsSDBCv2ydlMKfl0Uq-6ITtVczzASfVgXJ57CA66HdLv5kVdhx0RUjbRjd7Sd4UY9WLnMCu7DJa4ezAZo_QViPKXCht75yC_mzGDUS1CO3c6z193-pudoaXPEvR6eeTx5yxP60yszFg=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<p>我們可以把兩個功能先寫出來各自的函式，並在setup 函式 return 出來。（這裡為了方便解釋寫在同一頁，實際上會另外寫出來 js 檔案，要用的時候再引入）<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fXgoNhS2-gvKQhmE2H80cBJmEXXfzqcm_vru2fzbhqAfcocu5NGjXvHNj0c9GRoR0wZvwXeCNLEV_o09u6Ziwpuv_PYNGOYWjHoC0w-yFH1fixvTO22LG6HLKj4ms4rppxbuC4h2upzsn0z-5FsjZgAA=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<p>現在，程式碼片段變得更符合邏輯閱讀，但這不代表組合函式會取代組件父子關係，我們還是會先將組件父子關係區分出來，各組件的功能再以組合函式來表示。<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eWW8YTjK_GIX91w9UCF8IRSX8PMQMkUKzPjMIU99ckLFRpZBjGh_jsTK4OsmUp2cDOpmVaiRHhsLq9UQOO32SyyhZ63zpMjSbqkWOiWT3Wrsilnx0BnxwbnieulwLw558MESaXY8P3fZEh2jbl8orP0A=w2208-h1242-no?authuser=0\" alt=\"composition API setup\"></p>\n<h1 id=\"找不到完美的方式能在不同組件中重複使用相同邏輯\"><a href=\"#找不到完美的方式能在不同組件中重複使用相同邏輯\" class=\"headerlink\" title=\"找不到完美的方式能在不同組件中重複使用相同邏輯\"></a>找不到完美的方式能在不同組件中重複使用相同邏輯</h1><p>影片中提到在 Vue 2 有三種方式可以在不同組件中重複使用相同邏輯。</p>\n<ol>\n<li><p>Mixin：第一種是分別拉出來 Search&#x2F;Sorting 各自的mixin，並在搜尋組件中引用 mixins 加入。</p>\n<ul>\n<li>優點：<ul>\n<li>Organized by feature：優點是可以依據功能組織各自邏輯。</li>\n</ul>\n</li>\n<li>缺點：<ul>\n<li>Conflict prone：因為有各自的data等屬性，容易發生衝突。</li>\n<li>Unclear relationship：不清楚兩者 mixin 關係是否會互相影響。</li>\n<li>Not easy reuseble：不容易重複使用。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3cuCe0z_fEa50pIodm4hYC8od1Bs0objS-283HeyY-RdgKwAi8wJ6oYMynQBizr66oyqMXsUlQXkmGTttljZusYWrwuQ0IBi1PXJIwL0vY7wIJfrYLsMZJBsubn9bd9kTymExoN00egnmSqzIk-mBxuEQ=w1708-h1280-no?authuser=0\" alt=\"Mixin\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Mixin Factories: 第二種方式是使用客製版本的mixin傳入對應的config。</p>\n<ul>\n<li>優點<ul>\n<li>Easily reusable：容易重複使用。</li>\n<li>Clearer relationships：將兩者關係釐清楚。</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>Weak namespace：命名方式不嚴謹。</li>\n<li>Implicit property additions：內部添加隱藏的屬性。</li>\n<li>No Instance access at runtime：Vue 運行時並不會動態生成。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dJvx5OUIZEZiJR-VBBCJjDWWDlF3EfYoqT6Hruat6fvOSd8Ibv-KsrUrk2lR0sgf9ZO9CoWJ97GXELgWelH-GaTQA9VTV9Kwebx-IZnvQbSgZL4wrotK66ahn8esXsS3U3MbMWFK2drXSyN_uBBuf0LA=w1708-h1280-no?authuser=0\" alt=\"Mixin Factories\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Scope slots：第三種是將 Search&#x2F;Sorting 分成兩個 Vue 組件，並用 slot 的方式做巢狀使用。</p>\n<ul>\n<li>優點<ul>\n<li>解決 mixin 的問題</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>Increases indentation：增加縮排。</li>\n<li>Lots of configuration ：更多的設定值。</li>\n<li>Less flexible ：彈性變小。</li>\n<li>Less performance ：性能變差。<br> <img src=\"https://lh3.googleusercontent.com/pw/ACtC-3djhWxIL2elD1Nlz60lvLyec2aDpm13uSxYz3Lx7JnYYj3lYyPinDfLDesY7WwXQkW3GzT93XID13mEJCoXSK98H4KVtCVhItKl5C9zMSYhhamHQAGlUeTJZyIoTcxGsK007IzPyh3pfD26VdIEsnEmVA=w2208-h1242-no?authuser=0\" alt=\"Scope slots\"></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>這三種都有他的缺點，所以影片提到 composition API 使用上可以解決上述問題。就是將 Search&#x2F;Sorting 兩個 composition function 各自分出 js 將邏輯寫出來。在 Vue 組件設定變數將其各自做引用函式並設定所需要的參數。</p>\n<ul>\n<li>優點<ul>\n<li>程式碼精簡</li>\n<li>和平常的 js 使用差不多</li>\n<li>使用上非常有彈性</li>\n<li>友善的使用方式</li>\n</ul>\n</li>\n<li>缺點<ul>\n<li>要熟悉新的程式使用寫法<br><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3dPPnmhsRLsSHI33vrnqj_QB8CScnf9jLwa0iM5iJfRJVhM0IW5Hs4ommjgXhu5larti1rTtA46wmwxMk2rmoQ-9kjp2CRwx5UA-s9KpjOzmH1kEQkgWXPT8YzlzJfD1_YmBF1TuQJV4wVnZiVPfspgig=w2208-h1242-no?authuser=0\" alt=\"composition API\"></li>\n</ul>\n</li>\n</ul>\n<p>整體來說，composition API 都是大大提升組件的邏輯組織寫法，讓開發者能更快進入狀況，用更輕鬆精簡的方式達到開發目的，我個人是非常看好且開心的，畢竟一個工程師要面對的專案實在太多，要省時省力才有效率。</p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n<li><a href=\"https://www.vuemastery.com/courses/vue-3-essentials/why-the-composition-api/\">Why the Composition API</a></li>\n</ul>"},{"title":"Use git extention in VScode, goodbye sourcetree","thumbnailImage":"https://code.visualstudio.com/assets/favicon.ico","thumbnailImagePosition":"left","coverImage":"https://nickjanetakis.com/assets/blog/cards/my-favorite-vscode-extensions-0a601796807e75dea485f00ded76da1ab2279c3d85364335b715c1918691650f.jpg","coverMeta":"out","date":"2019-11-22T16:00:00.000Z","updated":"2019-11-22T16:00:00.000Z","_content":"\n因為 sourcetree 在公司內網些時候會一直跳出輸入 AD 帳密的視窗，前陣子因為換了密碼，結果舊密碼被記住，結果每用一次 sourcetree 就會被鎖一次帳號，真是冤望啊！後來索性就決定刪掉 sourcetree ，想說如果全部都在 vscode 一次解決就完美了～所以就開始我的 vscode extention 探索之旅。\n\n<!--more-->\n\n首先，得先理出哪些 sourcetree 的功能是我常用的，並找到相對應的 vscode extention 。想要的功能如下：\n\n1. 資料夾整理專案功能：因為不可能記住 repo 名稱對應的專案，所以若能像 sourcetree 有分資料夾的功能，就能快速找到專案對應的 repo。\n\n2. Git Stash 功能：能暫存程式碼片段在本機。隨時可調用。\n\n3. Git Graph 功能: 能看清楚每個 branch 的 commit 圖形化介面。\n\n接著，我們就來看是哪些 vscode extention 吧~\n\n# Project Manager\n\n[Project Manager](https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager) 能用它做資料夾整理專案的功能，而且他在 vscode 還可以做 open in new window 的動作\b，整合開啟程式片段的功能感覺超方便！\n\n![Project Manager](https://github.com/alefragnani/vscode-project-manager/raw/master/images/vscode-project-manager-side-bar.gif)\n\n# Git Stash\n\n[Git Stash](https://marketplace.visualstudio.com/items?itemName=arturock.gitstash) 能用它做 git stash 的相關動作，而且他整合在 vscode 的 git 頁籤中，不會像 gitLens 跑到另一個頁籤，我覺得整合的很好，操作又簡潔。\n\n![Git Stash](https://raw.githubusercontent.com/arturock/vscode-gitstash/master/resources/docs/screencast.gif)\n\n\n# Git Graph\n\n[Git Graph](https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph) 能用它看到 git 圖形，也可以透過滑鼠右鍵做 branch 切換、加 tag、cherry pick 等動作，最重要的是他也整合在 git 頁籤中，所以就可以把 git 功能就統一在 vscode 原始 git 頁籤中，整個融合在 vscode 介面中，再也不用另外開 sourcetree 了！\n\n![Git Graph](https://github.com/mhutchie/vscode-git-graph/raw/master/resources/demo.gif)\n\n透過以上三個 vscode extention ，就能永遠跟 sourcetree 說 goodbye 了～\n","source":"_posts/VScode/Use-git-extention-in-VScode-goodbye-sourcetree.md","raw":"---\ntitle: 'Use git extention in VScode, goodbye sourcetree'\ncategories:\n  - VScode\nthumbnailImage: https://code.visualstudio.com/assets/favicon.ico\nthumbnailImagePosition: left\ncoverImage: https://nickjanetakis.com/assets/blog/cards/my-favorite-vscode-extensions-0a601796807e75dea485f00ded76da1ab2279c3d85364335b715c1918691650f.jpg\ncoverMeta: out\ntags: [Git, VScode]\ndate: 2019/11/23\nupdated: 2019/11/23\n---\n\n因為 sourcetree 在公司內網些時候會一直跳出輸入 AD 帳密的視窗，前陣子因為換了密碼，結果舊密碼被記住，結果每用一次 sourcetree 就會被鎖一次帳號，真是冤望啊！後來索性就決定刪掉 sourcetree ，想說如果全部都在 vscode 一次解決就完美了～所以就開始我的 vscode extention 探索之旅。\n\n<!--more-->\n\n首先，得先理出哪些 sourcetree 的功能是我常用的，並找到相對應的 vscode extention 。想要的功能如下：\n\n1. 資料夾整理專案功能：因為不可能記住 repo 名稱對應的專案，所以若能像 sourcetree 有分資料夾的功能，就能快速找到專案對應的 repo。\n\n2. Git Stash 功能：能暫存程式碼片段在本機。隨時可調用。\n\n3. Git Graph 功能: 能看清楚每個 branch 的 commit 圖形化介面。\n\n接著，我們就來看是哪些 vscode extention 吧~\n\n# Project Manager\n\n[Project Manager](https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager) 能用它做資料夾整理專案的功能，而且他在 vscode 還可以做 open in new window 的動作\b，整合開啟程式片段的功能感覺超方便！\n\n![Project Manager](https://github.com/alefragnani/vscode-project-manager/raw/master/images/vscode-project-manager-side-bar.gif)\n\n# Git Stash\n\n[Git Stash](https://marketplace.visualstudio.com/items?itemName=arturock.gitstash) 能用它做 git stash 的相關動作，而且他整合在 vscode 的 git 頁籤中，不會像 gitLens 跑到另一個頁籤，我覺得整合的很好，操作又簡潔。\n\n![Git Stash](https://raw.githubusercontent.com/arturock/vscode-gitstash/master/resources/docs/screencast.gif)\n\n\n# Git Graph\n\n[Git Graph](https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph) 能用它看到 git 圖形，也可以透過滑鼠右鍵做 branch 切換、加 tag、cherry pick 等動作，最重要的是他也整合在 git 頁籤中，所以就可以把 git 功能就統一在 vscode 原始 git 頁籤中，整個融合在 vscode 介面中，再也不用另外開 sourcetree 了！\n\n![Git Graph](https://github.com/mhutchie/vscode-git-graph/raw/master/resources/demo.gif)\n\n透過以上三個 vscode extention ，就能永遠跟 sourcetree 說 goodbye 了～\n","slug":"VScode/Use-git-extention-in-VScode-goodbye-sourcetree","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s7004qr3y7h26i54e6","content":"<p>因為 sourcetree 在公司內網些時候會一直跳出輸入 AD 帳密的視窗，前陣子因為換了密碼，結果舊密碼被記住，結果每用一次 sourcetree 就會被鎖一次帳號，真是冤望啊！後來索性就決定刪掉 sourcetree ，想說如果全部都在 vscode 一次解決就完美了～所以就開始我的 vscode extention 探索之旅。</p>\n<span id=\"more\"></span>\n\n<p>首先，得先理出哪些 sourcetree 的功能是我常用的，並找到相對應的 vscode extention 。想要的功能如下：</p>\n<ol>\n<li><p>資料夾整理專案功能：因為不可能記住 repo 名稱對應的專案，所以若能像 sourcetree 有分資料夾的功能，就能快速找到專案對應的 repo。</p>\n</li>\n<li><p>Git Stash 功能：能暫存程式碼片段在本機。隨時可調用。</p>\n</li>\n<li><p>Git Graph 功能: 能看清楚每個 branch 的 commit 圖形化介面。</p>\n</li>\n</ol>\n<p>接著，我們就來看是哪些 vscode extention 吧~</p>\n<h1 id=\"Project-Manager\"><a href=\"#Project-Manager\" class=\"headerlink\" title=\"Project Manager\"></a>Project Manager</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager\">Project Manager</a> 能用它做資料夾整理專案的功能，而且他在 vscode 還可以做 open in new window 的動作\b，整合開啟程式片段的功能感覺超方便！</p>\n<p><img src=\"https://github.com/alefragnani/vscode-project-manager/raw/master/images/vscode-project-manager-side-bar.gif\" alt=\"Project Manager\"></p>\n<h1 id=\"Git-Stash\"><a href=\"#Git-Stash\" class=\"headerlink\" title=\"Git Stash\"></a>Git Stash</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=arturock.gitstash\">Git Stash</a> 能用它做 git stash 的相關動作，而且他整合在 vscode 的 git 頁籤中，不會像 gitLens 跑到另一個頁籤，我覺得整合的很好，操作又簡潔。</p>\n<p><img src=\"https://raw.githubusercontent.com/arturock/vscode-gitstash/master/resources/docs/screencast.gif\" alt=\"Git Stash\"></p>\n<h1 id=\"Git-Graph\"><a href=\"#Git-Graph\" class=\"headerlink\" title=\"Git Graph\"></a>Git Graph</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph\">Git Graph</a> 能用它看到 git 圖形，也可以透過滑鼠右鍵做 branch 切換、加 tag、cherry pick 等動作，最重要的是他也整合在 git 頁籤中，所以就可以把 git 功能就統一在 vscode 原始 git 頁籤中，整個融合在 vscode 介面中，再也不用另外開 sourcetree 了！</p>\n<p><img src=\"https://github.com/mhutchie/vscode-git-graph/raw/master/resources/demo.gif\" alt=\"Git Graph\"></p>\n<p>透過以上三個 vscode extention ，就能永遠跟 sourcetree 說 goodbye 了～</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://code.visualstudio.com/assets/favicon.ico","excerpt":"<p>因為 sourcetree 在公司內網些時候會一直跳出輸入 AD 帳密的視窗，前陣子因為換了密碼，結果舊密碼被記住，結果每用一次 sourcetree 就會被鎖一次帳號，真是冤望啊！後來索性就決定刪掉 sourcetree ，想說如果全部都在 vscode 一次解決就完美了～所以就開始我的 vscode extention 探索之旅。</p>","more":"<p>首先，得先理出哪些 sourcetree 的功能是我常用的，並找到相對應的 vscode extention 。想要的功能如下：</p>\n<ol>\n<li><p>資料夾整理專案功能：因為不可能記住 repo 名稱對應的專案，所以若能像 sourcetree 有分資料夾的功能，就能快速找到專案對應的 repo。</p>\n</li>\n<li><p>Git Stash 功能：能暫存程式碼片段在本機。隨時可調用。</p>\n</li>\n<li><p>Git Graph 功能: 能看清楚每個 branch 的 commit 圖形化介面。</p>\n</li>\n</ol>\n<p>接著，我們就來看是哪些 vscode extention 吧~</p>\n<h1 id=\"Project-Manager\"><a href=\"#Project-Manager\" class=\"headerlink\" title=\"Project Manager\"></a>Project Manager</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager\">Project Manager</a> 能用它做資料夾整理專案的功能，而且他在 vscode 還可以做 open in new window 的動作\b，整合開啟程式片段的功能感覺超方便！</p>\n<p><img src=\"https://github.com/alefragnani/vscode-project-manager/raw/master/images/vscode-project-manager-side-bar.gif\" alt=\"Project Manager\"></p>\n<h1 id=\"Git-Stash\"><a href=\"#Git-Stash\" class=\"headerlink\" title=\"Git Stash\"></a>Git Stash</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=arturock.gitstash\">Git Stash</a> 能用它做 git stash 的相關動作，而且他整合在 vscode 的 git 頁籤中，不會像 gitLens 跑到另一個頁籤，我覺得整合的很好，操作又簡潔。</p>\n<p><img src=\"https://raw.githubusercontent.com/arturock/vscode-gitstash/master/resources/docs/screencast.gif\" alt=\"Git Stash\"></p>\n<h1 id=\"Git-Graph\"><a href=\"#Git-Graph\" class=\"headerlink\" title=\"Git Graph\"></a>Git Graph</h1><p><a href=\"https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph\">Git Graph</a> 能用它看到 git 圖形，也可以透過滑鼠右鍵做 branch 切換、加 tag、cherry pick 等動作，最重要的是他也整合在 git 頁籤中，所以就可以把 git 功能就統一在 vscode 原始 git 頁籤中，整個融合在 vscode 介面中，再也不用另外開 sourcetree 了！</p>\n<p><img src=\"https://github.com/mhutchie/vscode-git-graph/raw/master/resources/demo.gif\" alt=\"Git Graph\"></p>\n<p>透過以上三個 vscode extention ，就能永遠跟 sourcetree 說 goodbye 了～</p>"},{"title":"Webpack 3 Tutorial - HTML Webpack Plugin","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-06-29T16:00:00.000Z","updated":"2017-06-29T16:00:00.000Z","_content":"\n此篇介紹使用 `HTML Webpack Plugin`，他可以自動生成 `html` 並將 `app.bundle.js` 自動加在 `html` 結尾處。\n<!--more-->\n\n## 安裝 `HTML Webpack Plugin`\n\n```npm\nnpm i -D html-webpack-plugin\n```\n\n## 設定 `webpack.config.js`\n\n```js\nvar HtmlWebpackPlugin = require('html-webpack-plugin'); // 引入 html-webpack-plugin\nvar path = require('path');\n\nmodule.exports = {\nentry: './src/app.js',\noutput: {\n\n  path: path.resolve(__dirname, 'dist'),\n  // the target directory for all output files\n  // must be an absolute path (use the Node.js path module)\n\n  filename: 'app.bundle.js'\n  // the filename template for entry chunks\n\n},\n\nplugins: [new HtmlWebpackPlugin()] // 使用 html-webpack-plugin\n\n}\n```\n\n## 自動生成 `html`\n\n執行\n\n```npm\nnpm run dev\n```\n\n或\n\n```npm\nnpm run prod\n```\n\n就可以看到 `dist` 內生成 `index.html` 囉～\n\n![dist 內生成 index.html](https://lh3.googleusercontent.com/xNq0I-e-92Umpmt2g-040igJwmjMz2eJVLlR1Jd_XkQxLexKuwZvU_nEblxQqB0p7QYT0h2itGoxPKcceHmgBv5GKuq_nBkMq3l6NKkmT0VqEHOMW4GPQYaiT4zqpcLN087QDlaBPawib0kGZjeBLg27UKsunJXDnQy1eDki7ZnZF9v0di0HjzyDfk7u2WKJxjOqXiSr3VpQ_cdjzvdJKMq6P98zrElSPtLqPXbnHghl7knD7l3iAWF_F_m6By0cry24yO06sMowOQgB-4HsWXs0c8R5DP5jsuBh-iSBpsWRZzrlxOSUhzgfY1ZTXlrP9aU1pnh0suleU4RZBmJSp87i_1VXRmrGoNOsuDDB83HXshrWQ-sWoBdxYRouKh3FjmH0j3ybSAdkBWD5-OYp2d6zqT1f0uXzO2VwnalgNlCe3c_BQAqxSh58SWh2NoMsOIm2o2LMJY5-sNsdxgLW6yWBC04s7uveApgKJHxtY3skp_dkbc2xKCoWcDM4Qfy_s9dvTxMfIL6J7RwJrHePbnV4dxBFKhZzaNf44kQS6-v1piVWw1IrL143BZ_qp5HbhgFXgkkWuie5ufplKW9d-Q0SU6MQDGo_QYvX4DzPEoahbmVgl7rjISCm0OpSlkos6LYURLBUG0evIgmvYfXvFbBBk3NaMNsm=w1024-h698-no \"dist/index.html\")\n\n## 撰寫 html templates\n\n如果想要客製化自己的 `html` 模板要怎麼辦呢？\n我個人是喜歡用 `pug` 來寫，\n不過 `HTML Webpack Plugin` 有內建模板使用方式，\n所以就先示範內建的使用方式囉～\n\n1. 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ...\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'Custom template', // 客製化的 html 標題\n      template: './src/index.html' // 模板的位置\n    })\n  ]\n  ...\n}\n```\n\n2. 建立 `html` 模板\n\n在 `src` 資料夾新增 `index.html`，\n`<%= htmlWebpackPlugin.options.title %>` 到時候會被 `webpack.config.js` 內設定的標題取代掉喔。\n\n```html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\"/>\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n  </body>\n</html>\n```\n\n3. 自動產生客製化 `html`\n\n執行\n\n```npm\nnpm run dev\n```\n\n或\n\n```npm\nnpm run prod\n```\n\n就可以看到 `dist` 內新生成的 `index.html` 囉～\n\n![dist 內新客製化 index.html](https://lh3.googleusercontent.com/dN0CFoLrFDBJPh0Qo8ODyyrMX1X8jxp13wcSshPdGKN1KWm9B43d1Qd0j89dH9lui0dYlbGb-iXdN4i5X8aF8ZqzQQ5gZ1YH5u8HZjnYh-4vndY0780cXO1iTQ-fa9550Lx3HhZXevd6Bl_ALGJtG3yRG_sRaGN88hYeQp_EIDGvdfX9v5LAtjl-D5FFclMvtkiJUeN48j3wtHuxbjnGIHvfOmQU_jeuHu_pUG6XzhvXuPZfaYqxCs0d3Xm6MQnS2SiraFGIyjAwVSUdWQhSlMQ3UcmukP4jC0ejasLPyy15AudhXv6TPykskMl_UDUsFKJs1sy2PRKrXvjbNWVRy4tt0qHkONgnBpghrQk8K6ydBhmidFUKUD3sGYchmtf01ae97I_x4046FXCHHnZltkl1whLohF1XXoPI2jkfKeaD0PgHDylMrkIdnmWBh_mWwX5lc3NE9aNmDDy3WNqOvcCyfId1QOH4A_gYMdDmG0LaubRcvTVDll5pjpBnULXGzYb7zcZNLzV1TIQq4-ccuk3MMtXNLC3TfvShup2SlHSmuHTrcnQlMzEuD3bo-x1VPwPphD_fm_TrSQzImnyRUIX3u8SXs3zEdAeAJtty8XI1KC-QKlh9p3LopZj_9bByi77FnGtXRTZaU1TSomjhBG_g1e1DOtxd=w1024-h698-no \"dist/index.html\")\n\n今天的實作檔案在[github](https://github.com/Annilla/webpack_practice/tree/v1.1.0) 。等前面幾篇基礎的介紹完，之後會介紹 `pug` 怎麼跟 `HTML Webpack Plugin` 做結合，敬請期待。\n\n## 參考資料\n\n* [HTML Webpack Plugin](https://github.com/jantimon/html-webpack-plugin)\n* [Webpack HtmlWebpackPlugin](https://webpack.js.org/plugins/html-webpack-plugin/)\n","source":"_posts/Webpack/Webpack-3-Tutorial-HTML-Webpack-Plugin.md","raw":"---\ntitle: Webpack 3 Tutorial - HTML Webpack Plugin\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/06/30\nupdated: 2017/06/30\n---\n\n此篇介紹使用 `HTML Webpack Plugin`，他可以自動生成 `html` 並將 `app.bundle.js` 自動加在 `html` 結尾處。\n<!--more-->\n\n## 安裝 `HTML Webpack Plugin`\n\n```npm\nnpm i -D html-webpack-plugin\n```\n\n## 設定 `webpack.config.js`\n\n```js\nvar HtmlWebpackPlugin = require('html-webpack-plugin'); // 引入 html-webpack-plugin\nvar path = require('path');\n\nmodule.exports = {\nentry: './src/app.js',\noutput: {\n\n  path: path.resolve(__dirname, 'dist'),\n  // the target directory for all output files\n  // must be an absolute path (use the Node.js path module)\n\n  filename: 'app.bundle.js'\n  // the filename template for entry chunks\n\n},\n\nplugins: [new HtmlWebpackPlugin()] // 使用 html-webpack-plugin\n\n}\n```\n\n## 自動生成 `html`\n\n執行\n\n```npm\nnpm run dev\n```\n\n或\n\n```npm\nnpm run prod\n```\n\n就可以看到 `dist` 內生成 `index.html` 囉～\n\n![dist 內生成 index.html](https://lh3.googleusercontent.com/xNq0I-e-92Umpmt2g-040igJwmjMz2eJVLlR1Jd_XkQxLexKuwZvU_nEblxQqB0p7QYT0h2itGoxPKcceHmgBv5GKuq_nBkMq3l6NKkmT0VqEHOMW4GPQYaiT4zqpcLN087QDlaBPawib0kGZjeBLg27UKsunJXDnQy1eDki7ZnZF9v0di0HjzyDfk7u2WKJxjOqXiSr3VpQ_cdjzvdJKMq6P98zrElSPtLqPXbnHghl7knD7l3iAWF_F_m6By0cry24yO06sMowOQgB-4HsWXs0c8R5DP5jsuBh-iSBpsWRZzrlxOSUhzgfY1ZTXlrP9aU1pnh0suleU4RZBmJSp87i_1VXRmrGoNOsuDDB83HXshrWQ-sWoBdxYRouKh3FjmH0j3ybSAdkBWD5-OYp2d6zqT1f0uXzO2VwnalgNlCe3c_BQAqxSh58SWh2NoMsOIm2o2LMJY5-sNsdxgLW6yWBC04s7uveApgKJHxtY3skp_dkbc2xKCoWcDM4Qfy_s9dvTxMfIL6J7RwJrHePbnV4dxBFKhZzaNf44kQS6-v1piVWw1IrL143BZ_qp5HbhgFXgkkWuie5ufplKW9d-Q0SU6MQDGo_QYvX4DzPEoahbmVgl7rjISCm0OpSlkos6LYURLBUG0evIgmvYfXvFbBBk3NaMNsm=w1024-h698-no \"dist/index.html\")\n\n## 撰寫 html templates\n\n如果想要客製化自己的 `html` 模板要怎麼辦呢？\n我個人是喜歡用 `pug` 來寫，\n不過 `HTML Webpack Plugin` 有內建模板使用方式，\n所以就先示範內建的使用方式囉～\n\n1. 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ...\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'Custom template', // 客製化的 html 標題\n      template: './src/index.html' // 模板的位置\n    })\n  ]\n  ...\n}\n```\n\n2. 建立 `html` 模板\n\n在 `src` 資料夾新增 `index.html`，\n`<%= htmlWebpackPlugin.options.title %>` 到時候會被 `webpack.config.js` 內設定的標題取代掉喔。\n\n```html\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\"/>\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n  </body>\n</html>\n```\n\n3. 自動產生客製化 `html`\n\n執行\n\n```npm\nnpm run dev\n```\n\n或\n\n```npm\nnpm run prod\n```\n\n就可以看到 `dist` 內新生成的 `index.html` 囉～\n\n![dist 內新客製化 index.html](https://lh3.googleusercontent.com/dN0CFoLrFDBJPh0Qo8ODyyrMX1X8jxp13wcSshPdGKN1KWm9B43d1Qd0j89dH9lui0dYlbGb-iXdN4i5X8aF8ZqzQQ5gZ1YH5u8HZjnYh-4vndY0780cXO1iTQ-fa9550Lx3HhZXevd6Bl_ALGJtG3yRG_sRaGN88hYeQp_EIDGvdfX9v5LAtjl-D5FFclMvtkiJUeN48j3wtHuxbjnGIHvfOmQU_jeuHu_pUG6XzhvXuPZfaYqxCs0d3Xm6MQnS2SiraFGIyjAwVSUdWQhSlMQ3UcmukP4jC0ejasLPyy15AudhXv6TPykskMl_UDUsFKJs1sy2PRKrXvjbNWVRy4tt0qHkONgnBpghrQk8K6ydBhmidFUKUD3sGYchmtf01ae97I_x4046FXCHHnZltkl1whLohF1XXoPI2jkfKeaD0PgHDylMrkIdnmWBh_mWwX5lc3NE9aNmDDy3WNqOvcCyfId1QOH4A_gYMdDmG0LaubRcvTVDll5pjpBnULXGzYb7zcZNLzV1TIQq4-ccuk3MMtXNLC3TfvShup2SlHSmuHTrcnQlMzEuD3bo-x1VPwPphD_fm_TrSQzImnyRUIX3u8SXs3zEdAeAJtty8XI1KC-QKlh9p3LopZj_9bByi77FnGtXRTZaU1TSomjhBG_g1e1DOtxd=w1024-h698-no \"dist/index.html\")\n\n今天的實作檔案在[github](https://github.com/Annilla/webpack_practice/tree/v1.1.0) 。等前面幾篇基礎的介紹完，之後會介紹 `pug` 怎麼跟 `HTML Webpack Plugin` 做結合，敬請期待。\n\n## 參考資料\n\n* [HTML Webpack Plugin](https://github.com/jantimon/html-webpack-plugin)\n* [Webpack HtmlWebpackPlugin](https://webpack.js.org/plugins/html-webpack-plugin/)\n","slug":"Webpack/Webpack-3-Tutorial-HTML-Webpack-Plugin","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9s8004ur3y77z5q15vw","content":"<p>此篇介紹使用 <code>HTML Webpack Plugin</code>，他可以自動生成 <code>html</code> 並將 <code>app.bundle.js</code> 自動加在 <code>html</code> 結尾處。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-HTML-Webpack-Plugin\"><a href=\"#安裝-HTML-Webpack-Plugin\" class=\"headerlink\" title=\"安裝 HTML Webpack Plugin\"></a>安裝 <code>HTML Webpack Plugin</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D html-webpack-plugin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>); <span class=\"comment\">// 引入 html-webpack-plugin</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\"><span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/app.js&#x27;</span>,</span><br><span class=\"line\"><span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;dist&#x27;</span>),</span><br><span class=\"line\">  <span class=\"comment\">// the target directory for all output files</span></span><br><span class=\"line\">  <span class=\"comment\">// must be an absolute path (use the Node.js path module)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;app.bundle.js&#x27;</span></span><br><span class=\"line\">  <span class=\"comment\">// the filename template for entry chunks</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>()] <span class=\"comment\">// 使用 html-webpack-plugin</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"自動生成-html\"><a href=\"#自動生成-html\" class=\"headerlink\" title=\"自動生成 html\"></a>自動生成 <code>html</code></h2><p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>或</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>就可以看到 <code>dist</code> 內生成 <code>index.html</code> 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/xNq0I-e-92Umpmt2g-040igJwmjMz2eJVLlR1Jd_XkQxLexKuwZvU_nEblxQqB0p7QYT0h2itGoxPKcceHmgBv5GKuq_nBkMq3l6NKkmT0VqEHOMW4GPQYaiT4zqpcLN087QDlaBPawib0kGZjeBLg27UKsunJXDnQy1eDki7ZnZF9v0di0HjzyDfk7u2WKJxjOqXiSr3VpQ_cdjzvdJKMq6P98zrElSPtLqPXbnHghl7knD7l3iAWF_F_m6By0cry24yO06sMowOQgB-4HsWXs0c8R5DP5jsuBh-iSBpsWRZzrlxOSUhzgfY1ZTXlrP9aU1pnh0suleU4RZBmJSp87i_1VXRmrGoNOsuDDB83HXshrWQ-sWoBdxYRouKh3FjmH0j3ybSAdkBWD5-OYp2d6zqT1f0uXzO2VwnalgNlCe3c_BQAqxSh58SWh2NoMsOIm2o2LMJY5-sNsdxgLW6yWBC04s7uveApgKJHxtY3skp_dkbc2xKCoWcDM4Qfy_s9dvTxMfIL6J7RwJrHePbnV4dxBFKhZzaNf44kQS6-v1piVWw1IrL143BZ_qp5HbhgFXgkkWuie5ufplKW9d-Q0SU6MQDGo_QYvX4DzPEoahbmVgl7rjISCm0OpSlkos6LYURLBUG0evIgmvYfXvFbBBk3NaMNsm=w1024-h698-no\" alt=\"dist 內生成 index.html\" title=\"dist/index.html\"></p>\n<h2 id=\"撰寫-html-templates\"><a href=\"#撰寫-html-templates\" class=\"headerlink\" title=\"撰寫 html templates\"></a>撰寫 html templates</h2><p>如果想要客製化自己的 <code>html</code> 模板要怎麼辦呢？<br>我個人是喜歡用 <code>pug</code> 來寫，<br>不過 <code>HTML Webpack Plugin</code> 有內建模板使用方式，<br>所以就先示範內建的使用方式囉～</p>\n<ol>\n<li>修改 <code>webpack.config.js</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>: <span class=\"string\">&#x27;Custom template&#x27;</span>, <span class=\"comment\">// 客製化的 html 標題</span></span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./src/index.html&#x27;</span> <span class=\"comment\">// 模板的位置</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>建立 <code>html</code> 模板</li>\n</ol>\n<p>在 <code>src</code> 資料夾新增 <code>index.html</code>，<br><code>&lt;%= htmlWebpackPlugin.options.title %&gt;</code> 到時候會被 <code>webpack.config.js</code> 內設定的標題取代掉喔。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;Content-type&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>自動產生客製化 <code>html</code></li>\n</ol>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>或</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>就可以看到 <code>dist</code> 內新生成的 <code>index.html</code> 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/dN0CFoLrFDBJPh0Qo8ODyyrMX1X8jxp13wcSshPdGKN1KWm9B43d1Qd0j89dH9lui0dYlbGb-iXdN4i5X8aF8ZqzQQ5gZ1YH5u8HZjnYh-4vndY0780cXO1iTQ-fa9550Lx3HhZXevd6Bl_ALGJtG3yRG_sRaGN88hYeQp_EIDGvdfX9v5LAtjl-D5FFclMvtkiJUeN48j3wtHuxbjnGIHvfOmQU_jeuHu_pUG6XzhvXuPZfaYqxCs0d3Xm6MQnS2SiraFGIyjAwVSUdWQhSlMQ3UcmukP4jC0ejasLPyy15AudhXv6TPykskMl_UDUsFKJs1sy2PRKrXvjbNWVRy4tt0qHkONgnBpghrQk8K6ydBhmidFUKUD3sGYchmtf01ae97I_x4046FXCHHnZltkl1whLohF1XXoPI2jkfKeaD0PgHDylMrkIdnmWBh_mWwX5lc3NE9aNmDDy3WNqOvcCyfId1QOH4A_gYMdDmG0LaubRcvTVDll5pjpBnULXGzYb7zcZNLzV1TIQq4-ccuk3MMtXNLC3TfvShup2SlHSmuHTrcnQlMzEuD3bo-x1VPwPphD_fm_TrSQzImnyRUIX3u8SXs3zEdAeAJtty8XI1KC-QKlh9p3LopZj_9bByi77FnGtXRTZaU1TSomjhBG_g1e1DOtxd=w1024-h698-no\" alt=\"dist 內新客製化 index.html\" title=\"dist/index.html\"></p>\n<p>今天的實作檔案在<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.1.0\">github</a> 。等前面幾篇基礎的介紹完，之後會介紹 <code>pug</code> 怎麼跟 <code>HTML Webpack Plugin</code> 做結合，敬請期待。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/jantimon/html-webpack-plugin\">HTML Webpack Plugin</a></li>\n<li><a href=\"https://webpack.js.org/plugins/html-webpack-plugin/\">Webpack HtmlWebpackPlugin</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<p>此篇介紹使用 <code>HTML Webpack Plugin</code>，他可以自動生成 <code>html</code> 並將 <code>app.bundle.js</code> 自動加在 <code>html</code> 結尾處。</p>","more":"<h2 id=\"安裝-HTML-Webpack-Plugin\"><a href=\"#安裝-HTML-Webpack-Plugin\" class=\"headerlink\" title=\"安裝 HTML Webpack Plugin\"></a>安裝 <code>HTML Webpack Plugin</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D html-webpack-plugin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>); <span class=\"comment\">// 引入 html-webpack-plugin</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\"><span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/app.js&#x27;</span>,</span><br><span class=\"line\"><span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;dist&#x27;</span>),</span><br><span class=\"line\">  <span class=\"comment\">// the target directory for all output files</span></span><br><span class=\"line\">  <span class=\"comment\">// must be an absolute path (use the Node.js path module)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;app.bundle.js&#x27;</span></span><br><span class=\"line\">  <span class=\"comment\">// the filename template for entry chunks</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>()] <span class=\"comment\">// 使用 html-webpack-plugin</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"自動生成-html\"><a href=\"#自動生成-html\" class=\"headerlink\" title=\"自動生成 html\"></a>自動生成 <code>html</code></h2><p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>或</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>就可以看到 <code>dist</code> 內生成 <code>index.html</code> 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/xNq0I-e-92Umpmt2g-040igJwmjMz2eJVLlR1Jd_XkQxLexKuwZvU_nEblxQqB0p7QYT0h2itGoxPKcceHmgBv5GKuq_nBkMq3l6NKkmT0VqEHOMW4GPQYaiT4zqpcLN087QDlaBPawib0kGZjeBLg27UKsunJXDnQy1eDki7ZnZF9v0di0HjzyDfk7u2WKJxjOqXiSr3VpQ_cdjzvdJKMq6P98zrElSPtLqPXbnHghl7knD7l3iAWF_F_m6By0cry24yO06sMowOQgB-4HsWXs0c8R5DP5jsuBh-iSBpsWRZzrlxOSUhzgfY1ZTXlrP9aU1pnh0suleU4RZBmJSp87i_1VXRmrGoNOsuDDB83HXshrWQ-sWoBdxYRouKh3FjmH0j3ybSAdkBWD5-OYp2d6zqT1f0uXzO2VwnalgNlCe3c_BQAqxSh58SWh2NoMsOIm2o2LMJY5-sNsdxgLW6yWBC04s7uveApgKJHxtY3skp_dkbc2xKCoWcDM4Qfy_s9dvTxMfIL6J7RwJrHePbnV4dxBFKhZzaNf44kQS6-v1piVWw1IrL143BZ_qp5HbhgFXgkkWuie5ufplKW9d-Q0SU6MQDGo_QYvX4DzPEoahbmVgl7rjISCm0OpSlkos6LYURLBUG0evIgmvYfXvFbBBk3NaMNsm=w1024-h698-no\" alt=\"dist 內生成 index.html\" title=\"dist/index.html\"></p>\n<h2 id=\"撰寫-html-templates\"><a href=\"#撰寫-html-templates\" class=\"headerlink\" title=\"撰寫 html templates\"></a>撰寫 html templates</h2><p>如果想要客製化自己的 <code>html</code> 模板要怎麼辦呢？<br>我個人是喜歡用 <code>pug</code> 來寫，<br>不過 <code>HTML Webpack Plugin</code> 有內建模板使用方式，<br>所以就先示範內建的使用方式囉～</p>\n<ol>\n<li>修改 <code>webpack.config.js</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>: <span class=\"string\">&#x27;Custom template&#x27;</span>, <span class=\"comment\">// 客製化的 html 標題</span></span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./src/index.html&#x27;</span> <span class=\"comment\">// 模板的位置</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>建立 <code>html</code> 模板</li>\n</ol>\n<p>在 <code>src</code> 資料夾新增 <code>index.html</code>，<br><code>&lt;%= htmlWebpackPlugin.options.title %&gt;</code> 到時候會被 <code>webpack.config.js</code> 內設定的標題取代掉喔。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;Content-type&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>自動產生客製化 <code>html</code></li>\n</ol>\n<p>執行</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>或</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>就可以看到 <code>dist</code> 內新生成的 <code>index.html</code> 囉～</p>\n<p><img src=\"https://lh3.googleusercontent.com/dN0CFoLrFDBJPh0Qo8ODyyrMX1X8jxp13wcSshPdGKN1KWm9B43d1Qd0j89dH9lui0dYlbGb-iXdN4i5X8aF8ZqzQQ5gZ1YH5u8HZjnYh-4vndY0780cXO1iTQ-fa9550Lx3HhZXevd6Bl_ALGJtG3yRG_sRaGN88hYeQp_EIDGvdfX9v5LAtjl-D5FFclMvtkiJUeN48j3wtHuxbjnGIHvfOmQU_jeuHu_pUG6XzhvXuPZfaYqxCs0d3Xm6MQnS2SiraFGIyjAwVSUdWQhSlMQ3UcmukP4jC0ejasLPyy15AudhXv6TPykskMl_UDUsFKJs1sy2PRKrXvjbNWVRy4tt0qHkONgnBpghrQk8K6ydBhmidFUKUD3sGYchmtf01ae97I_x4046FXCHHnZltkl1whLohF1XXoPI2jkfKeaD0PgHDylMrkIdnmWBh_mWwX5lc3NE9aNmDDy3WNqOvcCyfId1QOH4A_gYMdDmG0LaubRcvTVDll5pjpBnULXGzYb7zcZNLzV1TIQq4-ccuk3MMtXNLC3TfvShup2SlHSmuHTrcnQlMzEuD3bo-x1VPwPphD_fm_TrSQzImnyRUIX3u8SXs3zEdAeAJtty8XI1KC-QKlh9p3LopZj_9bByi77FnGtXRTZaU1TSomjhBG_g1e1DOtxd=w1024-h698-no\" alt=\"dist 內新客製化 index.html\" title=\"dist/index.html\"></p>\n<p>今天的實作檔案在<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.1.0\">github</a> 。等前面幾篇基礎的介紹完，之後會介紹 <code>pug</code> 怎麼跟 <code>HTML Webpack Plugin</code> 做結合，敬請期待。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/jantimon/html-webpack-plugin\">HTML Webpack Plugin</a></li>\n<li><a href=\"https://webpack.js.org/plugins/html-webpack-plugin/\">Webpack HtmlWebpackPlugin</a></li>\n</ul>"},{"title":"Webpack 3 Tutorial - Installation and Config","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-06-13T16:00:00.000Z","updated":"2017-06-29T16:00:00.000Z","_content":"\n# 什麼是 Webpack ?\n\n`Webpack` 是針對所有前端程式的管理整合工具。工程師編寫程式模組（`html`, `css`, `js`, `sass`, `pug`, `babel`, ... etc.），使用 `webpack` 打包輸出靜態資產（assets）,配合`Babel`, `ES6`使用，可以寫出乾淨可復用的代碼，做到更好的前端程式管理。這一篇先示範基礎安裝和設定基本描述檔。\n<!--more-->\n\n## 安裝環境\n\n1. 安裝 [Node.js](https://nodejs.org/en/)\n\n2. 開一個專案資料夾，建置 `npm` 專案\n\n```npm\nnpm init\n```\n設定 package.json\n\n```js\n{\n  \"name\": \"Your Project Name\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Webpack project.\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n  },\n  \"author\": \"Your Name\",\n  \"license\": \"ISC\",\n}\n```\n\n3. 安裝開發端套件 Webpack\n安裝全域(global)\n\n```npm\nnpm -g i webpack\n```\n> 只有第一次使用`webpack`需要安裝全域，裝過一次之後就可以不用再安裝global\n\n專案開發端安裝套件\n\n```npm\nnpm i -D webpack\n```\n\n## 組織專案架構\n\n在專案建立 src 和 dist 資料夾。\n\n* src: 工程師寫的程式放這裡。\n* dist: `webpack` 自動打包出來的檔案會放這裡。\n* src/app.js: 建立一支 `js` 檔案，等會要來測試 `webpack` 自動打包的功能用。\n\napp.js 內可以隨意寫 console 來測試\n\n```js\nconsole.log('Hello World!');\n```\n\n## 設定描述檔\n\n1. 在專案下新增`webpack.config.js`檔案。\n\n```js\nmodule.exports = {\n  entry: './src/app.js',\n  output: {\n    filename: './dist/app.bundle.js'\n  },\n}\n```\n\n* entry: 開始執行打包的入口\n* output: 輸出結果設定\n  - filename: 輸出結果的名稱\n\n2. 修改`package.json`檔案 `scripts`\n\n```js\n{\n  ...\n  \"scripts\": {\n    \"dev\": \"webpack -d --watch\",\n    \"prod\": \"webpack -p\"\n  },\n  ...\n}\n```\n\n* -d: 開發模式輸出，不會 minify js\n* --watch: 監聽程式碼修改，支援即時輸出\n* -p: 產品模式輸出，會 minify js\n\n## 執行 webpack 打包測試\n\n1. 執行`package.json`內`script`設定的 dev\n\n```npm\nnpm run dev\n```\n\n- 結果：會在 `dist` 資料夾內產`app.bundle.js`，沒有 minify\n\n2. 執行`package.json`內`script`設定的 prod\n\n```npm\nnpm run prod\n```\n\n- 結果：會在 `dist` 資料夾內產`app.bundle.js`，有 minify\n\n基本 webpack 練習完成囉～實際操作影片可觀賞 Ihatetomatoes 大大的 YOUTUBE 教學[Webpack 2 Tutorial - Installation and Config](https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY)，感謝觀看 :)\n\n> 更新：2017/06/30 Webpack 版本更新到 3 囉 ！所以直接測試 3，發現無痛接軌沒問題，實作在 [github](https://github.com/Annilla/webpack_practice/tree/v1.0.0)，之後就直接都用 3 版實作囉。\n\n## 參考資料\n\n* [Webpack 2 入門教程](https://llp0574.github.io/2016/11/29/getting-started-with-webpack2/)\n* [Webpack 2 Tutorial - Installation and Config](https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY)\n","source":"_posts/Webpack/Webpack-3-Tutorial-Installation-and-Config.md","raw":"---\ntitle: Webpack 3 Tutorial - Installation and Config\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/06/14\nupdated: 2017/06/30\n---\n\n# 什麼是 Webpack ?\n\n`Webpack` 是針對所有前端程式的管理整合工具。工程師編寫程式模組（`html`, `css`, `js`, `sass`, `pug`, `babel`, ... etc.），使用 `webpack` 打包輸出靜態資產（assets）,配合`Babel`, `ES6`使用，可以寫出乾淨可復用的代碼，做到更好的前端程式管理。這一篇先示範基礎安裝和設定基本描述檔。\n<!--more-->\n\n## 安裝環境\n\n1. 安裝 [Node.js](https://nodejs.org/en/)\n\n2. 開一個專案資料夾，建置 `npm` 專案\n\n```npm\nnpm init\n```\n設定 package.json\n\n```js\n{\n  \"name\": \"Your Project Name\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Webpack project.\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n  },\n  \"author\": \"Your Name\",\n  \"license\": \"ISC\",\n}\n```\n\n3. 安裝開發端套件 Webpack\n安裝全域(global)\n\n```npm\nnpm -g i webpack\n```\n> 只有第一次使用`webpack`需要安裝全域，裝過一次之後就可以不用再安裝global\n\n專案開發端安裝套件\n\n```npm\nnpm i -D webpack\n```\n\n## 組織專案架構\n\n在專案建立 src 和 dist 資料夾。\n\n* src: 工程師寫的程式放這裡。\n* dist: `webpack` 自動打包出來的檔案會放這裡。\n* src/app.js: 建立一支 `js` 檔案，等會要來測試 `webpack` 自動打包的功能用。\n\napp.js 內可以隨意寫 console 來測試\n\n```js\nconsole.log('Hello World!');\n```\n\n## 設定描述檔\n\n1. 在專案下新增`webpack.config.js`檔案。\n\n```js\nmodule.exports = {\n  entry: './src/app.js',\n  output: {\n    filename: './dist/app.bundle.js'\n  },\n}\n```\n\n* entry: 開始執行打包的入口\n* output: 輸出結果設定\n  - filename: 輸出結果的名稱\n\n2. 修改`package.json`檔案 `scripts`\n\n```js\n{\n  ...\n  \"scripts\": {\n    \"dev\": \"webpack -d --watch\",\n    \"prod\": \"webpack -p\"\n  },\n  ...\n}\n```\n\n* -d: 開發模式輸出，不會 minify js\n* --watch: 監聽程式碼修改，支援即時輸出\n* -p: 產品模式輸出，會 minify js\n\n## 執行 webpack 打包測試\n\n1. 執行`package.json`內`script`設定的 dev\n\n```npm\nnpm run dev\n```\n\n- 結果：會在 `dist` 資料夾內產`app.bundle.js`，沒有 minify\n\n2. 執行`package.json`內`script`設定的 prod\n\n```npm\nnpm run prod\n```\n\n- 結果：會在 `dist` 資料夾內產`app.bundle.js`，有 minify\n\n基本 webpack 練習完成囉～實際操作影片可觀賞 Ihatetomatoes 大大的 YOUTUBE 教學[Webpack 2 Tutorial - Installation and Config](https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY)，感謝觀看 :)\n\n> 更新：2017/06/30 Webpack 版本更新到 3 囉 ！所以直接測試 3，發現無痛接軌沒問題，實作在 [github](https://github.com/Annilla/webpack_practice/tree/v1.0.0)，之後就直接都用 3 版實作囉。\n\n## 參考資料\n\n* [Webpack 2 入門教程](https://llp0574.github.io/2016/11/29/getting-started-with-webpack2/)\n* [Webpack 2 Tutorial - Installation and Config](https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY)\n","slug":"Webpack/Webpack-3-Tutorial-Installation-and-Config","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9sa004xr3y7fqywfdgb","content":"<h1 id=\"什麼是-Webpack\"><a href=\"#什麼是-Webpack\" class=\"headerlink\" title=\"什麼是 Webpack ?\"></a>什麼是 Webpack ?</h1><p><code>Webpack</code> 是針對所有前端程式的管理整合工具。工程師編寫程式模組（<code>html</code>, <code>css</code>, <code>js</code>, <code>sass</code>, <code>pug</code>, <code>babel</code>, … etc.），使用 <code>webpack</code> 打包輸出靜態資產（assets）,配合<code>Babel</code>, <code>ES6</code>使用，可以寫出乾淨可復用的代碼，做到更好的前端程式管理。這一篇先示範基礎安裝和設定基本描述檔。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝環境\"><a href=\"#安裝環境\" class=\"headerlink\" title=\"安裝環境\"></a>安裝環境</h2><ol>\n<li><p>安裝 <a href=\"https://nodejs.org/en/\">Node.js</a></p>\n</li>\n<li><p>開一個專案資料夾，建置 <code>npm</code> 專案</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<p>設定 package.json</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;Your Project Name&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;version&quot;</span>: <span class=\"string\">&quot;1.0.0&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;description&quot;</span>: <span class=\"string\">&quot;Webpack project.&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;main&quot;</span>: <span class=\"string\">&quot;index.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;test&quot;</span>: <span class=\"string\">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;author&quot;</span>: <span class=\"string\">&quot;Your Name&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;license&quot;</span>: <span class=\"string\">&quot;ISC&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>安裝開發端套件 Webpack<br>安裝全域(global)</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm -g i webpack</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>只有第一次使用<code>webpack</code>需要安裝全域，裝過一次之後就可以不用再安裝global</p>\n</blockquote>\n<p>專案開發端安裝套件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"組織專案架構\"><a href=\"#組織專案架構\" class=\"headerlink\" title=\"組織專案架構\"></a>組織專案架構</h2><p>在專案建立 src 和 dist 資料夾。</p>\n<ul>\n<li>src: 工程師寫的程式放這裡。</li>\n<li>dist: <code>webpack</code> 自動打包出來的檔案會放這裡。</li>\n<li>src&#x2F;app.js: 建立一支 <code>js</code> 檔案，等會要來測試 <code>webpack</code> 自動打包的功能用。</li>\n</ul>\n<p>app.js 內可以隨意寫 console 來測試</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello World!&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定描述檔\"><a href=\"#設定描述檔\" class=\"headerlink\" title=\"設定描述檔\"></a>設定描述檔</h2><ol>\n<li>在專案下新增<code>webpack.config.js</code>檔案。</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/app.js&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;./dist/app.bundle.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>entry: 開始執行打包的入口</li>\n<li>output: 輸出結果設定<ul>\n<li>filename: 輸出結果的名稱</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>修改<code>package.json</code>檔案 <code>scripts</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack -d --watch&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;prod&quot;</span>: <span class=\"string\">&quot;webpack -p&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>-d: 開發模式輸出，不會 minify js</li>\n<li>–watch: 監聽程式碼修改，支援即時輸出</li>\n<li>-p: 產品模式輸出，會 minify js</li>\n</ul>\n<h2 id=\"執行-webpack-打包測試\"><a href=\"#執行-webpack-打包測試\" class=\"headerlink\" title=\"執行 webpack 打包測試\"></a>執行 webpack 打包測試</h2><ol>\n<li>執行<code>package.json</code>內<code>script</code>設定的 dev</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>結果：會在 <code>dist</code> 資料夾內產<code>app.bundle.js</code>，沒有 minify</li>\n</ul>\n<ol start=\"2\">\n<li>執行<code>package.json</code>內<code>script</code>設定的 prod</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>結果：會在 <code>dist</code> 資料夾內產<code>app.bundle.js</code>，有 minify</li>\n</ul>\n<p>基本 webpack 練習完成囉～實際操作影片可觀賞 Ihatetomatoes 大大的 YOUTUBE 教學<a href=\"https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY\">Webpack 2 Tutorial - Installation and Config</a>，感謝觀看 :)</p>\n<blockquote>\n<p>更新：2017&#x2F;06&#x2F;30 Webpack 版本更新到 3 囉 ！所以直接測試 3，發現無痛接軌沒問題，實作在 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.0.0\">github</a>，之後就直接都用 3 版實作囉。</p>\n</blockquote>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://llp0574.github.io/2016/11/29/getting-started-with-webpack2/\">Webpack 2 入門教程</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY\">Webpack 2 Tutorial - Installation and Config</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<h1 id=\"什麼是-Webpack\"><a href=\"#什麼是-Webpack\" class=\"headerlink\" title=\"什麼是 Webpack ?\"></a>什麼是 Webpack ?</h1><p><code>Webpack</code> 是針對所有前端程式的管理整合工具。工程師編寫程式模組（<code>html</code>, <code>css</code>, <code>js</code>, <code>sass</code>, <code>pug</code>, <code>babel</code>, … etc.），使用 <code>webpack</code> 打包輸出靜態資產（assets）,配合<code>Babel</code>, <code>ES6</code>使用，可以寫出乾淨可復用的代碼，做到更好的前端程式管理。這一篇先示範基礎安裝和設定基本描述檔。</p>","more":"<h2 id=\"安裝環境\"><a href=\"#安裝環境\" class=\"headerlink\" title=\"安裝環境\"></a>安裝環境</h2><ol>\n<li><p>安裝 <a href=\"https://nodejs.org/en/\">Node.js</a></p>\n</li>\n<li><p>開一個專案資料夾，建置 <code>npm</code> 專案</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<p>設定 package.json</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;Your Project Name&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;version&quot;</span>: <span class=\"string\">&quot;1.0.0&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;description&quot;</span>: <span class=\"string\">&quot;Webpack project.&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;main&quot;</span>: <span class=\"string\">&quot;index.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;test&quot;</span>: <span class=\"string\">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;author&quot;</span>: <span class=\"string\">&quot;Your Name&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;license&quot;</span>: <span class=\"string\">&quot;ISC&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>安裝開發端套件 Webpack<br>安裝全域(global)</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm -g i webpack</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>只有第一次使用<code>webpack</code>需要安裝全域，裝過一次之後就可以不用再安裝global</p>\n</blockquote>\n<p>專案開發端安裝套件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"組織專案架構\"><a href=\"#組織專案架構\" class=\"headerlink\" title=\"組織專案架構\"></a>組織專案架構</h2><p>在專案建立 src 和 dist 資料夾。</p>\n<ul>\n<li>src: 工程師寫的程式放這裡。</li>\n<li>dist: <code>webpack</code> 自動打包出來的檔案會放這裡。</li>\n<li>src&#x2F;app.js: 建立一支 <code>js</code> 檔案，等會要來測試 <code>webpack</code> 自動打包的功能用。</li>\n</ul>\n<p>app.js 內可以隨意寫 console 來測試</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello World!&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定描述檔\"><a href=\"#設定描述檔\" class=\"headerlink\" title=\"設定描述檔\"></a>設定描述檔</h2><ol>\n<li>在專案下新增<code>webpack.config.js</code>檔案。</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/app.js&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;./dist/app.bundle.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>entry: 開始執行打包的入口</li>\n<li>output: 輸出結果設定<ul>\n<li>filename: 輸出結果的名稱</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>修改<code>package.json</code>檔案 <code>scripts</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack -d --watch&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;prod&quot;</span>: <span class=\"string\">&quot;webpack -p&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>-d: 開發模式輸出，不會 minify js</li>\n<li>–watch: 監聽程式碼修改，支援即時輸出</li>\n<li>-p: 產品模式輸出，會 minify js</li>\n</ul>\n<h2 id=\"執行-webpack-打包測試\"><a href=\"#執行-webpack-打包測試\" class=\"headerlink\" title=\"執行 webpack 打包測試\"></a>執行 webpack 打包測試</h2><ol>\n<li>執行<code>package.json</code>內<code>script</code>設定的 dev</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>結果：會在 <code>dist</code> 資料夾內產<code>app.bundle.js</code>，沒有 minify</li>\n</ul>\n<ol start=\"2\">\n<li>執行<code>package.json</code>內<code>script</code>設定的 prod</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>結果：會在 <code>dist</code> 資料夾內產<code>app.bundle.js</code>，有 minify</li>\n</ul>\n<p>基本 webpack 練習完成囉～實際操作影片可觀賞 Ihatetomatoes 大大的 YOUTUBE 教學<a href=\"https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY\">Webpack 2 Tutorial - Installation and Config</a>，感謝觀看 :)</p>\n<blockquote>\n<p>更新：2017&#x2F;06&#x2F;30 Webpack 版本更新到 3 囉 ！所以直接測試 3，發現無痛接軌沒問題，實作在 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.0.0\">github</a>，之後就直接都用 3 版實作囉。</p>\n</blockquote>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://llp0574.github.io/2016/11/29/getting-started-with-webpack2/\">Webpack 2 入門教程</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=JdGnYNtuEtE&index=1&list=PLkEZWD8wbltnRp6nRR8kv97RbpcUdNawY\">Webpack 2 Tutorial - Installation and Config</a></li>\n</ul>"},{"title":"Webpack 3 Tutorial - Style, CSS, Sass and Postcss loaders","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-07-31T16:00:00.000Z","updated":"2017-07-31T16:00:00.000Z","_content":"\n此篇介紹如何將 `CSS` 、 `SASS` 引入 `Webpack` 專案中，並使用 `postcss` 的 `autoprefixer` 自動將 `CSS` 加入相對的瀏覽器前綴。\n<!--more-->\n\n## 安裝 `css-loader` `style-loader`\n\n```npm\nnpm i -D css-loader\n```\n\n```npm\nnpm i -D style-loader\n```\n\n## 設定 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [ 'style-loader', 'css-loader' ]\n      }\n    ]\n  },\n  ......\n};\n```\n\n## 測試 `CSS`\n\n1. 在 `src` 資料夾創建一隻 `app.css`\n\n```css\nbody {\n  background-color: yellowgreen;\n}\n```\n\n2. 將 `app.css` 引入 `app.js` 中\n\n在 `app.js` 加入\n\n```js\nrequire('./app.css');\n```\n\n3. 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到我們更改的草綠色背景囉！\n\n![網頁更改成草綠色背景囉](https://lh3.googleusercontent.com/Yud96AyoVHTNk3AoQLHcsrj3QGZe6u-IV-qlmk49isZQDtDdwi9R5SrU2Yp8nx839a45eZLrD5UxXIfoGtPAKJFJHf6yChSVv2NjV0CX5Jf-6Cob9_R4Ym28v9Y7Y96ihj1hWTC8MY0U7p03o_juLIhQEOWaOpYbVkfYLPSEAIqMrj6keOv2rml5PYdFjoq5vokc_xLkCis3o3Oz8RHdYqueX9N3KMVNGjJTbE9a0SwJg94H6Lzg803ARceJKTzuUiGKmH-0_ibiflMAxKKuOBOhGraH3VtiMNv9RYtzaudsdTrAfMVmpXtM1_HPiK8ZMoYCQlW_x2ewHuhWbE1tGNBeNlHbCcqPsLb8ZZRGEWdE9BHmnMakyKZax_EwSYUUYudPPRXd9BQTGtToM8elBoIMD07HuHZ1pr_UxKFlabSjmUXZIF-BcdpptH8CuU9C-lgD41pO1eF__8mVie_tVyMVP0lq0fpBtT0JxwMElHaUhXLDRUns-261ZANHPD4DU2jOMmRf8JV4hXdgGDITv9LvQps-WNqTEPXr6E9DIwr7kpD_yxsJ9eCcfCmM52QbkhClMU9Kds1Ps4t5QWQ-E49LMs8hNBLG_y6zTGHT01-ssMgsj7Aqvf9OTju8y7159z6S6Ld3x2X-BH2rjqItCsgU79hUIMG0=w1024-h616-no \"dist/index.html\")\n\n到這裡我們完成引入 `CSS` 的動作，接下來要來試試引入 `SASS`。\n\n## 安裝 `sass-loader`\n\n```npm\nnpm i sass-loader node-sass webpack -D\n```\n\n## 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: [ 'style-loader', 'css-loader', 'sass-loader' ]\n      }\n    ]\n  },\n  ......\n};\n```\n\n## 測試 `SASS`\n\n1. 在 `src` 資料夾將 `app.css` 修改成 `app.scss`\n\n```css\nbody {\n  background-color: yellowgreen;\n  h1 {\n    color: green;\n  }\n}\n```\n\n2. 在 `src` 資料夾修改 `index.html`\n\n```html\n<body>\n  <h1> Test SASS Loader</h1>\n</body>\n```\n\n3. 將 `app.scss` 引入 `app.js` 中\n\n```js\nrequire('./app.scss');\n```\n\n4. 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到我們更改的標題顏色囉！\n\n![網頁更改標題顏色](https://lh3.googleusercontent.com/esJm0PM-vvgr8BgLGh2mbvPKhQ2pFMMqhi74QE_2aUnd13kOesjp17hImNoFQ-JTjAHRg2oxKYsbHqKRKPeXl0g8qqfZzE5YHyKvH7hUb7TUvqN_6BSrH5tbuinT8OzcQoCAit6kwSjgjbgiEs7lxLi5ERDTt4G1X0UhtDANV5UjNhDupDYtgDxEa9SLn-wJIgHaVQ9gFJ0zpEPzxx050LgEmR2KU_fTcPV2stWSpBOcP33j_cUZ1RGVyXRpwOyjrviTsr5-zzfZbJBVBsgdyzL9S6tlzD-gPOtuebIGQJ1bzaMYgU11mTylzE9QkUF1Tisffxya1zb9OIv__DPesB33FIwWVrtq5ql1rr-7q7e2AUdTbBxFqQhlzzb1YmSht4lRUOV_g2p6LYzRp5bqNb37clADys_NOxhmar3PjutbShblwfoeGzkBt_qd46JXn_6XlfcbIHVGeyjZAhaTJVoeVt-5xkVMKuAu6qgnP7AAWh1eMSgCjoWwFqHtSB3iTnoZMHqD6zr3ZGqVR2GzWh3Rv0--2t8VbuMUaAAuPzjR98uy6DS9KZiKHOCknhtOUnU-cIKP9PVZh9m1q8Y89G97FvV_LTgdycx_h4GmL09yc2ntJSGLWD7n73jGt3SzTZaf8AVo0T-bKBHBztjCjANZoKw5tf9g=w1024-h616-no \"dist/index.html\")\n\n`SASS` 引入完成！！大家有發現網頁上的 `css` 怎麼都是跑到 `head` 裡面啦？接下來要教怎麼輸出成一隻 `css` 用 `link` 的方式引入到頁面上。\n\n## 安裝 `ExtractTextWebpackPlugin`\n\n```npm\nnpm i -D extract-text-webpack-plugin\n```\n\n## 修改 `webpack.config.js`\n\n```js\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\n......\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: ExtractTextPlugin.extract({\n          fallback: 'style-loader',\n          //resolve-url-loader may be chained before sass-loader if necessary\n          use: ['css-loader', 'sass-loader']\n        })\n      }\n    ]\n  },\n  plugins: [\n    ......\n    new ExtractTextPlugin({\n      filename: 'app.css',\n      disable: false,\n      allChunks: true\n    })\n  ]\n};\n```\n\n* 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到 `app.css` 在 `head` 裡面囉！\n\n每次因為不同瀏覽器寫前綴語是不是超麻煩的啊？接下來要來引入 `postcss` 的 `autoprefixer` ，透過設定 browserlist 讓 Webpack 自動做完這些事情呦。\n\n## 安裝 `postcss-loader`\n\n```npm\nnpm i -D  postcss-loader\n```\n\n## 新增 `postcss.config.js`\n\n```js\nmodule.exports = {\n  plugins: {\n    'autoprefixer': {}\n  }\n}\n```\n\n## 在 `package.json` 設定 `browserslist`\n\n```js\n{\n  ......\n  \"browserslist\": [\n    \"Explorer 11\",\n    \"> 1%\",\n    \"last 2 versions\",\n    \"not ie <= 10\"\n  ]\n}\n```\n\n## 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: ExtractTextPlugin.extract({\n          fallback: 'style-loader',\n          //resolve-url-loader may be chained before sass-loader if necessary\n          use: ['css-loader', 'postcss-loader', 'sass-loader']\n        })\n      }\n    ]\n  }\n  ......\n};\n```\n\n## 測試 `postcss`\n\n1. 修改 `app.scss` 檔案\n\n```css\nbody {\n    background-color: yellowgreen;\n    h1 {\n        color: green;\n        transform: scale(1.5);\n    }\n}\n```\n\n2. 執行 `Webpack` 打包\n\n```npm\nnpm run prod\n```\n\n打開 `dist/app.css` 就可以看到下面自動加入前綴語的 `css` 囉～\n\n```css\nbody{background-color:#9acd32}body h1{color:green;-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}\n```\n\n今天的實作檔案整理在此[github](https://github.com/Annilla/webpack_practice/tree/v1.2.0)，謝謝收看。\n\n## 參考資料\n\n* [Webpack css-loader](https://webpack.js.org/loaders/css-loader/#components/sidebar/sidebar.jsx)\n* [Webpack style-loader](https://webpack.js.org/loaders/style-loader/#components/sidebar/sidebar.jsx)\n* [Webpack sass-loader](https://webpack.js.org/loaders/sass-loader/#components/sidebar/sidebar.jsx)\n* [Webpack ExtractTextWebpackPlugin](https://webpack.js.org/plugins/extract-text-webpack-plugin/#components/sidebar/sidebar.jsx)\n* [Webpack postcss-loader](https://webpack.js.org/loaders/postcss-loader/#components/sidebar/sidebar.jsx)\n* [Browserslist](https://github.com/ai/browserslist)\n","source":"_posts/Webpack/Webpack-3-Tutorial-Style-CSS-and-Sass-loaders.md","raw":"---\ntitle: 'Webpack 3 Tutorial - Style, CSS, Sass and Postcss loaders'\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/08/01\nupdated: 2017/08/01\n---\n\n此篇介紹如何將 `CSS` 、 `SASS` 引入 `Webpack` 專案中，並使用 `postcss` 的 `autoprefixer` 自動將 `CSS` 加入相對的瀏覽器前綴。\n<!--more-->\n\n## 安裝 `css-loader` `style-loader`\n\n```npm\nnpm i -D css-loader\n```\n\n```npm\nnpm i -D style-loader\n```\n\n## 設定 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        use: [ 'style-loader', 'css-loader' ]\n      }\n    ]\n  },\n  ......\n};\n```\n\n## 測試 `CSS`\n\n1. 在 `src` 資料夾創建一隻 `app.css`\n\n```css\nbody {\n  background-color: yellowgreen;\n}\n```\n\n2. 將 `app.css` 引入 `app.js` 中\n\n在 `app.js` 加入\n\n```js\nrequire('./app.css');\n```\n\n3. 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到我們更改的草綠色背景囉！\n\n![網頁更改成草綠色背景囉](https://lh3.googleusercontent.com/Yud96AyoVHTNk3AoQLHcsrj3QGZe6u-IV-qlmk49isZQDtDdwi9R5SrU2Yp8nx839a45eZLrD5UxXIfoGtPAKJFJHf6yChSVv2NjV0CX5Jf-6Cob9_R4Ym28v9Y7Y96ihj1hWTC8MY0U7p03o_juLIhQEOWaOpYbVkfYLPSEAIqMrj6keOv2rml5PYdFjoq5vokc_xLkCis3o3Oz8RHdYqueX9N3KMVNGjJTbE9a0SwJg94H6Lzg803ARceJKTzuUiGKmH-0_ibiflMAxKKuOBOhGraH3VtiMNv9RYtzaudsdTrAfMVmpXtM1_HPiK8ZMoYCQlW_x2ewHuhWbE1tGNBeNlHbCcqPsLb8ZZRGEWdE9BHmnMakyKZax_EwSYUUYudPPRXd9BQTGtToM8elBoIMD07HuHZ1pr_UxKFlabSjmUXZIF-BcdpptH8CuU9C-lgD41pO1eF__8mVie_tVyMVP0lq0fpBtT0JxwMElHaUhXLDRUns-261ZANHPD4DU2jOMmRf8JV4hXdgGDITv9LvQps-WNqTEPXr6E9DIwr7kpD_yxsJ9eCcfCmM52QbkhClMU9Kds1Ps4t5QWQ-E49LMs8hNBLG_y6zTGHT01-ssMgsj7Aqvf9OTju8y7159z6S6Ld3x2X-BH2rjqItCsgU79hUIMG0=w1024-h616-no \"dist/index.html\")\n\n到這裡我們完成引入 `CSS` 的動作，接下來要來試試引入 `SASS`。\n\n## 安裝 `sass-loader`\n\n```npm\nnpm i sass-loader node-sass webpack -D\n```\n\n## 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: [ 'style-loader', 'css-loader', 'sass-loader' ]\n      }\n    ]\n  },\n  ......\n};\n```\n\n## 測試 `SASS`\n\n1. 在 `src` 資料夾將 `app.css` 修改成 `app.scss`\n\n```css\nbody {\n  background-color: yellowgreen;\n  h1 {\n    color: green;\n  }\n}\n```\n\n2. 在 `src` 資料夾修改 `index.html`\n\n```html\n<body>\n  <h1> Test SASS Loader</h1>\n</body>\n```\n\n3. 將 `app.scss` 引入 `app.js` 中\n\n```js\nrequire('./app.scss');\n```\n\n4. 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到我們更改的標題顏色囉！\n\n![網頁更改標題顏色](https://lh3.googleusercontent.com/esJm0PM-vvgr8BgLGh2mbvPKhQ2pFMMqhi74QE_2aUnd13kOesjp17hImNoFQ-JTjAHRg2oxKYsbHqKRKPeXl0g8qqfZzE5YHyKvH7hUb7TUvqN_6BSrH5tbuinT8OzcQoCAit6kwSjgjbgiEs7lxLi5ERDTt4G1X0UhtDANV5UjNhDupDYtgDxEa9SLn-wJIgHaVQ9gFJ0zpEPzxx050LgEmR2KU_fTcPV2stWSpBOcP33j_cUZ1RGVyXRpwOyjrviTsr5-zzfZbJBVBsgdyzL9S6tlzD-gPOtuebIGQJ1bzaMYgU11mTylzE9QkUF1Tisffxya1zb9OIv__DPesB33FIwWVrtq5ql1rr-7q7e2AUdTbBxFqQhlzzb1YmSht4lRUOV_g2p6LYzRp5bqNb37clADys_NOxhmar3PjutbShblwfoeGzkBt_qd46JXn_6XlfcbIHVGeyjZAhaTJVoeVt-5xkVMKuAu6qgnP7AAWh1eMSgCjoWwFqHtSB3iTnoZMHqD6zr3ZGqVR2GzWh3Rv0--2t8VbuMUaAAuPzjR98uy6DS9KZiKHOCknhtOUnU-cIKP9PVZh9m1q8Y89G97FvV_LTgdycx_h4GmL09yc2ntJSGLWD7n73jGt3SzTZaf8AVo0T-bKBHBztjCjANZoKw5tf9g=w1024-h616-no \"dist/index.html\")\n\n`SASS` 引入完成！！大家有發現網頁上的 `css` 怎麼都是跑到 `head` 裡面啦？接下來要教怎麼輸出成一隻 `css` 用 `link` 的方式引入到頁面上。\n\n## 安裝 `ExtractTextWebpackPlugin`\n\n```npm\nnpm i -D extract-text-webpack-plugin\n```\n\n## 修改 `webpack.config.js`\n\n```js\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\n......\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: ExtractTextPlugin.extract({\n          fallback: 'style-loader',\n          //resolve-url-loader may be chained before sass-loader if necessary\n          use: ['css-loader', 'sass-loader']\n        })\n      }\n    ]\n  },\n  plugins: [\n    ......\n    new ExtractTextPlugin({\n      filename: 'app.css',\n      disable: false,\n      allChunks: true\n    })\n  ]\n};\n```\n\n* 執行 `webpack` 打包\n\n```npm\nnpm run prod\n```\n\n執行完打開 `dist` 資料夾 `index.html` 就可以看到 `app.css` 在 `head` 裡面囉！\n\n每次因為不同瀏覽器寫前綴語是不是超麻煩的啊？接下來要來引入 `postcss` 的 `autoprefixer` ，透過設定 browserlist 讓 Webpack 自動做完這些事情呦。\n\n## 安裝 `postcss-loader`\n\n```npm\nnpm i -D  postcss-loader\n```\n\n## 新增 `postcss.config.js`\n\n```js\nmodule.exports = {\n  plugins: {\n    'autoprefixer': {}\n  }\n}\n```\n\n## 在 `package.json` 設定 `browserslist`\n\n```js\n{\n  ......\n  \"browserslist\": [\n    \"Explorer 11\",\n    \"> 1%\",\n    \"last 2 versions\",\n    \"not ie <= 10\"\n  ]\n}\n```\n\n## 修改 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      {\n        test: /\\.css|scss$/,\n        use: ExtractTextPlugin.extract({\n          fallback: 'style-loader',\n          //resolve-url-loader may be chained before sass-loader if necessary\n          use: ['css-loader', 'postcss-loader', 'sass-loader']\n        })\n      }\n    ]\n  }\n  ......\n};\n```\n\n## 測試 `postcss`\n\n1. 修改 `app.scss` 檔案\n\n```css\nbody {\n    background-color: yellowgreen;\n    h1 {\n        color: green;\n        transform: scale(1.5);\n    }\n}\n```\n\n2. 執行 `Webpack` 打包\n\n```npm\nnpm run prod\n```\n\n打開 `dist/app.css` 就可以看到下面自動加入前綴語的 `css` 囉～\n\n```css\nbody{background-color:#9acd32}body h1{color:green;-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5)}\n```\n\n今天的實作檔案整理在此[github](https://github.com/Annilla/webpack_practice/tree/v1.2.0)，謝謝收看。\n\n## 參考資料\n\n* [Webpack css-loader](https://webpack.js.org/loaders/css-loader/#components/sidebar/sidebar.jsx)\n* [Webpack style-loader](https://webpack.js.org/loaders/style-loader/#components/sidebar/sidebar.jsx)\n* [Webpack sass-loader](https://webpack.js.org/loaders/sass-loader/#components/sidebar/sidebar.jsx)\n* [Webpack ExtractTextWebpackPlugin](https://webpack.js.org/plugins/extract-text-webpack-plugin/#components/sidebar/sidebar.jsx)\n* [Webpack postcss-loader](https://webpack.js.org/loaders/postcss-loader/#components/sidebar/sidebar.jsx)\n* [Browserslist](https://github.com/ai/browserslist)\n","slug":"Webpack/Webpack-3-Tutorial-Style-CSS-and-Sass-loaders","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9sd0051r3y77rztb2jn","content":"<p>此篇介紹如何將 <code>CSS</code> 、 <code>SASS</code> 引入 <code>Webpack</code> 專案中，並使用 <code>postcss</code> 的 <code>autoprefixer</code> 自動將 <code>CSS</code> 加入相對的瀏覽器前綴。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-css-loader-style-loader\"><a href=\"#安裝-css-loader-style-loader\" class=\"headerlink\" title=\"安裝 css-loader style-loader\"></a>安裝 <code>css-loader</code> <code>style-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D css-loader</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D style-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [ <span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span> ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-CSS\"><a href=\"#測試-CSS\" class=\"headerlink\" title=\"測試 CSS\"></a>測試 <code>CSS</code></h2><ol>\n<li>在 <code>src</code> 資料夾創建一隻 <code>app.css</code></li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>將 <code>app.css</code> 引入 <code>app.js</code> 中</li>\n</ol>\n<p>在 <code>app.js</code> 加入</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./app.css&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>執行 <code>webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到我們更改的草綠色背景囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/Yud96AyoVHTNk3AoQLHcsrj3QGZe6u-IV-qlmk49isZQDtDdwi9R5SrU2Yp8nx839a45eZLrD5UxXIfoGtPAKJFJHf6yChSVv2NjV0CX5Jf-6Cob9_R4Ym28v9Y7Y96ihj1hWTC8MY0U7p03o_juLIhQEOWaOpYbVkfYLPSEAIqMrj6keOv2rml5PYdFjoq5vokc_xLkCis3o3Oz8RHdYqueX9N3KMVNGjJTbE9a0SwJg94H6Lzg803ARceJKTzuUiGKmH-0_ibiflMAxKKuOBOhGraH3VtiMNv9RYtzaudsdTrAfMVmpXtM1_HPiK8ZMoYCQlW_x2ewHuhWbE1tGNBeNlHbCcqPsLb8ZZRGEWdE9BHmnMakyKZax_EwSYUUYudPPRXd9BQTGtToM8elBoIMD07HuHZ1pr_UxKFlabSjmUXZIF-BcdpptH8CuU9C-lgD41pO1eF__8mVie_tVyMVP0lq0fpBtT0JxwMElHaUhXLDRUns-261ZANHPD4DU2jOMmRf8JV4hXdgGDITv9LvQps-WNqTEPXr6E9DIwr7kpD_yxsJ9eCcfCmM52QbkhClMU9Kds1Ps4t5QWQ-E49LMs8hNBLG_y6zTGHT01-ssMgsj7Aqvf9OTju8y7159z6S6Ld3x2X-BH2rjqItCsgU79hUIMG0=w1024-h616-no\" alt=\"網頁更改成草綠色背景囉\" title=\"dist/index.html\"></p>\n<p>到這裡我們完成引入 <code>CSS</code> 的動作，接下來要來試試引入 <code>SASS</code>。</p>\n<h2 id=\"安裝-sass-loader\"><a href=\"#安裝-sass-loader\" class=\"headerlink\" title=\"安裝 sass-loader\"></a>安裝 <code>sass-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i sass-loader node-sass webpack -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js\"><a href=\"#修改-webpack-config-js\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [ <span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span> ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-SASS\"><a href=\"#測試-SASS\" class=\"headerlink\" title=\"測試 SASS\"></a>測試 <code>SASS</code></h2><ol>\n<li>在 <code>src</code> 資料夾將 <code>app.css</code> 修改成 <code>app.scss</code></li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">  <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>在 <code>src</code> 資料夾修改 <code>index.html</code></li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span> Test SASS Loader<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>將 <code>app.scss</code> 引入 <code>app.js</code> 中</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./app.scss&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>執行 <code>webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到我們更改的標題顏色囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/esJm0PM-vvgr8BgLGh2mbvPKhQ2pFMMqhi74QE_2aUnd13kOesjp17hImNoFQ-JTjAHRg2oxKYsbHqKRKPeXl0g8qqfZzE5YHyKvH7hUb7TUvqN_6BSrH5tbuinT8OzcQoCAit6kwSjgjbgiEs7lxLi5ERDTt4G1X0UhtDANV5UjNhDupDYtgDxEa9SLn-wJIgHaVQ9gFJ0zpEPzxx050LgEmR2KU_fTcPV2stWSpBOcP33j_cUZ1RGVyXRpwOyjrviTsr5-zzfZbJBVBsgdyzL9S6tlzD-gPOtuebIGQJ1bzaMYgU11mTylzE9QkUF1Tisffxya1zb9OIv__DPesB33FIwWVrtq5ql1rr-7q7e2AUdTbBxFqQhlzzb1YmSht4lRUOV_g2p6LYzRp5bqNb37clADys_NOxhmar3PjutbShblwfoeGzkBt_qd46JXn_6XlfcbIHVGeyjZAhaTJVoeVt-5xkVMKuAu6qgnP7AAWh1eMSgCjoWwFqHtSB3iTnoZMHqD6zr3ZGqVR2GzWh3Rv0--2t8VbuMUaAAuPzjR98uy6DS9KZiKHOCknhtOUnU-cIKP9PVZh9m1q8Y89G97FvV_LTgdycx_h4GmL09yc2ntJSGLWD7n73jGt3SzTZaf8AVo0T-bKBHBztjCjANZoKw5tf9g=w1024-h616-no\" alt=\"網頁更改標題顏色\" title=\"dist/index.html\"></p>\n<p><code>SASS</code> 引入完成！！大家有發現網頁上的 <code>css</code> 怎麼都是跑到 <code>head</code> 裡面啦？接下來要教怎麼輸出成一隻 <code>css</code> 用 <code>link</code> 的方式引入到頁面上。</p>\n<h2 id=\"安裝-ExtractTextWebpackPlugin\"><a href=\"#安裝-ExtractTextWebpackPlugin\" class=\"headerlink\" title=\"安裝 ExtractTextWebpackPlugin\"></a>安裝 <code>ExtractTextWebpackPlugin</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D extract-text-webpack-plugin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js-1\"><a href=\"#修改-webpack-config-js-1\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">ExtractTextPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;extract-text-webpack-plugin&quot;</span>);</span><br><span class=\"line\">......</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"title class_\">ExtractTextPlugin</span>.<span class=\"title function_\">extract</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">fallback</span>: <span class=\"string\">&#x27;style-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">//resolve-url-loader may be chained before sass-loader if necessary</span></span><br><span class=\"line\">          <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span>]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">ExtractTextPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;app.css&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">disable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">allChunks</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>執行 <code>webpack</code> 打包</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到 <code>app.css</code> 在 <code>head</code> 裡面囉！</p>\n<p>每次因為不同瀏覽器寫前綴語是不是超麻煩的啊？接下來要來引入 <code>postcss</code> 的 <code>autoprefixer</code> ，透過設定 browserlist 讓 Webpack 自動做完這些事情呦。</p>\n<h2 id=\"安裝-postcss-loader\"><a href=\"#安裝-postcss-loader\" class=\"headerlink\" title=\"安裝 postcss-loader\"></a>安裝 <code>postcss-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D  postcss-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"新增-postcss-config-js\"><a href=\"#新增-postcss-config-js\" class=\"headerlink\" title=\"新增 postcss.config.js\"></a>新增 <code>postcss.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;autoprefixer&#x27;</span>: &#123;&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"在-package-json-設定-browserslist\"><a href=\"#在-package-json-設定-browserslist\" class=\"headerlink\" title=\"在 package.json 設定 browserslist\"></a>在 <code>package.json</code> 設定 <code>browserslist</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"string\">&quot;browserslist&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;Explorer 11&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;&gt; 1%&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;last 2 versions&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;not ie &lt;= 10&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js-2\"><a href=\"#修改-webpack-config-js-2\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"title class_\">ExtractTextPlugin</span>.<span class=\"title function_\">extract</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">fallback</span>: <span class=\"string\">&#x27;style-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">//resolve-url-loader may be chained before sass-loader if necessary</span></span><br><span class=\"line\">          <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;postcss-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span>]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-postcss\"><a href=\"#測試-postcss\" class=\"headerlink\" title=\"測試 postcss\"></a>測試 <code>postcss</code></h2><ol>\n<li>修改 <code>app.scss</code> 檔案</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">    <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>執行 <code>Webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>打開 <code>dist/app.css</code> 就可以看到下面自動加入前綴語的 <code>css</code> 囉～</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span>&#123;<span class=\"attribute\">background-color</span>:<span class=\"number\">#9acd32</span>&#125;<span class=\"selector-tag\">body</span> <span class=\"selector-tag\">h1</span>&#123;<span class=\"attribute\">color</span>:green;-webkit-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);-ms-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>)&#125;</span><br></pre></td></tr></table></figure>\n\n<p>今天的實作檔案整理在此<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.2.0\">github</a>，謝謝收看。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://webpack.js.org/loaders/css-loader/#components/sidebar/sidebar.jsx\">Webpack css-loader</a></li>\n<li><a href=\"https://webpack.js.org/loaders/style-loader/#components/sidebar/sidebar.jsx\">Webpack style-loader</a></li>\n<li><a href=\"https://webpack.js.org/loaders/sass-loader/#components/sidebar/sidebar.jsx\">Webpack sass-loader</a></li>\n<li><a href=\"https://webpack.js.org/plugins/extract-text-webpack-plugin/#components/sidebar/sidebar.jsx\">Webpack ExtractTextWebpackPlugin</a></li>\n<li><a href=\"https://webpack.js.org/loaders/postcss-loader/#components/sidebar/sidebar.jsx\">Webpack postcss-loader</a></li>\n<li><a href=\"https://github.com/ai/browserslist\">Browserslist</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<p>此篇介紹如何將 <code>CSS</code> 、 <code>SASS</code> 引入 <code>Webpack</code> 專案中，並使用 <code>postcss</code> 的 <code>autoprefixer</code> 自動將 <code>CSS</code> 加入相對的瀏覽器前綴。</p>","more":"<h2 id=\"安裝-css-loader-style-loader\"><a href=\"#安裝-css-loader-style-loader\" class=\"headerlink\" title=\"安裝 css-loader style-loader\"></a>安裝 <code>css-loader</code> <code>style-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D css-loader</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D style-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [ <span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span> ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-CSS\"><a href=\"#測試-CSS\" class=\"headerlink\" title=\"測試 CSS\"></a>測試 <code>CSS</code></h2><ol>\n<li>在 <code>src</code> 資料夾創建一隻 <code>app.css</code></li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>將 <code>app.css</code> 引入 <code>app.js</code> 中</li>\n</ol>\n<p>在 <code>app.js</code> 加入</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./app.css&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>執行 <code>webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到我們更改的草綠色背景囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/Yud96AyoVHTNk3AoQLHcsrj3QGZe6u-IV-qlmk49isZQDtDdwi9R5SrU2Yp8nx839a45eZLrD5UxXIfoGtPAKJFJHf6yChSVv2NjV0CX5Jf-6Cob9_R4Ym28v9Y7Y96ihj1hWTC8MY0U7p03o_juLIhQEOWaOpYbVkfYLPSEAIqMrj6keOv2rml5PYdFjoq5vokc_xLkCis3o3Oz8RHdYqueX9N3KMVNGjJTbE9a0SwJg94H6Lzg803ARceJKTzuUiGKmH-0_ibiflMAxKKuOBOhGraH3VtiMNv9RYtzaudsdTrAfMVmpXtM1_HPiK8ZMoYCQlW_x2ewHuhWbE1tGNBeNlHbCcqPsLb8ZZRGEWdE9BHmnMakyKZax_EwSYUUYudPPRXd9BQTGtToM8elBoIMD07HuHZ1pr_UxKFlabSjmUXZIF-BcdpptH8CuU9C-lgD41pO1eF__8mVie_tVyMVP0lq0fpBtT0JxwMElHaUhXLDRUns-261ZANHPD4DU2jOMmRf8JV4hXdgGDITv9LvQps-WNqTEPXr6E9DIwr7kpD_yxsJ9eCcfCmM52QbkhClMU9Kds1Ps4t5QWQ-E49LMs8hNBLG_y6zTGHT01-ssMgsj7Aqvf9OTju8y7159z6S6Ld3x2X-BH2rjqItCsgU79hUIMG0=w1024-h616-no\" alt=\"網頁更改成草綠色背景囉\" title=\"dist/index.html\"></p>\n<p>到這裡我們完成引入 <code>CSS</code> 的動作，接下來要來試試引入 <code>SASS</code>。</p>\n<h2 id=\"安裝-sass-loader\"><a href=\"#安裝-sass-loader\" class=\"headerlink\" title=\"安裝 sass-loader\"></a>安裝 <code>sass-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i sass-loader node-sass webpack -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js\"><a href=\"#修改-webpack-config-js\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [ <span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span> ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-SASS\"><a href=\"#測試-SASS\" class=\"headerlink\" title=\"測試 SASS\"></a>測試 <code>SASS</code></h2><ol>\n<li>在 <code>src</code> 資料夾將 <code>app.css</code> 修改成 <code>app.scss</code></li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">  <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>在 <code>src</code> 資料夾修改 <code>index.html</code></li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span> Test SASS Loader<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>將 <code>app.scss</code> 引入 <code>app.js</code> 中</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./app.scss&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>執行 <code>webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到我們更改的標題顏色囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/esJm0PM-vvgr8BgLGh2mbvPKhQ2pFMMqhi74QE_2aUnd13kOesjp17hImNoFQ-JTjAHRg2oxKYsbHqKRKPeXl0g8qqfZzE5YHyKvH7hUb7TUvqN_6BSrH5tbuinT8OzcQoCAit6kwSjgjbgiEs7lxLi5ERDTt4G1X0UhtDANV5UjNhDupDYtgDxEa9SLn-wJIgHaVQ9gFJ0zpEPzxx050LgEmR2KU_fTcPV2stWSpBOcP33j_cUZ1RGVyXRpwOyjrviTsr5-zzfZbJBVBsgdyzL9S6tlzD-gPOtuebIGQJ1bzaMYgU11mTylzE9QkUF1Tisffxya1zb9OIv__DPesB33FIwWVrtq5ql1rr-7q7e2AUdTbBxFqQhlzzb1YmSht4lRUOV_g2p6LYzRp5bqNb37clADys_NOxhmar3PjutbShblwfoeGzkBt_qd46JXn_6XlfcbIHVGeyjZAhaTJVoeVt-5xkVMKuAu6qgnP7AAWh1eMSgCjoWwFqHtSB3iTnoZMHqD6zr3ZGqVR2GzWh3Rv0--2t8VbuMUaAAuPzjR98uy6DS9KZiKHOCknhtOUnU-cIKP9PVZh9m1q8Y89G97FvV_LTgdycx_h4GmL09yc2ntJSGLWD7n73jGt3SzTZaf8AVo0T-bKBHBztjCjANZoKw5tf9g=w1024-h616-no\" alt=\"網頁更改標題顏色\" title=\"dist/index.html\"></p>\n<p><code>SASS</code> 引入完成！！大家有發現網頁上的 <code>css</code> 怎麼都是跑到 <code>head</code> 裡面啦？接下來要教怎麼輸出成一隻 <code>css</code> 用 <code>link</code> 的方式引入到頁面上。</p>\n<h2 id=\"安裝-ExtractTextWebpackPlugin\"><a href=\"#安裝-ExtractTextWebpackPlugin\" class=\"headerlink\" title=\"安裝 ExtractTextWebpackPlugin\"></a>安裝 <code>ExtractTextWebpackPlugin</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D extract-text-webpack-plugin</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js-1\"><a href=\"#修改-webpack-config-js-1\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">ExtractTextPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;extract-text-webpack-plugin&quot;</span>);</span><br><span class=\"line\">......</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"title class_\">ExtractTextPlugin</span>.<span class=\"title function_\">extract</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">fallback</span>: <span class=\"string\">&#x27;style-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">//resolve-url-loader may be chained before sass-loader if necessary</span></span><br><span class=\"line\">          <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span>]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">ExtractTextPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;app.css&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">disable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      <span class=\"attr\">allChunks</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>執行 <code>webpack</code> 打包</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>執行完打開 <code>dist</code> 資料夾 <code>index.html</code> 就可以看到 <code>app.css</code> 在 <code>head</code> 裡面囉！</p>\n<p>每次因為不同瀏覽器寫前綴語是不是超麻煩的啊？接下來要來引入 <code>postcss</code> 的 <code>autoprefixer</code> ，透過設定 browserlist 讓 Webpack 自動做完這些事情呦。</p>\n<h2 id=\"安裝-postcss-loader\"><a href=\"#安裝-postcss-loader\" class=\"headerlink\" title=\"安裝 postcss-loader\"></a>安裝 <code>postcss-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D  postcss-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"新增-postcss-config-js\"><a href=\"#新增-postcss-config-js\" class=\"headerlink\" title=\"新增 postcss.config.js\"></a>新增 <code>postcss.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;autoprefixer&#x27;</span>: &#123;&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"在-package-json-設定-browserslist\"><a href=\"#在-package-json-設定-browserslist\" class=\"headerlink\" title=\"在 package.json 設定 browserslist\"></a>在 <code>package.json</code> 設定 <code>browserslist</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"string\">&quot;browserslist&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;Explorer 11&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;&gt; 1%&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;last 2 versions&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;not ie &lt;= 10&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改-webpack-config-js-2\"><a href=\"#修改-webpack-config-js-2\" class=\"headerlink\" title=\"修改 webpack.config.js\"></a>修改 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css|scss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"title class_\">ExtractTextPlugin</span>.<span class=\"title function_\">extract</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">fallback</span>: <span class=\"string\">&#x27;style-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">//resolve-url-loader may be chained before sass-loader if necessary</span></span><br><span class=\"line\">          <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;postcss-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span>]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試-postcss\"><a href=\"#測試-postcss\" class=\"headerlink\" title=\"測試 postcss\"></a>測試 <code>postcss</code></h2><ol>\n<li>修改 <code>app.scss</code> 檔案</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">    <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>執行 <code>Webpack</code> 打包</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run prod</span><br></pre></td></tr></table></figure>\n\n<p>打開 <code>dist/app.css</code> 就可以看到下面自動加入前綴語的 <code>css</code> 囉～</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span>&#123;<span class=\"attribute\">background-color</span>:<span class=\"number\">#9acd32</span>&#125;<span class=\"selector-tag\">body</span> <span class=\"selector-tag\">h1</span>&#123;<span class=\"attribute\">color</span>:green;-webkit-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);-ms-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>)&#125;</span><br></pre></td></tr></table></figure>\n\n<p>今天的實作檔案整理在此<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.2.0\">github</a>，謝謝收看。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://webpack.js.org/loaders/css-loader/#components/sidebar/sidebar.jsx\">Webpack css-loader</a></li>\n<li><a href=\"https://webpack.js.org/loaders/style-loader/#components/sidebar/sidebar.jsx\">Webpack style-loader</a></li>\n<li><a href=\"https://webpack.js.org/loaders/sass-loader/#components/sidebar/sidebar.jsx\">Webpack sass-loader</a></li>\n<li><a href=\"https://webpack.js.org/plugins/extract-text-webpack-plugin/#components/sidebar/sidebar.jsx\">Webpack ExtractTextWebpackPlugin</a></li>\n<li><a href=\"https://webpack.js.org/loaders/postcss-loader/#components/sidebar/sidebar.jsx\">Webpack postcss-loader</a></li>\n<li><a href=\"https://github.com/ai/browserslist\">Browserslist</a></li>\n</ul>"},{"title":"Webpack 3 Tutorial - Webpack Dev Server","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-09-01T16:00:00.000Z","updated":"2017-09-01T16:00:00.000Z","_content":"\n此篇介紹如何加入並使用 `webpack-dev-server`，並展示 `Hot Reload` 功能。\n<!--more-->\n\n## 安裝 `webpack-dev-server`\n\n```npm\nnpm i -D webpack-dev-server\n```\n\n## 設定 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  devServer: {\n    contentBase: path.join(__dirname, \"dist\"), // 從哪裡提供內容\n    port: 9000 // http://localhost:9000\n  },\n  ......\n};\n```\n\n## 設定 `package.json`\n\n```js\n{\n  ......\n  \"scripts\": {\n    \"dev\": \"webpack-dev-server --open\",\n    ......\n  },\n  ......\n}\n```\n\n* --open: 自動開啟預設瀏覽器\n\n執行 `npm` 指令\n```npm\nnpm run dev\n```\n\n就會自動開啟瀏覽器看到預覽的畫面囉！\n\n![執行 npm run dev](https://lh3.googleusercontent.com/HnOhEhOGSinuEBswiyrJIX8iZ1Czq0EWpKZTRk-BE3mIM50Jri0t-zxbikMgvR4QBDbdM2fNjOeDhhz_4r4VPKxg2XiWMvgI3SBXgmd-d3N_d614PmJT0sKQ5ceBzkbzIlDNgI7GnWwqyTu-H6ZS_4X1Uuz-waQu8e5P2RC29snSMCqLNX5u8GGBJ2JVfS7kTMTfdkAfDnqa09uGuBocmq3Map-Fw8BdArobD_UBU_2cXFb3jMUzPWh0Ze_WUe3PZTcP_8srjAbxV3qu1S_O6GWH5BXT3-tOD9khFUhfcEUo5POBzep225XQr7_kfPeXGDC0dKftE821ZMkerSh994xOMi8pFkkX9BZBnO1zLZQOyJcVjIavFFSGbIBlFO-PQkYT4dA5pOuj9_PVAmmO3UXsbZEcozoqiNuI95lUdAsJ6zw_uJg7khL8iUUkXOo61jHqsOw7l9McIG5O5Vrwq-945YYTYlwSfGmdSzB7ruOMWC9_geJveziVfxV167JqBiONuAAFPgTF9D-1BF3_efshXRPOs35A9HG4GcllYarb-uRbCBF1GMNlQ8I-xPala9qsomjEqcbk5iLAiQ9ZAVYx57B32XqooBBUUX16EucFLvatq2XoZn-7hxep2ucS6DOsjJBMSa5Ys3wq_ioGy5B0pWxPL9Jt=w1024-h681-no \"dist/index.html\")\n\n疑？內容的文字怎麼好像被切掉了。我們趕緊來試試看修改 `css` 的部分，順便看看  `Hot Reload` 的威力吧～\n\n> 關於實時加載（Live Reload）和熱加載（Hot Reload）的區別在於:實時加載應用更新時需要刷新當前頁面，可以看到明顯的全局刷新效果;而熱加載基本上看不出刷新的效果，類似於局部刷新。\n\n## 測試 `Hot Reload`\n\n修改 `src/app.scss`，把字體變形的樣式註解掉\n\n```css\nbody {\n    background-color: yellowgreen;\n    h1 {\n        color: green;\n        // transform: scale(1.5);\n    }\n}\n```\n\n結果 `webpack-dev-server` 就幫我們即時打包並刷新瀏覽器頁面，所以我們就可以專心的寫code，畫面就會即時的自動更新囉，是不是超方便的啊？\n\n![Hot Reload](https://lh3.googleusercontent.com/dd1uIE9abHa17DxC19VyS2ejCk-ZLVe5y3PCnUu2HubhUCPvkwyjcUBPm70yP-eqtpsS6n7vJyeH4MjVviE4mCXJ6lwUVDeUUJ6w4pTKBQEWwtLEqa8Seojv2FPPHs70DJxZsZF9_8g2sURtQdUxFBG7H1zy6yd-fLbPB4LUi6Gw2Un9HZ0yrLx6s-8wgp8539AOi8gtlNJDZaoEpRkeEMbmTX4LWe67rKKCVGHFplKxl_u_zYWIVQU94yS1nwgSGgcNK5ZX2sVFUZ2bXc04D2GcC3JREt9WlmvdjGe4Fgs7-ohZgDyi2MJTw16HEhvEa3Yl-n0osdmvF_2cRv8oDbOPqwNL9TFgEdkmv3o9omQhmMg7rBT4_LkRC9vm0i8L-Cisr9eu7Js69IQUUqCkiMz1ZQWw_YIEVk20NbaIKZQRJZAAOnq1_h0N7vR5vnOMgaTWJ5KaucE1sieklCmkci0lLjIutitLXhtGNWYm0R0BKPlgiu8dAPlbfnNB95ReX4QI7bsMHm6tuPSVLkPpWddqMcChszAV6x_9KSieqz8CGlaOhuoAb2yRgR8ZW3oP9PfNT4rPBSx3eiuNalPFBX4xyBNGvMqfUJjioJRTc7F9pGsI-qBeJocby_CFAjY-OnKze75-NRfprp-iZL7dbE3X6o-FelJX=w1024-h681-no \"dist/index.html\")\n\n今天的範例程式檔[github](https://github.com/Annilla/webpack_practice/tree/v1.3.0)，感謝收看。\n\n## 參考資料\n\n* [Use Webpack Dev Server](https://webpack.js.org/guides/development/#using-webpack-dev-server)\n\n* [Webpack Dev Server Configuration](https://webpack.js.org/configuration/dev-server/)\n\n* [React Native 热加载（Hot Reload）原理简介](http://www.jianshu.com/p/1fa6e9c0799f)","source":"_posts/Webpack/Webpack-3-Tutorial-Webpack-Dev-Server.md","raw":"---\ntitle: Webpack 3 Tutorial - Webpack Dev Server\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/09/02\nupdated: 2017/09/02\n---\n\n此篇介紹如何加入並使用 `webpack-dev-server`，並展示 `Hot Reload` 功能。\n<!--more-->\n\n## 安裝 `webpack-dev-server`\n\n```npm\nnpm i -D webpack-dev-server\n```\n\n## 設定 `webpack.config.js`\n\n```js\nmodule.exports = {\n  ......\n  devServer: {\n    contentBase: path.join(__dirname, \"dist\"), // 從哪裡提供內容\n    port: 9000 // http://localhost:9000\n  },\n  ......\n};\n```\n\n## 設定 `package.json`\n\n```js\n{\n  ......\n  \"scripts\": {\n    \"dev\": \"webpack-dev-server --open\",\n    ......\n  },\n  ......\n}\n```\n\n* --open: 自動開啟預設瀏覽器\n\n執行 `npm` 指令\n```npm\nnpm run dev\n```\n\n就會自動開啟瀏覽器看到預覽的畫面囉！\n\n![執行 npm run dev](https://lh3.googleusercontent.com/HnOhEhOGSinuEBswiyrJIX8iZ1Czq0EWpKZTRk-BE3mIM50Jri0t-zxbikMgvR4QBDbdM2fNjOeDhhz_4r4VPKxg2XiWMvgI3SBXgmd-d3N_d614PmJT0sKQ5ceBzkbzIlDNgI7GnWwqyTu-H6ZS_4X1Uuz-waQu8e5P2RC29snSMCqLNX5u8GGBJ2JVfS7kTMTfdkAfDnqa09uGuBocmq3Map-Fw8BdArobD_UBU_2cXFb3jMUzPWh0Ze_WUe3PZTcP_8srjAbxV3qu1S_O6GWH5BXT3-tOD9khFUhfcEUo5POBzep225XQr7_kfPeXGDC0dKftE821ZMkerSh994xOMi8pFkkX9BZBnO1zLZQOyJcVjIavFFSGbIBlFO-PQkYT4dA5pOuj9_PVAmmO3UXsbZEcozoqiNuI95lUdAsJ6zw_uJg7khL8iUUkXOo61jHqsOw7l9McIG5O5Vrwq-945YYTYlwSfGmdSzB7ruOMWC9_geJveziVfxV167JqBiONuAAFPgTF9D-1BF3_efshXRPOs35A9HG4GcllYarb-uRbCBF1GMNlQ8I-xPala9qsomjEqcbk5iLAiQ9ZAVYx57B32XqooBBUUX16EucFLvatq2XoZn-7hxep2ucS6DOsjJBMSa5Ys3wq_ioGy5B0pWxPL9Jt=w1024-h681-no \"dist/index.html\")\n\n疑？內容的文字怎麼好像被切掉了。我們趕緊來試試看修改 `css` 的部分，順便看看  `Hot Reload` 的威力吧～\n\n> 關於實時加載（Live Reload）和熱加載（Hot Reload）的區別在於:實時加載應用更新時需要刷新當前頁面，可以看到明顯的全局刷新效果;而熱加載基本上看不出刷新的效果，類似於局部刷新。\n\n## 測試 `Hot Reload`\n\n修改 `src/app.scss`，把字體變形的樣式註解掉\n\n```css\nbody {\n    background-color: yellowgreen;\n    h1 {\n        color: green;\n        // transform: scale(1.5);\n    }\n}\n```\n\n結果 `webpack-dev-server` 就幫我們即時打包並刷新瀏覽器頁面，所以我們就可以專心的寫code，畫面就會即時的自動更新囉，是不是超方便的啊？\n\n![Hot Reload](https://lh3.googleusercontent.com/dd1uIE9abHa17DxC19VyS2ejCk-ZLVe5y3PCnUu2HubhUCPvkwyjcUBPm70yP-eqtpsS6n7vJyeH4MjVviE4mCXJ6lwUVDeUUJ6w4pTKBQEWwtLEqa8Seojv2FPPHs70DJxZsZF9_8g2sURtQdUxFBG7H1zy6yd-fLbPB4LUi6Gw2Un9HZ0yrLx6s-8wgp8539AOi8gtlNJDZaoEpRkeEMbmTX4LWe67rKKCVGHFplKxl_u_zYWIVQU94yS1nwgSGgcNK5ZX2sVFUZ2bXc04D2GcC3JREt9WlmvdjGe4Fgs7-ohZgDyi2MJTw16HEhvEa3Yl-n0osdmvF_2cRv8oDbOPqwNL9TFgEdkmv3o9omQhmMg7rBT4_LkRC9vm0i8L-Cisr9eu7Js69IQUUqCkiMz1ZQWw_YIEVk20NbaIKZQRJZAAOnq1_h0N7vR5vnOMgaTWJ5KaucE1sieklCmkci0lLjIutitLXhtGNWYm0R0BKPlgiu8dAPlbfnNB95ReX4QI7bsMHm6tuPSVLkPpWddqMcChszAV6x_9KSieqz8CGlaOhuoAb2yRgR8ZW3oP9PfNT4rPBSx3eiuNalPFBX4xyBNGvMqfUJjioJRTc7F9pGsI-qBeJocby_CFAjY-OnKze75-NRfprp-iZL7dbE3X6o-FelJX=w1024-h681-no \"dist/index.html\")\n\n今天的範例程式檔[github](https://github.com/Annilla/webpack_practice/tree/v1.3.0)，感謝收看。\n\n## 參考資料\n\n* [Use Webpack Dev Server](https://webpack.js.org/guides/development/#using-webpack-dev-server)\n\n* [Webpack Dev Server Configuration](https://webpack.js.org/configuration/dev-server/)\n\n* [React Native 热加载（Hot Reload）原理简介](http://www.jianshu.com/p/1fa6e9c0799f)","slug":"Webpack/Webpack-3-Tutorial-Webpack-Dev-Server","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9se0054r3y7fitxcbm4","content":"<p>此篇介紹如何加入並使用 <code>webpack-dev-server</code>，並展示 <code>Hot Reload</code> 功能。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-webpack-dev-server\"><a href=\"#安裝-webpack-dev-server\" class=\"headerlink\" title=\"安裝 webpack-dev-server\"></a>安裝 <code>webpack-dev-server</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack-dev-server</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&quot;dist&quot;</span>), <span class=\"comment\">// 從哪裡提供內容</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">9000</span> <span class=\"comment\">// http://localhost:9000</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-package-json\"><a href=\"#設定-package-json\" class=\"headerlink\" title=\"設定 package.json\"></a>設定 <code>package.json</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server --open&quot;</span>,</span><br><span class=\"line\">    ......</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>–open: 自動開啟預設瀏覽器</li>\n</ul>\n<p>執行 <code>npm</code> 指令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>就會自動開啟瀏覽器看到預覽的畫面囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/HnOhEhOGSinuEBswiyrJIX8iZ1Czq0EWpKZTRk-BE3mIM50Jri0t-zxbikMgvR4QBDbdM2fNjOeDhhz_4r4VPKxg2XiWMvgI3SBXgmd-d3N_d614PmJT0sKQ5ceBzkbzIlDNgI7GnWwqyTu-H6ZS_4X1Uuz-waQu8e5P2RC29snSMCqLNX5u8GGBJ2JVfS7kTMTfdkAfDnqa09uGuBocmq3Map-Fw8BdArobD_UBU_2cXFb3jMUzPWh0Ze_WUe3PZTcP_8srjAbxV3qu1S_O6GWH5BXT3-tOD9khFUhfcEUo5POBzep225XQr7_kfPeXGDC0dKftE821ZMkerSh994xOMi8pFkkX9BZBnO1zLZQOyJcVjIavFFSGbIBlFO-PQkYT4dA5pOuj9_PVAmmO3UXsbZEcozoqiNuI95lUdAsJ6zw_uJg7khL8iUUkXOo61jHqsOw7l9McIG5O5Vrwq-945YYTYlwSfGmdSzB7ruOMWC9_geJveziVfxV167JqBiONuAAFPgTF9D-1BF3_efshXRPOs35A9HG4GcllYarb-uRbCBF1GMNlQ8I-xPala9qsomjEqcbk5iLAiQ9ZAVYx57B32XqooBBUUX16EucFLvatq2XoZn-7hxep2ucS6DOsjJBMSa5Ys3wq_ioGy5B0pWxPL9Jt=w1024-h681-no\" alt=\"執行 npm run dev\" title=\"dist/index.html\"></p>\n<p>疑？內容的文字怎麼好像被切掉了。我們趕緊來試試看修改 <code>css</code> 的部分，順便看看  <code>Hot Reload</code> 的威力吧～</p>\n<blockquote>\n<p>關於實時加載（Live Reload）和熱加載（Hot Reload）的區別在於:實時加載應用更新時需要刷新當前頁面，可以看到明顯的全局刷新效果;而熱加載基本上看不出刷新的效果，類似於局部刷新。</p>\n</blockquote>\n<h2 id=\"測試-Hot-Reload\"><a href=\"#測試-Hot-Reload\" class=\"headerlink\" title=\"測試 Hot Reload\"></a>測試 <code>Hot Reload</code></h2><p>修改 <code>src/app.scss</code>，把字體變形的樣式註解掉</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">    <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">        // <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>結果 <code>webpack-dev-server</code> 就幫我們即時打包並刷新瀏覽器頁面，所以我們就可以專心的寫code，畫面就會即時的自動更新囉，是不是超方便的啊？</p>\n<p><img src=\"https://lh3.googleusercontent.com/dd1uIE9abHa17DxC19VyS2ejCk-ZLVe5y3PCnUu2HubhUCPvkwyjcUBPm70yP-eqtpsS6n7vJyeH4MjVviE4mCXJ6lwUVDeUUJ6w4pTKBQEWwtLEqa8Seojv2FPPHs70DJxZsZF9_8g2sURtQdUxFBG7H1zy6yd-fLbPB4LUi6Gw2Un9HZ0yrLx6s-8wgp8539AOi8gtlNJDZaoEpRkeEMbmTX4LWe67rKKCVGHFplKxl_u_zYWIVQU94yS1nwgSGgcNK5ZX2sVFUZ2bXc04D2GcC3JREt9WlmvdjGe4Fgs7-ohZgDyi2MJTw16HEhvEa3Yl-n0osdmvF_2cRv8oDbOPqwNL9TFgEdkmv3o9omQhmMg7rBT4_LkRC9vm0i8L-Cisr9eu7Js69IQUUqCkiMz1ZQWw_YIEVk20NbaIKZQRJZAAOnq1_h0N7vR5vnOMgaTWJ5KaucE1sieklCmkci0lLjIutitLXhtGNWYm0R0BKPlgiu8dAPlbfnNB95ReX4QI7bsMHm6tuPSVLkPpWddqMcChszAV6x_9KSieqz8CGlaOhuoAb2yRgR8ZW3oP9PfNT4rPBSx3eiuNalPFBX4xyBNGvMqfUJjioJRTc7F9pGsI-qBeJocby_CFAjY-OnKze75-NRfprp-iZL7dbE3X6o-FelJX=w1024-h681-no\" alt=\"Hot Reload\" title=\"dist/index.html\"></p>\n<p>今天的範例程式檔<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.3.0\">github</a>，感謝收看。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><p><a href=\"https://webpack.js.org/guides/development/#using-webpack-dev-server\">Use Webpack Dev Server</a></p>\n</li>\n<li><p><a href=\"https://webpack.js.org/configuration/dev-server/\">Webpack Dev Server Configuration</a></p>\n</li>\n<li><p><a href=\"http://www.jianshu.com/p/1fa6e9c0799f\">React Native 热加载（Hot Reload）原理简介</a></p>\n</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<p>此篇介紹如何加入並使用 <code>webpack-dev-server</code>，並展示 <code>Hot Reload</code> 功能。</p>","more":"<h2 id=\"安裝-webpack-dev-server\"><a href=\"#安裝-webpack-dev-server\" class=\"headerlink\" title=\"安裝 webpack-dev-server\"></a>安裝 <code>webpack-dev-server</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D webpack-dev-server</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&quot;dist&quot;</span>), <span class=\"comment\">// 從哪裡提供內容</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">9000</span> <span class=\"comment\">// http://localhost:9000</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-package-json\"><a href=\"#設定-package-json\" class=\"headerlink\" title=\"設定 package.json\"></a>設定 <code>package.json</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server --open&quot;</span>,</span><br><span class=\"line\">    ......</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>–open: 自動開啟預設瀏覽器</li>\n</ul>\n<p>執行 <code>npm</code> 指令</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm run dev</span><br></pre></td></tr></table></figure>\n\n<p>就會自動開啟瀏覽器看到預覽的畫面囉！</p>\n<p><img src=\"https://lh3.googleusercontent.com/HnOhEhOGSinuEBswiyrJIX8iZ1Czq0EWpKZTRk-BE3mIM50Jri0t-zxbikMgvR4QBDbdM2fNjOeDhhz_4r4VPKxg2XiWMvgI3SBXgmd-d3N_d614PmJT0sKQ5ceBzkbzIlDNgI7GnWwqyTu-H6ZS_4X1Uuz-waQu8e5P2RC29snSMCqLNX5u8GGBJ2JVfS7kTMTfdkAfDnqa09uGuBocmq3Map-Fw8BdArobD_UBU_2cXFb3jMUzPWh0Ze_WUe3PZTcP_8srjAbxV3qu1S_O6GWH5BXT3-tOD9khFUhfcEUo5POBzep225XQr7_kfPeXGDC0dKftE821ZMkerSh994xOMi8pFkkX9BZBnO1zLZQOyJcVjIavFFSGbIBlFO-PQkYT4dA5pOuj9_PVAmmO3UXsbZEcozoqiNuI95lUdAsJ6zw_uJg7khL8iUUkXOo61jHqsOw7l9McIG5O5Vrwq-945YYTYlwSfGmdSzB7ruOMWC9_geJveziVfxV167JqBiONuAAFPgTF9D-1BF3_efshXRPOs35A9HG4GcllYarb-uRbCBF1GMNlQ8I-xPala9qsomjEqcbk5iLAiQ9ZAVYx57B32XqooBBUUX16EucFLvatq2XoZn-7hxep2ucS6DOsjJBMSa5Ys3wq_ioGy5B0pWxPL9Jt=w1024-h681-no\" alt=\"執行 npm run dev\" title=\"dist/index.html\"></p>\n<p>疑？內容的文字怎麼好像被切掉了。我們趕緊來試試看修改 <code>css</code> 的部分，順便看看  <code>Hot Reload</code> 的威力吧～</p>\n<blockquote>\n<p>關於實時加載（Live Reload）和熱加載（Hot Reload）的區別在於:實時加載應用更新時需要刷新當前頁面，可以看到明顯的全局刷新效果;而熱加載基本上看不出刷新的效果，類似於局部刷新。</p>\n</blockquote>\n<h2 id=\"測試-Hot-Reload\"><a href=\"#測試-Hot-Reload\" class=\"headerlink\" title=\"測試 Hot Reload\"></a>測試 <code>Hot Reload</code></h2><p>修改 <code>src/app.scss</code>，把字體變形的樣式註解掉</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: yellowgreen;</span><br><span class=\"line\">    <span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">        // <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">1.5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>結果 <code>webpack-dev-server</code> 就幫我們即時打包並刷新瀏覽器頁面，所以我們就可以專心的寫code，畫面就會即時的自動更新囉，是不是超方便的啊？</p>\n<p><img src=\"https://lh3.googleusercontent.com/dd1uIE9abHa17DxC19VyS2ejCk-ZLVe5y3PCnUu2HubhUCPvkwyjcUBPm70yP-eqtpsS6n7vJyeH4MjVviE4mCXJ6lwUVDeUUJ6w4pTKBQEWwtLEqa8Seojv2FPPHs70DJxZsZF9_8g2sURtQdUxFBG7H1zy6yd-fLbPB4LUi6Gw2Un9HZ0yrLx6s-8wgp8539AOi8gtlNJDZaoEpRkeEMbmTX4LWe67rKKCVGHFplKxl_u_zYWIVQU94yS1nwgSGgcNK5ZX2sVFUZ2bXc04D2GcC3JREt9WlmvdjGe4Fgs7-ohZgDyi2MJTw16HEhvEa3Yl-n0osdmvF_2cRv8oDbOPqwNL9TFgEdkmv3o9omQhmMg7rBT4_LkRC9vm0i8L-Cisr9eu7Js69IQUUqCkiMz1ZQWw_YIEVk20NbaIKZQRJZAAOnq1_h0N7vR5vnOMgaTWJ5KaucE1sieklCmkci0lLjIutitLXhtGNWYm0R0BKPlgiu8dAPlbfnNB95ReX4QI7bsMHm6tuPSVLkPpWddqMcChszAV6x_9KSieqz8CGlaOhuoAb2yRgR8ZW3oP9PfNT4rPBSx3eiuNalPFBX4xyBNGvMqfUJjioJRTc7F9pGsI-qBeJocby_CFAjY-OnKze75-NRfprp-iZL7dbE3X6o-FelJX=w1024-h681-no\" alt=\"Hot Reload\" title=\"dist/index.html\"></p>\n<p>今天的範例程式檔<a href=\"https://github.com/Annilla/webpack_practice/tree/v1.3.0\">github</a>，感謝收看。</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><p><a href=\"https://webpack.js.org/guides/development/#using-webpack-dev-server\">Use Webpack Dev Server</a></p>\n</li>\n<li><p><a href=\"https://webpack.js.org/configuration/dev-server/\">Webpack Dev Server Configuration</a></p>\n</li>\n<li><p><a href=\"http://www.jianshu.com/p/1fa6e9c0799f\">React Native 热加载（Hot Reload）原理简介</a></p>\n</li>\n</ul>"},{"title":"Webpack 3 Tutorial - add Babel loader to write js use ES6","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-09-30T16:00:00.000Z","updated":"2017-09-30T16:00:00.000Z","_content":"\n此篇介紹如何加入並使用 `babel-loader`，並使用 `ES6` 語法測試撰寫 `js`。\n<!--more-->\n\n## 安裝 `babel-loader`\n\n```npm\nnpm i -D babel-loader babel-core babel-preset-env\n```\n\n## 設定 `webpack.config.js`\n\n```js\n......\n\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.js$/,\n        exclude: /(node_modules)/, // 打包時排除 node_modules 資料夾\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: ['env'] // 使用 babel-preset-env\n          }\n        }\n      }\n    ]\n  },\n  ......\n}\n```\n\n> 注意：此範例把 `Babel` 設定直接寫在 `webpack.config.js`，若 `options` 設定較複雜的話，可另外寫在 `.babelrc` 檔案中，參考[Babel官網](https://babeljs.io/docs/setup/#installation)。\n\n## 測試 `ES6` 語法\n\n新增檔案 `./src/js/es6.js`，撰寫程式如下：\n  \n```js\nexport default class Point {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  static distance(a, b) {\n    const dx = a.x - b.x;\n    const dy = a.y - b.y;\n\n    return Math.sqrt(dx*dx + dy*dy);\n  }\n}\n```\n\n將剛剛寫的程式 `import` 到 `app.js`。\n\n```js\n......\n\nimport Point from './js/es6'\n\n// Test for ES6\n// https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes\nconst p1 = new Point(5, 5);\nconst p2 = new Point(10, 10);\n\nconsole.log(`Test ES6 Distance: ${Point.distance(p1, p2)}`);\n```\n\n執行 `npm run dev`，就可以看到 `console` 出現計算後的兩點長度囉。\n\n![執行 npm run dev 後畫面](https://lh3.googleusercontent.com/5S_HyO4HXOk9lkTzktk7Nbv93MPlzlh-NwBtwVLHeRStleqxkbU32GXOlJMb6S-jyRLu22Sficg3jtn2PhmUbA_1BxVKqMhLWXHs8mZDRS-dxA9haBSgCzGi4I1xAODh8qeWbPpCgJCSXIEki7h18ADIx_cotpCTD6vqUt8q8xPQoKqCYqufERPzQXwZVYO-GXwUmb7edUGFUi-iCUi9dwqdwPyOpQMmy42bVioArD7DV536i66AOfgYFo1LWQFh3EOVYa3eufssJJaZ_C-e31Xsv2vOrxYiZXCngeL9ZiFm6TOYbyDBIWn6DsFNEmQFHILVoiSCYnURTbZEAAL_5OyVG5dSsc7FpV26p_F9yUPofNay_JbZzDRMuQ870u2c7eBwy5Im9nRLC4ItKnEssvS2ylDWt5NPA3NZV5EFsx9LTR4DFGdQbLj1GIh5fmLdWQXv0AsU-AB2tuaB1mgxzRmkVWUDiPff2OXl2CXHsF2UeJTFtrxKPX9fHblEiO30NXZYjDhcsw_v1JGx9TtGF4QmPCkC3H5aeXyUvpUBnAVXpMmXhrH9FkXZIhaIXl7mdaiEEQR_7nwkhnVzZdSVL0EJq7TfUlQHz5HeRTjEjYfaU0mf7CNgt_KM3o0ReospKxGdl2Ml1hPfTv56QFuyNAl1NKfZiRvw=w1024-h589-no \"dist/index.html\")\n\n更多 `babel-preset-env` 的配置選項可參考[官網](http://babeljs.io/docs/plugins/preset-env/#top)，有空也可以來試試 ES7 的 `async`, `await` 喔，我們下次見！\n\n範例 [Github](https://github.com/Annilla/webpack_practice/tree/v1.4.0)\n\n## 參考資料\n\n* [Babel-loader](https://webpack.js.org/loaders/babel-loader/)\n* [Babel](https://babeljs.io/)\n* [ES6 Classes](https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes)\n* [babel-preset-env](http://babeljs.io/docs/plugins/preset-env/#top)\n","source":"_posts/Webpack/Webpack-3-Tutorial-add-Babel-loader-to-write-js-use-ES6.md","raw":"---\ntitle: Webpack 3 Tutorial - add Babel loader to write js use ES6\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/10/01\nupdated: 2017/10/01\n---\n\n此篇介紹如何加入並使用 `babel-loader`，並使用 `ES6` 語法測試撰寫 `js`。\n<!--more-->\n\n## 安裝 `babel-loader`\n\n```npm\nnpm i -D babel-loader babel-core babel-preset-env\n```\n\n## 設定 `webpack.config.js`\n\n```js\n......\n\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.js$/,\n        exclude: /(node_modules)/, // 打包時排除 node_modules 資料夾\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: ['env'] // 使用 babel-preset-env\n          }\n        }\n      }\n    ]\n  },\n  ......\n}\n```\n\n> 注意：此範例把 `Babel` 設定直接寫在 `webpack.config.js`，若 `options` 設定較複雜的話，可另外寫在 `.babelrc` 檔案中，參考[Babel官網](https://babeljs.io/docs/setup/#installation)。\n\n## 測試 `ES6` 語法\n\n新增檔案 `./src/js/es6.js`，撰寫程式如下：\n  \n```js\nexport default class Point {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  static distance(a, b) {\n    const dx = a.x - b.x;\n    const dy = a.y - b.y;\n\n    return Math.sqrt(dx*dx + dy*dy);\n  }\n}\n```\n\n將剛剛寫的程式 `import` 到 `app.js`。\n\n```js\n......\n\nimport Point from './js/es6'\n\n// Test for ES6\n// https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes\nconst p1 = new Point(5, 5);\nconst p2 = new Point(10, 10);\n\nconsole.log(`Test ES6 Distance: ${Point.distance(p1, p2)}`);\n```\n\n執行 `npm run dev`，就可以看到 `console` 出現計算後的兩點長度囉。\n\n![執行 npm run dev 後畫面](https://lh3.googleusercontent.com/5S_HyO4HXOk9lkTzktk7Nbv93MPlzlh-NwBtwVLHeRStleqxkbU32GXOlJMb6S-jyRLu22Sficg3jtn2PhmUbA_1BxVKqMhLWXHs8mZDRS-dxA9haBSgCzGi4I1xAODh8qeWbPpCgJCSXIEki7h18ADIx_cotpCTD6vqUt8q8xPQoKqCYqufERPzQXwZVYO-GXwUmb7edUGFUi-iCUi9dwqdwPyOpQMmy42bVioArD7DV536i66AOfgYFo1LWQFh3EOVYa3eufssJJaZ_C-e31Xsv2vOrxYiZXCngeL9ZiFm6TOYbyDBIWn6DsFNEmQFHILVoiSCYnURTbZEAAL_5OyVG5dSsc7FpV26p_F9yUPofNay_JbZzDRMuQ870u2c7eBwy5Im9nRLC4ItKnEssvS2ylDWt5NPA3NZV5EFsx9LTR4DFGdQbLj1GIh5fmLdWQXv0AsU-AB2tuaB1mgxzRmkVWUDiPff2OXl2CXHsF2UeJTFtrxKPX9fHblEiO30NXZYjDhcsw_v1JGx9TtGF4QmPCkC3H5aeXyUvpUBnAVXpMmXhrH9FkXZIhaIXl7mdaiEEQR_7nwkhnVzZdSVL0EJq7TfUlQHz5HeRTjEjYfaU0mf7CNgt_KM3o0ReospKxGdl2Ml1hPfTv56QFuyNAl1NKfZiRvw=w1024-h589-no \"dist/index.html\")\n\n更多 `babel-preset-env` 的配置選項可參考[官網](http://babeljs.io/docs/plugins/preset-env/#top)，有空也可以來試試 ES7 的 `async`, `await` 喔，我們下次見！\n\n範例 [Github](https://github.com/Annilla/webpack_practice/tree/v1.4.0)\n\n## 參考資料\n\n* [Babel-loader](https://webpack.js.org/loaders/babel-loader/)\n* [Babel](https://babeljs.io/)\n* [ES6 Classes](https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes)\n* [babel-preset-env](http://babeljs.io/docs/plugins/preset-env/#top)\n","slug":"Webpack/Webpack-3-Tutorial-add-Babel-loader-to-write-js-use-ES6","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9sf0058r3y7fz166smk","content":"<p>此篇介紹如何加入並使用 <code>babel-loader</code>，並使用 <code>ES6</code> 語法測試撰寫 <code>js</code>。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-babel-loader\"><a href=\"#安裝-babel-loader\" class=\"headerlink\" title=\"安裝 babel-loader\"></a>安裝 <code>babel-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D babel-loader babel-core babel-preset-env</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">exclude</span>: <span class=\"regexp\">/(node_modules)/</span>, <span class=\"comment\">// 打包時排除 node_modules 資料夾</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">presets</span>: [<span class=\"string\">&#x27;env&#x27;</span>] <span class=\"comment\">// 使用 babel-preset-env</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：此範例把 <code>Babel</code> 設定直接寫在 <code>webpack.config.js</code>，若 <code>options</code> 設定較複雜的話，可另外寫在 <code>.babelrc</code> 檔案中，參考<a href=\"https://babeljs.io/docs/setup/#installation\">Babel官網</a>。</p>\n</blockquote>\n<h2 id=\"測試-ES6-語法\"><a href=\"#測試-ES6-語法\" class=\"headerlink\" title=\"測試 ES6 語法\"></a>測試 <code>ES6</code> 語法</h2><p>新增檔案 <code>./src/js/es6.js</code>，撰寫程式如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Point</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">x, y</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"title function_\">distance</span>(<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dx = a.<span class=\"property\">x</span> - b.<span class=\"property\">x</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dy = a.<span class=\"property\">y</span> - b.<span class=\"property\">y</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">sqrt</span>(dx*dx + dy*dy);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>將剛剛寫的程式 <code>import</code> 到 <code>app.js</code>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Point</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/es6&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Test for ES6</span></span><br><span class=\"line\"><span class=\"comment\">// https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Point</span>(<span class=\"number\">5</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> p2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Point</span>(<span class=\"number\">10</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Test ES6 Distance: <span class=\"subst\">$&#123;Point.distance(p1, p2)&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<p>執行 <code>npm run dev</code>，就可以看到 <code>console</code> 出現計算後的兩點長度囉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/5S_HyO4HXOk9lkTzktk7Nbv93MPlzlh-NwBtwVLHeRStleqxkbU32GXOlJMb6S-jyRLu22Sficg3jtn2PhmUbA_1BxVKqMhLWXHs8mZDRS-dxA9haBSgCzGi4I1xAODh8qeWbPpCgJCSXIEki7h18ADIx_cotpCTD6vqUt8q8xPQoKqCYqufERPzQXwZVYO-GXwUmb7edUGFUi-iCUi9dwqdwPyOpQMmy42bVioArD7DV536i66AOfgYFo1LWQFh3EOVYa3eufssJJaZ_C-e31Xsv2vOrxYiZXCngeL9ZiFm6TOYbyDBIWn6DsFNEmQFHILVoiSCYnURTbZEAAL_5OyVG5dSsc7FpV26p_F9yUPofNay_JbZzDRMuQ870u2c7eBwy5Im9nRLC4ItKnEssvS2ylDWt5NPA3NZV5EFsx9LTR4DFGdQbLj1GIh5fmLdWQXv0AsU-AB2tuaB1mgxzRmkVWUDiPff2OXl2CXHsF2UeJTFtrxKPX9fHblEiO30NXZYjDhcsw_v1JGx9TtGF4QmPCkC3H5aeXyUvpUBnAVXpMmXhrH9FkXZIhaIXl7mdaiEEQR_7nwkhnVzZdSVL0EJq7TfUlQHz5HeRTjEjYfaU0mf7CNgt_KM3o0ReospKxGdl2Ml1hPfTv56QFuyNAl1NKfZiRvw=w1024-h589-no\" alt=\"執行 npm run dev 後畫面\" title=\"dist/index.html\"></p>\n<p>更多 <code>babel-preset-env</code> 的配置選項可參考<a href=\"http://babeljs.io/docs/plugins/preset-env/#top\">官網</a>，有空也可以來試試 ES7 的 <code>async</code>, <code>await</code> 喔，我們下次見！</p>\n<p>範例 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.4.0\">Github</a></p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://webpack.js.org/loaders/babel-loader/\">Babel-loader</a></li>\n<li><a href=\"https://babeljs.io/\">Babel</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes\">ES6 Classes</a></li>\n<li><a href=\"http://babeljs.io/docs/plugins/preset-env/#top\">babel-preset-env</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<p>此篇介紹如何加入並使用 <code>babel-loader</code>，並使用 <code>ES6</code> 語法測試撰寫 <code>js</code>。</p>","more":"<h2 id=\"安裝-babel-loader\"><a href=\"#安裝-babel-loader\" class=\"headerlink\" title=\"安裝 babel-loader\"></a>安裝 <code>babel-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D babel-loader babel-core babel-preset-env</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">exclude</span>: <span class=\"regexp\">/(node_modules)/</span>, <span class=\"comment\">// 打包時排除 node_modules 資料夾</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">presets</span>: [<span class=\"string\">&#x27;env&#x27;</span>] <span class=\"comment\">// 使用 babel-preset-env</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意：此範例把 <code>Babel</code> 設定直接寫在 <code>webpack.config.js</code>，若 <code>options</code> 設定較複雜的話，可另外寫在 <code>.babelrc</code> 檔案中，參考<a href=\"https://babeljs.io/docs/setup/#installation\">Babel官網</a>。</p>\n</blockquote>\n<h2 id=\"測試-ES6-語法\"><a href=\"#測試-ES6-語法\" class=\"headerlink\" title=\"測試 ES6 語法\"></a>測試 <code>ES6</code> 語法</h2><p>新增檔案 <code>./src/js/es6.js</code>，撰寫程式如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Point</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">x, y</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"title function_\">distance</span>(<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dx = a.<span class=\"property\">x</span> - b.<span class=\"property\">x</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dy = a.<span class=\"property\">y</span> - b.<span class=\"property\">y</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">sqrt</span>(dx*dx + dy*dy);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>將剛剛寫的程式 <code>import</code> 到 <code>app.js</code>。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Point</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/es6&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Test for ES6</span></span><br><span class=\"line\"><span class=\"comment\">// https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> p1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Point</span>(<span class=\"number\">5</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> p2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Point</span>(<span class=\"number\">10</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`Test ES6 Distance: <span class=\"subst\">$&#123;Point.distance(p1, p2)&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>\n\n<p>執行 <code>npm run dev</code>，就可以看到 <code>console</code> 出現計算後的兩點長度囉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/5S_HyO4HXOk9lkTzktk7Nbv93MPlzlh-NwBtwVLHeRStleqxkbU32GXOlJMb6S-jyRLu22Sficg3jtn2PhmUbA_1BxVKqMhLWXHs8mZDRS-dxA9haBSgCzGi4I1xAODh8qeWbPpCgJCSXIEki7h18ADIx_cotpCTD6vqUt8q8xPQoKqCYqufERPzQXwZVYO-GXwUmb7edUGFUi-iCUi9dwqdwPyOpQMmy42bVioArD7DV536i66AOfgYFo1LWQFh3EOVYa3eufssJJaZ_C-e31Xsv2vOrxYiZXCngeL9ZiFm6TOYbyDBIWn6DsFNEmQFHILVoiSCYnURTbZEAAL_5OyVG5dSsc7FpV26p_F9yUPofNay_JbZzDRMuQ870u2c7eBwy5Im9nRLC4ItKnEssvS2ylDWt5NPA3NZV5EFsx9LTR4DFGdQbLj1GIh5fmLdWQXv0AsU-AB2tuaB1mgxzRmkVWUDiPff2OXl2CXHsF2UeJTFtrxKPX9fHblEiO30NXZYjDhcsw_v1JGx9TtGF4QmPCkC3H5aeXyUvpUBnAVXpMmXhrH9FkXZIhaIXl7mdaiEEQR_7nwkhnVzZdSVL0EJq7TfUlQHz5HeRTjEjYfaU0mf7CNgt_KM3o0ReospKxGdl2Ml1hPfTv56QFuyNAl1NKfZiRvw=w1024-h589-no\" alt=\"執行 npm run dev 後畫面\" title=\"dist/index.html\"></p>\n<p>更多 <code>babel-preset-env</code> 的配置選項可參考<a href=\"http://babeljs.io/docs/plugins/preset-env/#top\">官網</a>，有空也可以來試試 ES7 的 <code>async</code>, <code>await</code> 喔，我們下次見！</p>\n<p>範例 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.4.0\">Github</a></p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://webpack.js.org/loaders/babel-loader/\">Babel-loader</a></li>\n<li><a href=\"https://babeljs.io/\">Babel</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Classes\">ES6 Classes</a></li>\n<li><a href=\"http://babeljs.io/docs/plugins/preset-env/#top\">babel-preset-env</a></li>\n</ul>"},{"title":"Webpack 3 Tutorial - add PUG templates to write html","thumbnailImage":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","thumbnailImagePosition":"left","coverImage":"https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png","coverMeta":"out","date":"2017-10-31T16:00:00.000Z","updated":"2017-10-31T16:00:00.000Z","_content":"\n此篇介紹如何加入並使用 `pug-loader`，並使用 `PUG` 語法測試撰寫 `html`。\n<!--more-->\n\n## 安裝 `pug-loader`\n\n```npm\nnpm i -D pug pug-loader\n```\n\n## 設定 `webpack.config.js`\n\n```js\n......\n\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.pug$/,\n        use: 'pug-loader'\n      }\n    ]\n  },\n  ......\n}\n```\n\n## 撰寫 `index.pug`\n\n接著我們嘗試把 `index.html` 改檔名為 `index.pug`，並把內容換成以下 `Pug` 範例。\n\n```pug\ndoctype html\nhtml(lang=\"en\")\n  head\n    title= pageTitle\n    script(type='text/javascript').\n      if (foo) bar(1 + 5)\n  body\n    h1 Pug - node template engine\n    #container.col\n      if youAreUsingPug\n        p You are amazing\n      else\n        p Get on it!\n      p.\n        Pug is a terse and simple templating language with a\n        strong focus on performance and powerful features.\n```\n\n接著記得把 `webpack.config.js` plugin 中的 `HtmlWebpackPlugin` 設定換成現在新的 `Pug` 檔案。\n\n```js\nmodule.exports = {\n  ......\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: './src/index.pug'\n    }),\n    ......\n  ]\n}\n```\n\n執行 `npm run dev`，就可以看到 `Pug` 執行出來的畫面囉。\n\n![執行 npm run dev 後畫面](https://lh3.googleusercontent.com/ILdQlP6Ekw_RZLu3Hlh-vBHo3eAQ7sOgrkzx3T8TkIUfXKZjIlIefXg3RJ8y7wjKMOXWJibvVcW6YHlbrH_Ghh9Qk-zQUW-UGFt4YknvAAiCdENz8LR4TmFj6mvPUHl61brc84jARXc8gx0X24_qflJCFDnkhCM0Bkz1YuWzfB4CB3gVYPSve92ODhPklozp6-ZMvtaZTYg34GV50TG77K_aytRjhvaW-qwV3Dmkylxh5inXr85q9-KYhniQxUI9CjY_nSX6AQayCp6bBb0lUK79a5jhiT_J4Tzj-oV9vRzizdFqsasgtI9uZmdZTCViPlnpT_tXbfQpcYOtHx5ZDn--tQLJBIMNCcQHxJdsp0QKx8zmztaNMEbotx8QMXvT6EIiQFyYeBdk4EovN-PRvlGF-LzZyQflr_WrPYtYrSbUsTEF6VryD-pdKQ9nMQ-wPDBa0iAN50uSUZM_J9xc3Jj1ohJ7mzjPEozlxDBtD3v3e1mIobjXG_zAIYE58gs-0A2-44X06UZc7jL1A84-J2HsS7IOPGvJ7tvK2EVy8C2xpYs3x7SSYQpuNwMrM7-SbsxMQVDyulq3rhdc1XuuQVEZ_atkkHIKh2Zm_7i_CS30axkjZSxbEYckQY6O4oLHtSHOnd5XWRHgh38lO4xLVOtZzgurUcfL=w1024-h612-no \"dist/index.pug\")\n\n今天的範例 [Github](https://github.com/Annilla/webpack_practice/tree/v1.5.0) 在此，下次見～\n\n## 參考資料\n\n* [pug-loader](https://github.com/pugjs/pug-loader)\n* [Pug](https://github.com/pugjs/pug)","source":"_posts/Webpack/Webpack-3-Tutorial-add-PUG-templates-to-write-html.md","raw":"---\ntitle: Webpack 3 Tutorial - add PUG templates to write html\ncategories:\n  - Webpack\nthumbnailImage: https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667\nthumbnailImagePosition: left\ncoverImage: https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2017/01/1484692838webpack-dependency-tree.png\ncoverMeta: out\ntags: [Webpack]\ndate: 2017/11/01\nupdated: 2017/11/01\n---\n\n此篇介紹如何加入並使用 `pug-loader`，並使用 `PUG` 語法測試撰寫 `html`。\n<!--more-->\n\n## 安裝 `pug-loader`\n\n```npm\nnpm i -D pug pug-loader\n```\n\n## 設定 `webpack.config.js`\n\n```js\n......\n\nmodule.exports = {\n  ......\n  module: {\n    rules: [\n      ......\n      {\n        test: /\\.pug$/,\n        use: 'pug-loader'\n      }\n    ]\n  },\n  ......\n}\n```\n\n## 撰寫 `index.pug`\n\n接著我們嘗試把 `index.html` 改檔名為 `index.pug`，並把內容換成以下 `Pug` 範例。\n\n```pug\ndoctype html\nhtml(lang=\"en\")\n  head\n    title= pageTitle\n    script(type='text/javascript').\n      if (foo) bar(1 + 5)\n  body\n    h1 Pug - node template engine\n    #container.col\n      if youAreUsingPug\n        p You are amazing\n      else\n        p Get on it!\n      p.\n        Pug is a terse and simple templating language with a\n        strong focus on performance and powerful features.\n```\n\n接著記得把 `webpack.config.js` plugin 中的 `HtmlWebpackPlugin` 設定換成現在新的 `Pug` 檔案。\n\n```js\nmodule.exports = {\n  ......\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: './src/index.pug'\n    }),\n    ......\n  ]\n}\n```\n\n執行 `npm run dev`，就可以看到 `Pug` 執行出來的畫面囉。\n\n![執行 npm run dev 後畫面](https://lh3.googleusercontent.com/ILdQlP6Ekw_RZLu3Hlh-vBHo3eAQ7sOgrkzx3T8TkIUfXKZjIlIefXg3RJ8y7wjKMOXWJibvVcW6YHlbrH_Ghh9Qk-zQUW-UGFt4YknvAAiCdENz8LR4TmFj6mvPUHl61brc84jARXc8gx0X24_qflJCFDnkhCM0Bkz1YuWzfB4CB3gVYPSve92ODhPklozp6-ZMvtaZTYg34GV50TG77K_aytRjhvaW-qwV3Dmkylxh5inXr85q9-KYhniQxUI9CjY_nSX6AQayCp6bBb0lUK79a5jhiT_J4Tzj-oV9vRzizdFqsasgtI9uZmdZTCViPlnpT_tXbfQpcYOtHx5ZDn--tQLJBIMNCcQHxJdsp0QKx8zmztaNMEbotx8QMXvT6EIiQFyYeBdk4EovN-PRvlGF-LzZyQflr_WrPYtYrSbUsTEF6VryD-pdKQ9nMQ-wPDBa0iAN50uSUZM_J9xc3Jj1ohJ7mzjPEozlxDBtD3v3e1mIobjXG_zAIYE58gs-0A2-44X06UZc7jL1A84-J2HsS7IOPGvJ7tvK2EVy8C2xpYs3x7SSYQpuNwMrM7-SbsxMQVDyulq3rhdc1XuuQVEZ_atkkHIKh2Zm_7i_CS30axkjZSxbEYckQY6O4oLHtSHOnd5XWRHgh38lO4xLVOtZzgurUcfL=w1024-h612-no \"dist/index.pug\")\n\n今天的範例 [Github](https://github.com/Annilla/webpack_practice/tree/v1.5.0) 在此，下次見～\n\n## 參考資料\n\n* [pug-loader](https://github.com/pugjs/pug-loader)\n* [Pug](https://github.com/pugjs/pug)","slug":"Webpack/Webpack-3-Tutorial-add-PUG-templates-to-write-html","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9sg005br3y7c5okgemz","content":"<p>此篇介紹如何加入並使用 <code>pug-loader</code>，並使用 <code>PUG</code> 語法測試撰寫 <code>html</code>。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"安裝-pug-loader\"><a href=\"#安裝-pug-loader\" class=\"headerlink\" title=\"安裝 pug-loader\"></a>安裝 <code>pug-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D pug pug-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.pug$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;pug-loader&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"撰寫-index-pug\"><a href=\"#撰寫-index-pug\" class=\"headerlink\" title=\"撰寫 index.pug\"></a>撰寫 <code>index.pug</code></h2><p>接著我們嘗試把 <code>index.html</code> 改檔名為 <code>index.pug</code>，並把內容換成以下 <code>Pug</code> 範例。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doctype html</span><br><span class=\"line\">html(lang=&quot;en&quot;)</span><br><span class=\"line\">  head</span><br><span class=\"line\">    title= pageTitle</span><br><span class=\"line\">    script(type=&#x27;text/javascript&#x27;).</span><br><span class=\"line\">      if (foo) bar(1 + 5)</span><br><span class=\"line\">  body</span><br><span class=\"line\">    h1 Pug - node template engine</span><br><span class=\"line\">    #container.col</span><br><span class=\"line\">      if youAreUsingPug</span><br><span class=\"line\">        p You are amazing</span><br><span class=\"line\">      else</span><br><span class=\"line\">        p Get on it!</span><br><span class=\"line\">      p.</span><br><span class=\"line\">        Pug is a terse and simple templating language with a</span><br><span class=\"line\">        strong focus on performance and powerful features.</span><br></pre></td></tr></table></figure>\n\n<p>接著記得把 <code>webpack.config.js</code> plugin 中的 <code>HtmlWebpackPlugin</code> 設定換成現在新的 <code>Pug</code> 檔案。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./src/index.pug&#x27;</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    ......</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>執行 <code>npm run dev</code>，就可以看到 <code>Pug</code> 執行出來的畫面囉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/ILdQlP6Ekw_RZLu3Hlh-vBHo3eAQ7sOgrkzx3T8TkIUfXKZjIlIefXg3RJ8y7wjKMOXWJibvVcW6YHlbrH_Ghh9Qk-zQUW-UGFt4YknvAAiCdENz8LR4TmFj6mvPUHl61brc84jARXc8gx0X24_qflJCFDnkhCM0Bkz1YuWzfB4CB3gVYPSve92ODhPklozp6-ZMvtaZTYg34GV50TG77K_aytRjhvaW-qwV3Dmkylxh5inXr85q9-KYhniQxUI9CjY_nSX6AQayCp6bBb0lUK79a5jhiT_J4Tzj-oV9vRzizdFqsasgtI9uZmdZTCViPlnpT_tXbfQpcYOtHx5ZDn--tQLJBIMNCcQHxJdsp0QKx8zmztaNMEbotx8QMXvT6EIiQFyYeBdk4EovN-PRvlGF-LzZyQflr_WrPYtYrSbUsTEF6VryD-pdKQ9nMQ-wPDBa0iAN50uSUZM_J9xc3Jj1ohJ7mzjPEozlxDBtD3v3e1mIobjXG_zAIYE58gs-0A2-44X06UZc7jL1A84-J2HsS7IOPGvJ7tvK2EVy8C2xpYs3x7SSYQpuNwMrM7-SbsxMQVDyulq3rhdc1XuuQVEZ_atkkHIKh2Zm_7i_CS30axkjZSxbEYckQY6O4oLHtSHOnd5XWRHgh38lO4xLVOtZzgurUcfL=w1024-h612-no\" alt=\"執行 npm run dev 後畫面\" title=\"dist/index.pug\"></p>\n<p>今天的範例 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.5.0\">Github</a> 在此，下次見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/pugjs/pug-loader\">pug-loader</a></li>\n<li><a href=\"https://github.com/pugjs/pug\">Pug</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://camo.githubusercontent.com/d18f4a7a64244f703efcb322bf298dcb4ca38856/68747470733a2f2f7765627061636b2e6a732e6f72672f6173736574732f69636f6e2d7371756172652d6269672e737667","excerpt":"<p>此篇介紹如何加入並使用 <code>pug-loader</code>，並使用 <code>PUG</code> 語法測試撰寫 <code>html</code>。</p>","more":"<h2 id=\"安裝-pug-loader\"><a href=\"#安裝-pug-loader\" class=\"headerlink\" title=\"安裝 pug-loader\"></a>安裝 <code>pug-loader</code></h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D pug pug-loader</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-webpack-config-js\"><a href=\"#設定-webpack-config-js\" class=\"headerlink\" title=\"設定 webpack.config.js\"></a>設定 <code>webpack.config.js</code></h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      ......</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.pug$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"string\">&#x27;pug-loader&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"撰寫-index-pug\"><a href=\"#撰寫-index-pug\" class=\"headerlink\" title=\"撰寫 index.pug\"></a>撰寫 <code>index.pug</code></h2><p>接著我們嘗試把 <code>index.html</code> 改檔名為 <code>index.pug</code>，並把內容換成以下 <code>Pug</code> 範例。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">doctype html</span><br><span class=\"line\">html(lang=&quot;en&quot;)</span><br><span class=\"line\">  head</span><br><span class=\"line\">    title= pageTitle</span><br><span class=\"line\">    script(type=&#x27;text/javascript&#x27;).</span><br><span class=\"line\">      if (foo) bar(1 + 5)</span><br><span class=\"line\">  body</span><br><span class=\"line\">    h1 Pug - node template engine</span><br><span class=\"line\">    #container.col</span><br><span class=\"line\">      if youAreUsingPug</span><br><span class=\"line\">        p You are amazing</span><br><span class=\"line\">      else</span><br><span class=\"line\">        p Get on it!</span><br><span class=\"line\">      p.</span><br><span class=\"line\">        Pug is a terse and simple templating language with a</span><br><span class=\"line\">        strong focus on performance and powerful features.</span><br></pre></td></tr></table></figure>\n\n<p>接著記得把 <code>webpack.config.js</code> plugin 中的 <code>HtmlWebpackPlugin</code> 設定換成現在新的 <code>Pug</code> 檔案。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  ......</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./src/index.pug&#x27;</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    ......</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>執行 <code>npm run dev</code>，就可以看到 <code>Pug</code> 執行出來的畫面囉。</p>\n<p><img src=\"https://lh3.googleusercontent.com/ILdQlP6Ekw_RZLu3Hlh-vBHo3eAQ7sOgrkzx3T8TkIUfXKZjIlIefXg3RJ8y7wjKMOXWJibvVcW6YHlbrH_Ghh9Qk-zQUW-UGFt4YknvAAiCdENz8LR4TmFj6mvPUHl61brc84jARXc8gx0X24_qflJCFDnkhCM0Bkz1YuWzfB4CB3gVYPSve92ODhPklozp6-ZMvtaZTYg34GV50TG77K_aytRjhvaW-qwV3Dmkylxh5inXr85q9-KYhniQxUI9CjY_nSX6AQayCp6bBb0lUK79a5jhiT_J4Tzj-oV9vRzizdFqsasgtI9uZmdZTCViPlnpT_tXbfQpcYOtHx5ZDn--tQLJBIMNCcQHxJdsp0QKx8zmztaNMEbotx8QMXvT6EIiQFyYeBdk4EovN-PRvlGF-LzZyQflr_WrPYtYrSbUsTEF6VryD-pdKQ9nMQ-wPDBa0iAN50uSUZM_J9xc3Jj1ohJ7mzjPEozlxDBtD3v3e1mIobjXG_zAIYE58gs-0A2-44X06UZc7jL1A84-J2HsS7IOPGvJ7tvK2EVy8C2xpYs3x7SSYQpuNwMrM7-SbsxMQVDyulq3rhdc1XuuQVEZ_atkkHIKh2Zm_7i_CS30axkjZSxbEYckQY6O4oLHtSHOnd5XWRHgh38lO4xLVOtZzgurUcfL=w1024-h612-no\" alt=\"執行 npm run dev 後畫面\" title=\"dist/index.pug\"></p>\n<p>今天的範例 <a href=\"https://github.com/Annilla/webpack_practice/tree/v1.5.0\">Github</a> 在此，下次見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/pugjs/pug-loader\">pug-loader</a></li>\n<li><a href=\"https://github.com/pugjs/pug\">Pug</a></li>\n</ul>"},{"title":"Vue 3 Studies - Methods and Computed","thumbnailImage":"https://vuejs.org/images/logo.png","thumbnailImagePosition":"left","coverImage":"https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png","coverMeta":"out","date":"2021-05-04T16:00:00.000Z","updated":"2021-05-04T16:00:00.000Z","_content":"\n今年四月信箱發現 Vue Mastery 又開放幾天全部課程免費的消息，所以趕快把之前沒看到的 Vue 3 Composition API 給補看起來！！\n\n<!--more-->\n\n# Methods\n\n假設我們已經有一個 capacity 是 Reative Reference。現在要加 Methods 讓他每按一次加1。\n\n```html\n<template>\n  <div>Capacity: {{ capacity }}</div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    return { capacity };\n  }\n};\n</script>\n```\n\n原本 Vue 2 的寫法是\n\n```js\nmethods: {\n  increase_capacity() {\n    this.capacity++;\n  }\n}\n```\n\n那在 Vue 3 只要把他想像成一般的 Function 再 return 出來即可。\n\n```html\n<template>\n  <div>\n    <p>Capacity: {{ capacity }}</p>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, increaseCapacity };\n  }\n};\n</script>\n```\n\n> 注意！capacity 是 Reactive Reference，是一個物件封裝他，所以對物件做增加的動作是不管用的。我們需要針對裡面的 `value` 增加才行。所以這邊是對 `capacity.value` 做增加的動作。\n\n![Methods example demo](https://lh3.googleusercontent.com/pw/ACtC-3eePBLmrt4IQp_TvDl8fYubwomjax1mEfvpNZpsUpQeSCzzTCXBkmf8olbQvtticR4nebg9JC8ABlYjKKg5iP9B7_YzI194PYdnkYe8g46tKdN9z180mMPO6rsQHcG6oSdGMygjAx40xwbWJxef1jvlRA=w480-h392-no?authuser=0)\n\n# Computed\n\n我們繼續用上面的例子加上一組人名陣列清單，並用 computed 計算剩下的容量有多少。\n\n```html\n<template>\n  <div>\n    <p>Capacity: {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, increaseCapacity };\n  }\n};\n</script>\n```\n\n如果是 Vue 2 的寫法是\n\n```js\ncomputed: {\n  spaceLeft() {\n    return this.capacity - this.attending.length;\n  }\n}\n```\n\n在 Vue 3 則是呼叫 computed 函數即可。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n![Computed example demo](https://lh3.googleusercontent.com/pw/ACtC-3fFxWw8z3ITa_PuT-Wum9tlxRQlau5cizLX3TpRRG6cw8ZQvxKS3kveaXRSz9q9qiSZfVwbH6lWDYQkoaflalWHj0qYXX2EluvLJ50gog-WF77pzVVQWX9Zat1UmT6HVLXv489U6fEqa0fHDU6crN3Q8A=w602-h716-no?authuser=0)\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","source":"_posts/Vue/Vue-3-Studies-Methods-and-Computed.md","raw":"---\ntitle: Vue 3 Studies - Methods and Computed\ncategories:\n  - Vue\nthumbnailImage: https://vuejs.org/images/logo.png\nthumbnailImagePosition: left\ncoverImage: https://cythilya.github.io/assets/vue/2017-05-21-vue-logo.png\ncoverMeta: out\ntags: [Vue]\ndate: 2021/05/05\nupdated: 2021/05/05\n---\n\n今年四月信箱發現 Vue Mastery 又開放幾天全部課程免費的消息，所以趕快把之前沒看到的 Vue 3 Composition API 給補看起來！！\n\n<!--more-->\n\n# Methods\n\n假設我們已經有一個 capacity 是 Reative Reference。現在要加 Methods 讓他每按一次加1。\n\n```html\n<template>\n  <div>Capacity: {{ capacity }}</div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    return { capacity };\n  }\n};\n</script>\n```\n\n原本 Vue 2 的寫法是\n\n```js\nmethods: {\n  increase_capacity() {\n    this.capacity++;\n  }\n}\n```\n\n那在 Vue 3 只要把他想像成一般的 Function 再 return 出來即可。\n\n```html\n<template>\n  <div>\n    <p>Capacity: {{ capacity }}</p>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, increaseCapacity };\n  }\n};\n</script>\n```\n\n> 注意！capacity 是 Reactive Reference，是一個物件封裝他，所以對物件做增加的動作是不管用的。我們需要針對裡面的 `value` 增加才行。所以這邊是對 `capacity.value` 做增加的動作。\n\n![Methods example demo](https://lh3.googleusercontent.com/pw/ACtC-3eePBLmrt4IQp_TvDl8fYubwomjax1mEfvpNZpsUpQeSCzzTCXBkmf8olbQvtticR4nebg9JC8ABlYjKKg5iP9B7_YzI194PYdnkYe8g46tKdN9z180mMPO6rsQHcG6oSdGMygjAx40xwbWJxef1jvlRA=w480-h392-no?authuser=0)\n\n# Computed\n\n我們繼續用上面的例子加上一組人名陣列清單，並用 computed 計算剩下的容量有多少。\n\n```html\n<template>\n  <div>\n    <p>Capacity: {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, increaseCapacity };\n  }\n};\n</script>\n```\n\n如果是 Vue 2 的寫法是\n\n```js\ncomputed: {\n  spaceLeft() {\n    return this.capacity - this.attending.length;\n  }\n}\n```\n\n在 Vue 3 則是呼叫 computed 函數即可。\n\n```html\n<template>\n  <div>\n    <p>Space Left: {{ spaceLeft }} out of {{ capacity }}</p>\n    <h2>Attending</h2>\n    <ul>\n      <li v-for=\"(name, index) in attending\" :key=\"index\">\n        {{ name }}\n      </li>\n    </ul>\n    <button @click=\"increaseCapacity()\">Increase Capacity</button>\n  </div>\n</template>\n<script>\nimport { ref, computed } from \"vue\";\nexport default {\n  setup() {\n    const capacity = ref(3);\n    const attending = ref([\"Tim\", \"Bob\", \"Joe\"])\n\n    const spaceLeft = computed(() => {\n      return capacity.value - attending.value.length;\n    });\n\n    function increaseCapacity() {\n      capacity.value++;\n    }\n\n    return { capacity, attending, spaceLeft, increaseCapacity };\n  }\n};\n</script>\n```\n\n![Computed example demo](https://lh3.googleusercontent.com/pw/ACtC-3fFxWw8z3ITa_PuT-Wum9tlxRQlau5cizLX3TpRRG6cw8ZQvxKS3kveaXRSz9q9qiSZfVwbH6lWDYQkoaflalWHj0qYXX2EluvLJ50gog-WF77pzVVQWX9Zat1UmT6HVLXv489U6fEqa0fHDU6crN3Q8A=w602-h716-no?authuser=0)\n\n# 參考資料\n\n* [Composition API RFC](https://composition-api.vuejs.org/)","slug":"Vue/Vue-3-Studies-Methods-and-Computed","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl0uov9si005fr3y7c0s71hsx","content":"<p>今年四月信箱發現 Vue Mastery 又開放幾天全部課程免費的消息，所以趕快把之前沒看到的 Vue 3 Composition API 給補看起來！！</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Methods\"><a href=\"#Methods\" class=\"headerlink\" title=\"Methods\"></a>Methods</h1><p>假設我們已經有一個 capacity 是 Reative Reference。現在要加 Methods 讓他每按一次加1。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>原本 Vue 2 的寫法是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">increase_capacity</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">capacity</span>++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>那在 Vue 3 只要把他想像成一般的 Function 再 return 出來即可。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意！capacity 是 Reactive Reference，是一個物件封裝他，所以對物件做增加的動作是不管用的。我們需要針對裡面的 <code>value</code> 增加才行。所以這邊是對 <code>capacity.value</code> 做增加的動作。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eePBLmrt4IQp_TvDl8fYubwomjax1mEfvpNZpsUpQeSCzzTCXBkmf8olbQvtticR4nebg9JC8ABlYjKKg5iP9B7_YzI194PYdnkYe8g46tKdN9z180mMPO6rsQHcG6oSdGMygjAx40xwbWJxef1jvlRA=w480-h392-no?authuser=0\" alt=\"Methods example demo\"></p>\n<h1 id=\"Computed\"><a href=\"#Computed\" class=\"headerlink\" title=\"Computed\"></a>Computed</h1><p>我們繼續用上面的例子加上一組人名陣列清單，並用 computed 計算剩下的容量有多少。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果是 Vue 2 的寫法是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">spaceLeft</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">capacity</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 Vue 3 則是呼叫 computed 函數即可。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fFxWw8z3ITa_PuT-Wum9tlxRQlau5cizLX3TpRRG6cw8ZQvxKS3kveaXRSz9q9qiSZfVwbH6lWDYQkoaflalWHj0qYXX2EluvLJ50gog-WF77pzVVQWX9Zat1UmT6HVLXv489U6fEqa0fHDU6crN3Q8A=w602-h716-no?authuser=0\" alt=\"Computed example demo\"></p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://vuejs.org/images/logo.png","excerpt":"<p>今年四月信箱發現 Vue Mastery 又開放幾天全部課程免費的消息，所以趕快把之前沒看到的 Vue 3 Composition API 給補看起來！！</p>","more":"<h1 id=\"Methods\"><a href=\"#Methods\" class=\"headerlink\" title=\"Methods\"></a>Methods</h1><p>假設我們已經有一個 capacity 是 Reative Reference。現在要加 Methods 讓他每按一次加1。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>原本 Vue 2 的寫法是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">increase_capacity</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">capacity</span>++;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>那在 Vue 3 只要把他想像成一般的 Function 再 return 出來即可。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意！capacity 是 Reactive Reference，是一個物件封裝他，所以對物件做增加的動作是不管用的。我們需要針對裡面的 <code>value</code> 增加才行。所以這邊是對 <code>capacity.value</code> 做增加的動作。</p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3eePBLmrt4IQp_TvDl8fYubwomjax1mEfvpNZpsUpQeSCzzTCXBkmf8olbQvtticR4nebg9JC8ABlYjKKg5iP9B7_YzI194PYdnkYe8g46tKdN9z180mMPO6rsQHcG6oSdGMygjAx40xwbWJxef1jvlRA=w480-h392-no?authuser=0\" alt=\"Methods example demo\"></p>\n<h1 id=\"Computed\"><a href=\"#Computed\" class=\"headerlink\" title=\"Computed\"></a>Computed</h1><p>我們繼續用上面的例子加上一組人名陣列清單，並用 computed 計算剩下的容量有多少。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Capacity: &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果是 Vue 2 的寫法是</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">spaceLeft</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">capacity</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">attending</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在 Vue 3 則是呼叫 computed 函數即可。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Space Left: &#123;&#123; spaceLeft &#125;&#125; out of &#123;&#123; capacity &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Attending<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(name, index) in attending&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;increaseCapacity()&quot;</span>&gt;</span>Increase Capacity<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">import</span> &#123; ref, computed &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;vue&quot;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">setup</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> capacity = <span class=\"title function_\">ref</span>(<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> attending = <span class=\"title function_\">ref</span>([<span class=\"string\">&quot;Tim&quot;</span>, <span class=\"string\">&quot;Bob&quot;</span>, <span class=\"string\">&quot;Joe&quot;</span>])</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> spaceLeft = <span class=\"title function_\">computed</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> capacity.<span class=\"property\">value</span> - attending.<span class=\"property\">value</span>.<span class=\"property\">length</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">increaseCapacity</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      capacity.<span class=\"property\">value</span>++;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">return</span> &#123; capacity, attending, spaceLeft, increaseCapacity &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://lh3.googleusercontent.com/pw/ACtC-3fFxWw8z3ITa_PuT-Wum9tlxRQlau5cizLX3TpRRG6cw8ZQvxKS3kveaXRSz9q9qiSZfVwbH6lWDYQkoaflalWHj0qYXX2EluvLJ50gog-WF77pzVVQWX9Zat1UmT6HVLXv489U6fEqa0fHDU6crN3Q8A=w602-h716-no?authuser=0\" alt=\"Computed example demo\"></p>\n<h1 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h1><ul>\n<li><a href=\"https://composition-api.vuejs.org/\">Composition API RFC</a></li>\n</ul>"},{"title":"Figma Useful Plugins for Refactoring","thumbnailImage":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","thumbnailImagePosition":"left","coverImage":"https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png","coverMeta":"out","date":"2022-04-14T16:00:00.000Z","updated":"2022-04-14T16:00:00.000Z","_content":"\n最近 Figma 功能換到團隊的訂閱制，終於可以使用 Library 的功能了！但之前還沒換過去之前，檔案內的 Components 都是在 Local 原檔案中，現在該是 Refactor 整理的時候了，把共用的 Components 改用 Library 的，並重新整理檔案。此篇紀錄其中碰到的問題並寫出使用了哪些 Plugin 來改善 Refactor 的效率。\n\n<!--more-->\n\n# 找出哪裡用了 Local Components\n\n之前文章有介紹過 Locator 這個 Plugin，但若有大量 Components ，每個點右鍵等他跑的時間會拉很長，很沒有效率。後來找到一個更好的套件叫 [Instance Finder](https://www.figma.com/community/plugin/741895659787979282/Instance-Finder)，他只要跑一次之後，就會把整個檔案的內容記住，所以只要開著視窗，選取要找的 component ，點擊 find 按鈕就可以很快地列出來，而且他有上一個下一個的按鈕，可以快速的瀏覽各 component 位置，非常方便。\n\n![Instance Finder](https://s3-alpha-sig.figma.com/plugins/741895659787979282/534/8ebee8c4-63f1-4b5b-9935-97ebb35df46c-cover?Expires=1650844800&Signature=LzzmLj0XhilqL7RPnqceLi75Hk4hJtfI7jH9sOSbPS1KPTIhqGt1RPArsOhFX45GrH5UcKd9sHXxAuuNga3Wc-H2~WTjaHB8jhCXxWuLEBTI6McuC4MJMFzUTR88KyWvrwkcwobmweNslTRMg5cbUfdytqzBCymD7I07bYMRpmpy-MRYSwOd4sWF7eHSvf9UOl5l9~30UIvauqH7p7sND4FOpPlNaTE2vdtlmvejSOmiTWUdSeRmqA-MBENtMbudomQz6wSXLqlFLlu1p02ylE0Ot4iATgIDs7v1VQ6T0~nAcT3t~NoZiHtQx8E5GhAY8icfAwdV6mOCs40Xvjxx0A__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# 替換成 Library 的 Components\n\n替換 Components 有兩種情境，一種是他本身就是 component 只要換成 Library 的，另一種是他還不是 component，只是普通的 Group 要怎麼做替換？以下分這兩種情境解釋替換方法。\n\n## Local Components 替換 Library Components\n\n因為本身已經是 Components，所以用上述的 Plugin - Instance Finder 找出後，點找出來的母項目即可全選相同的 instance ，並用 Figma 右側 Design 視窗替換 Library Components 即可。\n\n![Figma 右側 Design 視窗替換 Library Components](https://help.figma.com/hc/article_attachments/360091725133/Instance_swap_30fps.gif)\n\n## Group 替換 Library Components\n\n另一種比較棘手的情況是要替換的標的物不是 component，只是一般的 Group。這個時候 Figma 右側 Design 視窗也不會跳出來給你選，那該怎麼辦呢？我找到了另一個超好用的 Plugin - [Team Library Component Browser](https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser)，只要將此套件先去 Library 的檔案按 `Save or update this library data`，然後去你要執行的檔案把視窗叫出來，就可以選取要替換的 Library Component 直接按 Swap 做替換，其中裡面還有一些小設定可以調整，看是要保持原始大小之類的，就留給各位玩玩看囉～\n\n![Team Library Component Browser](https://s3-alpha-sig.figma.com/plugins/813970431341620710/26936/896b8404-d633-477e-b791-17d5e451c7d6-cover?Expires=1650844800&Signature=gItyd~3boSUPCQ0KwD0CQNu08vM2tiDrCZsFqlRrjVNLl7FMirV9lgCNVTcYiRSbMXeDenD~3cBpGT2dkBwe8W0OkHlBTOBLa2bHDFDRLV9Be9AERLzELw6ajVtok2~morNFEtJSSIli0VKuqhsSN-bAZZbP-Klp-FgDGD9aMXZ7IzWP6Cz7GV933pdawj~~lUnH-mlmfuwXRrhL6ZRtBebrOto~jWVLL1qB3SGKb2xBj8cUtRmowSZoPIvt00MbdfcQsYvV1cmfHxZdZh56ynrnQ0gS0lSi9m4p-1uokitV00TC6sNVbSYvj~KQ0as6aF~TGBXrCHZ~zAjd3rXT5w__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# 快速編排大量的 Artboards\n\n當專案長的越來越大後，大量的 Artboards 會變得不易維護，這時候就需要 Plugin 來快速一鍵編排了。Plugin - [Organize Layers](https://www.figma.com/community/plugin/786286754606650597/Organize-Layers) 使用上就非常便利。但使用前提是每個 Artboards 的名稱要依照層次的方式命名，ex: 類別/01/1-xxxx，第一層通常放分類，第二層依照頁面取流水號，第三層開頭放的是頁面第幾步驟，xxxx 放描述，如此命名有個好處是，當要做 prototype 的時候，list 會直接依照前面的命名方式排序，能快速選到要 navigate to 的頁面。名稱的命名好之後，開 Plugin 的視窗就能選擇要使用第幾階層來編排 Artboards，也可以設定 x, y 的間距，最後點選按鈕一鍵編排，之後只要新增的頁面也按照一樣的方式命名，按鈕一鍵就能幫你排的舒舒服服，好開心～\n\n![Organize Layers](https://s3-alpha-sig.figma.com/plugins/786286754606650597/5647/352fce3d-b02d-47f5-960d-68458702ee42-cover?Expires=1650844800&Signature=OiDG34Lcmk4sNLqZ71LN0CmeUgbUBD6OCzGp1ZglRvtSqJu5V1zcPZV9OiDsnbEwqLI2633wvk8BoncCSUjdVnjiteqpRX4JWHlWTg0cLEpL3dZCDdMWZhudNCgcd69uA9roElA4LStn9gkLJgDdSgHGj0BMh8flp27qGOMd--jEOub4GFJfQIElGFsoNggSbwQodErSONS~7kYox1cWIEvZ-z9rTKHYIQhCbHJYGxoDzP1Ir7e4piMMAKJjGyLQFm5lmD7jooq66KVoGvXveu6poX5C96drB-LSLU1s7dFiLk1ey-Wi1EgK2qfyWQCkrNQP~SrZy7u0OS06CnkpRA__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# Reference\n\n* [Figma Plugin - Instance Finder](https://www.figma.com/community/plugin/741895659787979282/Instance-Finder)\n* [Figma Plugin - Team Library Component Browser](https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser)\n* [Figma Plugin - Organize Layers](https://www.figma.com/community/plugin/786286754606650597/Organize-Layers)","source":"_posts/UXUI/Figma-Useful-Plugins-for-Refactoring.md","raw":"---\ntitle: Figma Useful Plugins for Refactoring\ncategories:\n  - UXUI\n  - Figma\nthumbnailImage: https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi\nthumbnailImagePosition: left\ncoverImage: https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png\ncoverMeta: out\ntags: [Figma, UX, UI]\ndate: 2022/04/15\nupdated: 2022/04/15\n---\n\n最近 Figma 功能換到團隊的訂閱制，終於可以使用 Library 的功能了！但之前還沒換過去之前，檔案內的 Components 都是在 Local 原檔案中，現在該是 Refactor 整理的時候了，把共用的 Components 改用 Library 的，並重新整理檔案。此篇紀錄其中碰到的問題並寫出使用了哪些 Plugin 來改善 Refactor 的效率。\n\n<!--more-->\n\n# 找出哪裡用了 Local Components\n\n之前文章有介紹過 Locator 這個 Plugin，但若有大量 Components ，每個點右鍵等他跑的時間會拉很長，很沒有效率。後來找到一個更好的套件叫 [Instance Finder](https://www.figma.com/community/plugin/741895659787979282/Instance-Finder)，他只要跑一次之後，就會把整個檔案的內容記住，所以只要開著視窗，選取要找的 component ，點擊 find 按鈕就可以很快地列出來，而且他有上一個下一個的按鈕，可以快速的瀏覽各 component 位置，非常方便。\n\n![Instance Finder](https://s3-alpha-sig.figma.com/plugins/741895659787979282/534/8ebee8c4-63f1-4b5b-9935-97ebb35df46c-cover?Expires=1650844800&Signature=LzzmLj0XhilqL7RPnqceLi75Hk4hJtfI7jH9sOSbPS1KPTIhqGt1RPArsOhFX45GrH5UcKd9sHXxAuuNga3Wc-H2~WTjaHB8jhCXxWuLEBTI6McuC4MJMFzUTR88KyWvrwkcwobmweNslTRMg5cbUfdytqzBCymD7I07bYMRpmpy-MRYSwOd4sWF7eHSvf9UOl5l9~30UIvauqH7p7sND4FOpPlNaTE2vdtlmvejSOmiTWUdSeRmqA-MBENtMbudomQz6wSXLqlFLlu1p02ylE0Ot4iATgIDs7v1VQ6T0~nAcT3t~NoZiHtQx8E5GhAY8icfAwdV6mOCs40Xvjxx0A__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# 替換成 Library 的 Components\n\n替換 Components 有兩種情境，一種是他本身就是 component 只要換成 Library 的，另一種是他還不是 component，只是普通的 Group 要怎麼做替換？以下分這兩種情境解釋替換方法。\n\n## Local Components 替換 Library Components\n\n因為本身已經是 Components，所以用上述的 Plugin - Instance Finder 找出後，點找出來的母項目即可全選相同的 instance ，並用 Figma 右側 Design 視窗替換 Library Components 即可。\n\n![Figma 右側 Design 視窗替換 Library Components](https://help.figma.com/hc/article_attachments/360091725133/Instance_swap_30fps.gif)\n\n## Group 替換 Library Components\n\n另一種比較棘手的情況是要替換的標的物不是 component，只是一般的 Group。這個時候 Figma 右側 Design 視窗也不會跳出來給你選，那該怎麼辦呢？我找到了另一個超好用的 Plugin - [Team Library Component Browser](https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser)，只要將此套件先去 Library 的檔案按 `Save or update this library data`，然後去你要執行的檔案把視窗叫出來，就可以選取要替換的 Library Component 直接按 Swap 做替換，其中裡面還有一些小設定可以調整，看是要保持原始大小之類的，就留給各位玩玩看囉～\n\n![Team Library Component Browser](https://s3-alpha-sig.figma.com/plugins/813970431341620710/26936/896b8404-d633-477e-b791-17d5e451c7d6-cover?Expires=1650844800&Signature=gItyd~3boSUPCQ0KwD0CQNu08vM2tiDrCZsFqlRrjVNLl7FMirV9lgCNVTcYiRSbMXeDenD~3cBpGT2dkBwe8W0OkHlBTOBLa2bHDFDRLV9Be9AERLzELw6ajVtok2~morNFEtJSSIli0VKuqhsSN-bAZZbP-Klp-FgDGD9aMXZ7IzWP6Cz7GV933pdawj~~lUnH-mlmfuwXRrhL6ZRtBebrOto~jWVLL1qB3SGKb2xBj8cUtRmowSZoPIvt00MbdfcQsYvV1cmfHxZdZh56ynrnQ0gS0lSi9m4p-1uokitV00TC6sNVbSYvj~KQ0as6aF~TGBXrCHZ~zAjd3rXT5w__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# 快速編排大量的 Artboards\n\n當專案長的越來越大後，大量的 Artboards 會變得不易維護，這時候就需要 Plugin 來快速一鍵編排了。Plugin - [Organize Layers](https://www.figma.com/community/plugin/786286754606650597/Organize-Layers) 使用上就非常便利。但使用前提是每個 Artboards 的名稱要依照層次的方式命名，ex: 類別/01/1-xxxx，第一層通常放分類，第二層依照頁面取流水號，第三層開頭放的是頁面第幾步驟，xxxx 放描述，如此命名有個好處是，當要做 prototype 的時候，list 會直接依照前面的命名方式排序，能快速選到要 navigate to 的頁面。名稱的命名好之後，開 Plugin 的視窗就能選擇要使用第幾階層來編排 Artboards，也可以設定 x, y 的間距，最後點選按鈕一鍵編排，之後只要新增的頁面也按照一樣的方式命名，按鈕一鍵就能幫你排的舒舒服服，好開心～\n\n![Organize Layers](https://s3-alpha-sig.figma.com/plugins/786286754606650597/5647/352fce3d-b02d-47f5-960d-68458702ee42-cover?Expires=1650844800&Signature=OiDG34Lcmk4sNLqZ71LN0CmeUgbUBD6OCzGp1ZglRvtSqJu5V1zcPZV9OiDsnbEwqLI2633wvk8BoncCSUjdVnjiteqpRX4JWHlWTg0cLEpL3dZCDdMWZhudNCgcd69uA9roElA4LStn9gkLJgDdSgHGj0BMh8flp27qGOMd--jEOub4GFJfQIElGFsoNggSbwQodErSONS~7kYox1cWIEvZ-z9rTKHYIQhCbHJYGxoDzP1Ir7e4piMMAKJjGyLQFm5lmD7jooq66KVoGvXveu6poX5C96drB-LSLU1s7dFiLk1ey-Wi1EgK2qfyWQCkrNQP~SrZy7u0OS06CnkpRA__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA)\n\n# Reference\n\n* [Figma Plugin - Instance Finder](https://www.figma.com/community/plugin/741895659787979282/Instance-Finder)\n* [Figma Plugin - Team Library Component Browser](https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser)\n* [Figma Plugin - Organize Layers](https://www.figma.com/community/plugin/786286754606650597/Organize-Layers)","slug":"UXUI/Figma-Useful-Plugins-for-Refactoring","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl206zv5l0000smy7f10e2s00","content":"<p>最近 Figma 功能換到團隊的訂閱制，終於可以使用 Library 的功能了！但之前還沒換過去之前，檔案內的 Components 都是在 Local 原檔案中，現在該是 Refactor 整理的時候了，把共用的 Components 改用 Library 的，並重新整理檔案。此篇紀錄其中碰到的問題並寫出使用了哪些 Plugin 來改善 Refactor 的效率。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"找出哪裡用了-Local-Components\"><a href=\"#找出哪裡用了-Local-Components\" class=\"headerlink\" title=\"找出哪裡用了 Local Components\"></a>找出哪裡用了 Local Components</h1><p>之前文章有介紹過 Locator 這個 Plugin，但若有大量 Components ，每個點右鍵等他跑的時間會拉很長，很沒有效率。後來找到一個更好的套件叫 <a href=\"https://www.figma.com/community/plugin/741895659787979282/Instance-Finder\">Instance Finder</a>，他只要跑一次之後，就會把整個檔案的內容記住，所以只要開著視窗，選取要找的 component ，點擊 find 按鈕就可以很快地列出來，而且他有上一個下一個的按鈕，可以快速的瀏覽各 component 位置，非常方便。</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/741895659787979282/534/8ebee8c4-63f1-4b5b-9935-97ebb35df46c-cover?Expires=1650844800&Signature=LzzmLj0XhilqL7RPnqceLi75Hk4hJtfI7jH9sOSbPS1KPTIhqGt1RPArsOhFX45GrH5UcKd9sHXxAuuNga3Wc-H2~WTjaHB8jhCXxWuLEBTI6McuC4MJMFzUTR88KyWvrwkcwobmweNslTRMg5cbUfdytqzBCymD7I07bYMRpmpy-MRYSwOd4sWF7eHSvf9UOl5l9~30UIvauqH7p7sND4FOpPlNaTE2vdtlmvejSOmiTWUdSeRmqA-MBENtMbudomQz6wSXLqlFLlu1p02ylE0Ot4iATgIDs7v1VQ6T0~nAcT3t~NoZiHtQx8E5GhAY8icfAwdV6mOCs40Xvjxx0A__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Instance Finder\"></p>\n<h1 id=\"替換成-Library-的-Components\"><a href=\"#替換成-Library-的-Components\" class=\"headerlink\" title=\"替換成 Library 的 Components\"></a>替換成 Library 的 Components</h1><p>替換 Components 有兩種情境，一種是他本身就是 component 只要換成 Library 的，另一種是他還不是 component，只是普通的 Group 要怎麼做替換？以下分這兩種情境解釋替換方法。</p>\n<h2 id=\"Local-Components-替換-Library-Components\"><a href=\"#Local-Components-替換-Library-Components\" class=\"headerlink\" title=\"Local Components 替換 Library Components\"></a>Local Components 替換 Library Components</h2><p>因為本身已經是 Components，所以用上述的 Plugin - Instance Finder 找出後，點找出來的母項目即可全選相同的 instance ，並用 Figma 右側 Design 視窗替換 Library Components 即可。</p>\n<p><img src=\"https://help.figma.com/hc/article_attachments/360091725133/Instance_swap_30fps.gif\" alt=\"Figma 右側 Design 視窗替換 Library Components\"></p>\n<h2 id=\"Group-替換-Library-Components\"><a href=\"#Group-替換-Library-Components\" class=\"headerlink\" title=\"Group 替換 Library Components\"></a>Group 替換 Library Components</h2><p>另一種比較棘手的情況是要替換的標的物不是 component，只是一般的 Group。這個時候 Figma 右側 Design 視窗也不會跳出來給你選，那該怎麼辦呢？我找到了另一個超好用的 Plugin - <a href=\"https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser\">Team Library Component Browser</a>，只要將此套件先去 Library 的檔案按 <code>Save or update this library data</code>，然後去你要執行的檔案把視窗叫出來，就可以選取要替換的 Library Component 直接按 Swap 做替換，其中裡面還有一些小設定可以調整，看是要保持原始大小之類的，就留給各位玩玩看囉～</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/813970431341620710/26936/896b8404-d633-477e-b791-17d5e451c7d6-cover?Expires=1650844800&Signature=gItyd~3boSUPCQ0KwD0CQNu08vM2tiDrCZsFqlRrjVNLl7FMirV9lgCNVTcYiRSbMXeDenD~3cBpGT2dkBwe8W0OkHlBTOBLa2bHDFDRLV9Be9AERLzELw6ajVtok2~morNFEtJSSIli0VKuqhsSN-bAZZbP-Klp-FgDGD9aMXZ7IzWP6Cz7GV933pdawj~~lUnH-mlmfuwXRrhL6ZRtBebrOto~jWVLL1qB3SGKb2xBj8cUtRmowSZoPIvt00MbdfcQsYvV1cmfHxZdZh56ynrnQ0gS0lSi9m4p-1uokitV00TC6sNVbSYvj~KQ0as6aF~TGBXrCHZ~zAjd3rXT5w__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Team Library Component Browser\"></p>\n<h1 id=\"快速編排大量的-Artboards\"><a href=\"#快速編排大量的-Artboards\" class=\"headerlink\" title=\"快速編排大量的 Artboards\"></a>快速編排大量的 Artboards</h1><p>當專案長的越來越大後，大量的 Artboards 會變得不易維護，這時候就需要 Plugin 來快速一鍵編排了。Plugin - <a href=\"https://www.figma.com/community/plugin/786286754606650597/Organize-Layers\">Organize Layers</a> 使用上就非常便利。但使用前提是每個 Artboards 的名稱要依照層次的方式命名，ex: 類別&#x2F;01&#x2F;1-xxxx，第一層通常放分類，第二層依照頁面取流水號，第三層開頭放的是頁面第幾步驟，xxxx 放描述，如此命名有個好處是，當要做 prototype 的時候，list 會直接依照前面的命名方式排序，能快速選到要 navigate to 的頁面。名稱的命名好之後，開 Plugin 的視窗就能選擇要使用第幾階層來編排 Artboards，也可以設定 x, y 的間距，最後點選按鈕一鍵編排，之後只要新增的頁面也按照一樣的方式命名，按鈕一鍵就能幫你排的舒舒服服，好開心～</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/786286754606650597/5647/352fce3d-b02d-47f5-960d-68458702ee42-cover?Expires=1650844800&Signature=OiDG34Lcmk4sNLqZ71LN0CmeUgbUBD6OCzGp1ZglRvtSqJu5V1zcPZV9OiDsnbEwqLI2633wvk8BoncCSUjdVnjiteqpRX4JWHlWTg0cLEpL3dZCDdMWZhudNCgcd69uA9roElA4LStn9gkLJgDdSgHGj0BMh8flp27qGOMd--jEOub4GFJfQIElGFsoNggSbwQodErSONS~7kYox1cWIEvZ-z9rTKHYIQhCbHJYGxoDzP1Ir7e4piMMAKJjGyLQFm5lmD7jooq66KVoGvXveu6poX5C96drB-LSLU1s7dFiLk1ey-Wi1EgK2qfyWQCkrNQP~SrZy7u0OS06CnkpRA__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Organize Layers\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.figma.com/community/plugin/741895659787979282/Instance-Finder\">Figma Plugin - Instance Finder</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser\">Figma Plugin - Team Library Component Browser</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/786286754606650597/Organize-Layers\">Figma Plugin - Organize Layers</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","excerpt":"<p>最近 Figma 功能換到團隊的訂閱制，終於可以使用 Library 的功能了！但之前還沒換過去之前，檔案內的 Components 都是在 Local 原檔案中，現在該是 Refactor 整理的時候了，把共用的 Components 改用 Library 的，並重新整理檔案。此篇紀錄其中碰到的問題並寫出使用了哪些 Plugin 來改善 Refactor 的效率。</p>","more":"<h1 id=\"找出哪裡用了-Local-Components\"><a href=\"#找出哪裡用了-Local-Components\" class=\"headerlink\" title=\"找出哪裡用了 Local Components\"></a>找出哪裡用了 Local Components</h1><p>之前文章有介紹過 Locator 這個 Plugin，但若有大量 Components ，每個點右鍵等他跑的時間會拉很長，很沒有效率。後來找到一個更好的套件叫 <a href=\"https://www.figma.com/community/plugin/741895659787979282/Instance-Finder\">Instance Finder</a>，他只要跑一次之後，就會把整個檔案的內容記住，所以只要開著視窗，選取要找的 component ，點擊 find 按鈕就可以很快地列出來，而且他有上一個下一個的按鈕，可以快速的瀏覽各 component 位置，非常方便。</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/741895659787979282/534/8ebee8c4-63f1-4b5b-9935-97ebb35df46c-cover?Expires=1650844800&Signature=LzzmLj0XhilqL7RPnqceLi75Hk4hJtfI7jH9sOSbPS1KPTIhqGt1RPArsOhFX45GrH5UcKd9sHXxAuuNga3Wc-H2~WTjaHB8jhCXxWuLEBTI6McuC4MJMFzUTR88KyWvrwkcwobmweNslTRMg5cbUfdytqzBCymD7I07bYMRpmpy-MRYSwOd4sWF7eHSvf9UOl5l9~30UIvauqH7p7sND4FOpPlNaTE2vdtlmvejSOmiTWUdSeRmqA-MBENtMbudomQz6wSXLqlFLlu1p02ylE0Ot4iATgIDs7v1VQ6T0~nAcT3t~NoZiHtQx8E5GhAY8icfAwdV6mOCs40Xvjxx0A__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Instance Finder\"></p>\n<h1 id=\"替換成-Library-的-Components\"><a href=\"#替換成-Library-的-Components\" class=\"headerlink\" title=\"替換成 Library 的 Components\"></a>替換成 Library 的 Components</h1><p>替換 Components 有兩種情境，一種是他本身就是 component 只要換成 Library 的，另一種是他還不是 component，只是普通的 Group 要怎麼做替換？以下分這兩種情境解釋替換方法。</p>\n<h2 id=\"Local-Components-替換-Library-Components\"><a href=\"#Local-Components-替換-Library-Components\" class=\"headerlink\" title=\"Local Components 替換 Library Components\"></a>Local Components 替換 Library Components</h2><p>因為本身已經是 Components，所以用上述的 Plugin - Instance Finder 找出後，點找出來的母項目即可全選相同的 instance ，並用 Figma 右側 Design 視窗替換 Library Components 即可。</p>\n<p><img src=\"https://help.figma.com/hc/article_attachments/360091725133/Instance_swap_30fps.gif\" alt=\"Figma 右側 Design 視窗替換 Library Components\"></p>\n<h2 id=\"Group-替換-Library-Components\"><a href=\"#Group-替換-Library-Components\" class=\"headerlink\" title=\"Group 替換 Library Components\"></a>Group 替換 Library Components</h2><p>另一種比較棘手的情況是要替換的標的物不是 component，只是一般的 Group。這個時候 Figma 右側 Design 視窗也不會跳出來給你選，那該怎麼辦呢？我找到了另一個超好用的 Plugin - <a href=\"https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser\">Team Library Component Browser</a>，只要將此套件先去 Library 的檔案按 <code>Save or update this library data</code>，然後去你要執行的檔案把視窗叫出來，就可以選取要替換的 Library Component 直接按 Swap 做替換，其中裡面還有一些小設定可以調整，看是要保持原始大小之類的，就留給各位玩玩看囉～</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/813970431341620710/26936/896b8404-d633-477e-b791-17d5e451c7d6-cover?Expires=1650844800&Signature=gItyd~3boSUPCQ0KwD0CQNu08vM2tiDrCZsFqlRrjVNLl7FMirV9lgCNVTcYiRSbMXeDenD~3cBpGT2dkBwe8W0OkHlBTOBLa2bHDFDRLV9Be9AERLzELw6ajVtok2~morNFEtJSSIli0VKuqhsSN-bAZZbP-Klp-FgDGD9aMXZ7IzWP6Cz7GV933pdawj~~lUnH-mlmfuwXRrhL6ZRtBebrOto~jWVLL1qB3SGKb2xBj8cUtRmowSZoPIvt00MbdfcQsYvV1cmfHxZdZh56ynrnQ0gS0lSi9m4p-1uokitV00TC6sNVbSYvj~KQ0as6aF~TGBXrCHZ~zAjd3rXT5w__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Team Library Component Browser\"></p>\n<h1 id=\"快速編排大量的-Artboards\"><a href=\"#快速編排大量的-Artboards\" class=\"headerlink\" title=\"快速編排大量的 Artboards\"></a>快速編排大量的 Artboards</h1><p>當專案長的越來越大後，大量的 Artboards 會變得不易維護，這時候就需要 Plugin 來快速一鍵編排了。Plugin - <a href=\"https://www.figma.com/community/plugin/786286754606650597/Organize-Layers\">Organize Layers</a> 使用上就非常便利。但使用前提是每個 Artboards 的名稱要依照層次的方式命名，ex: 類別&#x2F;01&#x2F;1-xxxx，第一層通常放分類，第二層依照頁面取流水號，第三層開頭放的是頁面第幾步驟，xxxx 放描述，如此命名有個好處是，當要做 prototype 的時候，list 會直接依照前面的命名方式排序，能快速選到要 navigate to 的頁面。名稱的命名好之後，開 Plugin 的視窗就能選擇要使用第幾階層來編排 Artboards，也可以設定 x, y 的間距，最後點選按鈕一鍵編排，之後只要新增的頁面也按照一樣的方式命名，按鈕一鍵就能幫你排的舒舒服服，好開心～</p>\n<p><img src=\"https://s3-alpha-sig.figma.com/plugins/786286754606650597/5647/352fce3d-b02d-47f5-960d-68458702ee42-cover?Expires=1650844800&Signature=OiDG34Lcmk4sNLqZ71LN0CmeUgbUBD6OCzGp1ZglRvtSqJu5V1zcPZV9OiDsnbEwqLI2633wvk8BoncCSUjdVnjiteqpRX4JWHlWTg0cLEpL3dZCDdMWZhudNCgcd69uA9roElA4LStn9gkLJgDdSgHGj0BMh8flp27qGOMd--jEOub4GFJfQIElGFsoNggSbwQodErSONS~7kYox1cWIEvZ-z9rTKHYIQhCbHJYGxoDzP1Ir7e4piMMAKJjGyLQFm5lmD7jooq66KVoGvXveu6poX5C96drB-LSLU1s7dFiLk1ey-Wi1EgK2qfyWQCkrNQP~SrZy7u0OS06CnkpRA__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\" alt=\"Organize Layers\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.figma.com/community/plugin/741895659787979282/Instance-Finder\">Figma Plugin - Instance Finder</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/813970431341620710/Team-Library-Component-Browser\">Figma Plugin - Team Library Component Browser</a></li>\n<li><a href=\"https://www.figma.com/community/plugin/786286754606650597/Organize-Layers\">Figma Plugin - Organize Layers</a></li>\n</ul>"},{"title":"VScode Extension - Azure Static Web Apps","thumbnailImage":"https://code.visualstudio.com/assets/favicon.ico","thumbnailImagePosition":"left","coverImage":"https://nickjanetakis.com/assets/blog/cards/my-favorite-vscode-extensions-0a601796807e75dea485f00ded76da1ab2279c3d85364335b715c1918691650f.jpg","coverMeta":"out","date":"2022-05-17T16:00:00.000Z","updated":"2022-05-17T16:00:00.000Z","_content":"\n最近因緣際會下本來想做個讀取 Google Sheet API 的 web app 放在 github page，但發現 github 有擋住部分功能，所以想說看能不能改放在 Azure 雲端上，搜尋之後發現這個神奇的 plugin，Azure Static Web Apps 可以在 vscode 做一些簡單的設定，就能把 github 上的前端 web app 自動透過 github Action，CICD 到 Azure Cloud 上，底層還是會在 Azure 建立一個 Azure Function。話不多說，直接來說明怎麼設定吧～\n\n<!--more-->\n\n# 準備好要發布的 github repo\n\n這裡我先準備好要測試發布的 [Vue 3](https://github.com/Annilla/Azure-Static-Web-Apps-Test) 專案(用 Vue-cli 5 Create 出來的)。\n\n# VScode 安裝 Extension\n\n在 Extension Tab 安裝 [Azure Static Web Apps](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps)。\n\n安裝完後可點擊 Azure Icon Tab，會看到裡面有 Azure Static Web Apps 的 panel。第一次使用請先登入個人的 Azure 帳號。\n\n![Azure Static Web Apps 的 panel](https://lh3.googleusercontent.com/pw/AM-JKLWAvS3dAHOv4-hgnTEqDQLTq4AynruunlJHD0h3HYOGEbXesj5BMZRwWsQS2_Z8PzRlqgx5TF0kiZVmNcepm1qXetaXbDgEslUcUOehK5MHlP71fksNl-M6HMw21cfKVtC8a-uyZ2vGmip7H72QXbqq0w=w2308-h1442-no?authuser=0)\n\n# 新增 site\n\n點擊 + Icon 新增 Azure Static Web App。\n\n![新增 Azure Static Web App](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-create-button.png)\n\n選取 Azure 訂閱戶。\n\n![選取 Azure 訂閱戶](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-subscription.png)\n\n輸入 static web app 名稱。\n\n![輸入 static web app 名稱](https://lh3.googleusercontent.com/pw/AM-JKLXGDXQzcNvm0clQeIoOjM8pL8f8XkFYDvWnwGAZ9pmi6n4WT-2YHQcVTXvRmxHSN1HdmNY5YLk2RTFy9KuJBWqqBcx8MWK6GPQBT5lcOFu_VM-6k4_eFGVOu2cPnMg6yydzOKJHQW9UolFDP1d2I2Qyig=w1602-h302-no?authuser=0)\n\n選取伺服器位置，我這邊選 East Asia。\n\n![選取伺服器位置](https://lh3.googleusercontent.com/pw/AM-JKLWvk7wCs80cN0SBZuEo3ZaPzlI311LrYfE_k0oncgNhjOxPQ34afmn8WW7UEGiqTqOgiNKt0AWXxUakQIfw8iO0tkmUiMKkWizkKTiajTtu2WBT8sIT4C1bGio8FbfsAWZ6D8CJXLKWUVd4ScATscmdLw=w1600-h508-no?authuser=0)\n\n選取專案的架構，這邊選 Vue.js。\n\n![選取專案的架構](https://lh3.googleusercontent.com/pw/AM-JKLVg6Bvh64gcn1FRllsYl3pJn3RTMFCoRObItMPeWf9KFABDYZy7vlRAHLK04ktmx7tLbHSKbL01DLansHVhYeiT6ezNeGCjDCIiEhVyAb6jE11uWNZZB6rqhVb88cVjZDw0s6PxFfEnzd7F6OgcbGY06A=w1596-h820-no?authuser=0)\n\n設定專案路徑，這邊是建在 /my-app 資料夾底下。\n\n![設定專案路徑](https://lh3.googleusercontent.com/pw/AM-JKLXZfigJbpbdF-Cn7BrQ4O9rQPDXhBhASC87jncaqLR15PygdF8Ct-vxSz1nr4h92j2PVimJuiPqLzofwcDtXkBMgyLI-333vt2UbLyjW4FYiH71AzWTm3mnWeaux7bb-FoxKQ-JgsDVRxmQThVSOiQZPg=w1610-h356-no?authuser=0)\n\n設定輸出資料夾，這邊預設就是 dist ，所以不用更改。\n\n![設定輸出資料夾](https://lh3.googleusercontent.com/pw/AM-JKLU-UivhBdjy6CdasFx9XKFWPQg5N8u8buRAxhkhDSbNsZBScNjnnEhInz2Q3-ELIOjH88taxcSASqVLi8uwE1lK94WIWQ86oQqgW0tSUIS3lr5k2q0q_b1bsTxjvQMpIEv2I_B5hlhhx7vUqCuBtowwjQ=w1602-h410-no?authuser=0)\n\n設定完成後，他會自動 commit yml 檔案到 github，之後只要有更新 git，就會觸發 [github Action](https://github.com/Annilla/Azure-Static-Web-Apps-Test/actions) CICD，並發布至 Azure Site。\n\n接著只要對專案按右鍵選擇 Browse Site 就可以打開網站連結看到網站。\n\n![Browse Site](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-browse-site.png)\n\n好了，設定就是那麼簡單! 因為很少碰 CICD 的東西，這個套件簡化了很多繁瑣的步驟，可以讓我快速將靜態網站放上雲端，實在是非常方便～\n\n# Reference\n\n* [Quickstart: Building your first static site with Azure Static Web Apps](https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript)","source":"_posts/VScode/VScode-Extension-Azure-Static-Web-Apps.md","raw":"---\ntitle: VScode Extension - Azure Static Web Apps\ncategories:\n  - VScode\nthumbnailImage: https://code.visualstudio.com/assets/favicon.ico\nthumbnailImagePosition: left\ncoverImage: https://nickjanetakis.com/assets/blog/cards/my-favorite-vscode-extensions-0a601796807e75dea485f00ded76da1ab2279c3d85364335b715c1918691650f.jpg\ncoverMeta: out\ntags: [Git, VScode, Azure]\ndate: 2022/05/18\nupdated: 2022/05/18\n---\n\n最近因緣際會下本來想做個讀取 Google Sheet API 的 web app 放在 github page，但發現 github 有擋住部分功能，所以想說看能不能改放在 Azure 雲端上，搜尋之後發現這個神奇的 plugin，Azure Static Web Apps 可以在 vscode 做一些簡單的設定，就能把 github 上的前端 web app 自動透過 github Action，CICD 到 Azure Cloud 上，底層還是會在 Azure 建立一個 Azure Function。話不多說，直接來說明怎麼設定吧～\n\n<!--more-->\n\n# 準備好要發布的 github repo\n\n這裡我先準備好要測試發布的 [Vue 3](https://github.com/Annilla/Azure-Static-Web-Apps-Test) 專案(用 Vue-cli 5 Create 出來的)。\n\n# VScode 安裝 Extension\n\n在 Extension Tab 安裝 [Azure Static Web Apps](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps)。\n\n安裝完後可點擊 Azure Icon Tab，會看到裡面有 Azure Static Web Apps 的 panel。第一次使用請先登入個人的 Azure 帳號。\n\n![Azure Static Web Apps 的 panel](https://lh3.googleusercontent.com/pw/AM-JKLWAvS3dAHOv4-hgnTEqDQLTq4AynruunlJHD0h3HYOGEbXesj5BMZRwWsQS2_Z8PzRlqgx5TF0kiZVmNcepm1qXetaXbDgEslUcUOehK5MHlP71fksNl-M6HMw21cfKVtC8a-uyZ2vGmip7H72QXbqq0w=w2308-h1442-no?authuser=0)\n\n# 新增 site\n\n點擊 + Icon 新增 Azure Static Web App。\n\n![新增 Azure Static Web App](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-create-button.png)\n\n選取 Azure 訂閱戶。\n\n![選取 Azure 訂閱戶](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-subscription.png)\n\n輸入 static web app 名稱。\n\n![輸入 static web app 名稱](https://lh3.googleusercontent.com/pw/AM-JKLXGDXQzcNvm0clQeIoOjM8pL8f8XkFYDvWnwGAZ9pmi6n4WT-2YHQcVTXvRmxHSN1HdmNY5YLk2RTFy9KuJBWqqBcx8MWK6GPQBT5lcOFu_VM-6k4_eFGVOu2cPnMg6yydzOKJHQW9UolFDP1d2I2Qyig=w1602-h302-no?authuser=0)\n\n選取伺服器位置，我這邊選 East Asia。\n\n![選取伺服器位置](https://lh3.googleusercontent.com/pw/AM-JKLWvk7wCs80cN0SBZuEo3ZaPzlI311LrYfE_k0oncgNhjOxPQ34afmn8WW7UEGiqTqOgiNKt0AWXxUakQIfw8iO0tkmUiMKkWizkKTiajTtu2WBT8sIT4C1bGio8FbfsAWZ6D8CJXLKWUVd4ScATscmdLw=w1600-h508-no?authuser=0)\n\n選取專案的架構，這邊選 Vue.js。\n\n![選取專案的架構](https://lh3.googleusercontent.com/pw/AM-JKLVg6Bvh64gcn1FRllsYl3pJn3RTMFCoRObItMPeWf9KFABDYZy7vlRAHLK04ktmx7tLbHSKbL01DLansHVhYeiT6ezNeGCjDCIiEhVyAb6jE11uWNZZB6rqhVb88cVjZDw0s6PxFfEnzd7F6OgcbGY06A=w1596-h820-no?authuser=0)\n\n設定專案路徑，這邊是建在 /my-app 資料夾底下。\n\n![設定專案路徑](https://lh3.googleusercontent.com/pw/AM-JKLXZfigJbpbdF-Cn7BrQ4O9rQPDXhBhASC87jncaqLR15PygdF8Ct-vxSz1nr4h92j2PVimJuiPqLzofwcDtXkBMgyLI-333vt2UbLyjW4FYiH71AzWTm3mnWeaux7bb-FoxKQ-JgsDVRxmQThVSOiQZPg=w1610-h356-no?authuser=0)\n\n設定輸出資料夾，這邊預設就是 dist ，所以不用更改。\n\n![設定輸出資料夾](https://lh3.googleusercontent.com/pw/AM-JKLU-UivhBdjy6CdasFx9XKFWPQg5N8u8buRAxhkhDSbNsZBScNjnnEhInz2Q3-ELIOjH88taxcSASqVLi8uwE1lK94WIWQ86oQqgW0tSUIS3lr5k2q0q_b1bsTxjvQMpIEv2I_B5hlhhx7vUqCuBtowwjQ=w1602-h410-no?authuser=0)\n\n設定完成後，他會自動 commit yml 檔案到 github，之後只要有更新 git，就會觸發 [github Action](https://github.com/Annilla/Azure-Static-Web-Apps-Test/actions) CICD，並發布至 Azure Site。\n\n接著只要對專案按右鍵選擇 Browse Site 就可以打開網站連結看到網站。\n\n![Browse Site](https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-browse-site.png)\n\n好了，設定就是那麼簡單! 因為很少碰 CICD 的東西，這個套件簡化了很多繁瑣的步驟，可以讓我快速將靜態網站放上雲端，實在是非常方便～\n\n# Reference\n\n* [Quickstart: Building your first static site with Azure Static Web Apps](https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript)","slug":"VScode/VScode-Extension-Azure-Static-Web-Apps","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl3ba55fs0000ysy78je975et","content":"<p>最近因緣際會下本來想做個讀取 Google Sheet API 的 web app 放在 github page，但發現 github 有擋住部分功能，所以想說看能不能改放在 Azure 雲端上，搜尋之後發現這個神奇的 plugin，Azure Static Web Apps 可以在 vscode 做一些簡單的設定，就能把 github 上的前端 web app 自動透過 github Action，CICD 到 Azure Cloud 上，底層還是會在 Azure 建立一個 Azure Function。話不多說，直接來說明怎麼設定吧～</p>\n<span id=\"more\"></span>\n\n<h1 id=\"準備好要發布的-github-repo\"><a href=\"#準備好要發布的-github-repo\" class=\"headerlink\" title=\"準備好要發布的 github repo\"></a>準備好要發布的 github repo</h1><p>這裡我先準備好要測試發布的 <a href=\"https://github.com/Annilla/Azure-Static-Web-Apps-Test\">Vue 3</a> 專案(用 Vue-cli 5 Create 出來的)。</p>\n<h1 id=\"VScode-安裝-Extension\"><a href=\"#VScode-安裝-Extension\" class=\"headerlink\" title=\"VScode 安裝 Extension\"></a>VScode 安裝 Extension</h1><p>在 Extension Tab 安裝 <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps\">Azure Static Web Apps</a>。</p>\n<p>安裝完後可點擊 Azure Icon Tab，會看到裡面有 Azure Static Web Apps 的 panel。第一次使用請先登入個人的 Azure 帳號。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWAvS3dAHOv4-hgnTEqDQLTq4AynruunlJHD0h3HYOGEbXesj5BMZRwWsQS2_Z8PzRlqgx5TF0kiZVmNcepm1qXetaXbDgEslUcUOehK5MHlP71fksNl-M6HMw21cfKVtC8a-uyZ2vGmip7H72QXbqq0w=w2308-h1442-no?authuser=0\" alt=\"Azure Static Web Apps 的 panel\"></p>\n<h1 id=\"新增-site\"><a href=\"#新增-site\" class=\"headerlink\" title=\"新增 site\"></a>新增 site</h1><p>點擊 + Icon 新增 Azure Static Web App。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-create-button.png\" alt=\"新增 Azure Static Web App\"></p>\n<p>選取 Azure 訂閱戶。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-subscription.png\" alt=\"選取 Azure 訂閱戶\"></p>\n<p>輸入 static web app 名稱。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXGDXQzcNvm0clQeIoOjM8pL8f8XkFYDvWnwGAZ9pmi6n4WT-2YHQcVTXvRmxHSN1HdmNY5YLk2RTFy9KuJBWqqBcx8MWK6GPQBT5lcOFu_VM-6k4_eFGVOu2cPnMg6yydzOKJHQW9UolFDP1d2I2Qyig=w1602-h302-no?authuser=0\" alt=\"輸入 static web app 名稱\"></p>\n<p>選取伺服器位置，我這邊選 East Asia。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWvk7wCs80cN0SBZuEo3ZaPzlI311LrYfE_k0oncgNhjOxPQ34afmn8WW7UEGiqTqOgiNKt0AWXxUakQIfw8iO0tkmUiMKkWizkKTiajTtu2WBT8sIT4C1bGio8FbfsAWZ6D8CJXLKWUVd4ScATscmdLw=w1600-h508-no?authuser=0\" alt=\"選取伺服器位置\"></p>\n<p>選取專案的架構，這邊選 Vue.js。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVg6Bvh64gcn1FRllsYl3pJn3RTMFCoRObItMPeWf9KFABDYZy7vlRAHLK04ktmx7tLbHSKbL01DLansHVhYeiT6ezNeGCjDCIiEhVyAb6jE11uWNZZB6rqhVb88cVjZDw0s6PxFfEnzd7F6OgcbGY06A=w1596-h820-no?authuser=0\" alt=\"選取專案的架構\"></p>\n<p>設定專案路徑，這邊是建在 &#x2F;my-app 資料夾底下。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXZfigJbpbdF-Cn7BrQ4O9rQPDXhBhASC87jncaqLR15PygdF8Ct-vxSz1nr4h92j2PVimJuiPqLzofwcDtXkBMgyLI-333vt2UbLyjW4FYiH71AzWTm3mnWeaux7bb-FoxKQ-JgsDVRxmQThVSOiQZPg=w1610-h356-no?authuser=0\" alt=\"設定專案路徑\"></p>\n<p>設定輸出資料夾，這邊預設就是 dist ，所以不用更改。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLU-UivhBdjy6CdasFx9XKFWPQg5N8u8buRAxhkhDSbNsZBScNjnnEhInz2Q3-ELIOjH88taxcSASqVLi8uwE1lK94WIWQ86oQqgW0tSUIS3lr5k2q0q_b1bsTxjvQMpIEv2I_B5hlhhx7vUqCuBtowwjQ=w1602-h410-no?authuser=0\" alt=\"設定輸出資料夾\"></p>\n<p>設定完成後，他會自動 commit yml 檔案到 github，之後只要有更新 git，就會觸發 <a href=\"https://github.com/Annilla/Azure-Static-Web-Apps-Test/actions\">github Action</a> CICD，並發布至 Azure Site。</p>\n<p>接著只要對專案按右鍵選擇 Browse Site 就可以打開網站連結看到網站。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-browse-site.png\" alt=\"Browse Site\"></p>\n<p>好了，設定就是那麼簡單! 因為很少碰 CICD 的東西，這個套件簡化了很多繁瑣的步驟，可以讓我快速將靜態網站放上雲端，實在是非常方便～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript\">Quickstart: Building your first static site with Azure Static Web Apps</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://code.visualstudio.com/assets/favicon.ico","excerpt":"<p>最近因緣際會下本來想做個讀取 Google Sheet API 的 web app 放在 github page，但發現 github 有擋住部分功能，所以想說看能不能改放在 Azure 雲端上，搜尋之後發現這個神奇的 plugin，Azure Static Web Apps 可以在 vscode 做一些簡單的設定，就能把 github 上的前端 web app 自動透過 github Action，CICD 到 Azure Cloud 上，底層還是會在 Azure 建立一個 Azure Function。話不多說，直接來說明怎麼設定吧～</p>","more":"<h1 id=\"準備好要發布的-github-repo\"><a href=\"#準備好要發布的-github-repo\" class=\"headerlink\" title=\"準備好要發布的 github repo\"></a>準備好要發布的 github repo</h1><p>這裡我先準備好要測試發布的 <a href=\"https://github.com/Annilla/Azure-Static-Web-Apps-Test\">Vue 3</a> 專案(用 Vue-cli 5 Create 出來的)。</p>\n<h1 id=\"VScode-安裝-Extension\"><a href=\"#VScode-安裝-Extension\" class=\"headerlink\" title=\"VScode 安裝 Extension\"></a>VScode 安裝 Extension</h1><p>在 Extension Tab 安裝 <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps\">Azure Static Web Apps</a>。</p>\n<p>安裝完後可點擊 Azure Icon Tab，會看到裡面有 Azure Static Web Apps 的 panel。第一次使用請先登入個人的 Azure 帳號。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWAvS3dAHOv4-hgnTEqDQLTq4AynruunlJHD0h3HYOGEbXesj5BMZRwWsQS2_Z8PzRlqgx5TF0kiZVmNcepm1qXetaXbDgEslUcUOehK5MHlP71fksNl-M6HMw21cfKVtC8a-uyZ2vGmip7H72QXbqq0w=w2308-h1442-no?authuser=0\" alt=\"Azure Static Web Apps 的 panel\"></p>\n<h1 id=\"新增-site\"><a href=\"#新增-site\" class=\"headerlink\" title=\"新增 site\"></a>新增 site</h1><p>點擊 + Icon 新增 Azure Static Web App。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-create-button.png\" alt=\"新增 Azure Static Web App\"></p>\n<p>選取 Azure 訂閱戶。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-subscription.png\" alt=\"選取 Azure 訂閱戶\"></p>\n<p>輸入 static web app 名稱。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXGDXQzcNvm0clQeIoOjM8pL8f8XkFYDvWnwGAZ9pmi6n4WT-2YHQcVTXvRmxHSN1HdmNY5YLk2RTFy9KuJBWqqBcx8MWK6GPQBT5lcOFu_VM-6k4_eFGVOu2cPnMg6yydzOKJHQW9UolFDP1d2I2Qyig=w1602-h302-no?authuser=0\" alt=\"輸入 static web app 名稱\"></p>\n<p>選取伺服器位置，我這邊選 East Asia。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWvk7wCs80cN0SBZuEo3ZaPzlI311LrYfE_k0oncgNhjOxPQ34afmn8WW7UEGiqTqOgiNKt0AWXxUakQIfw8iO0tkmUiMKkWizkKTiajTtu2WBT8sIT4C1bGio8FbfsAWZ6D8CJXLKWUVd4ScATscmdLw=w1600-h508-no?authuser=0\" alt=\"選取伺服器位置\"></p>\n<p>選取專案的架構，這邊選 Vue.js。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVg6Bvh64gcn1FRllsYl3pJn3RTMFCoRObItMPeWf9KFABDYZy7vlRAHLK04ktmx7tLbHSKbL01DLansHVhYeiT6ezNeGCjDCIiEhVyAb6jE11uWNZZB6rqhVb88cVjZDw0s6PxFfEnzd7F6OgcbGY06A=w1596-h820-no?authuser=0\" alt=\"選取專案的架構\"></p>\n<p>設定專案路徑，這邊是建在 &#x2F;my-app 資料夾底下。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXZfigJbpbdF-Cn7BrQ4O9rQPDXhBhASC87jncaqLR15PygdF8Ct-vxSz1nr4h92j2PVimJuiPqLzofwcDtXkBMgyLI-333vt2UbLyjW4FYiH71AzWTm3mnWeaux7bb-FoxKQ-JgsDVRxmQThVSOiQZPg=w1610-h356-no?authuser=0\" alt=\"設定專案路徑\"></p>\n<p>設定輸出資料夾，這邊預設就是 dist ，所以不用更改。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLU-UivhBdjy6CdasFx9XKFWPQg5N8u8buRAxhkhDSbNsZBScNjnnEhInz2Q3-ELIOjH88taxcSASqVLi8uwE1lK94WIWQ86oQqgW0tSUIS3lr5k2q0q_b1bsTxjvQMpIEv2I_B5hlhhx7vUqCuBtowwjQ=w1602-h410-no?authuser=0\" alt=\"設定輸出資料夾\"></p>\n<p>設定完成後，他會自動 commit yml 檔案到 github，之後只要有更新 git，就會觸發 <a href=\"https://github.com/Annilla/Azure-Static-Web-Apps-Test/actions\">github Action</a> CICD，並發布至 Azure Site。</p>\n<p>接著只要對專案按右鍵選擇 Browse Site 就可以打開網站連結看到網站。</p>\n<p><img src=\"https://docs.microsoft.com/en-us/azure/static-web-apps/media/getting-started/extension-browse-site.png\" alt=\"Browse Site\"></p>\n<p>好了，設定就是那麼簡單! 因為很少碰 CICD 的東西，這個套件簡化了很多繁瑣的步驟，可以讓我快速將靜態網站放上雲端，實在是非常方便～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript\">Quickstart: Building your first static site with Azure Static Web Apps</a></li>\n</ul>"},{"title":"Naver Study Case - Naver App for Apple Watch","thumbnailImage":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","thumbnailImagePosition":"left","coverImage":"https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0","coverMeta":"out","date":"2022-06-07T16:00:00.000Z","updated":"2022-06-07T16:00:00.000Z","_content":"\n很久沒來觀摩 Naver 的設計，剛好最近看到一篇關於穿戴式裝置 Apple Watch 的應用設計，所以想來學習學習。\n\n<!--more-->\n\n# Naver App for Apple Watch\n\n這是一款結合天氣預報和 QR Code 實名制的小應用，因為疫情的關係，韓國有一陣子進入店家是需要掃 QR Code 實名制。他有幾點設計是讓我覺得不錯的：\n\n1. 卡片使用圓角，跟手錶的圓弧設計搭得很融洽。\n2. 因為手錶的可視範圍很小，所以利用多種不同的方式來表現卡片的內容，除了視覺效果外，還讓 user 知道能選取卡片觀看細節。不同的表現方式例如：卡片疊合、卡片間的小空隙、露出一小部分下張卡片等等。\n3. 他的互動體驗也非常流暢，包括天氣的動畫、展開卡片的方式等等。\n\n下面依序 APP 的畫面，說明覺得設計不錯的地方。\n\n# 首頁\n\n首頁利用卡面疊合的方式，漂亮展示了兩張主要卡片： QR Code 和 天氣預報。天氣動畫的部分利用淡入＋向左滑入+微放大，營造目前天氣的氣氛很順暢。\n\n![Naver App for Apple Watch](https://lh3.googleusercontent.com/pw/AM-JKLVtx-e3oLW0zWuO4bDCyz7chtzO0VFKF89L9ngnNj8-dflWSDX3Ux-pEcHLpgDWcIGkH4UUtKQmXlKoPKJydDO0en84KMSMj1lN3Uz5bE7HQLZDneudNc4r-gQEj4DYsuPTKn-BUN7gMlNeGRbj5VU_Jg=w900-h916-no?authuser=0)\n\n# QR Code\n\n點選 QR Code 卡片會有微縮小＋向上展開卡片的互動，看起來非常清楚明瞭。\n\n![QR Code](https://lh3.googleusercontent.com/pw/AM-JKLXMzBB2fwRnJ3f4i8VJB2GH8RpqXRACLt3pnIi4olDLQ_ewYhMQZR0L_nnYj_1NnMeVIcX6ULgm-_83dmffKhL5WVTqoRTdndcG2UbOW1jVcl4uQMREwDvujMsaipQ8kcZ_ybGVluoC4v_3fqJDyQaoHA=w900-h506-no?authuser=0)\n\n# 天氣預報\n\n進入天氣預報可以看到大張主卡片，下面會顯示一小塊綠色卡片的一點點，提示使用者可以向下滑取得更多資訊，我覺得這點設計很不錯，除了提示外還帶有設計感。下面三塊小卡片，分別利用小空隙展示天氣細塵紫外線等資訊。繼續滑會有未來 24H 的天氣預報，滑到最後還會自動回到一開始的大張主卡片，我覺得這是最貼心的一點！！因為手錶若要展示很長的內容，滑到最底後，勢必還是要有回最上方的方式，他直接做了卡片迴圈這點，讓我感覺很驚艷～(可能是我還沒看過太多手錶的 APP 吧 XD)\n\n![天氣預報](https://lh3.googleusercontent.com/pw/AM-JKLUuVmjTr6eY4TyhcOCnSlI1j8hMs0HrVshxjigdJwl5v820i-vBlDQ0sAK9MbT6ZmBVWUMKW3rDKkmr2wnYR4vJdkKIuLeHmPrFpPO3Cy1UwEHCx4LNXm_AdTCJnOJeHJDA79nttxmOkfrbsN6XnmGdMw=w966-h544-no?authuser=0)\n\n# Reference\n\n* [適用於 Apple Watch 的新 Naver 應用程序](https://blog.naver.com/nvr_design/222315744463)","source":"_posts/UXUI/Naver-Study-Case-Naver-App-for-Apple-Watch.md","raw":"---\ntitle: Naver Study Case - Naver App for Apple Watch\ncategories:\n  - UXUI\n  - Naver\nthumbnailImage: https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM\nthumbnailImagePosition: left\ncoverImage: https://lh3.googleusercontent.com/pw/AM-JKLW_gPz40j-P9yIOQ6wZLG2U-ze9VIhURA0SDuGKr5ia0iTlmsu-eKigmgvlW6j_L1UcdRPDdg5YdwXBsBl-4cftMqjluBdDIdC9y7c5P6rqw6qq7p5G4NVcU0nnajJNm8DijRa0Ez_qzehd5iU4CaVptw=w1622-h910-no?authuser=0\ncoverMeta: out\ntags: [UX, UI, Naver]\ndate: 2022/06/08\nupdated: 2022/06/08\n---\n\n很久沒來觀摩 Naver 的設計，剛好最近看到一篇關於穿戴式裝置 Apple Watch 的應用設計，所以想來學習學習。\n\n<!--more-->\n\n# Naver App for Apple Watch\n\n這是一款結合天氣預報和 QR Code 實名制的小應用，因為疫情的關係，韓國有一陣子進入店家是需要掃 QR Code 實名制。他有幾點設計是讓我覺得不錯的：\n\n1. 卡片使用圓角，跟手錶的圓弧設計搭得很融洽。\n2. 因為手錶的可視範圍很小，所以利用多種不同的方式來表現卡片的內容，除了視覺效果外，還讓 user 知道能選取卡片觀看細節。不同的表現方式例如：卡片疊合、卡片間的小空隙、露出一小部分下張卡片等等。\n3. 他的互動體驗也非常流暢，包括天氣的動畫、展開卡片的方式等等。\n\n下面依序 APP 的畫面，說明覺得設計不錯的地方。\n\n# 首頁\n\n首頁利用卡面疊合的方式，漂亮展示了兩張主要卡片： QR Code 和 天氣預報。天氣動畫的部分利用淡入＋向左滑入+微放大，營造目前天氣的氣氛很順暢。\n\n![Naver App for Apple Watch](https://lh3.googleusercontent.com/pw/AM-JKLVtx-e3oLW0zWuO4bDCyz7chtzO0VFKF89L9ngnNj8-dflWSDX3Ux-pEcHLpgDWcIGkH4UUtKQmXlKoPKJydDO0en84KMSMj1lN3Uz5bE7HQLZDneudNc4r-gQEj4DYsuPTKn-BUN7gMlNeGRbj5VU_Jg=w900-h916-no?authuser=0)\n\n# QR Code\n\n點選 QR Code 卡片會有微縮小＋向上展開卡片的互動，看起來非常清楚明瞭。\n\n![QR Code](https://lh3.googleusercontent.com/pw/AM-JKLXMzBB2fwRnJ3f4i8VJB2GH8RpqXRACLt3pnIi4olDLQ_ewYhMQZR0L_nnYj_1NnMeVIcX6ULgm-_83dmffKhL5WVTqoRTdndcG2UbOW1jVcl4uQMREwDvujMsaipQ8kcZ_ybGVluoC4v_3fqJDyQaoHA=w900-h506-no?authuser=0)\n\n# 天氣預報\n\n進入天氣預報可以看到大張主卡片，下面會顯示一小塊綠色卡片的一點點，提示使用者可以向下滑取得更多資訊，我覺得這點設計很不錯，除了提示外還帶有設計感。下面三塊小卡片，分別利用小空隙展示天氣細塵紫外線等資訊。繼續滑會有未來 24H 的天氣預報，滑到最後還會自動回到一開始的大張主卡片，我覺得這是最貼心的一點！！因為手錶若要展示很長的內容，滑到最底後，勢必還是要有回最上方的方式，他直接做了卡片迴圈這點，讓我感覺很驚艷～(可能是我還沒看過太多手錶的 APP 吧 XD)\n\n![天氣預報](https://lh3.googleusercontent.com/pw/AM-JKLUuVmjTr6eY4TyhcOCnSlI1j8hMs0HrVshxjigdJwl5v820i-vBlDQ0sAK9MbT6ZmBVWUMKW3rDKkmr2wnYR4vJdkKIuLeHmPrFpPO3Cy1UwEHCx4LNXm_AdTCJnOJeHJDA79nttxmOkfrbsN6XnmGdMw=w966-h544-no?authuser=0)\n\n# Reference\n\n* [適用於 Apple Watch 的新 Naver 應用程序](https://blog.naver.com/nvr_design/222315744463)","slug":"UXUI/Naver-Study-Case-Naver-App-for-Apple-Watch","published":1,"_id":"cl45aj4ty0000ohy7gbqx5qmi","comments":1,"layout":"post","photos":[],"link":"","content":"<p>很久沒來觀摩 Naver 的設計，剛好最近看到一篇關於穿戴式裝置 Apple Watch 的應用設計，所以想來學習學習。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"Naver-App-for-Apple-Watch\"><a href=\"#Naver-App-for-Apple-Watch\" class=\"headerlink\" title=\"Naver App for Apple Watch\"></a>Naver App for Apple Watch</h1><p>這是一款結合天氣預報和 QR Code 實名制的小應用，因為疫情的關係，韓國有一陣子進入店家是需要掃 QR Code 實名制。他有幾點設計是讓我覺得不錯的：</p>\n<ol>\n<li>卡片使用圓角，跟手錶的圓弧設計搭得很融洽。</li>\n<li>因為手錶的可視範圍很小，所以利用多種不同的方式來表現卡片的內容，除了視覺效果外，還讓 user 知道能選取卡片觀看細節。不同的表現方式例如：卡片疊合、卡片間的小空隙、露出一小部分下張卡片等等。</li>\n<li>他的互動體驗也非常流暢，包括天氣的動畫、展開卡片的方式等等。</li>\n</ol>\n<p>下面依序 APP 的畫面，說明覺得設計不錯的地方。</p>\n<h1 id=\"首頁\"><a href=\"#首頁\" class=\"headerlink\" title=\"首頁\"></a>首頁</h1><p>首頁利用卡面疊合的方式，漂亮展示了兩張主要卡片： QR Code 和 天氣預報。天氣動畫的部分利用淡入＋向左滑入+微放大，營造目前天氣的氣氛很順暢。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVtx-e3oLW0zWuO4bDCyz7chtzO0VFKF89L9ngnNj8-dflWSDX3Ux-pEcHLpgDWcIGkH4UUtKQmXlKoPKJydDO0en84KMSMj1lN3Uz5bE7HQLZDneudNc4r-gQEj4DYsuPTKn-BUN7gMlNeGRbj5VU_Jg=w900-h916-no?authuser=0\" alt=\"Naver App for Apple Watch\"></p>\n<h1 id=\"QR-Code\"><a href=\"#QR-Code\" class=\"headerlink\" title=\"QR Code\"></a>QR Code</h1><p>點選 QR Code 卡片會有微縮小＋向上展開卡片的互動，看起來非常清楚明瞭。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXMzBB2fwRnJ3f4i8VJB2GH8RpqXRACLt3pnIi4olDLQ_ewYhMQZR0L_nnYj_1NnMeVIcX6ULgm-_83dmffKhL5WVTqoRTdndcG2UbOW1jVcl4uQMREwDvujMsaipQ8kcZ_ybGVluoC4v_3fqJDyQaoHA=w900-h506-no?authuser=0\" alt=\"QR Code\"></p>\n<h1 id=\"天氣預報\"><a href=\"#天氣預報\" class=\"headerlink\" title=\"天氣預報\"></a>天氣預報</h1><p>進入天氣預報可以看到大張主卡片，下面會顯示一小塊綠色卡片的一點點，提示使用者可以向下滑取得更多資訊，我覺得這點設計很不錯，除了提示外還帶有設計感。下面三塊小卡片，分別利用小空隙展示天氣細塵紫外線等資訊。繼續滑會有未來 24H 的天氣預報，滑到最後還會自動回到一開始的大張主卡片，我覺得這是最貼心的一點！！因為手錶若要展示很長的內容，滑到最底後，勢必還是要有回最上方的方式，他直接做了卡片迴圈這點，讓我感覺很驚艷～(可能是我還沒看過太多手錶的 APP 吧 XD)</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUuVmjTr6eY4TyhcOCnSlI1j8hMs0HrVshxjigdJwl5v820i-vBlDQ0sAK9MbT6ZmBVWUMKW3rDKkmr2wnYR4vJdkKIuLeHmPrFpPO3Cy1UwEHCx4LNXm_AdTCJnOJeHJDA79nttxmOkfrbsN6XnmGdMw=w966-h544-no?authuser=0\" alt=\"天氣預報\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/222315744463\">適用於 Apple Watch 的新 Naver 應用程序</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://lh3.googleusercontent.com/Kbu0747Cx3rpzHcSbtM1zDriGFG74zVbtkPmVnOKpmLCS59l7IuKD5M3MKbaq_nEaZM","excerpt":"<p>很久沒來觀摩 Naver 的設計，剛好最近看到一篇關於穿戴式裝置 Apple Watch 的應用設計，所以想來學習學習。</p>","more":"<h1 id=\"Naver-App-for-Apple-Watch\"><a href=\"#Naver-App-for-Apple-Watch\" class=\"headerlink\" title=\"Naver App for Apple Watch\"></a>Naver App for Apple Watch</h1><p>這是一款結合天氣預報和 QR Code 實名制的小應用，因為疫情的關係，韓國有一陣子進入店家是需要掃 QR Code 實名制。他有幾點設計是讓我覺得不錯的：</p>\n<ol>\n<li>卡片使用圓角，跟手錶的圓弧設計搭得很融洽。</li>\n<li>因為手錶的可視範圍很小，所以利用多種不同的方式來表現卡片的內容，除了視覺效果外，還讓 user 知道能選取卡片觀看細節。不同的表現方式例如：卡片疊合、卡片間的小空隙、露出一小部分下張卡片等等。</li>\n<li>他的互動體驗也非常流暢，包括天氣的動畫、展開卡片的方式等等。</li>\n</ol>\n<p>下面依序 APP 的畫面，說明覺得設計不錯的地方。</p>\n<h1 id=\"首頁\"><a href=\"#首頁\" class=\"headerlink\" title=\"首頁\"></a>首頁</h1><p>首頁利用卡面疊合的方式，漂亮展示了兩張主要卡片： QR Code 和 天氣預報。天氣動畫的部分利用淡入＋向左滑入+微放大，營造目前天氣的氣氛很順暢。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVtx-e3oLW0zWuO4bDCyz7chtzO0VFKF89L9ngnNj8-dflWSDX3Ux-pEcHLpgDWcIGkH4UUtKQmXlKoPKJydDO0en84KMSMj1lN3Uz5bE7HQLZDneudNc4r-gQEj4DYsuPTKn-BUN7gMlNeGRbj5VU_Jg=w900-h916-no?authuser=0\" alt=\"Naver App for Apple Watch\"></p>\n<h1 id=\"QR-Code\"><a href=\"#QR-Code\" class=\"headerlink\" title=\"QR Code\"></a>QR Code</h1><p>點選 QR Code 卡片會有微縮小＋向上展開卡片的互動，看起來非常清楚明瞭。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXMzBB2fwRnJ3f4i8VJB2GH8RpqXRACLt3pnIi4olDLQ_ewYhMQZR0L_nnYj_1NnMeVIcX6ULgm-_83dmffKhL5WVTqoRTdndcG2UbOW1jVcl4uQMREwDvujMsaipQ8kcZ_ybGVluoC4v_3fqJDyQaoHA=w900-h506-no?authuser=0\" alt=\"QR Code\"></p>\n<h1 id=\"天氣預報\"><a href=\"#天氣預報\" class=\"headerlink\" title=\"天氣預報\"></a>天氣預報</h1><p>進入天氣預報可以看到大張主卡片，下面會顯示一小塊綠色卡片的一點點，提示使用者可以向下滑取得更多資訊，我覺得這點設計很不錯，除了提示外還帶有設計感。下面三塊小卡片，分別利用小空隙展示天氣細塵紫外線等資訊。繼續滑會有未來 24H 的天氣預報，滑到最後還會自動回到一開始的大張主卡片，我覺得這是最貼心的一點！！因為手錶若要展示很長的內容，滑到最底後，勢必還是要有回最上方的方式，他直接做了卡片迴圈這點，讓我感覺很驚艷～(可能是我還沒看過太多手錶的 APP 吧 XD)</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUuVmjTr6eY4TyhcOCnSlI1j8hMs0HrVshxjigdJwl5v820i-vBlDQ0sAK9MbT6ZmBVWUMKW3rDKkmr2wnYR4vJdkKIuLeHmPrFpPO3Cy1UwEHCx4LNXm_AdTCJnOJeHJDA79nttxmOkfrbsN6XnmGdMw=w966-h544-no?authuser=0\" alt=\"天氣預報\"></p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://blog.naver.com/nvr_design/222315744463\">適用於 Apple Watch 的新 Naver 應用程序</a></li>\n</ul>"},{"title":"SSMS Import Chinese Data into Azure DB","thumbnailImage":"https://www.tec-innova.mx/wp-content/uploads/2021/12/Imagen1.png","thumbnailImagePosition":"left","coverImage":"https://sysadminas.eu/assets/images/post1/azure-sql.jpg","coverMeta":"out","date":"2022-07-18T16:00:00.000Z","updated":"2022-07-18T16:00:00.000Z","_content":"\n介紹如何用 SSMS 匯入 Azure DB。\n\n<!--more-->\n\n# 設定 Azure portal 防火牆\n\n> **PS 如果在匯入期間跳防火牆錯誤，可去 Azure portal 設定比較快**\n\nStep1. 進入 DB > 概觀 > 設定伺服器防火牆\n\n![設定伺服器防火牆](https://lh3.googleusercontent.com/pw/AM-JKLWV14uASdjwXGFbGebTiTx-RLsi6Zt78hTZTCBqiM0Rg5IIhW2AA_njRdslkBsup7IoTKC1LvsC_CiAa3D7OLyCHA2UJS-lJptc6hEl7f9duH9pleZzYkqQxpc_e4Bpwxvt7tNXiEbWAaEGrxUbO4tmew=w914-h151-no?authuser=0)\n\nStep2. 新增防火牆規則 > 儲存\n\n![新增防火牆規則](https://lh3.googleusercontent.com/pw/AM-JKLUerDZASgbuUeAFALbg968tCctMz604afKbVW0hBxSRtmW8baCMYdn8FhtLoskfl9D1my-rcjH_J1Mgp928WwWDjj8tM--lbdeoas45G1YZ_Ew2_YR3xs0nmH4W1sz8s1fDtIyrkT2SAAdAsFFh2FldaA=w718-h394-no?authuser=0)\n\n# 準備檔案\n\n> **需要先轉成 CSV 檔案。注意! 必填欄位要預先補好。**\n\n# SSMS 匯入步驟\n\nStep1. 登入DB (會跳第一次二段驗證) > 對資料庫案右鍵 > 叫出匯入精靈。**(如果防火牆消失，請回 Azure portal 設定。)**\n\n![叫出匯入精靈](https://lh3.googleusercontent.com/pw/AM-JKLVTxckw3mB6JXx3QiMjCIxoxXhd4d2d1pPWObyCiLza84YJDT5caM5W2SRsDiu0T4bJsDGgl2LwhjsTlXzjoCmRr-6Yui2pcSBV4L0dyf4nmnTni4QTkmY99BTokSGd7JIkCDE7brUfUmc1XTMV-uMfVA=w718-h568-no?authuser=0)\n\nStep2. 設定來源資料\n\n> **因為資料有中文，所以字碼頁選擇 65001, 文字限定詞輸入 \" (為了跳脫逗號)**\n\n![設定來源資料](https://lh3.googleusercontent.com/pw/AM-JKLUKtzIV7aucTCzSPtpvsCMTI3b-SBxdGgDSLVzFpjZLVrPS3LRfKyCT_dHzGNe4MKPVek3TvF2_dtK9jd9CPxj8nKBkCPFO2iP2iF2Ew__xoJFuDOHlTcWLxC6aoxIVhOOG3R9RTQRBrKdHCJN0XIkXrw=w629-h555-no?authuser=0)\n\n> **全部 DataType 選 Unicode 字串，若有欄位長度超過 50 ，則需要手動將欄位 key 上加長的數值。**\n\n![全部 DataType 選 Unicode 字串](https://lh3.googleusercontent.com/pw/AM-JKLXbSjFhxDi2TDMutzGNrYMbEw9op1g5kFpTgmTixbpQrOmOxNFp4AL1bZ2MrjOITB95QqLShmzuGigPTYR__jv4eVB8yFKt-GUI8WBUvgQCPvgpUbK5FSdcrCDU-NclP1eh7fmUsNpE732wdJa5v3S0Cw=w628-h553-no?authuser=0)\n\n![手動將欄位 key 上加長的數值](https://lh3.googleusercontent.com/pw/AM-JKLUBgjM4k-izh7u-DsrJYMIOldeU07F7iJtam7ZWU0ZqclCdTCnjW0Rqons0gzXZWsycLQUFPRHlD6tO-UWH-xvxpdU8ScFGIAogBJAx-y15I02_FmCrMhrlhwS6JomLOYPem_kXeGuPO9sSyGnffwSk_g=w627-h555-no?authuser=0)\n\nStep3. 設定目的地資料庫，這邊會再跳第二次二段驗證。**(如果防火牆消失，請回 Azure portal 設定。)**\n\n![設定目的地資料庫](https://lh3.googleusercontent.com/pw/AM-JKLW0RDriQCY79ONiFjNQuMHiBb_HEo5ecWgUrKHFpgAjZOZMRjns95s1X2uCehCFumB9yZm7nm043h0NyHTsT0eKM2CAyLY0cllG_b_KFVLvAb6ZJmRrqlr09IMhMk5DrKHI201xDAgkR2z6oFzRHhscMA=w747-h728-no?authuser=0)\n\nStep4. 設定目的地表格 & mapping。\n\n![設定目的地表格 & mapping](https://lh3.googleusercontent.com/pw/AM-JKLVycSafTjcNlZX7nsTQDvGd2THAA1tBvLIC-s0L-5M_PlX5teFNrfPMfDirqFbYfkx8UqMfldwPzVVsTbezNWnNMoSEs8NS3-g_nFT4awF06foGJxpBT8QDlm6s_N-Po5BMC74jXmi9qyYTgEUtw_ED7Q=w958-h738-no?authuser=0)\n\nStep5. 一直 Next 到最後 Finish 執行。**(如果防火牆消失，請回 Azure portal 設定。)**","source":"_posts/Others/SSMS-Import-Chinese-Data-into-Azure-DB.md","raw":"---\ntitle: SSMS Import Chinese Data into Azure DB\ncategories:\n  - AzureDB\nthumbnailImage: https://www.tec-innova.mx/wp-content/uploads/2021/12/Imagen1.png\nthumbnailImagePosition: left\ncoverImage: https://sysadminas.eu/assets/images/post1/azure-sql.jpg\ncoverMeta: out\ntags: [AzureDB, SSMS]\ndate: 2022/07/19\nupdated: 2022/07/19\n---\n\n介紹如何用 SSMS 匯入 Azure DB。\n\n<!--more-->\n\n# 設定 Azure portal 防火牆\n\n> **PS 如果在匯入期間跳防火牆錯誤，可去 Azure portal 設定比較快**\n\nStep1. 進入 DB > 概觀 > 設定伺服器防火牆\n\n![設定伺服器防火牆](https://lh3.googleusercontent.com/pw/AM-JKLWV14uASdjwXGFbGebTiTx-RLsi6Zt78hTZTCBqiM0Rg5IIhW2AA_njRdslkBsup7IoTKC1LvsC_CiAa3D7OLyCHA2UJS-lJptc6hEl7f9duH9pleZzYkqQxpc_e4Bpwxvt7tNXiEbWAaEGrxUbO4tmew=w914-h151-no?authuser=0)\n\nStep2. 新增防火牆規則 > 儲存\n\n![新增防火牆規則](https://lh3.googleusercontent.com/pw/AM-JKLUerDZASgbuUeAFALbg968tCctMz604afKbVW0hBxSRtmW8baCMYdn8FhtLoskfl9D1my-rcjH_J1Mgp928WwWDjj8tM--lbdeoas45G1YZ_Ew2_YR3xs0nmH4W1sz8s1fDtIyrkT2SAAdAsFFh2FldaA=w718-h394-no?authuser=0)\n\n# 準備檔案\n\n> **需要先轉成 CSV 檔案。注意! 必填欄位要預先補好。**\n\n# SSMS 匯入步驟\n\nStep1. 登入DB (會跳第一次二段驗證) > 對資料庫案右鍵 > 叫出匯入精靈。**(如果防火牆消失，請回 Azure portal 設定。)**\n\n![叫出匯入精靈](https://lh3.googleusercontent.com/pw/AM-JKLVTxckw3mB6JXx3QiMjCIxoxXhd4d2d1pPWObyCiLza84YJDT5caM5W2SRsDiu0T4bJsDGgl2LwhjsTlXzjoCmRr-6Yui2pcSBV4L0dyf4nmnTni4QTkmY99BTokSGd7JIkCDE7brUfUmc1XTMV-uMfVA=w718-h568-no?authuser=0)\n\nStep2. 設定來源資料\n\n> **因為資料有中文，所以字碼頁選擇 65001, 文字限定詞輸入 \" (為了跳脫逗號)**\n\n![設定來源資料](https://lh3.googleusercontent.com/pw/AM-JKLUKtzIV7aucTCzSPtpvsCMTI3b-SBxdGgDSLVzFpjZLVrPS3LRfKyCT_dHzGNe4MKPVek3TvF2_dtK9jd9CPxj8nKBkCPFO2iP2iF2Ew__xoJFuDOHlTcWLxC6aoxIVhOOG3R9RTQRBrKdHCJN0XIkXrw=w629-h555-no?authuser=0)\n\n> **全部 DataType 選 Unicode 字串，若有欄位長度超過 50 ，則需要手動將欄位 key 上加長的數值。**\n\n![全部 DataType 選 Unicode 字串](https://lh3.googleusercontent.com/pw/AM-JKLXbSjFhxDi2TDMutzGNrYMbEw9op1g5kFpTgmTixbpQrOmOxNFp4AL1bZ2MrjOITB95QqLShmzuGigPTYR__jv4eVB8yFKt-GUI8WBUvgQCPvgpUbK5FSdcrCDU-NclP1eh7fmUsNpE732wdJa5v3S0Cw=w628-h553-no?authuser=0)\n\n![手動將欄位 key 上加長的數值](https://lh3.googleusercontent.com/pw/AM-JKLUBgjM4k-izh7u-DsrJYMIOldeU07F7iJtam7ZWU0ZqclCdTCnjW0Rqons0gzXZWsycLQUFPRHlD6tO-UWH-xvxpdU8ScFGIAogBJAx-y15I02_FmCrMhrlhwS6JomLOYPem_kXeGuPO9sSyGnffwSk_g=w627-h555-no?authuser=0)\n\nStep3. 設定目的地資料庫，這邊會再跳第二次二段驗證。**(如果防火牆消失，請回 Azure portal 設定。)**\n\n![設定目的地資料庫](https://lh3.googleusercontent.com/pw/AM-JKLW0RDriQCY79ONiFjNQuMHiBb_HEo5ecWgUrKHFpgAjZOZMRjns95s1X2uCehCFumB9yZm7nm043h0NyHTsT0eKM2CAyLY0cllG_b_KFVLvAb6ZJmRrqlr09IMhMk5DrKHI201xDAgkR2z6oFzRHhscMA=w747-h728-no?authuser=0)\n\nStep4. 設定目的地表格 & mapping。\n\n![設定目的地表格 & mapping](https://lh3.googleusercontent.com/pw/AM-JKLVycSafTjcNlZX7nsTQDvGd2THAA1tBvLIC-s0L-5M_PlX5teFNrfPMfDirqFbYfkx8UqMfldwPzVVsTbezNWnNMoSEs8NS3-g_nFT4awF06foGJxpBT8QDlm6s_N-Po5BMC74jXmi9qyYTgEUtw_ED7Q=w958-h738-no?authuser=0)\n\nStep5. 一直 Next 到最後 Finish 執行。**(如果防火牆消失，請回 Azure portal 設定。)**","slug":"Others/SSMS-Import-Chinese-Data-into-Azure-DB","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cl5szlbcd0000n4y7g1lsgsz0","content":"<p>介紹如何用 SSMS 匯入 Azure DB。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"設定-Azure-portal-防火牆\"><a href=\"#設定-Azure-portal-防火牆\" class=\"headerlink\" title=\"設定 Azure portal 防火牆\"></a>設定 Azure portal 防火牆</h1><blockquote>\n<p><strong>PS 如果在匯入期間跳防火牆錯誤，可去 Azure portal 設定比較快</strong></p>\n</blockquote>\n<p>Step1. 進入 DB &gt; 概觀 &gt; 設定伺服器防火牆</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWV14uASdjwXGFbGebTiTx-RLsi6Zt78hTZTCBqiM0Rg5IIhW2AA_njRdslkBsup7IoTKC1LvsC_CiAa3D7OLyCHA2UJS-lJptc6hEl7f9duH9pleZzYkqQxpc_e4Bpwxvt7tNXiEbWAaEGrxUbO4tmew=w914-h151-no?authuser=0\" alt=\"設定伺服器防火牆\"></p>\n<p>Step2. 新增防火牆規則 &gt; 儲存</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUerDZASgbuUeAFALbg968tCctMz604afKbVW0hBxSRtmW8baCMYdn8FhtLoskfl9D1my-rcjH_J1Mgp928WwWDjj8tM--lbdeoas45G1YZ_Ew2_YR3xs0nmH4W1sz8s1fDtIyrkT2SAAdAsFFh2FldaA=w718-h394-no?authuser=0\" alt=\"新增防火牆規則\"></p>\n<h1 id=\"準備檔案\"><a href=\"#準備檔案\" class=\"headerlink\" title=\"準備檔案\"></a>準備檔案</h1><blockquote>\n<p><strong>需要先轉成 CSV 檔案。注意! 必填欄位要預先補好。</strong></p>\n</blockquote>\n<h1 id=\"SSMS-匯入步驟\"><a href=\"#SSMS-匯入步驟\" class=\"headerlink\" title=\"SSMS 匯入步驟\"></a>SSMS 匯入步驟</h1><p>Step1. 登入DB (會跳第一次二段驗證) &gt; 對資料庫案右鍵 &gt; 叫出匯入精靈。**(如果防火牆消失，請回 Azure portal 設定。)**</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVTxckw3mB6JXx3QiMjCIxoxXhd4d2d1pPWObyCiLza84YJDT5caM5W2SRsDiu0T4bJsDGgl2LwhjsTlXzjoCmRr-6Yui2pcSBV4L0dyf4nmnTni4QTkmY99BTokSGd7JIkCDE7brUfUmc1XTMV-uMfVA=w718-h568-no?authuser=0\" alt=\"叫出匯入精靈\"></p>\n<p>Step2. 設定來源資料</p>\n<blockquote>\n<p><strong>因為資料有中文，所以字碼頁選擇 65001, 文字限定詞輸入 “ (為了跳脫逗號)</strong></p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUKtzIV7aucTCzSPtpvsCMTI3b-SBxdGgDSLVzFpjZLVrPS3LRfKyCT_dHzGNe4MKPVek3TvF2_dtK9jd9CPxj8nKBkCPFO2iP2iF2Ew__xoJFuDOHlTcWLxC6aoxIVhOOG3R9RTQRBrKdHCJN0XIkXrw=w629-h555-no?authuser=0\" alt=\"設定來源資料\"></p>\n<blockquote>\n<p><strong>全部 DataType 選 Unicode 字串，若有欄位長度超過 50 ，則需要手動將欄位 key 上加長的數值。</strong></p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXbSjFhxDi2TDMutzGNrYMbEw9op1g5kFpTgmTixbpQrOmOxNFp4AL1bZ2MrjOITB95QqLShmzuGigPTYR__jv4eVB8yFKt-GUI8WBUvgQCPvgpUbK5FSdcrCDU-NclP1eh7fmUsNpE732wdJa5v3S0Cw=w628-h553-no?authuser=0\" alt=\"全部 DataType 選 Unicode 字串\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUBgjM4k-izh7u-DsrJYMIOldeU07F7iJtam7ZWU0ZqclCdTCnjW0Rqons0gzXZWsycLQUFPRHlD6tO-UWH-xvxpdU8ScFGIAogBJAx-y15I02_FmCrMhrlhwS6JomLOYPem_kXeGuPO9sSyGnffwSk_g=w627-h555-no?authuser=0\" alt=\"手動將欄位 key 上加長的數值\"></p>\n<p>Step3. 設定目的地資料庫，這邊會再跳第二次二段驗證。**(如果防火牆消失，請回 Azure portal 設定。)**</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLW0RDriQCY79ONiFjNQuMHiBb_HEo5ecWgUrKHFpgAjZOZMRjns95s1X2uCehCFumB9yZm7nm043h0NyHTsT0eKM2CAyLY0cllG_b_KFVLvAb6ZJmRrqlr09IMhMk5DrKHI201xDAgkR2z6oFzRHhscMA=w747-h728-no?authuser=0\" alt=\"設定目的地資料庫\"></p>\n<p>Step4. 設定目的地表格 &amp; mapping。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVycSafTjcNlZX7nsTQDvGd2THAA1tBvLIC-s0L-5M_PlX5teFNrfPMfDirqFbYfkx8UqMfldwPzVVsTbezNWnNMoSEs8NS3-g_nFT4awF06foGJxpBT8QDlm6s_N-Po5BMC74jXmi9qyYTgEUtw_ED7Q=w958-h738-no?authuser=0\" alt=\"設定目的地表格 &amp; mapping\"></p>\n<p>Step5. 一直 Next 到最後 Finish 執行。**(如果防火牆消失，請回 Azure portal 設定。)**</p>\n","site":{"data":{}},"thumbnailImageUrl":"https://www.tec-innova.mx/wp-content/uploads/2021/12/Imagen1.png","excerpt":"<p>介紹如何用 SSMS 匯入 Azure DB。</p>","more":"<h1 id=\"設定-Azure-portal-防火牆\"><a href=\"#設定-Azure-portal-防火牆\" class=\"headerlink\" title=\"設定 Azure portal 防火牆\"></a>設定 Azure portal 防火牆</h1><blockquote>\n<p><strong>PS 如果在匯入期間跳防火牆錯誤，可去 Azure portal 設定比較快</strong></p>\n</blockquote>\n<p>Step1. 進入 DB &gt; 概觀 &gt; 設定伺服器防火牆</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLWV14uASdjwXGFbGebTiTx-RLsi6Zt78hTZTCBqiM0Rg5IIhW2AA_njRdslkBsup7IoTKC1LvsC_CiAa3D7OLyCHA2UJS-lJptc6hEl7f9duH9pleZzYkqQxpc_e4Bpwxvt7tNXiEbWAaEGrxUbO4tmew=w914-h151-no?authuser=0\" alt=\"設定伺服器防火牆\"></p>\n<p>Step2. 新增防火牆規則 &gt; 儲存</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUerDZASgbuUeAFALbg968tCctMz604afKbVW0hBxSRtmW8baCMYdn8FhtLoskfl9D1my-rcjH_J1Mgp928WwWDjj8tM--lbdeoas45G1YZ_Ew2_YR3xs0nmH4W1sz8s1fDtIyrkT2SAAdAsFFh2FldaA=w718-h394-no?authuser=0\" alt=\"新增防火牆規則\"></p>\n<h1 id=\"準備檔案\"><a href=\"#準備檔案\" class=\"headerlink\" title=\"準備檔案\"></a>準備檔案</h1><blockquote>\n<p><strong>需要先轉成 CSV 檔案。注意! 必填欄位要預先補好。</strong></p>\n</blockquote>\n<h1 id=\"SSMS-匯入步驟\"><a href=\"#SSMS-匯入步驟\" class=\"headerlink\" title=\"SSMS 匯入步驟\"></a>SSMS 匯入步驟</h1><p>Step1. 登入DB (會跳第一次二段驗證) &gt; 對資料庫案右鍵 &gt; 叫出匯入精靈。**(如果防火牆消失，請回 Azure portal 設定。)**</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVTxckw3mB6JXx3QiMjCIxoxXhd4d2d1pPWObyCiLza84YJDT5caM5W2SRsDiu0T4bJsDGgl2LwhjsTlXzjoCmRr-6Yui2pcSBV4L0dyf4nmnTni4QTkmY99BTokSGd7JIkCDE7brUfUmc1XTMV-uMfVA=w718-h568-no?authuser=0\" alt=\"叫出匯入精靈\"></p>\n<p>Step2. 設定來源資料</p>\n<blockquote>\n<p><strong>因為資料有中文，所以字碼頁選擇 65001, 文字限定詞輸入 “ (為了跳脫逗號)</strong></p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUKtzIV7aucTCzSPtpvsCMTI3b-SBxdGgDSLVzFpjZLVrPS3LRfKyCT_dHzGNe4MKPVek3TvF2_dtK9jd9CPxj8nKBkCPFO2iP2iF2Ew__xoJFuDOHlTcWLxC6aoxIVhOOG3R9RTQRBrKdHCJN0XIkXrw=w629-h555-no?authuser=0\" alt=\"設定來源資料\"></p>\n<blockquote>\n<p><strong>全部 DataType 選 Unicode 字串，若有欄位長度超過 50 ，則需要手動將欄位 key 上加長的數值。</strong></p>\n</blockquote>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLXbSjFhxDi2TDMutzGNrYMbEw9op1g5kFpTgmTixbpQrOmOxNFp4AL1bZ2MrjOITB95QqLShmzuGigPTYR__jv4eVB8yFKt-GUI8WBUvgQCPvgpUbK5FSdcrCDU-NclP1eh7fmUsNpE732wdJa5v3S0Cw=w628-h553-no?authuser=0\" alt=\"全部 DataType 選 Unicode 字串\"></p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLUBgjM4k-izh7u-DsrJYMIOldeU07F7iJtam7ZWU0ZqclCdTCnjW0Rqons0gzXZWsycLQUFPRHlD6tO-UWH-xvxpdU8ScFGIAogBJAx-y15I02_FmCrMhrlhwS6JomLOYPem_kXeGuPO9sSyGnffwSk_g=w627-h555-no?authuser=0\" alt=\"手動將欄位 key 上加長的數值\"></p>\n<p>Step3. 設定目的地資料庫，這邊會再跳第二次二段驗證。**(如果防火牆消失，請回 Azure portal 設定。)**</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLW0RDriQCY79ONiFjNQuMHiBb_HEo5ecWgUrKHFpgAjZOZMRjns95s1X2uCehCFumB9yZm7nm043h0NyHTsT0eKM2CAyLY0cllG_b_KFVLvAb6ZJmRrqlr09IMhMk5DrKHI201xDAgkR2z6oFzRHhscMA=w747-h728-no?authuser=0\" alt=\"設定目的地資料庫\"></p>\n<p>Step4. 設定目的地表格 &amp; mapping。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AM-JKLVycSafTjcNlZX7nsTQDvGd2THAA1tBvLIC-s0L-5M_PlX5teFNrfPMfDirqFbYfkx8UqMfldwPzVVsTbezNWnNMoSEs8NS3-g_nFT4awF06foGJxpBT8QDlm6s_N-Po5BMC74jXmi9qyYTgEUtw_ED7Q=w958-h738-no?authuser=0\" alt=\"設定目的地表格 &amp; mapping\"></p>\n<p>Step5. 一直 Next 到最後 Finish 執行。**(如果防火牆消失，請回 Azure portal 設定。)**</p>"},{"title":"Figma Text Replace by Free Google Fonts","thumbnailImage":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","thumbnailImagePosition":"left","coverImage":"https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png","coverMeta":"out","date":"2022-08-18T16:00:00.000Z","updated":"2022-08-18T16:00:00.000Z","_content":"\n最近將舊的 Sketch 檔案匯入 Figma 時，會發生找不到 “Helvetica” 字體的問題。但我覺得這麼“基本”的字體應該 Figma 會有吧？！仔細一找真的不在 Figma 字體的下拉清單（眼神死...），所以我就跑去找有什麼相似的字體可以做替換。幸好，找到了不錯的資源，就趕緊記錄下來。\n\n<!--more-->\n\n# 用 Free Google Fonts 來替代\n\n因為 Google Fonts 真的很充足，所以我就鎖定在這裡面找比較快。下面是網路上找到的對照圖。原文記錄在最後面。光是 “Helvetica” 就可以找到三種字體可以替換呢XD\n\n![用 Free Google Fonts 替代](https://lh3.googleusercontent.com/pw/AL9nZEWygFj3wgLJF9hhWzvD_n_DAfCCg7c-Cuu1UqyP1BMZSCn6vbGf0l1HN_KdQF_raJFskEI0FmfFn5GFbYMdbTMaNHf8XxR7wZrMGvTx2MCNQrcL9pdAOVqZBmonmLGcwETihZbg0tbr0LCiqh4UmUiPCA=w730-h1442-no?authuser=0)\n\n1. Helvetica >>> Open Sans \n2. Helvetica >>> Arimo\n3. Helvetica >>> Work Sans\n4. Frutiger >>> Hind\n5. Futura >>> Nunito\n6. Futura>>> Kumbh Sans\n7. Futura>>> Questrial\n8. Baskerville >>> Libre Baskerville\n9. Proxima Nova >>> Montserrat\n10. Adobe Caslon >>> Lusitana\n11. Neo Sans >>> Armata\n12. FF Meta Web Pro >>> Source Sans Pro\n13. FF DIN >>> Roboto\n14. Poster Bodoni >>> Abril Fatface\n\n# Reference\n\n* [Web Fonts Cheat Sheet: Free Google Fonts Alternatives to Futura and the Like](https://www.psd2html.com/blog/web-font-alternatives.html)\n","source":"_posts/UXUI/Figma-Text-Replace-by-Free-Google-Fonts.md","raw":"---\ntitle: Figma Text Replace by Free Google Fonts\ncategories:\n  - UXUI\n  - Figma\nthumbnailImage: https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi\nthumbnailImagePosition: left\ncoverImage: https://miro.medium.com/max/1400/1*BfTmRqrzxB90_e9i1-cj2g.png\ncoverMeta: out\ntags: [Figma, UX, UI]\ndate: 2022/08/19\nupdated: 2022/08/19\n---\n\n最近將舊的 Sketch 檔案匯入 Figma 時，會發生找不到 “Helvetica” 字體的問題。但我覺得這麼“基本”的字體應該 Figma 會有吧？！仔細一找真的不在 Figma 字體的下拉清單（眼神死...），所以我就跑去找有什麼相似的字體可以做替換。幸好，找到了不錯的資源，就趕緊記錄下來。\n\n<!--more-->\n\n# 用 Free Google Fonts 來替代\n\n因為 Google Fonts 真的很充足，所以我就鎖定在這裡面找比較快。下面是網路上找到的對照圖。原文記錄在最後面。光是 “Helvetica” 就可以找到三種字體可以替換呢XD\n\n![用 Free Google Fonts 替代](https://lh3.googleusercontent.com/pw/AL9nZEWygFj3wgLJF9hhWzvD_n_DAfCCg7c-Cuu1UqyP1BMZSCn6vbGf0l1HN_KdQF_raJFskEI0FmfFn5GFbYMdbTMaNHf8XxR7wZrMGvTx2MCNQrcL9pdAOVqZBmonmLGcwETihZbg0tbr0LCiqh4UmUiPCA=w730-h1442-no?authuser=0)\n\n1. Helvetica >>> Open Sans \n2. Helvetica >>> Arimo\n3. Helvetica >>> Work Sans\n4. Frutiger >>> Hind\n5. Futura >>> Nunito\n6. Futura>>> Kumbh Sans\n7. Futura>>> Questrial\n8. Baskerville >>> Libre Baskerville\n9. Proxima Nova >>> Montserrat\n10. Adobe Caslon >>> Lusitana\n11. Neo Sans >>> Armata\n12. FF Meta Web Pro >>> Source Sans Pro\n13. FF DIN >>> Roboto\n14. Poster Bodoni >>> Abril Fatface\n\n# Reference\n\n* [Web Fonts Cheat Sheet: Free Google Fonts Alternatives to Futura and the Like](https://www.psd2html.com/blog/web-font-alternatives.html)\n","slug":"UXUI/Figma-Text-Replace-by-Free-Google-Fonts","published":1,"_id":"cl7066u8k0000g6y75aur50sr","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近將舊的 Sketch 檔案匯入 Figma 時，會發生找不到 “Helvetica” 字體的問題。但我覺得這麼“基本”的字體應該 Figma 會有吧？！仔細一找真的不在 Figma 字體的下拉清單（眼神死…），所以我就跑去找有什麼相似的字體可以做替換。幸好，找到了不錯的資源，就趕緊記錄下來。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"用-Free-Google-Fonts-來替代\"><a href=\"#用-Free-Google-Fonts-來替代\" class=\"headerlink\" title=\"用 Free Google Fonts 來替代\"></a>用 Free Google Fonts 來替代</h1><p>因為 Google Fonts 真的很充足，所以我就鎖定在這裡面找比較快。下面是網路上找到的對照圖。原文記錄在最後面。光是 “Helvetica” 就可以找到三種字體可以替換呢XD</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEWygFj3wgLJF9hhWzvD_n_DAfCCg7c-Cuu1UqyP1BMZSCn6vbGf0l1HN_KdQF_raJFskEI0FmfFn5GFbYMdbTMaNHf8XxR7wZrMGvTx2MCNQrcL9pdAOVqZBmonmLGcwETihZbg0tbr0LCiqh4UmUiPCA=w730-h1442-no?authuser=0\" alt=\"用 Free Google Fonts 替代\"></p>\n<ol>\n<li>Helvetica &gt;&gt;&gt; Open Sans </li>\n<li>Helvetica &gt;&gt;&gt; Arimo</li>\n<li>Helvetica &gt;&gt;&gt; Work Sans</li>\n<li>Frutiger &gt;&gt;&gt; Hind</li>\n<li>Futura &gt;&gt;&gt; Nunito</li>\n<li>Futura&gt;&gt;&gt; Kumbh Sans</li>\n<li>Futura&gt;&gt;&gt; Questrial</li>\n<li>Baskerville &gt;&gt;&gt; Libre Baskerville</li>\n<li>Proxima Nova &gt;&gt;&gt; Montserrat</li>\n<li>Adobe Caslon &gt;&gt;&gt; Lusitana</li>\n<li>Neo Sans &gt;&gt;&gt; Armata</li>\n<li>FF Meta Web Pro &gt;&gt;&gt; Source Sans Pro</li>\n<li>FF DIN &gt;&gt;&gt; Roboto</li>\n<li>Poster Bodoni &gt;&gt;&gt; Abril Fatface</li>\n</ol>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.psd2html.com/blog/web-font-alternatives.html\">Web Fonts Cheat Sheet: Free Google Fonts Alternatives to Futura and the Like</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://res-4.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_256,w_256,f_auto,q_auto:eco/hoz3ba7owjjzrg9dxrqi","excerpt":"<p>最近將舊的 Sketch 檔案匯入 Figma 時，會發生找不到 “Helvetica” 字體的問題。但我覺得這麼“基本”的字體應該 Figma 會有吧？！仔細一找真的不在 Figma 字體的下拉清單（眼神死…），所以我就跑去找有什麼相似的字體可以做替換。幸好，找到了不錯的資源，就趕緊記錄下來。</p>","more":"<h1 id=\"用-Free-Google-Fonts-來替代\"><a href=\"#用-Free-Google-Fonts-來替代\" class=\"headerlink\" title=\"用 Free Google Fonts 來替代\"></a>用 Free Google Fonts 來替代</h1><p>因為 Google Fonts 真的很充足，所以我就鎖定在這裡面找比較快。下面是網路上找到的對照圖。原文記錄在最後面。光是 “Helvetica” 就可以找到三種字體可以替換呢XD</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEWygFj3wgLJF9hhWzvD_n_DAfCCg7c-Cuu1UqyP1BMZSCn6vbGf0l1HN_KdQF_raJFskEI0FmfFn5GFbYMdbTMaNHf8XxR7wZrMGvTx2MCNQrcL9pdAOVqZBmonmLGcwETihZbg0tbr0LCiqh4UmUiPCA=w730-h1442-no?authuser=0\" alt=\"用 Free Google Fonts 替代\"></p>\n<ol>\n<li>Helvetica &gt;&gt;&gt; Open Sans </li>\n<li>Helvetica &gt;&gt;&gt; Arimo</li>\n<li>Helvetica &gt;&gt;&gt; Work Sans</li>\n<li>Frutiger &gt;&gt;&gt; Hind</li>\n<li>Futura &gt;&gt;&gt; Nunito</li>\n<li>Futura&gt;&gt;&gt; Kumbh Sans</li>\n<li>Futura&gt;&gt;&gt; Questrial</li>\n<li>Baskerville &gt;&gt;&gt; Libre Baskerville</li>\n<li>Proxima Nova &gt;&gt;&gt; Montserrat</li>\n<li>Adobe Caslon &gt;&gt;&gt; Lusitana</li>\n<li>Neo Sans &gt;&gt;&gt; Armata</li>\n<li>FF Meta Web Pro &gt;&gt;&gt; Source Sans Pro</li>\n<li>FF DIN &gt;&gt;&gt; Roboto</li>\n<li>Poster Bodoni &gt;&gt;&gt; Abril Fatface</li>\n</ol>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://www.psd2html.com/blog/web-font-alternatives.html\">Web Fonts Cheat Sheet: Free Google Fonts Alternatives to Futura and the Like</a></li>\n</ul>"},{"title":"Midjourney - AI Art","thumbnailImage":"https://www.gitbook.com/cdn-cgi/image/width=40,height=40,fit=contain,dpr=2,format=auto/https%3A%2F%2F366511654-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F6Bl9seaj2HHrtdPiMKPI%252Ficon%252FZsAR24JQyZWqom2XGgji%252Funknown-7.png%3Falt%3Dmedia%26token%3Ddef5d2e9-0c43-46cc-b5cb-bf2cb626f3d9","thumbnailImagePosition":"left","coverImage":"https://www.cup.com.hk/wp-content/uploads/2022/09/Th%C3%A9%C3%A2tre_D%E2%80%99op%C3%A9ra_Spatial.jpg","coverMeta":"out","date":"2022-09-13T16:00:00.000Z","updated":"2022-09-13T16:00:00.000Z","_content":"\n最近有藝術作品利用 AI 繪圖技術 Midjourney 製成參加比賽獲獎，有很多篇新聞報導，讓大眾開始反思 AI 繪圖的可能性。[(AI 作品奪藝術獎：究竟甚麼是藝術？)](https://www.cup.com.hk/2022/09/06/midjourney-ai-artwork/) 基於好奇，所以我也去試玩看看。\n\n<!--more-->\n\n# 在私有 Discord Server 加入 Midjourney Bot\n\n因為本身已經有 Discord 帳號，所以就嘗試將 Midjourney Bot 加入私有 Server，這樣就可以不被其他討論串干擾，可以專心的使用。這邊簡單說明怎麼加入 Midjourney Bot。\n\n1. 從使用者清單搜尋並選取 Midjourney Bot，然後點擊 \"Add to Server\"\n\n![Add to Server](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FxcZv42rRdX0h1jAdozx9%2FMJ_BotInvite.png?alt=media&token=5457b2d2-6c4e-446a-b8d1-37cf195b8653)\n\n2. 選擇你要加入的私有 server， 跟著步驟指示加入 Midjourney Bot.\n\n![Authorize](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FAUtdCvJ2CTV8HJb596Xk%2FMJ_AuthorizeBot.png?alt=media&token=18ec7508-4d43-4aab-b25c-c0f8558d473a)\n\n# 創建藝術\n\n1. 選擇 Server 上隨便一個頻道，使用 `/imagine` 指令開始作畫。\n\n![/imagine 指令](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FIujTWOvV8MHvoMuAdhQI%2Fimagine_command_popup_click.gif?alt=media&token=3a15d252-3068-4713-9a47-2deb32c3bcdd)\n\n2. 等待 Bot 作畫需要一點時間，完成後會出現選項，讓使用者可以更近一步的加上細節，或另外延伸。如下圖，他會出現 `U1, U2, U3, U4` 的選項，代表對 1-4 的某張圖加上細節， `V1, V2, V3, V4` 的選項，則是代表對 1-4 的某張圖選擇一張再做一次延展變形。\n\n![加上細節或另外延伸](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FDMyymwMpj3lURSrF91RF%2F167755032-fe6935a9-b6a2-4b80-8f73-13916c170ceb.png?alt=media&token=718f14b7-8d9b-41de-899d-63dd705ef14a)\n\n3. 一直重複上述步驟直到有滿意的圖為止。PS. 一個帳號只能用 25 次免費的AI 演算，包含點 U1-4, V1-4 按鈕。可以用 `/info` 指令查看剩下幾次。\n\n# 試試看\n\n我一開始嘗試的關鍵字: cats vector logo，中間按了幾次 V 出來的。\n\n![cats vector logo](https://lh3.googleusercontent.com/pw/AL9nZEVoFt88KToDiW1JAVlQPcRPZMjBHQBo0T2k1xierdhuzSYTdpCTHoClCD2kNh4uYwHnrcwDmJ7An75Y6MILK81wDVDbNR1VTYOGauDn82pZ0dXglGwUbhDaAGPdhVB-0NEqTxO2okQvuaY3RL93A0igjg=w850-h1442-no?authuser=0)\n\n嘗試另一組關鍵字： smart factory illustration。出現幾張不太一樣的變化，我選了第一張去做 U 的細節。\n\n![smart factory illustration](https://lh3.googleusercontent.com/pw/AL9nZEUamIWByBx2AC56tbMJsSHBOLbjOigAZ1SDVwNFRoCltt_L0xmiUoCZQBXy6cyRZHxIDuROyRo3hgT65Wt1XbiqYF4sEcJdblxHxdZXQrNQM4l2RDl2t1-WSvvwil7KclS0ud8sR0bywH1KKO0tcgrLwg=w978-h1442-no?authuser=0)\n\n最後 AI 幫我做出的 Upscaled 感覺還不賴。\n\n![smart factory illustration](https://lh3.googleusercontent.com/pw/AL9nZEXEI51PW6upxKI-eGWRdeilwOYZVYVExCesea9tgXq6VjM6LXf6uyqB5ITzrS0G9E5s6uhvxO0BpPs_FULbLGeBkBtSr7xGB-CpwLsgKoVREpIddwIoecAuLbRLUnrDfgfNjbXa5hmwoOhq2yMtPhvJxA=w914-h1442-no?authuser=0)\n\n出圖速度我覺得都蠻快的，不會太久，拿來當作靈感或是大背景底圖都不錯用。不過重點還是要下好關鍵字，才能跑出想要的效果呦～\n\n# Reference\n\n* [Midjourney Documentation](https://midjourney.gitbook.io/docs/)\n* [Use Midjourney on your own Discord Server](https://midjourney.gitbook.io/docs/use-midjourney-on-your-own-discord-server)\n","source":"_posts/UXUI/Midjourney-AI-Art.md","raw":"---\ntitle: Midjourney - AI Art\ncategories:\n  - UXUI\nthumbnailImage: https://www.gitbook.com/cdn-cgi/image/width=40,height=40,fit=contain,dpr=2,format=auto/https%3A%2F%2F366511654-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F6Bl9seaj2HHrtdPiMKPI%252Ficon%252FZsAR24JQyZWqom2XGgji%252Funknown-7.png%3Falt%3Dmedia%26token%3Ddef5d2e9-0c43-46cc-b5cb-bf2cb626f3d9\nthumbnailImagePosition: left\ncoverImage: https://www.cup.com.hk/wp-content/uploads/2022/09/Th%C3%A9%C3%A2tre_D%E2%80%99op%C3%A9ra_Spatial.jpg\ncoverMeta: out\ntags: [UX, UI]\ndate: 2022/09/14\nupdated: 2022/09/14\n---\n\n最近有藝術作品利用 AI 繪圖技術 Midjourney 製成參加比賽獲獎，有很多篇新聞報導，讓大眾開始反思 AI 繪圖的可能性。[(AI 作品奪藝術獎：究竟甚麼是藝術？)](https://www.cup.com.hk/2022/09/06/midjourney-ai-artwork/) 基於好奇，所以我也去試玩看看。\n\n<!--more-->\n\n# 在私有 Discord Server 加入 Midjourney Bot\n\n因為本身已經有 Discord 帳號，所以就嘗試將 Midjourney Bot 加入私有 Server，這樣就可以不被其他討論串干擾，可以專心的使用。這邊簡單說明怎麼加入 Midjourney Bot。\n\n1. 從使用者清單搜尋並選取 Midjourney Bot，然後點擊 \"Add to Server\"\n\n![Add to Server](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FxcZv42rRdX0h1jAdozx9%2FMJ_BotInvite.png?alt=media&token=5457b2d2-6c4e-446a-b8d1-37cf195b8653)\n\n2. 選擇你要加入的私有 server， 跟著步驟指示加入 Midjourney Bot.\n\n![Authorize](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FAUtdCvJ2CTV8HJb596Xk%2FMJ_AuthorizeBot.png?alt=media&token=18ec7508-4d43-4aab-b25c-c0f8558d473a)\n\n# 創建藝術\n\n1. 選擇 Server 上隨便一個頻道，使用 `/imagine` 指令開始作畫。\n\n![/imagine 指令](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FIujTWOvV8MHvoMuAdhQI%2Fimagine_command_popup_click.gif?alt=media&token=3a15d252-3068-4713-9a47-2deb32c3bcdd)\n\n2. 等待 Bot 作畫需要一點時間，完成後會出現選項，讓使用者可以更近一步的加上細節，或另外延伸。如下圖，他會出現 `U1, U2, U3, U4` 的選項，代表對 1-4 的某張圖加上細節， `V1, V2, V3, V4` 的選項，則是代表對 1-4 的某張圖選擇一張再做一次延展變形。\n\n![加上細節或另外延伸](https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FDMyymwMpj3lURSrF91RF%2F167755032-fe6935a9-b6a2-4b80-8f73-13916c170ceb.png?alt=media&token=718f14b7-8d9b-41de-899d-63dd705ef14a)\n\n3. 一直重複上述步驟直到有滿意的圖為止。PS. 一個帳號只能用 25 次免費的AI 演算，包含點 U1-4, V1-4 按鈕。可以用 `/info` 指令查看剩下幾次。\n\n# 試試看\n\n我一開始嘗試的關鍵字: cats vector logo，中間按了幾次 V 出來的。\n\n![cats vector logo](https://lh3.googleusercontent.com/pw/AL9nZEVoFt88KToDiW1JAVlQPcRPZMjBHQBo0T2k1xierdhuzSYTdpCTHoClCD2kNh4uYwHnrcwDmJ7An75Y6MILK81wDVDbNR1VTYOGauDn82pZ0dXglGwUbhDaAGPdhVB-0NEqTxO2okQvuaY3RL93A0igjg=w850-h1442-no?authuser=0)\n\n嘗試另一組關鍵字： smart factory illustration。出現幾張不太一樣的變化，我選了第一張去做 U 的細節。\n\n![smart factory illustration](https://lh3.googleusercontent.com/pw/AL9nZEUamIWByBx2AC56tbMJsSHBOLbjOigAZ1SDVwNFRoCltt_L0xmiUoCZQBXy6cyRZHxIDuROyRo3hgT65Wt1XbiqYF4sEcJdblxHxdZXQrNQM4l2RDl2t1-WSvvwil7KclS0ud8sR0bywH1KKO0tcgrLwg=w978-h1442-no?authuser=0)\n\n最後 AI 幫我做出的 Upscaled 感覺還不賴。\n\n![smart factory illustration](https://lh3.googleusercontent.com/pw/AL9nZEXEI51PW6upxKI-eGWRdeilwOYZVYVExCesea9tgXq6VjM6LXf6uyqB5ITzrS0G9E5s6uhvxO0BpPs_FULbLGeBkBtSr7xGB-CpwLsgKoVREpIddwIoecAuLbRLUnrDfgfNjbXa5hmwoOhq2yMtPhvJxA=w914-h1442-no?authuser=0)\n\n出圖速度我覺得都蠻快的，不會太久，拿來當作靈感或是大背景底圖都不錯用。不過重點還是要下好關鍵字，才能跑出想要的效果呦～\n\n# Reference\n\n* [Midjourney Documentation](https://midjourney.gitbook.io/docs/)\n* [Use Midjourney on your own Discord Server](https://midjourney.gitbook.io/docs/use-midjourney-on-your-own-discord-server)\n","slug":"UXUI/Midjourney-AI-Art","published":1,"_id":"cl81cdxmz0000rwy73bkccw3e","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近有藝術作品利用 AI 繪圖技術 Midjourney 製成參加比賽獲獎，有很多篇新聞報導，讓大眾開始反思 AI 繪圖的可能性。<a href=\"https://www.cup.com.hk/2022/09/06/midjourney-ai-artwork/\">(AI 作品奪藝術獎：究竟甚麼是藝術？)</a> 基於好奇，所以我也去試玩看看。</p>\n<span id=\"more\"></span>\n\n<h1 id=\"在私有-Discord-Server-加入-Midjourney-Bot\"><a href=\"#在私有-Discord-Server-加入-Midjourney-Bot\" class=\"headerlink\" title=\"在私有 Discord Server 加入 Midjourney Bot\"></a>在私有 Discord Server 加入 Midjourney Bot</h1><p>因為本身已經有 Discord 帳號，所以就嘗試將 Midjourney Bot 加入私有 Server，這樣就可以不被其他討論串干擾，可以專心的使用。這邊簡單說明怎麼加入 Midjourney Bot。</p>\n<ol>\n<li>從使用者清單搜尋並選取 Midjourney Bot，然後點擊 “Add to Server”</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FxcZv42rRdX0h1jAdozx9%2FMJ_BotInvite.png?alt=media&token=5457b2d2-6c4e-446a-b8d1-37cf195b8653\" alt=\"Add to Server\"></p>\n<ol start=\"2\">\n<li>選擇你要加入的私有 server， 跟著步驟指示加入 Midjourney Bot.</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FAUtdCvJ2CTV8HJb596Xk%2FMJ_AuthorizeBot.png?alt=media&token=18ec7508-4d43-4aab-b25c-c0f8558d473a\" alt=\"Authorize\"></p>\n<h1 id=\"創建藝術\"><a href=\"#創建藝術\" class=\"headerlink\" title=\"創建藝術\"></a>創建藝術</h1><ol>\n<li>選擇 Server 上隨便一個頻道，使用 <code>/imagine</code> 指令開始作畫。</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FIujTWOvV8MHvoMuAdhQI%2Fimagine_command_popup_click.gif?alt=media&token=3a15d252-3068-4713-9a47-2deb32c3bcdd\" alt=\"/imagine 指令\"></p>\n<ol start=\"2\">\n<li>等待 Bot 作畫需要一點時間，完成後會出現選項，讓使用者可以更近一步的加上細節，或另外延伸。如下圖，他會出現 <code>U1, U2, U3, U4</code> 的選項，代表對 1-4 的某張圖加上細節， <code>V1, V2, V3, V4</code> 的選項，則是代表對 1-4 的某張圖選擇一張再做一次延展變形。</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FDMyymwMpj3lURSrF91RF%2F167755032-fe6935a9-b6a2-4b80-8f73-13916c170ceb.png?alt=media&token=718f14b7-8d9b-41de-899d-63dd705ef14a\" alt=\"加上細節或另外延伸\"></p>\n<ol start=\"3\">\n<li>一直重複上述步驟直到有滿意的圖為止。PS. 一個帳號只能用 25 次免費的AI 演算，包含點 U1-4, V1-4 按鈕。可以用 <code>/info</code> 指令查看剩下幾次。</li>\n</ol>\n<h1 id=\"試試看\"><a href=\"#試試看\" class=\"headerlink\" title=\"試試看\"></a>試試看</h1><p>我一開始嘗試的關鍵字: cats vector logo，中間按了幾次 V 出來的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEVoFt88KToDiW1JAVlQPcRPZMjBHQBo0T2k1xierdhuzSYTdpCTHoClCD2kNh4uYwHnrcwDmJ7An75Y6MILK81wDVDbNR1VTYOGauDn82pZ0dXglGwUbhDaAGPdhVB-0NEqTxO2okQvuaY3RL93A0igjg=w850-h1442-no?authuser=0\" alt=\"cats vector logo\"></p>\n<p>嘗試另一組關鍵字： smart factory illustration。出現幾張不太一樣的變化，我選了第一張去做 U 的細節。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEUamIWByBx2AC56tbMJsSHBOLbjOigAZ1SDVwNFRoCltt_L0xmiUoCZQBXy6cyRZHxIDuROyRo3hgT65Wt1XbiqYF4sEcJdblxHxdZXQrNQM4l2RDl2t1-WSvvwil7KclS0ud8sR0bywH1KKO0tcgrLwg=w978-h1442-no?authuser=0\" alt=\"smart factory illustration\"></p>\n<p>最後 AI 幫我做出的 Upscaled 感覺還不賴。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEXEI51PW6upxKI-eGWRdeilwOYZVYVExCesea9tgXq6VjM6LXf6uyqB5ITzrS0G9E5s6uhvxO0BpPs_FULbLGeBkBtSr7xGB-CpwLsgKoVREpIddwIoecAuLbRLUnrDfgfNjbXa5hmwoOhq2yMtPhvJxA=w914-h1442-no?authuser=0\" alt=\"smart factory illustration\"></p>\n<p>出圖速度我覺得都蠻快的，不會太久，拿來當作靈感或是大背景底圖都不錯用。不過重點還是要下好關鍵字，才能跑出想要的效果呦～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://midjourney.gitbook.io/docs/\">Midjourney Documentation</a></li>\n<li><a href=\"https://midjourney.gitbook.io/docs/use-midjourney-on-your-own-discord-server\">Use Midjourney on your own Discord Server</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://www.gitbook.com/cdn-cgi/image/width=40,height=40,fit=contain,dpr=2,format=auto/https%3A%2F%2F366511654-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F6Bl9seaj2HHrtdPiMKPI%252Ficon%252FZsAR24JQyZWqom2XGgji%252Funknown-7.png%3Falt%3Dmedia%26token%3Ddef5d2e9-0c43-46cc-b5cb-bf2cb626f3d9","excerpt":"<p>最近有藝術作品利用 AI 繪圖技術 Midjourney 製成參加比賽獲獎，有很多篇新聞報導，讓大眾開始反思 AI 繪圖的可能性。<a href=\"https://www.cup.com.hk/2022/09/06/midjourney-ai-artwork/\">(AI 作品奪藝術獎：究竟甚麼是藝術？)</a> 基於好奇，所以我也去試玩看看。</p>","more":"<h1 id=\"在私有-Discord-Server-加入-Midjourney-Bot\"><a href=\"#在私有-Discord-Server-加入-Midjourney-Bot\" class=\"headerlink\" title=\"在私有 Discord Server 加入 Midjourney Bot\"></a>在私有 Discord Server 加入 Midjourney Bot</h1><p>因為本身已經有 Discord 帳號，所以就嘗試將 Midjourney Bot 加入私有 Server，這樣就可以不被其他討論串干擾，可以專心的使用。這邊簡單說明怎麼加入 Midjourney Bot。</p>\n<ol>\n<li>從使用者清單搜尋並選取 Midjourney Bot，然後點擊 “Add to Server”</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FxcZv42rRdX0h1jAdozx9%2FMJ_BotInvite.png?alt=media&token=5457b2d2-6c4e-446a-b8d1-37cf195b8653\" alt=\"Add to Server\"></p>\n<ol start=\"2\">\n<li>選擇你要加入的私有 server， 跟著步驟指示加入 Midjourney Bot.</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FAUtdCvJ2CTV8HJb596Xk%2FMJ_AuthorizeBot.png?alt=media&token=18ec7508-4d43-4aab-b25c-c0f8558d473a\" alt=\"Authorize\"></p>\n<h1 id=\"創建藝術\"><a href=\"#創建藝術\" class=\"headerlink\" title=\"創建藝術\"></a>創建藝術</h1><ol>\n<li>選擇 Server 上隨便一個頻道，使用 <code>/imagine</code> 指令開始作畫。</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FIujTWOvV8MHvoMuAdhQI%2Fimagine_command_popup_click.gif?alt=media&token=3a15d252-3068-4713-9a47-2deb32c3bcdd\" alt=\"/imagine 指令\"></p>\n<ol start=\"2\">\n<li>等待 Bot 作畫需要一點時間，完成後會出現選項，讓使用者可以更近一步的加上細節，或另外延伸。如下圖，他會出現 <code>U1, U2, U3, U4</code> 的選項，代表對 1-4 的某張圖加上細節， <code>V1, V2, V3, V4</code> 的選項，則是代表對 1-4 的某張圖選擇一張再做一次延展變形。</li>\n</ol>\n<p><img src=\"https://366511654-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F6Bl9seaj2HHrtdPiMKPI%2Fuploads%2FDMyymwMpj3lURSrF91RF%2F167755032-fe6935a9-b6a2-4b80-8f73-13916c170ceb.png?alt=media&token=718f14b7-8d9b-41de-899d-63dd705ef14a\" alt=\"加上細節或另外延伸\"></p>\n<ol start=\"3\">\n<li>一直重複上述步驟直到有滿意的圖為止。PS. 一個帳號只能用 25 次免費的AI 演算，包含點 U1-4, V1-4 按鈕。可以用 <code>/info</code> 指令查看剩下幾次。</li>\n</ol>\n<h1 id=\"試試看\"><a href=\"#試試看\" class=\"headerlink\" title=\"試試看\"></a>試試看</h1><p>我一開始嘗試的關鍵字: cats vector logo，中間按了幾次 V 出來的。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEVoFt88KToDiW1JAVlQPcRPZMjBHQBo0T2k1xierdhuzSYTdpCTHoClCD2kNh4uYwHnrcwDmJ7An75Y6MILK81wDVDbNR1VTYOGauDn82pZ0dXglGwUbhDaAGPdhVB-0NEqTxO2okQvuaY3RL93A0igjg=w850-h1442-no?authuser=0\" alt=\"cats vector logo\"></p>\n<p>嘗試另一組關鍵字： smart factory illustration。出現幾張不太一樣的變化，我選了第一張去做 U 的細節。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEUamIWByBx2AC56tbMJsSHBOLbjOigAZ1SDVwNFRoCltt_L0xmiUoCZQBXy6cyRZHxIDuROyRo3hgT65Wt1XbiqYF4sEcJdblxHxdZXQrNQM4l2RDl2t1-WSvvwil7KclS0ud8sR0bywH1KKO0tcgrLwg=w978-h1442-no?authuser=0\" alt=\"smart factory illustration\"></p>\n<p>最後 AI 幫我做出的 Upscaled 感覺還不賴。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEXEI51PW6upxKI-eGWRdeilwOYZVYVExCesea9tgXq6VjM6LXf6uyqB5ITzrS0G9E5s6uhvxO0BpPs_FULbLGeBkBtSr7xGB-CpwLsgKoVREpIddwIoecAuLbRLUnrDfgfNjbXa5hmwoOhq2yMtPhvJxA=w914-h1442-no?authuser=0\" alt=\"smart factory illustration\"></p>\n<p>出圖速度我覺得都蠻快的，不會太久，拿來當作靈感或是大背景底圖都不錯用。不過重點還是要下好關鍵字，才能跑出想要的效果呦～</p>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://midjourney.gitbook.io/docs/\">Midjourney Documentation</a></li>\n<li><a href=\"https://midjourney.gitbook.io/docs/use-midjourney-on-your-own-discord-server\">Use Midjourney on your own Discord Server</a></li>\n</ul>"},{"title":".NET 6.0 SPA with Vite and Vue 3 - Start New Project","thumbnailImage":"https://s3-us-west-2.amazonaws.com/ca3db/pbs.twimg.com/c4bff765d9dfb3d8c6163b1de3a8e1a78cf0f9399b5a79c35695a49813821c44.jpg","thumbnailImagePosition":"left","coverImage":"https://vitejs.dev/og-image-announcing-vite3.png","coverMeta":"out","date":"2022-10-25T16:00:00.000Z","updated":"2022-10-25T16:00:00.000Z","_content":"\nWebpack 雖然在前端很強大，起專案和 HMR 的速度也跟著套件裝越多越慢，但隨著 IE 的沒落，很多套件其實都不需再使用。這時候新一代的技術 [Vite](https://vitejs.dev/) 颳起一陣旋風，利用現代瀏覽器支持 ES 模塊的特性，直接用瀏覽器的資源做更快速的打包 & HMR，用了一次之後就回不去 Webpack 了 XD ~ 本篇說明如何用 NET 6 + Vite + Vue 3 來起一個新專案。\n\n<!--more-->\n\n## 起始 NET 6 專案\n\ndotnet new 指令會自動產生 react SPA 專案，我們接著對此專案稍作修改。\n\n```\ndotnet new react\n```\n\n刪除原本的 ClientApp 資料夾。\n\n![刪除原本的 ClientApp 資料夾](https://lh3.googleusercontent.com/pw/AL9nZEVq6mhxqbGkTScsxRNoBg8zQ2dKwUIao8A7aOXGmDiENHyOchrOS5ufJ3TzKNsoNsii9iXxtSEGAsSBL4-ioZT75DhaldcURq9hZVjwclfOkF7WV6d4t_ND0yH3m-ZpJS4cYLsxWk4PsYEFUtjFIn5tSA=w1058-h1080-no?authuser=0)\n\n## 用 Vite 建立 Vue 專案\n\n```\nnpm create vite@latest\n```\n\n專案名稱一樣取 ClientApp 即可，接著照步驟選擇 Vue 專案。\n![照步驟選擇 Vue 專案](https://lh3.googleusercontent.com/pw/AL9nZEXGCPDqdSBVl7JYhsH-5_uSZYSQkN8DcEKhBcJXKT56VDHuzo7qP0dSYNaawCLD3AXgDDg-gUAVmFtr6LTbO4UMbE0OfzsA4Ef9kNkre6X5vn-LoLDrnGEX3esyBpV890Z3yFkDPYX_tpvyT1eVgHPOqQ=w1252-h560-no?authuser=0)\n\n## 修改 .csproj 檔案\n\n針對以下幾點參數作說明:\n\n1. SpaProxyServerUrl: NET 專案起來之後的網址，可以放預設不動(`https://localhost:44434`)，或自己另外指定 port。\n2. SpaProxyLaunchCommand: 開發時要起 HMR 的指令，這邊用 Vite 專案內建的 `npm run dev`。\n3. SpaRoot: 這邊要放前端專案的資料夾名稱，因為我們故意取跟預設一樣的 ClientApp，所以這邊不用修改。\n4. DistFiles: 這邊要放 build 完成後的資料夾位置，這邊用 Vite 專案內建的 dist 資料夾 `$(SpaRoot)dist\\**`。\n\n```xml\n...\n<PropertyGroup>\n  <TargetFramework>net6.0</TargetFramework>\n  <Nullable>enable</Nullable>\n  <TypeScriptCompileBlocked>true</TypeScriptCompileBlocked>\n  <TypeScriptToolsVersion>Latest</TypeScriptToolsVersion>\n  <IsPackable>false</IsPackable>\n  <SpaRoot>ClientApp\\</SpaRoot>\n  <DefaultItemExcludes>$(DefaultItemExcludes);$(SpaRoot)node_modules\\**</DefaultItemExcludes>\n  <SpaProxyServerUrl>https://localhost:44434</SpaProxyServerUrl>\n  <SpaProxyLaunchCommand>npm run dev</SpaProxyLaunchCommand>\n  <RootNamespace>test_dotnet_vue_vite</RootNamespace>\n  <ImplicitUsings>enable</ImplicitUsings>\n</PropertyGroup>\n...\n<Target Name=\"PublishRunWebpack\" AfterTargets=\"ComputeFilesToPublish\">\n  <!-- As part of publishing, ensure the JS resources are freshly built in production mode -->\n  <Exec WorkingDirectory=\"$(SpaRoot)\" Command=\"npm install\" />\n  <Exec WorkingDirectory=\"$(SpaRoot)\" Command=\"npm run build\" />\n\n  <!-- Include the newly-built files in the publish output -->\n  <ItemGroup>\n    <DistFiles Include=\"$(SpaRoot)dist\\**\" />\n    <ResolvedFileToPublish Include=\"@(DistFiles->'%(FullPath)')\" Exclude=\"@(ResolvedFileToPublish)\">\n      <RelativePath>wwwroot\\%(RecursiveDir)%(FileName)%(Extension)</RelativePath>\n      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>\n      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>\n    </ResolvedFileToPublish>\n  </ItemGroup>\n</Target>\n```\n\n## 設定 Vue 專案的 https 憑證\n\n如果要開通 Vite https 可以安裝 https://github.com/liuweiGL/vite-plugin-mkcert。\n\n```\nnpm install --save-dev vite-plugin-mkcert\n```\n\n### 設定 Vite.config.js\n\n接著去設定 Vite.config.js。\n\n```js\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport mkcert from 'vite-plugin-mkcert'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue(), mkcert()],\n  server: {\n    port: 44434, // 要跟 .csproj 檔案中的 SpaProxyServerUrl 一致\n    https: true, // vite-plugin-mkcert\n    strictPort : true,\n    proxy: {\n      '/api' : {\n        target: 'https://localhost:7092', // 要跟 launchSettings.json 中的 applicationUrl 一致\n        changeOrigin: true,\n        secure: false,\n        rewrite: (path) => path.replace(/^\\/api/, '/api')\n      }\n    }\n  }\n})\n```\n\n## 完成~~\n\n完成後，可以直接使用 VS or VScode 的專案執行按鈕就能成功啟動囉~\n\n![啟動畫面](https://lh3.googleusercontent.com/pw/AL9nZEWpZD0_CrJszyUa5jnBkxTo7XFUfJrWszZJ3-jt88Qipkkt0mRQDhi45FNrso4NQkXdmF-CXJMsR_H5lsaXHoEjvFxFERuRvL7z8GOd8XalpW1LdMEBMG2XCqLRnX4qTuPLhP7nQX5KXMmVCPpb8D19dQ=w2490-h1442-no?authuser=0)\n\n今天的範例在 [github](https://github.com/Annilla/test-dotnet-vue-vite/tree/v1.0)，下回見～\n\n## 參考資料\n\n* [A guide to getting started with ASP.NET Core 6, Vite, and Vue 3](https://github.com/keithn/dotnetviteguide)\n* [Vite](https://vitejs.dev/)\n* [Vue 3](https://vuejs.org/)","source":"_posts/Dotnet/NET-6-SPA-with-Vite-Vue-3.md","raw":"---\ntitle: .NET 6.0 SPA with Vite and Vue 3 - Start New Project\ncategories:\n  - .NET\nthumbnailImage: https://s3-us-west-2.amazonaws.com/ca3db/pbs.twimg.com/c4bff765d9dfb3d8c6163b1de3a8e1a78cf0f9399b5a79c35695a49813821c44.jpg\nthumbnailImagePosition: left\ncoverImage: https://vitejs.dev/og-image-announcing-vite3.png\ncoverMeta: out\ntags: [.NET, dotnet, Vue, Vite, SPA, MVC, VScode]\ndate: 2022/10/26\nupdated: 2022/10/26\n---\n\nWebpack 雖然在前端很強大，起專案和 HMR 的速度也跟著套件裝越多越慢，但隨著 IE 的沒落，很多套件其實都不需再使用。這時候新一代的技術 [Vite](https://vitejs.dev/) 颳起一陣旋風，利用現代瀏覽器支持 ES 模塊的特性，直接用瀏覽器的資源做更快速的打包 & HMR，用了一次之後就回不去 Webpack 了 XD ~ 本篇說明如何用 NET 6 + Vite + Vue 3 來起一個新專案。\n\n<!--more-->\n\n## 起始 NET 6 專案\n\ndotnet new 指令會自動產生 react SPA 專案，我們接著對此專案稍作修改。\n\n```\ndotnet new react\n```\n\n刪除原本的 ClientApp 資料夾。\n\n![刪除原本的 ClientApp 資料夾](https://lh3.googleusercontent.com/pw/AL9nZEVq6mhxqbGkTScsxRNoBg8zQ2dKwUIao8A7aOXGmDiENHyOchrOS5ufJ3TzKNsoNsii9iXxtSEGAsSBL4-ioZT75DhaldcURq9hZVjwclfOkF7WV6d4t_ND0yH3m-ZpJS4cYLsxWk4PsYEFUtjFIn5tSA=w1058-h1080-no?authuser=0)\n\n## 用 Vite 建立 Vue 專案\n\n```\nnpm create vite@latest\n```\n\n專案名稱一樣取 ClientApp 即可，接著照步驟選擇 Vue 專案。\n![照步驟選擇 Vue 專案](https://lh3.googleusercontent.com/pw/AL9nZEXGCPDqdSBVl7JYhsH-5_uSZYSQkN8DcEKhBcJXKT56VDHuzo7qP0dSYNaawCLD3AXgDDg-gUAVmFtr6LTbO4UMbE0OfzsA4Ef9kNkre6X5vn-LoLDrnGEX3esyBpV890Z3yFkDPYX_tpvyT1eVgHPOqQ=w1252-h560-no?authuser=0)\n\n## 修改 .csproj 檔案\n\n針對以下幾點參數作說明:\n\n1. SpaProxyServerUrl: NET 專案起來之後的網址，可以放預設不動(`https://localhost:44434`)，或自己另外指定 port。\n2. SpaProxyLaunchCommand: 開發時要起 HMR 的指令，這邊用 Vite 專案內建的 `npm run dev`。\n3. SpaRoot: 這邊要放前端專案的資料夾名稱，因為我們故意取跟預設一樣的 ClientApp，所以這邊不用修改。\n4. DistFiles: 這邊要放 build 完成後的資料夾位置，這邊用 Vite 專案內建的 dist 資料夾 `$(SpaRoot)dist\\**`。\n\n```xml\n...\n<PropertyGroup>\n  <TargetFramework>net6.0</TargetFramework>\n  <Nullable>enable</Nullable>\n  <TypeScriptCompileBlocked>true</TypeScriptCompileBlocked>\n  <TypeScriptToolsVersion>Latest</TypeScriptToolsVersion>\n  <IsPackable>false</IsPackable>\n  <SpaRoot>ClientApp\\</SpaRoot>\n  <DefaultItemExcludes>$(DefaultItemExcludes);$(SpaRoot)node_modules\\**</DefaultItemExcludes>\n  <SpaProxyServerUrl>https://localhost:44434</SpaProxyServerUrl>\n  <SpaProxyLaunchCommand>npm run dev</SpaProxyLaunchCommand>\n  <RootNamespace>test_dotnet_vue_vite</RootNamespace>\n  <ImplicitUsings>enable</ImplicitUsings>\n</PropertyGroup>\n...\n<Target Name=\"PublishRunWebpack\" AfterTargets=\"ComputeFilesToPublish\">\n  <!-- As part of publishing, ensure the JS resources are freshly built in production mode -->\n  <Exec WorkingDirectory=\"$(SpaRoot)\" Command=\"npm install\" />\n  <Exec WorkingDirectory=\"$(SpaRoot)\" Command=\"npm run build\" />\n\n  <!-- Include the newly-built files in the publish output -->\n  <ItemGroup>\n    <DistFiles Include=\"$(SpaRoot)dist\\**\" />\n    <ResolvedFileToPublish Include=\"@(DistFiles->'%(FullPath)')\" Exclude=\"@(ResolvedFileToPublish)\">\n      <RelativePath>wwwroot\\%(RecursiveDir)%(FileName)%(Extension)</RelativePath>\n      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>\n      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>\n    </ResolvedFileToPublish>\n  </ItemGroup>\n</Target>\n```\n\n## 設定 Vue 專案的 https 憑證\n\n如果要開通 Vite https 可以安裝 https://github.com/liuweiGL/vite-plugin-mkcert。\n\n```\nnpm install --save-dev vite-plugin-mkcert\n```\n\n### 設定 Vite.config.js\n\n接著去設定 Vite.config.js。\n\n```js\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport mkcert from 'vite-plugin-mkcert'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue(), mkcert()],\n  server: {\n    port: 44434, // 要跟 .csproj 檔案中的 SpaProxyServerUrl 一致\n    https: true, // vite-plugin-mkcert\n    strictPort : true,\n    proxy: {\n      '/api' : {\n        target: 'https://localhost:7092', // 要跟 launchSettings.json 中的 applicationUrl 一致\n        changeOrigin: true,\n        secure: false,\n        rewrite: (path) => path.replace(/^\\/api/, '/api')\n      }\n    }\n  }\n})\n```\n\n## 完成~~\n\n完成後，可以直接使用 VS or VScode 的專案執行按鈕就能成功啟動囉~\n\n![啟動畫面](https://lh3.googleusercontent.com/pw/AL9nZEWpZD0_CrJszyUa5jnBkxTo7XFUfJrWszZJ3-jt88Qipkkt0mRQDhi45FNrso4NQkXdmF-CXJMsR_H5lsaXHoEjvFxFERuRvL7z8GOd8XalpW1LdMEBMG2XCqLRnX4qTuPLhP7nQX5KXMmVCPpb8D19dQ=w2490-h1442-no?authuser=0)\n\n今天的範例在 [github](https://github.com/Annilla/test-dotnet-vue-vite/tree/v1.0)，下回見～\n\n## 參考資料\n\n* [A guide to getting started with ASP.NET Core 6, Vite, and Vue 3](https://github.com/keithn/dotnetviteguide)\n* [Vite](https://vitejs.dev/)\n* [Vue 3](https://vuejs.org/)","slug":"Dotnet/NET-6-SPA-with-Vite-Vue-3","published":1,"_id":"cl9pfq80c00000dy79onh2nvp","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Webpack 雖然在前端很強大，起專案和 HMR 的速度也跟著套件裝越多越慢，但隨著 IE 的沒落，很多套件其實都不需再使用。這時候新一代的技術 <a href=\"https://vitejs.dev/\">Vite</a> 颳起一陣旋風，利用現代瀏覽器支持 ES 模塊的特性，直接用瀏覽器的資源做更快速的打包 &amp; HMR，用了一次之後就回不去 Webpack 了 XD ~ 本篇說明如何用 NET 6 + Vite + Vue 3 來起一個新專案。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"起始-NET-6-專案\"><a href=\"#起始-NET-6-專案\" class=\"headerlink\" title=\"起始 NET 6 專案\"></a>起始 NET 6 專案</h2><p>dotnet new 指令會自動產生 react SPA 專案，我們接著對此專案稍作修改。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new react</span><br></pre></td></tr></table></figure>\n\n<p>刪除原本的 ClientApp 資料夾。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEVq6mhxqbGkTScsxRNoBg8zQ2dKwUIao8A7aOXGmDiENHyOchrOS5ufJ3TzKNsoNsii9iXxtSEGAsSBL4-ioZT75DhaldcURq9hZVjwclfOkF7WV6d4t_ND0yH3m-ZpJS4cYLsxWk4PsYEFUtjFIn5tSA=w1058-h1080-no?authuser=0\" alt=\"刪除原本的 ClientApp 資料夾\"></p>\n<h2 id=\"用-Vite-建立-Vue-專案\"><a href=\"#用-Vite-建立-Vue-專案\" class=\"headerlink\" title=\"用 Vite 建立 Vue 專案\"></a>用 Vite 建立 Vue 專案</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm create vite@latest</span><br></pre></td></tr></table></figure>\n\n<p>專案名稱一樣取 ClientApp 即可，接著照步驟選擇 Vue 專案。<br><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEXGCPDqdSBVl7JYhsH-5_uSZYSQkN8DcEKhBcJXKT56VDHuzo7qP0dSYNaawCLD3AXgDDg-gUAVmFtr6LTbO4UMbE0OfzsA4Ef9kNkre6X5vn-LoLDrnGEX3esyBpV890Z3yFkDPYX_tpvyT1eVgHPOqQ=w1252-h560-no?authuser=0\" alt=\"照步驟選擇 Vue 專案\"></p>\n<h2 id=\"修改-csproj-檔案\"><a href=\"#修改-csproj-檔案\" class=\"headerlink\" title=\"修改 .csproj 檔案\"></a>修改 .csproj 檔案</h2><p>針對以下幾點參數作說明:</p>\n<ol>\n<li>SpaProxyServerUrl: NET 專案起來之後的網址，可以放預設不動(<code>https://localhost:44434</code>)，或自己另外指定 port。</li>\n<li>SpaProxyLaunchCommand: 開發時要起 HMR 的指令，這邊用 Vite 專案內建的 <code>npm run dev</code>。</li>\n<li>SpaRoot: 這邊要放前端專案的資料夾名稱，因為我們故意取跟預設一樣的 ClientApp，所以這邊不用修改。</li>\n<li>DistFiles: 這邊要放 build 完成後的資料夾位置，這邊用 Vite 專案內建的 dist 資料夾 <code>$(SpaRoot)dist\\**</code>。</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>net6.0<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Nullable</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">Nullable</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TypeScriptCompileBlocked</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">TypeScriptCompileBlocked</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TypeScriptToolsVersion</span>&gt;</span>Latest<span class=\"tag\">&lt;/<span class=\"name\">TypeScriptToolsVersion</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">IsPackable</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">IsPackable</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaRoot</span>&gt;</span>ClientApp\\<span class=\"tag\">&lt;/<span class=\"name\">SpaRoot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">DefaultItemExcludes</span>&gt;</span>$(DefaultItemExcludes);$(SpaRoot)node_modules\\**<span class=\"tag\">&lt;/<span class=\"name\">DefaultItemExcludes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaProxyServerUrl</span>&gt;</span>https://localhost:44434<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyServerUrl</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span>npm run dev<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">RootNamespace</span>&gt;</span>test_dotnet_vue_vite<span class=\"tag\">&lt;/<span class=\"name\">RootNamespace</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ImplicitUsings</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">ImplicitUsings</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Target</span> <span class=\"attr\">Name</span>=<span class=\"string\">&quot;PublishRunWebpack&quot;</span> <span class=\"attr\">AfterTargets</span>=<span class=\"string\">&quot;ComputeFilesToPublish&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- As part of publishing, ensure the JS resources are freshly built in production mode --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Exec</span> <span class=\"attr\">WorkingDirectory</span>=<span class=\"string\">&quot;$(SpaRoot)&quot;</span> <span class=\"attr\">Command</span>=<span class=\"string\">&quot;npm install&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Exec</span> <span class=\"attr\">WorkingDirectory</span>=<span class=\"string\">&quot;$(SpaRoot)&quot;</span> <span class=\"attr\">Command</span>=<span class=\"string\">&quot;npm run build&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Include the newly-built files in the publish output --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DistFiles</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;$(SpaRoot)dist\\**&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ResolvedFileToPublish</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;@(DistFiles-&gt;&#x27;%(FullPath)&#x27;)&quot;</span> <span class=\"attr\">Exclude</span>=<span class=\"string\">&quot;@(ResolvedFileToPublish)&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">RelativePath</span>&gt;</span>wwwroot\\%(RecursiveDir)%(FileName)%(Extension)<span class=\"tag\">&lt;/<span class=\"name\">RelativePath</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">CopyToPublishDirectory</span>&gt;</span>PreserveNewest<span class=\"tag\">&lt;/<span class=\"name\">CopyToPublishDirectory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ExcludeFromSingleFile</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">ExcludeFromSingleFile</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ResolvedFileToPublish</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Target</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-Vue-專案的-https-憑證\"><a href=\"#設定-Vue-專案的-https-憑證\" class=\"headerlink\" title=\"設定 Vue 專案的 https 憑證\"></a>設定 Vue 專案的 https 憑證</h2><p>如果要開通 Vite https 可以安裝 <a href=\"https://github.com/liuweiGL/vite-plugin-mkcert%E3%80%82\">https://github.com/liuweiGL/vite-plugin-mkcert。</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev vite-plugin-mkcert</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"設定-Vite-config-js\"><a href=\"#設定-Vite-config-js\" class=\"headerlink\" title=\"設定 Vite.config.js\"></a>設定 Vite.config.js</h3><p>接著去設定 Vite.config.js。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> mkcert <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite-plugin-mkcert&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">mkcert</span>()],</span><br><span class=\"line\">  <span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">44434</span>, <span class=\"comment\">// 要跟 .csproj 檔案中的 SpaProxyServerUrl 一致</span></span><br><span class=\"line\">    <span class=\"attr\">https</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// vite-plugin-mkcert</span></span><br><span class=\"line\">    strictPort : <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;/api&#x27;</span> : &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;https://localhost:7092&#x27;</span>, <span class=\"comment\">// 要跟 launchSettings.json 中的 applicationUrl 一致</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">rewrite</span>: <span class=\"function\">(<span class=\"params\">path</span>) =&gt;</span> path.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/^\\/api/</span>, <span class=\"string\">&#x27;/api&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"完成\"><a href=\"#完成\" class=\"headerlink\" title=\"完成~~\"></a>完成~~</h2><p>完成後，可以直接使用 VS or VScode 的專案執行按鈕就能成功啟動囉~</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEWpZD0_CrJszyUa5jnBkxTo7XFUfJrWszZJ3-jt88Qipkkt0mRQDhi45FNrso4NQkXdmF-CXJMsR_H5lsaXHoEjvFxFERuRvL7z8GOd8XalpW1LdMEBMG2XCqLRnX4qTuPLhP7nQX5KXMmVCPpb8D19dQ=w2490-h1442-no?authuser=0\" alt=\"啟動畫面\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/test-dotnet-vue-vite/tree/v1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/keithn/dotnetviteguide\">A guide to getting started with ASP.NET Core 6, Vite, and Vue 3</a></li>\n<li><a href=\"https://vitejs.dev/\">Vite</a></li>\n<li><a href=\"https://vuejs.org/\">Vue 3</a></li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":"https://s3-us-west-2.amazonaws.com/ca3db/pbs.twimg.com/c4bff765d9dfb3d8c6163b1de3a8e1a78cf0f9399b5a79c35695a49813821c44.jpg","excerpt":"<p>Webpack 雖然在前端很強大，起專案和 HMR 的速度也跟著套件裝越多越慢，但隨著 IE 的沒落，很多套件其實都不需再使用。這時候新一代的技術 <a href=\"https://vitejs.dev/\">Vite</a> 颳起一陣旋風，利用現代瀏覽器支持 ES 模塊的特性，直接用瀏覽器的資源做更快速的打包 &amp; HMR，用了一次之後就回不去 Webpack 了 XD ~ 本篇說明如何用 NET 6 + Vite + Vue 3 來起一個新專案。</p>","more":"<h2 id=\"起始-NET-6-專案\"><a href=\"#起始-NET-6-專案\" class=\"headerlink\" title=\"起始 NET 6 專案\"></a>起始 NET 6 專案</h2><p>dotnet new 指令會自動產生 react SPA 專案，我們接著對此專案稍作修改。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new react</span><br></pre></td></tr></table></figure>\n\n<p>刪除原本的 ClientApp 資料夾。</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEVq6mhxqbGkTScsxRNoBg8zQ2dKwUIao8A7aOXGmDiENHyOchrOS5ufJ3TzKNsoNsii9iXxtSEGAsSBL4-ioZT75DhaldcURq9hZVjwclfOkF7WV6d4t_ND0yH3m-ZpJS4cYLsxWk4PsYEFUtjFIn5tSA=w1058-h1080-no?authuser=0\" alt=\"刪除原本的 ClientApp 資料夾\"></p>\n<h2 id=\"用-Vite-建立-Vue-專案\"><a href=\"#用-Vite-建立-Vue-專案\" class=\"headerlink\" title=\"用 Vite 建立 Vue 專案\"></a>用 Vite 建立 Vue 專案</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm create vite@latest</span><br></pre></td></tr></table></figure>\n\n<p>專案名稱一樣取 ClientApp 即可，接著照步驟選擇 Vue 專案。<br><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEXGCPDqdSBVl7JYhsH-5_uSZYSQkN8DcEKhBcJXKT56VDHuzo7qP0dSYNaawCLD3AXgDDg-gUAVmFtr6LTbO4UMbE0OfzsA4Ef9kNkre6X5vn-LoLDrnGEX3esyBpV890Z3yFkDPYX_tpvyT1eVgHPOqQ=w1252-h560-no?authuser=0\" alt=\"照步驟選擇 Vue 專案\"></p>\n<h2 id=\"修改-csproj-檔案\"><a href=\"#修改-csproj-檔案\" class=\"headerlink\" title=\"修改 .csproj 檔案\"></a>修改 .csproj 檔案</h2><p>針對以下幾點參數作說明:</p>\n<ol>\n<li>SpaProxyServerUrl: NET 專案起來之後的網址，可以放預設不動(<code>https://localhost:44434</code>)，或自己另外指定 port。</li>\n<li>SpaProxyLaunchCommand: 開發時要起 HMR 的指令，這邊用 Vite 專案內建的 <code>npm run dev</code>。</li>\n<li>SpaRoot: 這邊要放前端專案的資料夾名稱，因為我們故意取跟預設一樣的 ClientApp，所以這邊不用修改。</li>\n<li>DistFiles: 這邊要放 build 完成後的資料夾位置，這邊用 Vite 專案內建的 dist 資料夾 <code>$(SpaRoot)dist\\**</code>。</li>\n</ol>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TargetFramework</span>&gt;</span>net6.0<span class=\"tag\">&lt;/<span class=\"name\">TargetFramework</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Nullable</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">Nullable</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TypeScriptCompileBlocked</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">TypeScriptCompileBlocked</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">TypeScriptToolsVersion</span>&gt;</span>Latest<span class=\"tag\">&lt;/<span class=\"name\">TypeScriptToolsVersion</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">IsPackable</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">IsPackable</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaRoot</span>&gt;</span>ClientApp\\<span class=\"tag\">&lt;/<span class=\"name\">SpaRoot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">DefaultItemExcludes</span>&gt;</span>$(DefaultItemExcludes);$(SpaRoot)node_modules\\**<span class=\"tag\">&lt;/<span class=\"name\">DefaultItemExcludes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaProxyServerUrl</span>&gt;</span>https://localhost:44434<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyServerUrl</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span>npm run dev<span class=\"tag\">&lt;/<span class=\"name\">SpaProxyLaunchCommand</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">RootNamespace</span>&gt;</span>test_dotnet_vue_vite<span class=\"tag\">&lt;/<span class=\"name\">RootNamespace</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ImplicitUsings</span>&gt;</span>enable<span class=\"tag\">&lt;/<span class=\"name\">ImplicitUsings</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Target</span> <span class=\"attr\">Name</span>=<span class=\"string\">&quot;PublishRunWebpack&quot;</span> <span class=\"attr\">AfterTargets</span>=<span class=\"string\">&quot;ComputeFilesToPublish&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- As part of publishing, ensure the JS resources are freshly built in production mode --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Exec</span> <span class=\"attr\">WorkingDirectory</span>=<span class=\"string\">&quot;$(SpaRoot)&quot;</span> <span class=\"attr\">Command</span>=<span class=\"string\">&quot;npm install&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Exec</span> <span class=\"attr\">WorkingDirectory</span>=<span class=\"string\">&quot;$(SpaRoot)&quot;</span> <span class=\"attr\">Command</span>=<span class=\"string\">&quot;npm run build&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Include the newly-built files in the publish output --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DistFiles</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;$(SpaRoot)dist\\**&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ResolvedFileToPublish</span> <span class=\"attr\">Include</span>=<span class=\"string\">&quot;@(DistFiles-&gt;&#x27;%(FullPath)&#x27;)&quot;</span> <span class=\"attr\">Exclude</span>=<span class=\"string\">&quot;@(ResolvedFileToPublish)&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">RelativePath</span>&gt;</span>wwwroot\\%(RecursiveDir)%(FileName)%(Extension)<span class=\"tag\">&lt;/<span class=\"name\">RelativePath</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">CopyToPublishDirectory</span>&gt;</span>PreserveNewest<span class=\"tag\">&lt;/<span class=\"name\">CopyToPublishDirectory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">ExcludeFromSingleFile</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">ExcludeFromSingleFile</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ResolvedFileToPublish</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ItemGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Target</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"設定-Vue-專案的-https-憑證\"><a href=\"#設定-Vue-專案的-https-憑證\" class=\"headerlink\" title=\"設定 Vue 專案的 https 憑證\"></a>設定 Vue 專案的 https 憑證</h2><p>如果要開通 Vite https 可以安裝 <a href=\"https://github.com/liuweiGL/vite-plugin-mkcert%E3%80%82\">https://github.com/liuweiGL/vite-plugin-mkcert。</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev vite-plugin-mkcert</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"設定-Vite-config-js\"><a href=\"#設定-Vite-config-js\" class=\"headerlink\" title=\"設定 Vite.config.js\"></a>設定 Vite.config.js</h3><p>接著去設定 Vite.config.js。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; defineConfig &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> vue <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> mkcert <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vite-plugin-mkcert&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// https://vitejs.dev/config/</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title function_\">defineConfig</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"title function_\">vue</span>(), <span class=\"title function_\">mkcert</span>()],</span><br><span class=\"line\">  <span class=\"attr\">server</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">44434</span>, <span class=\"comment\">// 要跟 .csproj 檔案中的 SpaProxyServerUrl 一致</span></span><br><span class=\"line\">    <span class=\"attr\">https</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// vite-plugin-mkcert</span></span><br><span class=\"line\">    strictPort : <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;/api&#x27;</span> : &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;https://localhost:7092&#x27;</span>, <span class=\"comment\">// 要跟 launchSettings.json 中的 applicationUrl 一致</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">secure</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">rewrite</span>: <span class=\"function\">(<span class=\"params\">path</span>) =&gt;</span> path.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/^\\/api/</span>, <span class=\"string\">&#x27;/api&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"完成\"><a href=\"#完成\" class=\"headerlink\" title=\"完成~~\"></a>完成~~</h2><p>完成後，可以直接使用 VS or VScode 的專案執行按鈕就能成功啟動囉~</p>\n<p><img src=\"https://lh3.googleusercontent.com/pw/AL9nZEWpZD0_CrJszyUa5jnBkxTo7XFUfJrWszZJ3-jt88Qipkkt0mRQDhi45FNrso4NQkXdmF-CXJMsR_H5lsaXHoEjvFxFERuRvL7z8GOd8XalpW1LdMEBMG2XCqLRnX4qTuPLhP7nQX5KXMmVCPpb8D19dQ=w2490-h1442-no?authuser=0\" alt=\"啟動畫面\"></p>\n<p>今天的範例在 <a href=\"https://github.com/Annilla/test-dotnet-vue-vite/tree/v1.0\">github</a>，下回見～</p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://github.com/keithn/dotnetviteguide\">A guide to getting started with ASP.NET Core 6, Vite, and Vue 3</a></li>\n<li><a href=\"https://vitejs.dev/\">Vite</a></li>\n<li><a href=\"https://vuejs.org/\">Vue 3</a></li>\n</ul>"}],"PostAsset":[],"PostCategory":[{"post_id":"cl0uov9p60001r3y7husy1qym","category_id":"cl0uov9pc0004r3y787q8enrk","_id":"cl0uov9pq000er3y72qb58ddl"},{"post_id":"cl0uov9pa0003r3y74o9bhppk","category_id":"cl0uov9pm000ar3y71jh926yd","_id":"cl0uov9pu000lr3y7evyhcqrh"},{"post_id":"cl0uov9pr000hr3y73lbyeqfl","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9pz000qr3y7fq6e9bux"},{"post_id":"cl0uov9pg0007r3y7eexdha5u","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9q2000ur3y7cq4dc786"},{"post_id":"cl0uov9ps000jr3y7dmr298r7","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9q3000wr3y7ejxv3322"},{"post_id":"cl0uov9pv000or3y7ht51a7kw","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9q6000zr3y7dr301xit"},{"post_id":"cl0uov9ph0008r3y7dj9f632t","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9q70013r3y78po8hjjd"},{"post_id":"cl0uov9py000pr3y794zke5vm","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9q90017r3y7hu8b5p23"},{"post_id":"cl0uov9pk0009r3y73a092sif","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9qa001br3y73em12h0m"},{"post_id":"cl0uov9pn000cr3y72kxubmd6","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9qe001er3y73eaq9q4u"},{"post_id":"cl0uov9pp000dr3y73io1b5bi","category_id":"cl0uov9pq000fr3y73qeae3hp","_id":"cl0uov9qf001hr3y765rjh974"},{"post_id":"cl0uov9q1000tr3y74sfwgcjy","category_id":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9qj001or3y7dd5h6y9z"},{"post_id":"cl0uov9q2000vr3y7hktbaioe","category_id":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9qm001vr3y7c5gu1630"},{"post_id":"cl0uov9q4000yr3y7d9mtgyn9","category_id":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9qp0020r3y74hjl65vi"},{"post_id":"cl0uov9q80016r3y7hsp3hgx5","category_id":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9qu002br3y7hkgghgf2"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9rb002hr3y74z4p4jry"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","category_id":"cl0uov9qv002dr3y7chm543io","_id":"cl0uov9re002qr3y7gnrkcisg"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9rg002wr3y7fa2l85fa"},{"post_id":"cl0uov9qg001jr3y7gt96fool","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9rj0030r3y791nbcxol"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9rl0037r3y7er678dv7"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9ro003dr3y7frrlcx03"},{"post_id":"cl0uov9ql001tr3y7djegesxw","category_id":"cl0uov9qr0025r3y74kgz6vw8","_id":"cl0uov9rr003kr3y7dws18bvf"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","category_id":"cl0uov9qv002dr3y7chm543io","_id":"cl0uov9ru003pr3y7dwva6qw1"},{"post_id":"cl0uov9qo001yr3y716qv9gbn","category_id":"cl0uov9rq003jr3y7ghtq8xg3","_id":"cl0uov9rx003xr3y7gayb3fi2"},{"post_id":"cl0uov9q60012r3y78hqwfn7u","category_id":"cl0uov9qb001cr3y79kkc501j","_id":"cl0uov9rz0044r3y7aonq22j6"},{"post_id":"cl0uov9q60012r3y78hqwfn7u","category_id":"cl0uov9ru003rr3y7hdhq5unw","_id":"cl0uov9s10048r3y7g6xq2wz3"},{"post_id":"cl0uov9qp0021r3y7filv2mmo","category_id":"cl0uov9rx003yr3y7834bhc8n","_id":"cl0uov9s2004dr3y78x995ubm"},{"post_id":"cl0uov9qr0024r3y7duia6p0v","category_id":"cl0uov9s00046r3y7gwg0dc1l","_id":"cl0uov9s5004lr3y7h30kgslh"},{"post_id":"cl0uov9qs0027r3y74r2z9uej","category_id":"cl0uov9s3004fr3y7fpz51f7g","_id":"cl0uov9s8004tr3y73frm9kh7"},{"post_id":"cl0uov9qt002ar3y7fg0i4r3a","category_id":"cl0uov9s00046r3y7gwg0dc1l","_id":"cl0uov9sd0050r3y7cywmhkba"},{"post_id":"cl0uov9qv002cr3y71fbeakm5","category_id":"cl0uov9s3004fr3y7fpz51f7g","_id":"cl0uov9sf0056r3y7djiz1h3x"},{"post_id":"cl0uov9qy002fr3y71xgrbbeu","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9sh005er3y7bjd6bo7i"},{"post_id":"cl0uov9ra002gr3y72yri3rp2","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9sl005kr3y736yt29jk"},{"post_id":"cl0uov9rd002nr3y712u65v7h","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9sz005tr3y7678wag7m"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9tg006ur3y7fl0t8rkv"},{"post_id":"cl0uov9rv003sr3y7e66l2jog","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9th0070r3y7e3li90uc"},{"post_id":"cl0uov9rw003ur3y714hrhsbm","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9ti0075r3y72w2ka1em"},{"post_id":"cl0uov9rx003zr3y71iuw5qhe","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9ti0079r3y7h7wn9wgh"},{"post_id":"cl0uov9ry0041r3y70oaxdox9","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tj007cr3y719ayel1p"},{"post_id":"cl0uov9s00045r3y71a0henme","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tj007fr3y7blqs7cxx"},{"post_id":"cl0uov9s10049r3y7c1iia5w5","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tk007jr3y7gy5j2zne"},{"post_id":"cl0uov9s2004cr3y73q5xczta","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tl007or3y74jl44tfh"},{"post_id":"cl0uov9s3004gr3y73aplg4lg","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tl007tr3y724oy7a1h"},{"post_id":"cl0uov9s4004jr3y7coqcdwsu","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tm007yr3y79whuhsre"},{"post_id":"cl0uov9s5004nr3y7aw369u5o","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tn0080r3y7c3fkbwsc"},{"post_id":"cl0uov9s7004qr3y7h26i54e6","category_id":"cl0uov9tm007xr3y77s7lav08","_id":"cl0uov9to0083r3y7a8mthmg2"},{"post_id":"cl0uov9s8004ur3y77z5q15vw","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9tq0087r3y7hrnufsm8"},{"post_id":"cl0uov9sa004xr3y7fqywfdgb","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9tq008ar3y7e5twh100"},{"post_id":"cl0uov9sd0051r3y77rztb2jn","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9tr008er3y77nhyblpw"},{"post_id":"cl0uov9se0054r3y7fitxcbm4","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9ts008jr3y7ca6hcguf"},{"post_id":"cl0uov9sf0058r3y7fz166smk","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9tt008or3y72nrydma5"},{"post_id":"cl0uov9sg005br3y7c5okgemz","category_id":"cl0uov9tn0081r3y7cts94aau","_id":"cl0uov9tu008tr3y7gcbh4p5t"},{"post_id":"cl0uov9si005fr3y7c0s71hsx","category_id":"cl0uov9t9006rr3y7esyu3rd6","_id":"cl0uov9tu008xr3y7byor1fwq"},{"post_id":"cl0uov9rc002lr3y704ig9ylc","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9tw0090r3y72llefj89"},{"post_id":"cl0uov9rc002lr3y704ig9ylc","category_id":"cl0uov9tt008sr3y76rrs9m6r","_id":"cl0uov9tx0093r3y7dp1c4i30"},{"post_id":"cl0uov9re002sr3y760w71mzu","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9ty0096r3y7g0g44sb3"},{"post_id":"cl0uov9re002sr3y760w71mzu","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9ty0099r3y7amsag2xl"},{"post_id":"cl0uov9rf002tr3y7049w6jgb","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9tz009cr3y72ao2f2w1"},{"post_id":"cl0uov9rf002tr3y7049w6jgb","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9tz009fr3y77bfxfxi4"},{"post_id":"cl0uov9rh002xr3y700jv01wf","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u0009ir3y78ob20sly"},{"post_id":"cl0uov9rh002xr3y700jv01wf","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9u0009lr3y7ey0ihq8t"},{"post_id":"cl0uov9ri002yr3y752clg4er","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u0009or3y7a5qkfsvk"},{"post_id":"cl0uov9ri002yr3y752clg4er","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9u1009qr3y70wqy0i03"},{"post_id":"cl0uov9rk0032r3y7b5cyee5f","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u1009sr3y710yw5b66"},{"post_id":"cl0uov9rk0032r3y7b5cyee5f","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9u1009ur3y758s494wt"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u1009vr3y797woe7bk"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","category_id":"cl0uov9tu008yr3y7b9abb017","_id":"cl0uov9u2009yr3y7bobsbb9h"},{"post_id":"cl0uov9rm0039r3y7dugodvqo","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u300a2r3y7dkjfab6a"},{"post_id":"cl0uov9rm0039r3y7dugodvqo","category_id":"cl0uov9u1009rr3y7929h7utp","_id":"cl0uov9u400a5r3y755h58hqa"},{"post_id":"cl0uov9rn003br3y7ay5decd1","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u400a8r3y794wj1jls"},{"post_id":"cl0uov9rn003br3y7ay5decd1","category_id":"cl0uov9u1009rr3y7929h7utp","_id":"cl0uov9u500abr3y7f93y7u3x"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u500aer3y7dmn4f7ma"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","category_id":"cl0uov9tt008sr3y76rrs9m6r","_id":"cl0uov9u600ahr3y7gl0e22f7"},{"post_id":"cl0uov9rp003hr3y7dzp8b7ej","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u600air3y747oq10zj"},{"post_id":"cl0uov9rp003hr3y7dzp8b7ej","category_id":"cl0uov9tt008sr3y76rrs9m6r","_id":"cl0uov9u600akr3y7h3elfyqq"},{"post_id":"cl0uov9rr003mr3y75arfbhn4","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl0uov9u600alr3y73sfcdlxt"},{"post_id":"cl0uov9rr003mr3y75arfbhn4","category_id":"cl0uov9u500adr3y7funx68lk","_id":"cl0uov9u600anr3y780wcdgyy"},{"post_id":"cl206zv5l0000smy7f10e2s00","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl206zv5s0003smy7hqcn9ftp"},{"post_id":"cl206zv5l0000smy7f10e2s00","category_id":"cl0uov9tt008sr3y76rrs9m6r","_id":"cl206zv5s0005smy7cwo59jzi"},{"post_id":"cl3ba55fs0000ysy78je975et","category_id":"cl0uov9tm007xr3y77s7lav08","_id":"cl3ba55g30003ysy75o8pgoy2"},{"post_id":"cl45aj4ty0000ohy7gbqx5qmi","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl45aj4ua0003ohy728lz36pi"},{"post_id":"cl45aj4ty0000ohy7gbqx5qmi","category_id":"cl0uov9u1009rr3y7929h7utp","_id":"cl45aj4ua0005ohy775s1aiv9"},{"post_id":"cl5szlbcd0000n4y7g1lsgsz0","category_id":"cl5szlbci0001n4y75bfdfumq","_id":"cl5szlbd40004n4y7h7tvad81"},{"post_id":"cl7066u8k0000g6y75aur50sr","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl7066u900003g6y75a6shqck"},{"post_id":"cl7066u8k0000g6y75aur50sr","category_id":"cl0uov9tt008sr3y76rrs9m6r","_id":"cl7066u910005g6y7ce89fkcv"},{"post_id":"cl81cdxmz0000rwy73bkccw3e","category_id":"cl0uov9sc004zr3y74lwq8r94","_id":"cl81cdxn70003rwy74algafah"},{"post_id":"cl9pfq80c00000dy79onh2nvp","category_id":"cl0uov9qv002dr3y7chm543io","_id":"cl9pfq81200020dy7930lhiu6"}],"PostTag":[{"post_id":"cl0uov9p60001r3y7husy1qym","tag_id":"cl0uov9pe0005r3y73vnx8wu0","_id":"cl0uov9ps000ir3y7bgqx4whe"},{"post_id":"cl0uov9p60001r3y7husy1qym","tag_id":"cl0uov9pm000br3y7hg29fv9m","_id":"cl0uov9pt000kr3y755wlaxoo"},{"post_id":"cl0uov9pg0007r3y7eexdha5u","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9q60011r3y74e9xg16t"},{"post_id":"cl0uov9pg0007r3y7eexdha5u","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9q80015r3y73x6ycmj9"},{"post_id":"cl0uov9pg0007r3y7eexdha5u","tag_id":"cl0uov9q0000sr3y7bl0q7m9e","_id":"cl0uov9qa0019r3y7dm8nd3g1"},{"post_id":"cl0uov9ph0008r3y7dj9f632t","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9qi001lr3y711x1htom"},{"post_id":"cl0uov9ph0008r3y7dj9f632t","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9qj001pr3y7e6of7ctd"},{"post_id":"cl0uov9ph0008r3y7dj9f632t","tag_id":"cl0uov9q0000sr3y7bl0q7m9e","_id":"cl0uov9ql001sr3y719co1d99"},{"post_id":"cl0uov9pk0009r3y73a092sif","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9qq0023r3y777eqbwhc"},{"post_id":"cl0uov9pk0009r3y73a092sif","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9qs0026r3y771wg1e22"},{"post_id":"cl0uov9pk0009r3y73a092sif","tag_id":"cl0uov9q0000sr3y7bl0q7m9e","_id":"cl0uov9qt0029r3y73scr25k2"},{"post_id":"cl0uov9pn000cr3y72kxubmd6","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9rc002kr3y76f706zgv"},{"post_id":"cl0uov9pn000cr3y72kxubmd6","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9rd002mr3y737mw5mvq"},{"post_id":"cl0uov9pn000cr3y72kxubmd6","tag_id":"cl0uov9q0000sr3y7bl0q7m9e","_id":"cl0uov9re002rr3y7dhde12zs"},{"post_id":"cl0uov9pp000dr3y73io1b5bi","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9rk0033r3y70kjo4blz"},{"post_id":"cl0uov9pp000dr3y73io1b5bi","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9rl0035r3y7fp8v72no"},{"post_id":"cl0uov9pp000dr3y73io1b5bi","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9rn003ar3y79kwo62de"},{"post_id":"cl0uov9pr000hr3y73lbyeqfl","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9rp003gr3y74z05cjza"},{"post_id":"cl0uov9pr000hr3y73lbyeqfl","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9rq003ir3y7ayzs6xpl"},{"post_id":"cl0uov9pr000hr3y73lbyeqfl","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9rs003nr3y791lfbl2p"},{"post_id":"cl0uov9ps000jr3y7dmr298r7","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9rw003tr3y7czoj00cs"},{"post_id":"cl0uov9ps000jr3y7dmr298r7","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9rx003vr3y78kk30rfd"},{"post_id":"cl0uov9ps000jr3y7dmr298r7","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9ry0040r3y70klz26c1"},{"post_id":"cl0uov9rv003sr3y7e66l2jog","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9rz0042r3y72x3f2yqp"},{"post_id":"cl0uov9rw003ur3y714hrhsbm","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9s00047r3y73tpoa501"},{"post_id":"cl0uov9rx003zr3y71iuw5qhe","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9s1004ar3y7876sh75m"},{"post_id":"cl0uov9pv000or3y7ht51a7kw","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9s2004er3y72mksa0vf"},{"post_id":"cl0uov9pv000or3y7ht51a7kw","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9s3004hr3y7eq76f3zl"},{"post_id":"cl0uov9pv000or3y7ht51a7kw","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9s5004kr3y7emhhfaid"},{"post_id":"cl0uov9pv000or3y7ht51a7kw","tag_id":"cl0uov9q0000sr3y7bl0q7m9e","_id":"cl0uov9s6004or3y7cbh4geg3"},{"post_id":"cl0uov9ry0041r3y70oaxdox9","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9s8004rr3y76gpoc1dh"},{"post_id":"cl0uov9s00045r3y71a0henme","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9s9004vr3y7biteeo18"},{"post_id":"cl0uov9py000pr3y794zke5vm","tag_id":"cl0uov9pq000gr3y79dw5gp74","_id":"cl0uov9sc004yr3y76zdk5m4x"},{"post_id":"cl0uov9py000pr3y794zke5vm","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9se0052r3y7h07haf7n"},{"post_id":"cl0uov9py000pr3y794zke5vm","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9sf0055r3y7fue73gd5"},{"post_id":"cl0uov9s10049r3y7c1iia5w5","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sg0059r3y74oyub505"},{"post_id":"cl0uov9s2004cr3y73q5xczta","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sh005cr3y725448wp6"},{"post_id":"cl0uov9q1000tr3y74sfwgcjy","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9sk005gr3y753zkan7i"},{"post_id":"cl0uov9s3004gr3y73aplg4lg","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sk005ir3y79x3rdde2"},{"post_id":"cl0uov9s4004jr3y7coqcdwsu","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sx005lr3y70x9bfvxo"},{"post_id":"cl0uov9q2000vr3y7hktbaioe","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9sy005nr3y78xq1d1i6"},{"post_id":"cl0uov9s5004nr3y7aw369u5o","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sy005pr3y7e3k6epbd"},{"post_id":"cl0uov9q4000yr3y7d9mtgyn9","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9sz005rr3y72i4e7g5z"},{"post_id":"cl0uov9si005fr3y7c0s71hsx","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9sz005ur3y790370fza"},{"post_id":"cl0uov9q60012r3y78hqwfn7u","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9sz005vr3y7hmy9cpba"},{"post_id":"cl0uov9q60012r3y78hqwfn7u","tag_id":"cl0uov9se0053r3y7al3ogkpn","_id":"cl0uov9t0005yr3y74z5r423n"},{"post_id":"cl0uov9q60012r3y78hqwfn7u","tag_id":"cl0uov9sg005ar3y7e3ny7yfc","_id":"cl0uov9t0005zr3y77tq64sym"},{"post_id":"cl0uov9q80016r3y7hsp3hgx5","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9t20062r3y70hcfbkvv"},{"post_id":"cl0uov9q80016r3y7hsp3hgx5","tag_id":"cl0uov9rg002ur3y77lxh3syo","_id":"cl0uov9t20063r3y78j103e8s"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9t5006cr3y71rnq22lf"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9t6006er3y70zyvde1t"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9t6006gr3y720dybwc0"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9t7006ir3y70tcacsze"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9t7006kr3y77qp47ev0"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9t7006mr3y73eg37mse"},{"post_id":"cl0uov9qa001ar3y7g6nsdonk","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9t8006or3y72cuh1yyt"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9t5006br3y795em2dbo","_id":"cl0uov9tg006tr3y76vz0eh4h"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9tg006wr3y782yp2yrw"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9th006yr3y7evdr13od"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9th0071r3y744yxcdwe"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9th0073r3y7g1o409uv"},{"post_id":"cl0uov9qb001dr3y7aviv6u6b","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9ti0076r3y7egosb4yr"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9tk007hr3y7gvs4a6kk"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9tk007kr3y7cymd11lk"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9tk007mr3y7342s0pto"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9tl007pr3y77x026lyk"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9tl007rr3y7chea7tf0"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9tl007ur3y70e8e3ksr"},{"post_id":"cl0uov9qe001gr3y7c4nzbpv6","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9tm007wr3y716u64chw"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9tr008cr3y7cfhj0l6x"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9tr008fr3y7hikn9dt8"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9ts008hr3y77ml249jg"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9ts008kr3y7021ubdc1"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9tt008mr3y7d6ieeoyr"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9tt008pr3y76j2oazn7"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9tt008rr3y7ae1kg4zx"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9to0085r3y71s6zd9da","_id":"cl0uov9tu008ur3y76qp0hdaz"},{"post_id":"cl0uov9qg001jr3y7gt96fool","tag_id":"cl0uov9tq0088r3y75nek8566","_id":"cl0uov9tu008wr3y78qjm3uoy"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9tx0094r3y7aqe8e2bk"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9ty0097r3y796px62f6"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9ty009ar3y71m3309ib"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9tz009dr3y77rcj6z4f"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9tz009gr3y7btv2009b"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9u0009jr3y7ccbjgjki"},{"post_id":"cl0uov9qi001mr3y7hpuha46o","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9u0009mr3y77ocu95ru"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9u2009zr3y77twahhuc"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9u200a0r3y7hcuc5q1l"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9u400a4r3y7acskhwzj"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9u400a6r3y76enges77"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9u500aar3y74r3uexx3"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9u500acr3y7faq2dbnw"},{"post_id":"cl0uov9qj001qr3y77lud6jd7","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9u600agr3y7axs4bct4"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9sy005qr3y7hev83fm8","_id":"cl0uov9u700aqr3y78svl7dly"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9u700arr3y7f4hvdw52"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9u400a9r3y75vsh5fxa","_id":"cl0uov9u800atr3y7ed7x1tag"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9u500afr3y71wzp3nyu","_id":"cl0uov9u800aur3y7ci6yfarc"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9u600ajr3y70x2whcsy","_id":"cl0uov9u800awr3y7c1owghjq"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9u600amr3y74uhhdnxi","_id":"cl0uov9u800axr3y7dvr54a2r"},{"post_id":"cl0uov9ql001tr3y7djegesxw","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9u800azr3y7gezd5r8x"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9t5006br3y795em2dbo","_id":"cl0uov9u900b3r3y7dh3w0ntb"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl0uov9u900b4r3y74x4o803o"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl0uov9ua00b6r3y773et7an3"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9ua00b7r3y7cuty59h8"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl0uov9ua00b9r3y7cq35a9k4"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl0uov9ua00bar3y78c73b116"},{"post_id":"cl0uov9qm001wr3y72t9b3v0w","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9ua00bcr3y7hq0ehvrv"},{"post_id":"cl0uov9qo001yr3y716qv9gbn","tag_id":"cl0uov9u900b2r3y726xf9di3","_id":"cl0uov9ua00bdr3y70jt76vpe"},{"post_id":"cl0uov9qp0021r3y7filv2mmo","tag_id":"cl0uov9ua00b5r3y743lo37qb","_id":"cl0uov9ub00ber3y7enjngo1d"},{"post_id":"cl0uov9qr0024r3y7duia6p0v","tag_id":"cl0uov9ua00b8r3y76ne0f13w","_id":"cl0uov9ub00bir3y7dj1n3nxp"},{"post_id":"cl0uov9qr0024r3y7duia6p0v","tag_id":"cl0uov9ua00bbr3y7da0b2zuk","_id":"cl0uov9ub00bjr3y7062cgglv"},{"post_id":"cl0uov9qr0024r3y7duia6p0v","tag_id":"cl0uov9ub00bfr3y78lkz9mvc","_id":"cl0uov9uc00blr3y7bl5u2akq"},{"post_id":"cl0uov9qr0024r3y7duia6p0v","tag_id":"cl0uov9ub00bgr3y75mjj4tw0","_id":"cl0uov9uc00bmr3y7372g2j2q"},{"post_id":"cl0uov9qs0027r3y74r2z9uej","tag_id":"cl0uov9ub00bhr3y7ackigjbs","_id":"cl0uov9uc00bpr3y7dq7t6fz5"},{"post_id":"cl0uov9qs0027r3y74r2z9uej","tag_id":"cl0uov9ub00bkr3y71lzo8ssn","_id":"cl0uov9uc00bqr3y7bhvi7bj2"},{"post_id":"cl0uov9qs0027r3y74r2z9uej","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9ud00bsr3y788q5582u"},{"post_id":"cl0uov9qt002ar3y7fg0i4r3a","tag_id":"cl0uov9ua00b8r3y76ne0f13w","_id":"cl0uov9ud00bwr3y73zwy7wyf"},{"post_id":"cl0uov9qt002ar3y7fg0i4r3a","tag_id":"cl0uov9ua00bbr3y7da0b2zuk","_id":"cl0uov9ue00bxr3y7bzg6clpz"},{"post_id":"cl0uov9qt002ar3y7fg0i4r3a","tag_id":"cl0uov9ub00bfr3y78lkz9mvc","_id":"cl0uov9ue00bzr3y7b4ou15uh"},{"post_id":"cl0uov9qt002ar3y7fg0i4r3a","tag_id":"cl0uov9ub00bgr3y75mjj4tw0","_id":"cl0uov9ue00c0r3y7at5mc3rn"},{"post_id":"cl0uov9qv002cr3y71fbeakm5","tag_id":"cl0uov9ub00bhr3y7ackigjbs","_id":"cl0uov9uf00c4r3y7fpbp9mjn"},{"post_id":"cl0uov9qv002cr3y71fbeakm5","tag_id":"cl0uov9ub00bkr3y71lzo8ssn","_id":"cl0uov9uf00c5r3y73o5t0gu3"},{"post_id":"cl0uov9qv002cr3y71fbeakm5","tag_id":"cl0uov9ue00c1r3y7hs0w48uj","_id":"cl0uov9uf00c7r3y76dsfc6fw"},{"post_id":"cl0uov9qv002cr3y71fbeakm5","tag_id":"cl0uov9s1004br3y7644s0see","_id":"cl0uov9uf00c8r3y77x9g4rln"},{"post_id":"cl0uov9qy002fr3y71xgrbbeu","tag_id":"cl0uov9ue00c3r3y71bec2j2j","_id":"cl0uov9ug00cbr3y721i20zo6"},{"post_id":"cl0uov9qy002fr3y71xgrbbeu","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9ug00ccr3y7gual8hlf"},{"post_id":"cl0uov9qy002fr3y71xgrbbeu","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9ug00cer3y76gcw2mxk"},{"post_id":"cl0uov9ra002gr3y72yri3rp2","tag_id":"cl0uov9uf00car3y71bs1g8mv","_id":"cl0uov9uh00chr3y7ckmqgnar"},{"post_id":"cl0uov9ra002gr3y72yri3rp2","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uh00cir3y7fi1z7tm5"},{"post_id":"cl0uov9ra002gr3y72yri3rp2","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9ui00ckr3y79vfbdikv"},{"post_id":"cl0uov9rc002lr3y704ig9ylc","tag_id":"cl0uov9ug00cgr3y76eg473ww","_id":"cl0uov9uj00cnr3y7514acgp5"},{"post_id":"cl0uov9rc002lr3y704ig9ylc","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uj00cor3y7gvtpdekz"},{"post_id":"cl0uov9rc002lr3y704ig9ylc","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uj00cqr3y74fzc2h35"},{"post_id":"cl0uov9rd002nr3y712u65v7h","tag_id":"cl0uov9ue00c3r3y71bec2j2j","_id":"cl0uov9uk00cur3y747z0a4vm"},{"post_id":"cl0uov9rd002nr3y712u65v7h","tag_id":"cl0uov9uj00cpr3y7gt7ne9zr","_id":"cl0uov9uk00cvr3y75rljbogq"},{"post_id":"cl0uov9rd002nr3y712u65v7h","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9ul00cxr3y71uhfdst0"},{"post_id":"cl0uov9rd002nr3y712u65v7h","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9ul00cyr3y73e9hgxey"},{"post_id":"cl0uov9re002sr3y760w71mzu","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9ul00d1r3y7hua08pow"},{"post_id":"cl0uov9re002sr3y760w71mzu","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9um00d2r3y7bilghwtt"},{"post_id":"cl0uov9re002sr3y760w71mzu","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9um00d4r3y72hmvc3kr"},{"post_id":"cl0uov9rf002tr3y7049w6jgb","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9un00d7r3y7gkko044k"},{"post_id":"cl0uov9rf002tr3y7049w6jgb","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9un00d8r3y7azui74sh"},{"post_id":"cl0uov9rf002tr3y7049w6jgb","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9un00dar3y76tdu2thu"},{"post_id":"cl0uov9rh002xr3y700jv01wf","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uo00ddr3y77kj16cjm"},{"post_id":"cl0uov9rh002xr3y700jv01wf","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uo00der3y72alz9u2i"},{"post_id":"cl0uov9rh002xr3y700jv01wf","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9uo00dgr3y7foer0fxo"},{"post_id":"cl0uov9ri002yr3y752clg4er","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9up00djr3y7duxd4g05"},{"post_id":"cl0uov9ri002yr3y752clg4er","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9up00dkr3y70ba0cf3m"},{"post_id":"cl0uov9ri002yr3y752clg4er","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9up00dmr3y7ek5dgwjg"},{"post_id":"cl0uov9rk0032r3y7b5cyee5f","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uq00dpr3y74a07f2x9"},{"post_id":"cl0uov9rk0032r3y7b5cyee5f","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uq00dqr3y7gjo799ai"},{"post_id":"cl0uov9rk0032r3y7b5cyee5f","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9uq00dsr3y73hfdedju"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","tag_id":"cl0uov9ue00c3r3y71bec2j2j","_id":"cl0uov9ur00dwr3y777x5dnz4"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9ur00dxr3y76xyp9ugj"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9ur00dzr3y7d9dq5awa"},{"post_id":"cl0uov9rl0034r3y755g8ez0n","tag_id":"cl0uov9ul00czr3y71nplbux0","_id":"cl0uov9ur00e0r3y70th11ynq"},{"post_id":"cl0uov9rm0039r3y7dugodvqo","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9us00e3r3y7e4qkhz98"},{"post_id":"cl0uov9rm0039r3y7dugodvqo","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9us00e4r3y71v9v8223"},{"post_id":"cl0uov9rm0039r3y7dugodvqo","tag_id":"cl0uov9ur00e1r3y722ow7fn2","_id":"cl0uov9us00e6r3y7h9oh68le"},{"post_id":"cl0uov9rn003br3y7ay5decd1","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9ut00e9r3y754y6d3dx"},{"post_id":"cl0uov9rn003br3y7ay5decd1","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9ut00ear3y799z03smp"},{"post_id":"cl0uov9rn003br3y7ay5decd1","tag_id":"cl0uov9ur00e1r3y722ow7fn2","_id":"cl0uov9ut00ecr3y75qof19zq"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","tag_id":"cl0uov9ue00c3r3y71bec2j2j","_id":"cl0uov9uu00egr3y7el1q6cjz"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","tag_id":"cl0uov9ug00cgr3y76eg473ww","_id":"cl0uov9uu00ehr3y71s4v1np2"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uv00ejr3y79rho8ngj"},{"post_id":"cl0uov9ro003fr3y7073eg1yo","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uv00ekr3y77rov8ma2"},{"post_id":"cl0uov9rp003hr3y7dzp8b7ej","tag_id":"cl0uov9ug00cgr3y76eg473ww","_id":"cl0uov9uv00enr3y7464ra2nx"},{"post_id":"cl0uov9rp003hr3y7dzp8b7ej","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uv00eor3y72vy35hhe"},{"post_id":"cl0uov9rp003hr3y7dzp8b7ej","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uw00eqr3y7bsjy0y0h"},{"post_id":"cl0uov9rr003mr3y75arfbhn4","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uw00etr3y7grk67c4y"},{"post_id":"cl0uov9rr003mr3y75arfbhn4","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uw00eur3y70rjbhqka"},{"post_id":"cl0uov9rr003mr3y75arfbhn4","tag_id":"cl0uov9uw00err3y79988dtpx","_id":"cl0uov9ux00ewr3y78usb79fb"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","tag_id":"cl0uov9ue00c3r3y71bec2j2j","_id":"cl0uov9uy00f1r3y72i75eg2j"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","tag_id":"cl0uov9uj00cpr3y7gt7ne9zr","_id":"cl0uov9uy00f2r3y79e05g5l0"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","tag_id":"cl0uov9uf00car3y71bs1g8mv","_id":"cl0uov9uy00f4r3y70l6v3kl6"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl0uov9uy00f5r3y7552tg7ne"},{"post_id":"cl0uov9rt003or3y7b4u46d1u","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl0uov9uy00f7r3y7eubwaaz6"},{"post_id":"cl0uov9s7004qr3y7h26i54e6","tag_id":"cl0uov9ux00f0r3y71xduhmm8","_id":"cl0uov9uz00f8r3y7dz0eezks"},{"post_id":"cl0uov9s7004qr3y7h26i54e6","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl0uov9uz00far3y7abyf3w2p"},{"post_id":"cl0uov9s8004ur3y77z5q15vw","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9uz00fbr3y7gyvhdkjn"},{"post_id":"cl0uov9sa004xr3y7fqywfdgb","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9uz00fdr3y7h37z39ub"},{"post_id":"cl0uov9sd0051r3y77rztb2jn","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9v000ffr3y7aq4m3dyo"},{"post_id":"cl0uov9se0054r3y7fitxcbm4","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9v000fhr3y7348a812w"},{"post_id":"cl0uov9sf0058r3y7fz166smk","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9v000fjr3y7g4ucguno"},{"post_id":"cl0uov9sg005br3y7c5okgemz","tag_id":"cl0uov9t00060r3y7e89d7bof","_id":"cl0uov9v000fkr3y7hnlaercb"},{"post_id":"cl206zv5l0000smy7f10e2s00","tag_id":"cl0uov9ug00cgr3y76eg473ww","_id":"cl206zv5r0001smy7hjdy5m3n"},{"post_id":"cl206zv5l0000smy7f10e2s00","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl206zv5s0002smy7bjyd9io9"},{"post_id":"cl206zv5l0000smy7f10e2s00","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl206zv5s0004smy769b37gn0"},{"post_id":"cl3ba55fs0000ysy78je975et","tag_id":"cl0uov9ux00f0r3y71xduhmm8","_id":"cl3ba55g10001ysy7cigz4nmp"},{"post_id":"cl3ba55fs0000ysy78je975et","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl3ba55g30002ysy7bjr1a8qc"},{"post_id":"cl3ba55fs0000ysy78je975et","tag_id":"cl3b9ufyd00018vy79kw40awf","_id":"cl3ba55g30004ysy7bx3h6y2v"},{"post_id":"cl45aj4ty0000ohy7gbqx5qmi","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl45aj4ua0001ohy7920m1qan"},{"post_id":"cl45aj4ty0000ohy7gbqx5qmi","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl45aj4ua0002ohy75fai2z2u"},{"post_id":"cl45aj4ty0000ohy7gbqx5qmi","tag_id":"cl0uov9ur00e1r3y722ow7fn2","_id":"cl45aj4ua0004ohy712rpbhn8"},{"post_id":"cl5szlbcd0000n4y7g1lsgsz0","tag_id":"cl5szlbd10002n4y77nu944nr","_id":"cl5szlbd50005n4y7fn5q6fws"},{"post_id":"cl5szlbcd0000n4y7g1lsgsz0","tag_id":"cl5szlbd20003n4y7g8o2gbn9","_id":"cl5szlbd50006n4y769fq27v0"},{"post_id":"cl7066u8k0000g6y75aur50sr","tag_id":"cl0uov9ug00cgr3y76eg473ww","_id":"cl7066u8z0001g6y7bxuc4nb2"},{"post_id":"cl7066u8k0000g6y75aur50sr","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl7066u900002g6y74s7v14a6"},{"post_id":"cl7066u8k0000g6y75aur50sr","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl7066u910004g6y77l9d7y0y"},{"post_id":"cl81cdxmz0000rwy73bkccw3e","tag_id":"cl0uov9uf00c6r3y79ezq4fa2","_id":"cl81cdxn60001rwy7gu3xhwaq"},{"post_id":"cl81cdxmz0000rwy73bkccw3e","tag_id":"cl0uov9uf00c9r3y72qqwa34a","_id":"cl81cdxn70002rwy7h3815r5h"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9t5006br3y795em2dbo","_id":"cl9pfq81300030dy7hp7bcghw"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9sz005wr3y7d0xegif3","_id":"cl9pfq81300040dy77bild13y"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9pu000nr3y7gexe3nbp","_id":"cl9pfq81400050dy7c20jbq3b"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl9pfq80j00010dy728zsg65h","_id":"cl9pfq81400060dy779ae8erm"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9t20065r3y728ynhwui","_id":"cl9pfq81400070dy70a4qccbv"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9t30067r3y76pg21qby","_id":"cl9pfq81400080dy74voietuc"},{"post_id":"cl9pfq80c00000dy79onh2nvp","tag_id":"cl0uov9t40069r3y7806m1un9","_id":"cl9pfq81400090dy77uo0a5du"}],"Tag":[{"name":"Portfolio","_id":"cl0uov9pe0005r3y73vnx8wu0"},{"name":"作品集","_id":"cl0uov9pm000br3y7hg29fv9m"},{"name":"D3","_id":"cl0uov9pq000gr3y79dw5gp74"},{"name":"Vue","_id":"cl0uov9pu000nr3y7gexe3nbp"},{"name":"CANVAS","_id":"cl0uov9q0000sr3y7bl0q7m9e"},{"name":"SVG","_id":"cl0uov9rg002ur3y77lxh3syo"},{"name":"JS","_id":"cl0uov9s1004br3y7644s0see"},{"name":"React","_id":"cl0uov9se0053r3y7al3ogkpn"},{"name":"Redux","_id":"cl0uov9sg005ar3y7e3ny7yfc"},{"name":".NET Core","_id":"cl0uov9sy005qr3y7hev83fm8"},{"name":"dotnet","_id":"cl0uov9sz005wr3y7d0xegif3"},{"name":"Webpack","_id":"cl0uov9t00060r3y7e89d7bof"},{"name":"SPA","_id":"cl0uov9t20065r3y728ynhwui"},{"name":"MVC","_id":"cl0uov9t30067r3y76pg21qby"},{"name":"VScode","_id":"cl0uov9t40069r3y7806m1un9"},{"name":".NET","_id":"cl0uov9t5006br3y795em2dbo"},{"name":"Nuget","_id":"cl0uov9to0085r3y71s6zd9da"},{"name":"Template","_id":"cl0uov9tq0088r3y75nek8566"},{"name":"SignalR","_id":"cl0uov9u400a9r3y75vsh5fxa"},{"name":"Serverless","_id":"cl0uov9u500afr3y71wzp3nyu"},{"name":"Azure Functions","_id":"cl0uov9u600ajr3y70x2whcsy"},{"name":"C#","_id":"cl0uov9u600amr3y74uhhdnxi"},{"name":"Scrum","_id":"cl0uov9u900b2r3y726xf9di3"},{"name":"PowerBI","_id":"cl0uov9ua00b5r3y743lo37qb"},{"name":"Python","_id":"cl0uov9ua00b8r3y76ne0f13w"},{"name":"Deep Learning","_id":"cl0uov9ua00bbr3y7da0b2zuk"},{"name":"Keras","_id":"cl0uov9ub00bfr3y78lkz9mvc"},{"name":"TensorFlow","_id":"cl0uov9ub00bgr3y75mjj4tw0"},{"name":"Cypress","_id":"cl0uov9ub00bhr3y7ackigjbs"},{"name":"Testing","_id":"cl0uov9ub00bkr3y71lzo8ssn"},{"name":"Cucumber","_id":"cl0uov9ue00c1r3y7hs0w48uj"},{"name":"Sketch","_id":"cl0uov9ue00c3r3y71bec2j2j"},{"name":"UX","_id":"cl0uov9uf00c6r3y79ezq4fa2"},{"name":"UI","_id":"cl0uov9uf00c9r3y72qqwa34a"},{"name":"Adobe XD","_id":"cl0uov9uf00car3y71bs1g8mv"},{"name":"Figma","_id":"cl0uov9ug00cgr3y76eg473ww"},{"name":"Abstract","_id":"cl0uov9uj00cpr3y7gt7ne9zr"},{"name":"Material Design","_id":"cl0uov9ul00czr3y71nplbux0"},{"name":"Naver","_id":"cl0uov9ur00e1r3y722ow7fn2"},{"name":"Spline","_id":"cl0uov9uw00err3y79988dtpx"},{"name":"Git","_id":"cl0uov9ux00f0r3y71xduhmm8"},{"name":"Azure","_id":"cl3b9ufyd00018vy79kw40awf"},{"name":"AzureDB","_id":"cl5szlbd10002n4y77nu944nr"},{"name":"SSMS","_id":"cl5szlbd20003n4y7g8o2gbn9"},{"name":"Vite","_id":"cl9pfq80j00010dy728zsg65h"}]}}